"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/pos/page",{

/***/ "(app-pages-browser)/./app/pos/page.js":
/*!*************************!*\
  !*** ./app/pos/page.js ***!
  \*************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ POSPage; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _lib_hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/hooks */ \"(app-pages-browser)/./app/lib/hooks.js\");\n/* harmony import */ var _lib_withInventory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/withInventory */ \"(app-pages-browser)/./app/lib/withInventory.js\");\n/* harmony import */ var _lib_slices_inventorySlice__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/slices/inventorySlice */ \"(app-pages-browser)/./app/lib/slices/inventorySlice.js\");\n/* harmony import */ var _styles_posStyles__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../styles/posStyles */ \"(app-pages-browser)/./app/styles/posStyles.js\");\n/* harmony import */ var _components_OnScreenKeyboard__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/OnScreenKeyboard */ \"(app-pages-browser)/./app/components/OnScreenKeyboard.js\");\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! styled-components */ \"(app-pages-browser)/./node_modules/styled-components/dist/styled-components.browser.esm.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n// Wrapper to handle keyboard spacing\nconst POSWrapper = styled_components__WEBPACK_IMPORTED_MODULE_8__[\"default\"].div.withConfig({\n    displayName: \"page__POSWrapper\",\n    componentId: \"sc-af2f96ee-0\"\n})([\n    \"display:flex;flex-direction:column;min-height:100vh;max-height:100vh;overflow:hidden;\"\n]);\n_c = POSWrapper;\nconst KeyboardArea = styled_components__WEBPACK_IMPORTED_MODULE_8__[\"default\"].div.withConfig({\n    displayName: \"page__KeyboardArea\",\n    componentId: \"sc-af2f96ee-1\"\n})([\n    \"height:230px;background:#f8f9fa;border:1px solid #dee2e6;border-radius:8px;margin:0.5rem 0;display:flex;flex-direction:column;flex-shrink:0;\"\n]);\n_c1 = KeyboardArea;\n// Initial inventory data as fallback\nconst initialInventory = [\n    {\n        id: 1,\n        name: \"Coca Cola 355ml\",\n        category: \"Beverages\",\n        price: 1.5,\n        stock: 24,\n        lowStockThreshold: 10,\n        taxable: true\n    },\n    {\n        id: 2,\n        name: \"Lays Classic Chips\",\n        category: \"Snacks\",\n        price: 2.99,\n        stock: 8,\n        lowStockThreshold: 15,\n        taxable: true\n    },\n    {\n        id: 3,\n        name: \"Wonder Bread\",\n        category: \"Bakery\",\n        price: 3.49,\n        stock: 12,\n        lowStockThreshold: 5,\n        taxable: false\n    },\n    {\n        id: 4,\n        name: \"Marlboro Gold\",\n        category: \"Tobacco\",\n        price: 12.99,\n        stock: 3,\n        lowStockThreshold: 5,\n        taxable: true\n    },\n    {\n        id: 5,\n        name: \"Marlboro Red\",\n        category: \"Tobacco\",\n        price: 12.99,\n        stock: 5,\n        lowStockThreshold: 5,\n        taxable: true\n    },\n    {\n        id: 6,\n        name: \"Camel Blue\",\n        category: \"Tobacco\",\n        price: 13.49,\n        stock: 4,\n        lowStockThreshold: 5,\n        taxable: true\n    },\n    {\n        id: 7,\n        name: \"Newport Menthol\",\n        category: \"Tobacco\",\n        price: 13.99,\n        stock: 6,\n        lowStockThreshold: 5,\n        taxable: true\n    },\n    {\n        id: 8,\n        name: \"Red Bull 250ml\",\n        category: \"Beverages\",\n        price: 3.99,\n        stock: 18,\n        lowStockThreshold: 8,\n        taxable: true\n    },\n    {\n        id: 9,\n        name: \"Milk 1L\",\n        category: \"Dairy\",\n        price: 2.79,\n        stock: 15,\n        lowStockThreshold: 5,\n        taxable: false\n    },\n    {\n        id: 10,\n        name: \"Banana (each)\",\n        category: \"Fresh Produce\",\n        price: 0.89,\n        stock: 25,\n        lowStockThreshold: 10,\n        taxable: false\n    },\n    {\n        id: 11,\n        name: \"Coffee Cup 12oz\",\n        category: \"Beverages\",\n        price: 1.99,\n        stock: 30,\n        lowStockThreshold: 10,\n        taxable: true\n    }\n];\nfunction POSContent() {\n    _s();\n    const dispatch = (0,_lib_hooks__WEBPACK_IMPORTED_MODULE_3__.useAppDispatch)();\n    const { items: inventory, loading: inventoryLoading, categories, getFilteredInventory } = (0,_lib_hooks__WEBPACK_IMPORTED_MODULE_3__.useInventoryManager)();\n    const { inventoryLoaded } = (0,_lib_withInventory__WEBPACK_IMPORTED_MODULE_4__.useEnsureInventory)();\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)();\n    const [cart, setCart] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [searchTerm, setSearchTerm] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [categoryFilter, setCategoryFilter] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const searchInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const cashAmountRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const cardAmountRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const discountRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const cashbackAmountRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const cashbackFeeRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const lottoWinningsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const creditCustomerNameRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [barcodeBuffer, setBarcodeBuffer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [lastKeyTime, setLastKeyTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [showReceipt, setShowReceipt] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [lastTransaction, setLastTransaction] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [cashAmount, setCashAmount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [cardAmount, setCardAmount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [cashbackAmount, setCashbackAmount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [cashbackFee, setCashbackFee] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [cashbackEnabled, setCashbackEnabled] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [lottoWinnings, setLottoWinnings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [paymentError, setPaymentError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [autoFillOther, setAutoFillOther] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [lastEdited, setLastEdited] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null); // 'cash' | 'card' | null\n    const [userIsTyping, setUserIsTyping] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false); // Prevent auto-updates while user types\n    // Virtual keyboard states\n    const [showKeyboard, setShowKeyboard] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [activeInputRef, setActiveInputRef] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [keyboardMode, setKeyboardMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"full\"); // 'full' or 'numeric'\n    // Helper function to handle input focus and show appropriate keyboard\n    const handleInputFocus = function(inputRef) {\n        let isNumeric = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n        var _inputRef_current;\n        console.log(\"\\uD83C\\uDFAF POS handleInputFocus called:\", {\n            inputRef,\n            inputRefCurrent: inputRef === null || inputRef === void 0 ? void 0 : inputRef.current,\n            inputRefCurrentValue: inputRef === null || inputRef === void 0 ? void 0 : (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.value,\n            isNumeric\n        });\n        setActiveInputRef(inputRef);\n        setKeyboardMode(isNumeric ? \"numeric\" : \"full\");\n        setShowKeyboard(true);\n    };\n    // Credit sale states\n    const [isCreditSale, setIsCreditSale] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [creditCustomerName, setCreditCustomerName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [creditAmount, setCreditAmount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0); // Specific credit amount\n    const [isAutoCalculating, setIsAutoCalculating] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false); // Prevent circular updates\n    // Credit customer management states\n    const [existingCustomers, setExistingCustomers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [showCustomerSuggestions, setShowCustomerSuggestions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [selectedCustomer, setSelectedCustomer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [customerBalance, setCustomerBalance] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [showPaymentOptions, setShowPaymentOptions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Card fee states\n    const [cardType, setCardType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"debit\"); // 'debit' | 'credit'\n    const [cardFeeEnabled, setCardFeeEnabled] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const CARD_FEE_AMOUNT = 0.25; // $0.25 fee for credit cards\n    // Check if this is a balance payment (customer selected and no cart items)\n    const isBalancePayment = selectedCustomer && cart.length === 0;\n    // Discount states - simple implementation\n    const [discountAmount, setDiscountAmount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    // Manual item entry states\n    const [showManualEntry, setShowManualEntry] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [manualItem, setManualItem] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        name: \"\",\n        price: \"\",\n        category: categories.length > 0 ? categories[0] : \"grocery-taxable\",\n        quantity: 1\n    });\n    // Use Redux-managed inventory with smart filtering\n    const filteredInventory = getFilteredInventory(searchTerm, categoryFilter);\n    const addToCart = (product)=>{\n        // For manual items, find existing item by name, price, and category instead of ID\n        let existingItem;\n        if (product.isManual) {\n            existingItem = cart.find((item)=>item.isManual && item.name === product.name && item.price === product.price && item.category === product.category);\n        } else {\n            existingItem = cart.find((item)=>item.id === product.id);\n        }\n        if (existingItem) {\n            setCart(cart.map((item)=>{\n                // For manual items, match by name, price, and category\n                const isMatch = product.isManual ? item.isManual && item.name === product.name && item.price === product.price && item.category === product.category : item.id === product.id;\n                return isMatch ? {\n                    ...item,\n                    quantity: item.quantity + 1\n                } : item;\n            }));\n            // Update inventory stock immediately (optimistic update)\n            if (!product.isManual && product.id) {\n                dispatch((0,_lib_slices_inventorySlice__WEBPACK_IMPORTED_MODULE_5__.updateItemStockLocal)({\n                    id: product.id,\n                    newStock: product.stock - 1\n                }));\n            }\n        } else {\n            setCart([\n                ...cart,\n                {\n                    ...product,\n                    quantity: 1,\n                    applyTax: product.taxable === true\n                }\n            ]);\n            // Update inventory stock immediately (optimistic update)\n            if (!product.isManual && product.id) {\n                dispatch((0,_lib_slices_inventorySlice__WEBPACK_IMPORTED_MODULE_5__.updateItemStockLocal)({\n                    id: product.id,\n                    newStock: product.stock - 1\n                }));\n            }\n        }\n    };\n    const handleVoidItem = (itemId, itemName)=>{\n        const confirmVoid = confirm('Void item: \"'.concat(itemName, '\"?\\n\\nThis will remove the item completely from the cart.'));\n        if (confirmVoid) {\n            // Find the item being voided to restore stock\n            const itemToVoid = cart.find((item)=>item.id === itemId);\n            if (itemToVoid && !itemToVoid.isManual) {\n                // Find the corresponding product in inventory\n                const product = inventory.find((p)=>p.id === itemId);\n                if (product) {\n                    // Restore stock by adding back the quantity being voided\n                    dispatch((0,_lib_slices_inventorySlice__WEBPACK_IMPORTED_MODULE_5__.updateItemStockLocal)({\n                        id: product.id,\n                        newStock: product.stock + itemToVoid.quantity\n                    }));\n                }\n            }\n            setCart(cart.filter((item)=>item.id !== itemId));\n        }\n    };\n    const handleDecreaseQuantity = (itemId)=>{\n        const item = cart.find((item)=>item.id === itemId);\n        if (!item || item.quantity <= 1) return; // Don't allow decrease below 1\n        // Decrease quantity normally\n        updateCartQuantity(itemId, item.quantity - 1);\n    };\n    const updateCartQuantity = (id, newQuantity)=>{\n        if (newQuantity === 0) {\n            // When quantity would become 0, prompt for void confirmation\n            const item = cart.find((item)=>item.id === id);\n            if (item) {\n                handleVoidItem(id, item.name);\n            }\n        } else {\n            // Find the item in cart to check if it's manual\n            const cartItem = cart.find((item)=>item.id === id);\n            if (cartItem && cartItem.isManual) {\n                // Manual items have unlimited stock\n                setCart(cart.map((item)=>item.id === id ? {\n                        ...item,\n                        quantity: newQuantity\n                    } : item));\n            } else {\n                // Regular inventory items - check stock and update inventory\n                const product = inventory.find((p)=>p.id === id);\n                const cartItem = cart.find((item)=>item.id === id);\n                if (product && cartItem) {\n                    const quantityDiff = newQuantity - cartItem.quantity;\n                    const newStock = product.stock - quantityDiff;\n                    setCart(cart.map((item)=>item.id === id ? {\n                            ...item,\n                            quantity: newQuantity\n                        } : item));\n                    // Update inventory stock immediately\n                    dispatch((0,_lib_slices_inventorySlice__WEBPACK_IMPORTED_MODULE_5__.updateItemStockLocal)({\n                        id: product.id,\n                        newStock: newStock\n                    }));\n                }\n            }\n        }\n    };\n    const removeFromCart = (id)=>{\n        // Find the item being removed to restore stock\n        const itemToRemove = cart.find((item)=>item.id === id);\n        if (itemToRemove && !itemToRemove.isManual) {\n            // Find the corresponding product in inventory\n            const product = inventory.find((p)=>p.id === id);\n            if (product) {\n                // Restore stock by adding back the quantity being removed\n                dispatch((0,_lib_slices_inventorySlice__WEBPACK_IMPORTED_MODULE_5__.updateItemStockLocal)({\n                    id: product.id,\n                    newStock: product.stock + itemToRemove.quantity\n                }));\n            }\n        }\n        setCart(cart.filter((item)=>item.id !== id));\n    };\n    const toggleItemTax = (id)=>{\n        setCart(cart.map((item)=>item.id === id ? {\n                ...item,\n                applyTax: !item.applyTax\n            } : item));\n    };\n    // Function to handle search when Enter is pressed\n    const handleSearchEnter = ()=>{\n        if (!searchTerm.trim()) return;\n        // Check if any products match the search term\n        const searchResults = filteredInventory;\n        if (searchResults.length === 0) {\n            // No products found, prompt for manual entry\n            const itemName = searchTerm.trim();\n            setManualItem((prev)=>({\n                    ...prev,\n                    name: itemName\n                }));\n            setShowManualEntry(true);\n        } else if (searchResults.length === 1) {\n            // Exactly one product found - automatically add to cart\n            const foundItem = searchResults[0];\n            addToCart(foundItem);\n            setSearchTerm(\"\"); // Clear search after adding\n            // Focus back on search input for next scan\n            if (searchInputRef.current) {\n                searchInputRef.current.focus();\n            }\n        }\n    // If multiple results, do nothing - let user see the results and click manually\n    };\n    // Debug function to force refresh inventory from database\n    const handleDebugRefresh = async ()=>{\n        console.log(\"=== DEBUG REFRESH TRIGGERED ===\");\n        console.log(\"Current inventory count:\", inventory.length);\n        // Clear search and filters\n        setSearchTerm(\"\");\n        setCategoryFilter(\"\");\n        // Force refresh inventory by bypassing cache\n        await dispatch((0,_lib_slices_inventorySlice__WEBPACK_IMPORTED_MODULE_5__.loadInventory)(true));\n        console.log(\"=== DEBUG REFRESH COMPLETED ===\");\n        console.log(\"New inventory count:\", inventory.length);\n        // Focus back on search input\n        if (searchInputRef.current) {\n            searchInputRef.current.focus();\n        }\n    };\n    // Helper function to determine if a category should be taxable\n    const isCategoryTaxable = (category)=>{\n        // Check if category name contains indicators of taxable items\n        const taxableKeywords = [\n            \"taxable\",\n            \"lotto\",\n            \"lottery\",\n            \"tobacco\",\n            \"alcohol\"\n        ];\n        const nonTaxableKeywords = [\n            \"non-taxable\",\n            \"untaxable\",\n            \"basic\",\n            \"essential\"\n        ];\n        const categoryLower = category.toLowerCase();\n        // First check for explicit non-taxable indicators\n        if (nonTaxableKeywords.some((keyword)=>categoryLower.includes(keyword))) {\n            return false;\n        }\n        // Then check for explicit taxable indicators\n        if (taxableKeywords.some((keyword)=>categoryLower.includes(keyword))) {\n            return true;\n        }\n        // Default to taxable for unknown categories (safer for tax compliance)\n        return true;\n    };\n    // Function to add manual item to cart\n    const addManualItem = ()=>{\n        if (!manualItem.name.trim() || !manualItem.price || parseFloat(manualItem.price) <= 0) {\n            alert(\"Please enter item name and valid price\");\n            return;\n        }\n        // Create a consistent ID based on name, price, and category for manual items\n        const normalizedName = manualItem.name.trim().toLowerCase().replace(/\\s+/g, \"-\");\n        const priceStr = parseFloat(manualItem.price).toFixed(2);\n        const manualId = \"manual-\".concat(normalizedName, \"-\").concat(priceStr, \"-\").concat(manualItem.category);\n        const newItem = {\n            id: manualId,\n            name: manualItem.name.trim(),\n            price: parseFloat(manualItem.price),\n            category: manualItem.category,\n            applyTax: isCategoryTaxable(manualItem.category),\n            stock: 999,\n            isManual: true\n        };\n        // Add to cart with specified quantity\n        for(let i = 0; i < manualItem.quantity; i++){\n            addToCart(newItem);\n        }\n        // Reset manual item form and clear search\n        setManualItem({\n            name: \"\",\n            price: \"\",\n            category: categories.length > 0 ? categories[0] : \"grocery-taxable\",\n            quantity: 1\n        });\n        setShowManualEntry(false);\n        setSearchTerm(\"\"); // Clear search term after adding item\n    };\n    const calculateSubtotal = ()=>{\n        return cart.reduce((total, item)=>total + item.price * item.quantity, 0);\n    };\n    const calculateTotal = ()=>{\n        const subtotal = calculateSubtotal();\n        const discount = Number(parseFloat(discountAmount) || 0);\n        const cbFee = Number(parseFloat(cashbackFee) || 0); // Add cashback fee if present\n        // Card fee logic - apply fee when enabled\n        const cardFeeInTotal = cardFeeEnabled ? CARD_FEE_AMOUNT : 0;\n        return Math.max(0, subtotal - discount + cbFee + cardFeeInTotal); // Ensure total doesn't go negative\n    };\n    const calculateTax = ()=>{\n        // Calculate tax on discounted amount for taxable items\n        const discountedSubtotal = calculateTotal(); // This already has discount applied\n        const originalSubtotal = calculateSubtotal();\n        const taxableOriginal = getTaxableTotal();\n        if (originalSubtotal === 0) return 0;\n        // Calculate proportional discount on taxable items\n        const taxableDiscounted = taxableOriginal * (discountedSubtotal / originalSubtotal);\n        return taxableDiscounted * 0.13; // 13% HST for Ontario, Canada\n    };\n    const getTaxableTotal = ()=>{\n        return cart.reduce((total, item)=>{\n            if (item.applyTax === true) {\n                return total + item.price * item.quantity;\n            }\n            return total;\n        }, 0);\n    };\n    const getNonTaxableTotal = ()=>{\n        return cart.reduce((total, item)=>{\n            if (item.applyTax !== true) {\n                return total + item.price * item.quantity;\n            }\n            return total;\n        }, 0);\n    };\n    // Process payment for existing customer balance\n    const processCustomerBalancePayment = async (paymentTotal, cashPaid, cardPaid)=>{\n        if (!selectedCustomer || customerBalance <= 0) {\n            alert(\"No customer selected or customer has no outstanding balance\");\n            return;\n        }\n        if (paymentTotal <= 0) {\n            alert(\"Please enter a payment amount in cash or card\");\n            return;\n        }\n        // Calculate remaining balance after payment\n        const remainingBalance = Math.max(0, customerBalance - paymentTotal);\n        console.log(\"Processing payment: Customer=\".concat(selectedCustomer.customerName, \", Balance=\").concat(customerBalance, \", Payment=\").concat(paymentTotal, \", Remaining=\").concat(remainingBalance));\n        try {\n            // Process the payment against customer's account\n            const response = await fetch(\"/api/credit/accounts\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    action: \"payment\",\n                    customerName: selectedCustomer.customerName,\n                    amount: paymentTotal\n                })\n            });\n            if (!response.ok) {\n                const errorData = await response.json();\n                throw new Error(errorData.error || \"Payment processing failed\");\n            }\n            const result = await response.json();\n            // Create a payment transaction record\n            const paymentTransaction = {\n                timestamp: new Date().toISOString(),\n                items: [\n                    {\n                        id: \"balance-payment\",\n                        name: \"Balance Payment - \".concat(selectedCustomer.customerName),\n                        quantity: 1,\n                        price: paymentTotal,\n                        applyTax: false,\n                        category: \"Payment\"\n                    }\n                ],\n                originalSubtotal: paymentTotal,\n                discount: 0,\n                subtotal: paymentTotal,\n                taxableAmount: 0,\n                nonTaxableAmount: paymentTotal,\n                tax: 0,\n                total: paymentTotal,\n                finalTotal: paymentTotal,\n                cashback: 0,\n                paymentBreakdown: [\n                    ...cashPaid > 0 ? [\n                        {\n                            method: \"cash\",\n                            amount: cashPaid\n                        }\n                    ] : [],\n                    ...cardPaid > 0 ? [\n                        {\n                            method: \"card\",\n                            amount: cardPaid\n                        }\n                    ] : []\n                ],\n                change: 0,\n                isCreditSale: false,\n                isPartialPayment: false,\n                creditBalance: 0,\n                paidAmount: paymentTotal,\n                creditCustomerName: selectedCustomer.customerName,\n                creditStatus: \"payment\",\n                lottoWinnings: 0,\n                isBalancePayment: true,\n                previousBalance: customerBalance,\n                newBalance: remainingBalance\n            };\n            // Save the payment transaction\n            const transactionResponse = await fetch(\"/api/transaction\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"x-api-key\": \"dev-secret\"\n                },\n                body: JSON.stringify(paymentTransaction)\n            });\n            if (transactionResponse.ok) {\n                const transactionData = await transactionResponse.json();\n                // Show success message and receipt\n                setLastTransaction({\n                    id: transactionData.id,\n                    ...paymentTransaction\n                });\n                setShowReceipt(true);\n                // Update local state\n                setCustomerBalance(remainingBalance);\n                setSelectedCustomer({\n                    ...selectedCustomer,\n                    balance: remainingBalance\n                });\n                setExistingCustomers((prev)=>prev.map((c)=>c.customerName === selectedCustomer.customerName ? {\n                            ...c,\n                            balance: remainingBalance\n                        } : c));\n                // Refresh customers list from database to ensure latest data\n                console.log(\"Refreshing customer list after payment...\");\n                setTimeout(async ()=>{\n                    await fetchExistingCustomers();\n                    console.log(\"Customer list refreshed with latest balances\");\n                }, 500);\n                // Refresh customers list from database to ensure latest data\n                console.log(\"Refreshing customer list after payment...\");\n                setTimeout(async ()=>{\n                    await fetchExistingCustomers();\n                    console.log(\"Customer list refreshed with latest balances\");\n                }, 500);\n                // Reset payment fields\n                setCashAmount(\"\");\n                setCardAmount(\"\");\n                setPaymentError(\"\");\n                console.log(\"Payment processed: $\".concat(paymentTotal.toFixed(2), \" paid, remaining balance: $\").concat(remainingBalance.toFixed(2)));\n            } else {\n                throw new Error(\"Failed to record payment transaction\");\n            }\n        } catch (error) {\n            console.error(\"Error processing customer payment:\", error);\n            setPaymentError(error.message || \"Failed to process payment\");\n        }\n    };\n    // Terminal Payment Handler\n    const handleTerminalPayment = async (amount)=>{\n        try {\n            // Show processing indicator\n            setPaymentError(\"Processing payment via terminal... Please present card.\");\n            // Call terminal API\n            const response = await fetch(\"/api/terminal\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    amount: amount,\n                    processor: \"chase\",\n                    terminalId: null\n                })\n            });\n            const terminalResult = await response.json();\n            if (!response.ok) {\n                throw new Error(terminalResult.error || \"Terminal request failed\");\n            }\n            if (terminalResult.success) {\n                // Set payment amounts for successful terminal payment\n                setCashAmount(\"0\");\n                setCardAmount(String(amount.toFixed(2)));\n                setLastEdited(\"card\");\n                // Auto-process checkout after successful terminal payment\n                alert(\"✅ Payment Approved!\\n\\nTransaction ID: \".concat(terminalResult.transactionId, \"\\nCard: \").concat(terminalResult.cardType, \" ****\").concat(terminalResult.last4, \"\\nAmount: $\").concat(amount.toFixed(2), \"\\n\\nProcessing sale...\"));\n                // Trigger checkout after short delay\n                setTimeout(()=>{\n                    processCheckout();\n                }, 500);\n            }\n        } catch (error) {\n            console.error(\"Terminal payment failed:\", error);\n            alert(\"❌ Payment Failed\\n\\n\".concat(error.message, \"\\n\\nPlease try again or use manual payment entry.\"));\n            setPaymentError(error.message);\n        }\n    };\n    const processCheckout = ()=>{\n        const originalSubtotal = calculateSubtotal(); // Items total before discount\n        const discount = Number(parseFloat(discountAmount) || 0);\n        const subtotalWithFees = calculateTotal(); // Use calculateTotal() which includes discount and card fees\n        const tax = calculateTax();\n        const total = subtotalWithFees + tax;\n        const cashback = Number(parseFloat(cashbackAmount) || 0);\n        const cbFee = Number(parseFloat(cashbackFee) || 0);\n        // Get payment amounts\n        const paidCash = Number(parseFloat(cashAmount) || 0);\n        const paidCard = Number(parseFloat(cardAmount) || 0);\n        const paidTotal = paidCash + paidCard;\n        const tempLottoAmount = Number(parseFloat(lottoWinnings) || 0);\n        // Special case: Customer balance payment (no items in cart, just paying existing debt)\n        if (selectedCustomer && customerBalance > 0 && cart.length === 0 && paidTotal > 0) {\n            processCustomerBalancePayment(paidTotal, paidCash, paidCard);\n            return;\n        }\n        // Check if there's anything to process (items, cashback, or lotto winnings)\n        if (cart.length === 0 && cashback === 0 && tempLottoAmount === 0) {\n            alert(\"No items in cart, no cashback amount, and no lotto winnings entered\");\n            return;\n        }\n        // Validate credit sale\n        if (isCreditSale && !creditCustomerName.trim()) {\n            alert(\"Please enter customer name for credit sale\");\n            return;\n        }\n        // Initialize payment variables (reuse the ones already declared above)\n        const lottoAmount = Number(parseFloat(lottoWinnings) || 0);\n        let totalWithCashback = total + cashback;\n        let change = 0;\n        let creditBalance = 0;\n        let isPartialPayment = false;\n        if (isNaN(paidCash) || isNaN(paidCard) || isNaN(cashback) || isNaN(lottoAmount) || paidCash < 0 || paidCard < 0 || cashback < 0 || lottoAmount < 0) {\n            setPaymentError(\"Invalid payment amounts\");\n            return;\n        }\n        // Calculate total including cashback as line item, minus lotto winnings\n        // Note: card fee is already included in total from calculateTotal()\n        const cardFeeForCalc = cardFeeEnabled ? CARD_FEE_AMOUNT : 0;\n        const totalCardFee = cardFeeForCalc;\n        totalWithCashback = total + cashback - lottoAmount;\n        if (isCreditSale) {\n            // Use specific credit amount if provided, otherwise calculate from payment difference\n            const specifiedCreditAmount = Number(parseFloat(creditAmount) || 0);\n            if (specifiedCreditAmount > 0) {\n                // Customer specified exact credit amount\n                creditBalance = specifiedCreditAmount;\n                const requiredPayment = totalWithCashback - creditBalance;\n                if (requiredPayment > paidTotal + 0.001) {\n                    setPaymentError(\"Need $\".concat(requiredPayment.toFixed(2), \" payment for $\").concat(creditBalance.toFixed(2), \" credit (Currently paid: $\").concat(paidTotal.toFixed(2), \")\"));\n                    return;\n                }\n                isPartialPayment = creditBalance > 0 && paidTotal > 0;\n            } else {\n                // Traditional mode: credit = remaining balance after payment\n                creditBalance = Math.max(0, totalWithCashback - paidTotal);\n                isPartialPayment = paidTotal > 0 && creditBalance > 0;\n            }\n            // Validate customer name for any credit amount\n            if (creditBalance > 0 && !creditCustomerName.trim()) {\n                alert(\"Please enter customer name for credit amount\");\n                return;\n            }\n            // If no payment and no credit amount specified, require customer name\n            if (paidTotal === 0 && creditBalance === 0 && !creditCustomerName.trim()) {\n                alert(\"Please enter customer name or specify payment/credit amounts\");\n                return;\n            }\n        } else {\n            // For non-credit sales, require full payment\n            // For cashback transactions, require card payment to cover total including cashback\n            if (cashback > 0) {\n                if (paidCard < totalWithCashback - 0.001) {\n                    setPaymentError(\"Cashback requires card payment of $\".concat(totalWithCashback.toFixed(2), \" (Total with Cashback: $\").concat(totalWithCashback.toFixed(2), \")\"));\n                    return;\n                }\n            } else {\n                // Regular transaction without cashback\n                if (paidTotal < totalWithCashback - 0.001) {\n                    setPaymentError(\"Payment is insufficient. Need $\".concat(totalWithCashback.toFixed(2), \" for purchase\"));\n                    return;\n                }\n            }\n            change = cashback > 0 ? 0 : Math.max(0, +(paidTotal - totalWithCashback).toFixed(2));\n        }\n        // Payment breakdown for different transaction types\n        let finalCashAmount = 0;\n        let finalCardAmount = 0;\n        if (isCreditSale) {\n            // Credit sale - no immediate payment\n            finalCashAmount = 0;\n            finalCardAmount = 0;\n        } else {\n            // Regular payment handling - record only the actual sale amount, not overpayment\n            // Cash amount should be the portion of the total that was paid in cash (up to total owed)\n            const totalOwed = totalWithCashback;\n            finalCashAmount = Math.min(paidCash, Math.max(0, totalOwed));\n            finalCardAmount = Math.min(paidCard, Math.max(0, totalOwed - finalCashAmount));\n            if (cashback > 0) {\n                // Cashback transactions: record cash going out and card payment\n                finalCashAmount = -cashback; // Cash reduced from register\n                finalCardAmount = paidCard; // Card payment covers purchase + cashback\n            }\n            // Handle lotto winnings - customer gets cash back if total is negative\n            if (lottoAmount > 0 && totalWithCashback < 0) {\n                // Customer owes nothing and gets money back (lotto winnings exceed purchase total)\n                finalCashAmount = totalWithCashback; // Negative cash amount = cash going out of register\n                finalCardAmount = 0; // No card payment needed\n            } else if (lottoAmount > 0) {\n                // Lotto winnings reduce the amount customer needs to pay\n                // Adjust payment amounts proportionally\n                const remainingTotal = totalWithCashback;\n                if (remainingTotal > 0) {\n                    const cashRatio = paidCash / paidTotal;\n                    const cardRatio = paidCard / paidTotal;\n                    finalCashAmount = remainingTotal * cashRatio;\n                    finalCardAmount = remainingTotal * cardRatio;\n                }\n            }\n        }\n        const paymentBreakdown = [];\n        if (isCreditSale) {\n            // For partial payments, record both payment and credit\n            if (isPartialPayment) {\n                if (paidCash > 0) paymentBreakdown.push({\n                    method: \"cash\",\n                    amount: +paidCash.toFixed(2)\n                });\n                if (paidCard > 0) paymentBreakdown.push({\n                    method: \"card\",\n                    amount: +paidCard.toFixed(2)\n                });\n                paymentBreakdown.push({\n                    method: \"credit\",\n                    amount: +creditBalance.toFixed(2),\n                    customerName: creditCustomerName.trim()\n                });\n            } else {\n                // Full credit sale (no payment)\n                paymentBreakdown.push({\n                    method: \"credit\",\n                    amount: +totalWithCashback.toFixed(2),\n                    customerName: creditCustomerName.trim()\n                });\n            }\n        } else {\n            if (finalCashAmount !== 0) paymentBreakdown.push({\n                method: \"cash\",\n                amount: +finalCashAmount.toFixed(2)\n            });\n            if (finalCardAmount > 0) paymentBreakdown.push({\n                method: \"card\",\n                amount: +finalCardAmount.toFixed(2)\n            });\n        }\n        // Add lotto winnings to payment breakdown for tracking\n        if (lottoAmount > 0) paymentBreakdown.push({\n            method: \"lotto\",\n            amount: +lottoAmount.toFixed(2)\n        });\n        // Include cashback as an item if present\n        const transactionItems = cart.map((c)=>({\n                id: c.id,\n                name: c.name,\n                quantity: c.quantity,\n                price: c.price,\n                applyTax: c.applyTax,\n                category: c.category\n            }));\n        // Add cashback as a line item if present\n        if (cashback > 0) {\n            transactionItems.push({\n                id: \"cashback-item\",\n                name: \"Cashback\",\n                quantity: 1,\n                price: cashback,\n                applyTax: false,\n                category: \"Cashback\"\n            });\n        }\n        // Add cashback fee as a line item if present\n        if (cbFee > 0) {\n            transactionItems.push({\n                id: \"cashback-fee-item\",\n                name: \"Cashback Fee\",\n                quantity: 1,\n                price: cbFee,\n                applyTax: true,\n                category: \"Fees\"\n            });\n        }\n        // Add card fee as a line item if present\n        const cardFeeForItem = cardFeeEnabled ? CARD_FEE_AMOUNT : 0;\n        const ccChargeForLineItem = cardFeeForItem;\n        if (ccChargeForLineItem > 0) {\n            transactionItems.push({\n                id: \"card-processing-fee-item\",\n                name: \"Card Processing Fee\",\n                quantity: 1,\n                price: ccChargeForLineItem,\n                applyTax: false,\n                category: \"Fees\"\n            });\n        }\n        // Add lotto winnings as a line item if present (negative price = discount)\n        if (lottoAmount > 0) {\n            transactionItems.push({\n                id: \"lotto-winnings\",\n                name: \"Lotto Winnings\",\n                quantity: 1,\n                price: -lottoAmount,\n                applyTax: false,\n                category: \"Lotto\"\n            });\n        }\n        // Add discount as a line item if present (negative price = discount)\n        if (discount > 0) {\n            transactionItems.push({\n                id: \"discount-item\",\n                name: \"Discount\",\n                quantity: 1,\n                price: -discount,\n                applyTax: false,\n                category: \"Discount\"\n            });\n        }\n        // Recalculate totals with cashback, lotto winnings, discount, and cashback fee included as items\n        const newSubtotal = originalSubtotal + cashback - lottoAmount - discount + cbFee;\n        const newTaxableTotal = getTaxableTotal() + cbFee; // cashback fee is taxable, discount/cashback/lotto are non-taxable\n        const newNonTaxableTotal = getNonTaxableTotal() + cashback - lottoAmount - discount;\n        const newTax = tax; // tax already calculated on discounted amount\n        const newTotal = total + cashback - lottoAmount + ccChargeForLineItem;\n        const transaction = {\n            timestamp: new Date().toISOString(),\n            items: transactionItems,\n            originalSubtotal: originalSubtotal,\n            discount: discount,\n            subtotal: newSubtotal,\n            taxableAmount: newTaxableTotal,\n            nonTaxableAmount: newNonTaxableTotal,\n            tax: newTax,\n            total: newTotal,\n            finalTotal: totalWithCashback,\n            cashback: cashback,\n            paymentBreakdown,\n            change,\n            isCreditSale: isCreditSale,\n            isPartialPayment: isPartialPayment,\n            creditBalance: creditBalance,\n            paidAmount: paidTotal,\n            creditCustomerName: isCreditSale ? creditCustomerName.trim() : null,\n            creditStatus: isCreditSale ? creditBalance > 0 ? \"unpaid\" : \"paid\" : null,\n            lottoWinnings: lottoAmount,\n            // Enhanced card fee tracking\n            cardType: cardType,\n            cardFeeEnabled: cardFeeEnabled\n        };\n        // send to server\n        fetch(\"/api/transaction\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"x-api-key\": \"dev-secret\"\n            },\n            body: JSON.stringify(transaction)\n        }).then((r)=>r.json()).then(async (data)=>{\n            if (data && data.transaction) {\n                setLastTransaction({\n                    id: data.id,\n                    ...data.transaction\n                });\n                setShowReceipt(true);\n                setCart([]);\n                setCashAmount(\"\");\n                setCardAmount(\"\");\n                setCashbackAmount(\"\");\n                setLottoWinnings(\"\");\n                setDiscountAmount(\"\");\n                setIsCreditSale(false);\n                setCreditCustomerName(\"\");\n                setCreditAmount(0);\n                setPaymentError(\"\");\n                // Reset card fee states\n                setCardType(\"debit\");\n                setCardFeeEnabled(false);\n                // Update inventory for all sales except full credit sales (no payment)\n                // Partial payments should update inventory since goods are delivered\n                if (!isCreditSale || isPartialPayment) {\n                    dispatch((0,_lib_slices_inventorySlice__WEBPACK_IMPORTED_MODULE_5__.updateInventoryAfterTransaction)(cart));\n                }\n                // Update credit account if this is a credit sale\n                if (isCreditSale && creditCustomerName.trim()) {\n                    try {\n                        const creditAccountResponse = await fetch(\"/api/credit/accounts\", {\n                            method: \"POST\",\n                            headers: {\n                                \"Content-Type\": \"application/json\"\n                            },\n                            body: JSON.stringify({\n                                action: \"addCredit\",\n                                customerName: creditCustomerName.trim(),\n                                amount: creditBalance,\n                                transactionId: data.id\n                            })\n                        });\n                        if (!creditAccountResponse.ok) {\n                            console.warn(\"Failed to update credit account:\", await creditAccountResponse.text());\n                        } else {\n                            const updatedCustomerResponse = await creditAccountResponse.json();\n                            const updatedAccount = updatedCustomerResponse.account;\n                            console.log(\"Credit account updated successfully for customer:\", creditCustomerName.trim(), \"New balance:\", updatedAccount.balance);\n                            // Update local state if this customer was selected\n                            if (selectedCustomer && selectedCustomer.customerName === creditCustomerName.trim()) {\n                                setCustomerBalance(updatedAccount.balance);\n                                setSelectedCustomer(updatedAccount);\n                                // Update the customers list\n                                setExistingCustomers((prev)=>prev.map((c)=>c.customerName === creditCustomerName.trim() ? updatedAccount : c));\n                            } else {\n                                // If no customer selected, refresh the entire list\n                                fetchExistingCustomers();\n                            }\n                        }\n                    } catch (err) {\n                        console.warn(\"Error updating credit account:\", err);\n                    }\n                }\n            } else {\n                console.error(\"Unexpected response from transaction API\", data);\n                setPaymentError(\"Failed to complete transaction\");\n            }\n        }).catch((err)=>{\n            console.error(\"Transaction API error\", err);\n            setPaymentError(\"Failed to complete transaction\");\n        });\n    };\n    const startNewSale = ()=>{\n        setShowReceipt(false);\n        setLastTransaction(null);\n        setCart([]);\n        setCashAmount(\"\");\n        setCardAmount(\"\");\n        setCashbackAmount(\"\");\n        setCashbackFee(\"\");\n        setCashbackEnabled(false);\n        setLottoWinnings(\"\");\n        setDiscountAmount(\"\");\n        setIsCreditSale(false);\n        setCreditCustomerName(\"\");\n        setCreditAmount(0);\n        setPaymentError(\"\");\n        // Reset card fee states\n        setCardType(\"debit\");\n        setCardFeeEnabled(false);\n    };\n    // Credit customer management functions\n    const fetchExistingCustomers = async ()=>{\n        try {\n            const response = await fetch(\"/api/credit/accounts\");\n            if (response.ok) {\n                const data = await response.json();\n                // The API returns accounts in an 'accounts' property\n                const customers = data.accounts || [];\n                console.log(\"Fetched existing customers:\", customers);\n                setExistingCustomers(customers);\n            } else {\n                console.error(\"Failed to fetch existing customers\");\n            }\n        } catch (err) {\n            console.error(\"Error fetching customers:\", err);\n        }\n    };\n    const handleCustomerNameChange = (value)=>{\n        setCreditCustomerName(value);\n        if (value.length > 0 && Array.isArray(existingCustomers)) {\n            const matchingCustomers = existingCustomers.filter((customer)=>customer && customer.customerName && customer.customerName.toLowerCase().includes(value.toLowerCase()));\n            // Always show suggestions when typing (for existing customers or new customer option)\n            setShowCustomerSuggestions(true);\n            // Auto-select if exact match\n            const exactMatch = existingCustomers.find((customer)=>customer && customer.customerName && customer.customerName.toLowerCase() === value.toLowerCase());\n            if (exactMatch) {\n                setSelectedCustomer(exactMatch);\n                setCustomerBalance(exactMatch.balance || 0);\n                setShowPaymentOptions(true);\n            } else {\n                setSelectedCustomer(null);\n                setCustomerBalance(0);\n                setShowPaymentOptions(false);\n            }\n        } else {\n            setShowCustomerSuggestions(false);\n            setSelectedCustomer(null);\n            setCustomerBalance(0);\n            setShowPaymentOptions(false);\n        }\n    };\n    const handleCustomerSelection = (customer)=>{\n        setCreditCustomerName(customer.customerName);\n        setSelectedCustomer(customer);\n        setCustomerBalance(customer.balance || 0);\n        setShowCustomerSuggestions(false);\n        setShowPaymentOptions(true);\n    };\n    const processCustomerPayment = async (paymentAmount)=>{\n        if (!selectedCustomer) return;\n        try {\n            const response = await fetch(\"/api/credit/accounts\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    action: \"payment\",\n                    customerName: selectedCustomer.customerName,\n                    amount: paymentAmount\n                })\n            });\n            if (response.ok) {\n                const updatedCustomer = await response.json();\n                setCustomerBalance(updatedCustomer.balance);\n                setSelectedCustomer(updatedCustomer);\n                // Update the customers list\n                setExistingCustomers((prev)=>prev.map((c)=>c.customerName === updatedCustomer.customerName ? updatedCustomer : c));\n            }\n        } catch (err) {\n            console.error(\"Error processing payment:\", err);\n        }\n    };\n    // Load existing customers when credit sale mode is activated\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isCreditSale && existingCustomers.length === 0) {\n            fetchExistingCustomers();\n        }\n    }, [\n        isCreditSale\n    ]);\n    // Handle creditPayment URL parameter from credit management page\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const creditPaymentParam = searchParams === null || searchParams === void 0 ? void 0 : searchParams.get(\"creditPayment\");\n        if (creditPaymentParam) {\n            console.log(\"Credit payment parameter detected:\", creditPaymentParam);\n            // Enable credit sale mode\n            setIsCreditSale(true);\n            // Set the customer name\n            setCreditCustomerName(creditPaymentParam);\n            // Fetch existing customers to find this specific customer\n            fetchExistingCustomers().then(()=>{\n            // This will be handled by the next useEffect when existingCustomers updates\n            });\n        }\n    }, [\n        searchParams\n    ]);\n    // Auto-select customer when creditPayment parameter is used\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const creditPaymentParam = searchParams === null || searchParams === void 0 ? void 0 : searchParams.get(\"creditPayment\");\n        if (creditPaymentParam && existingCustomers.length > 0) {\n            const targetCustomer = existingCustomers.find((customer)=>customer.customerName.toLowerCase() === creditPaymentParam.toLowerCase());\n            if (targetCustomer) {\n                console.log(\"Auto-selecting customer:\", targetCustomer);\n                setSelectedCustomer(targetCustomer);\n                setCustomerBalance(targetCustomer.balance || 0);\n                setShowPaymentOptions(true);\n                setShowCustomerSuggestions(false);\n            }\n        }\n    }, [\n        existingCustomers,\n        searchParams\n    ]);\n    // Reset to new sale when navigating to POS (e.g., from header navigation)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const newSaleParam = searchParams === null || searchParams === void 0 ? void 0 : searchParams.get(\"newSale\");\n        if (newSaleParam === \"true\") {\n            // Auto-start new sale when newSale=true parameter is present\n            startNewSale();\n            // Clear the newSale parameter from URL without page reload\n            const url = new URL(window.location);\n            url.searchParams.delete(\"newSale\");\n            window.history.replaceState({}, \"\", url);\n        }\n    }, [\n        searchParams\n    ]);\n    const swapPayments = ()=>{\n        const currentCash = cashAmount;\n        const currentCard = cardAmount;\n        setCashAmount(currentCard);\n        setCardAmount(currentCash);\n        // Update last edited to reflect the swap\n        if ((Number(currentCard) || 0) > 0) {\n            setLastEdited(\"cash\");\n        } else if ((Number(currentCash) || 0) > 0) {\n            setLastEdited(\"card\");\n        }\n    };\n    const printReceipt = ()=>{\n        if (!lastTransaction) return;\n        const printWindow = window.open(\"\", \"_blank\");\n        const receiptContent = \"\\n      <!DOCTYPE html>\\n      <html>\\n        <head>\\n          <title>Receipt - Transaction #\".concat((lastTransaction.id || \"N/A\").toString().slice(-8), '</title>\\n          <style>\\n            body {\\n              font-family: \\'Courier New\\', monospace;\\n              font-size: 12px;\\n              margin: 0;\\n              padding: 20px;\\n              max-width: 300px;\\n            }\\n            .header {\\n              text-align: center;\\n              margin-bottom: 20px;\\n            }\\n            .store-name {\\n              font-size: 16px;\\n              font-weight: bold;\\n              margin-bottom: 5px;\\n            }\\n            .receipt-item {\\n              display: flex;\\n              justify-content: space-between;\\n              margin: 2px 0;\\n            }\\n            .receipt-totals {\\n              margin-top: 10px;\\n            }\\n            .total {\\n              font-weight: bold;\\n              border-top: 1px solid #000;\\n              padding-top: 5px;\\n              margin-top: 5px;\\n            }\\n            hr {\\n              border: none;\\n              border-top: 1px solid #000;\\n              margin: 10px 0;\\n            }\\n            .center {\\n              text-align: center;\\n            }\\n            @media print {\\n              body { margin: 0; padding: 10px; }\\n            }\\n          </style>\\n        </head>\\n        <body>\\n          <div class=\"header\">\\n            <div class=\"store-name\">CONVENIENCE STORE</div>\\n            <div>Scarborough, Ontario</div>\\n            <div>Transaction #').concat((lastTransaction.id || \"N/A\").toString().slice(-8), \"</div>\\n            <div>\").concat(new Date(lastTransaction.timestamp).toLocaleString(), \"</div>\\n          </div>\\n          \\n          <hr>\\n          \\n          \").concat(lastTransaction.items.map((item)=>'\\n            <div class=\"receipt-item\">\\n              <div>'.concat(item.name, \" \").concat(!item.taxable ? \"(No HST)\" : \"\", '</div>\\n            </div>\\n            <div class=\"receipt-item\">\\n              <div>').concat(item.quantity, \" x $\").concat(item.price.toFixed(2), \"</div>\\n              <div>$\").concat((item.quantity * item.price).toFixed(2), \"</div>\\n            </div>\\n          \")).join(\"\"), '\\n          \\n          <hr>\\n          \\n          <div class=\"receipt-totals\">\\n            ').concat(lastTransaction.taxableAmount > 0 && lastTransaction.nonTaxableAmount > 0 ? '\\n              <div class=\"receipt-item\">\\n                <span>Taxable Items:</span>\\n                <span>$'.concat(lastTransaction.taxableAmount.toFixed(2), '</span>\\n              </div>\\n              <div class=\"receipt-item\">\\n                <span>Non-Taxable Items:</span>\\n                <span>$').concat(lastTransaction.nonTaxableAmount.toFixed(2), \"</span>\\n              </div>\\n            \") : \"\", \"\\n            \\n            \").concat(lastTransaction.discount > 0 ? '\\n              <div class=\"receipt-item\">\\n                <span>Items Subtotal:</span>\\n                <span>$'.concat(lastTransaction.originalSubtotal.toFixed(2), '</span>\\n              </div>\\n              <div class=\"receipt-item\" style=\"font-weight: bold; color: #e65100;\">\\n                <span>Discount:</span>\\n                <span>-$').concat(lastTransaction.discount.toFixed(2), '</span>\\n              </div>\\n              <div class=\"receipt-item\">\\n                <span>Subtotal:</span>\\n                <span>$').concat(lastTransaction.subtotal.toFixed(2), \"</span>\\n              </div>\\n            \") : '\\n              <div class=\"receipt-item\">\\n                <span>Subtotal:</span>\\n                <span>$'.concat(lastTransaction.subtotal.toFixed(2), \"</span>\\n              </div>\\n            \"), \"\\n            \\n            \").concat(lastTransaction.includeTax && lastTransaction.tax > 0 ? '\\n              <div class=\"receipt-item\">\\n                <span>HST (13%):</span>\\n                <span>$'.concat(lastTransaction.tax.toFixed(2), \"</span>\\n              </div>\\n            \") : \"\", '\\n            \\n            <div class=\"receipt-item total\">\\n              <span>Total:</span>\\n              <span>$').concat(lastTransaction.total.toFixed(2), \"</span>\\n            </div>\\n            \\n            \").concat(lastTransaction.cashback > 0 ? '\\n              <div class=\"receipt-item\" style=\"font-weight: bold; color: #e67e22;\">\\n                <span>Cashback:</span>\\n                <span>$'.concat(lastTransaction.cashback.toFixed(2), \"</span>\\n              </div>\\n            \") : \"\", \"\\n            \\n            \").concat(lastTransaction.paymentBreakdown && lastTransaction.paymentBreakdown.length > 0 ? '\\n              <hr>\\n              <div style=\"font-weight: bold; margin-bottom: 5px;\">Payments</div>\\n              '.concat(lastTransaction.paymentBreakdown.map((p)=>'\\n                <div class=\"receipt-item\">\\n                  <span>'.concat(p.method.toUpperCase(), \":</span>\\n                  <span>$\").concat(p.amount.toFixed(2), \"</span>\\n                </div>\\n              \")).join(\"\"), \"\\n              \").concat(lastTransaction.change > 0 ? '\\n                <div class=\"receipt-item\">\\n                  <span>Change:</span>\\n                  <span>$'.concat(lastTransaction.change.toFixed(2), \"</span>\\n                </div>\\n              \") : \"\", \"\\n            \") : \"\", '\\n          </div>\\n          \\n          <hr>\\n          <div class=\"center\">Thank you for your business!</div>\\n          \\n          <script>\\n            window.onload = function() {\\n              window.print();\\n            }\\n          </script>\\n        </body>\\n      </html>\\n    ');\n        printWindow.document.write(receiptContent);\n        printWindow.document.close();\n    };\n    // When cart changes, reset payment amounts (default card for cashback, otherwise cash)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Don't auto-reset payment amounts when in credit sale mode or user is typing\n        if (isCreditSale || userIsTyping) {\n            setPaymentError(\"\");\n            return;\n        }\n        const subtotal = calculateTotal();\n        const tax = calculateTax();\n        const total = +(subtotal + tax).toFixed(2);\n        const cashback = Number(parseFloat(cashbackAmount) || 0);\n        const lotto = Number(parseFloat(lottoWinnings) || 0);\n        const totalWithCashback = total + cashback - lotto;\n        // For cashback transactions, force card payment only\n        if (cashback > 0) {\n            setCashAmount(\"\");\n            setCardAmount(Math.max(0, totalWithCashback));\n            setLastEdited(\"card\");\n        } else {\n            // Default: cash covers the total minus lotto winnings\n            setCashAmount(Math.max(0, totalWithCashback));\n            setCardAmount(0);\n            setLastEdited(\"cash\");\n        }\n        setPaymentError(\"\");\n    }, [\n        cart,\n        cashbackAmount,\n        cashbackFee,\n        lottoWinnings,\n        discountAmount,\n        isCreditSale,\n        cardFeeEnabled\n    ]);\n    // If auto-fill is enabled and lastEdited is set, update the other amount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!autoFillOther || !lastEdited || isCreditSale || userIsTyping) return; // Don't auto-fill in credit sale mode or while typing\n        const subtotal = calculateTotal();\n        const tax = calculateTax();\n        const total = +(subtotal + tax).toFixed(2);\n        const cashback = Number(parseFloat(cashbackAmount) || 0);\n        const lotto = Number(parseFloat(lottoWinnings) || 0);\n        const totalWithCashback = total + cashback - lotto;\n        // For cashback transactions, only allow card payment\n        if (cashback > 0) {\n            setCashAmount(\"\");\n            setCardAmount(Math.max(0, totalWithCashback));\n            return;\n        }\n        if (lastEdited === \"cash\") {\n            const paidCash = Number(parseFloat(cashAmount) || 0);\n            const newCard = Math.max(0, +(totalWithCashback - paidCash).toFixed(2));\n            setCardAmount(newCard);\n        } else if (lastEdited === \"card\") {\n            const paidCard = Number(parseFloat(cardAmount) || 0);\n            const newCash = Math.max(0, +(totalWithCashback - paidCard).toFixed(2));\n            setCashAmount(newCash);\n        }\n    }, [\n        autoFillOther,\n        lastEdited,\n        cashAmount,\n        cardAmount,\n        cart,\n        cashbackAmount,\n        cashbackFee,\n        lottoWinnings,\n        discountAmount,\n        isCreditSale,\n        cardFeeEnabled\n    ]);\n    // Clear userIsTyping flag after user stops typing\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (userIsTyping) {\n            const timeout = setTimeout(()=>{\n                setUserIsTyping(false);\n            }, 500); // 500ms delay after user stops typing\n            return ()=>clearTimeout(timeout);\n        }\n    }, [\n        userIsTyping,\n        cashAmount,\n        cardAmount,\n        lottoWinnings\n    ]);\n    // Add event listener for virtual keyboard input\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleVirtualKeyboardInput = (event)=>{\n            console.log(\"\\uD83D\\uDD24 Virtual keyboard input detected:\", event.detail);\n            setUserIsTyping(true); // Set typing flag when virtual keyboard is used\n        };\n        // Add event listener to the document to catch virtual keyboard events\n        document.addEventListener(\"virtualKeyboardInput\", handleVirtualKeyboardInput);\n        return ()=>{\n            document.removeEventListener(\"virtualKeyboardInput\", handleVirtualKeyboardInput);\n        };\n    }, []);\n    // Barcode Scanner Functionality\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Auto-focus search input when component mounts\n        if (searchInputRef.current) {\n            searchInputRef.current.focus();\n        }\n        const handleKeyDown = (event)=>{\n            // Don't interfere with barcode scanner when manual entry modal is open\n            if (showManualEntry) {\n                return;\n            }\n            // Don't interfere if user is typing in input fields or form elements\n            const activeElement = document.activeElement;\n            const isTypingInInput = activeElement && (activeElement.tagName === \"INPUT\" || activeElement.tagName === \"TEXTAREA\" || activeElement.tagName === \"SELECT\" || activeElement.contentEditable === \"true\");\n            if (isTypingInInput) {\n                return;\n            }\n            const currentTime = Date.now();\n            const timeDiff = currentTime - lastKeyTime;\n            // If time between keystrokes is less than 50ms, it's likely a barcode scanner\n            // Barcode scanners type very fast (typically 10-30ms between characters)\n            const isScannerInput = timeDiff < 50 && timeDiff > 0;\n            // Only focus search input if user is not typing in any input field and it's not already focused\n            if (document.activeElement !== searchInputRef.current && !isTypingInInput && ![\n                \"Tab\",\n                \"Escape\",\n                \"F1\",\n                \"F2\",\n                \"F3\",\n                \"F4\",\n                \"F5\",\n                \"F6\",\n                \"F7\",\n                \"F8\",\n                \"F9\",\n                \"F10\",\n                \"F11\",\n                \"F12\"\n            ].includes(event.key)) {\n                var _searchInputRef_current;\n                (_searchInputRef_current = searchInputRef.current) === null || _searchInputRef_current === void 0 ? void 0 : _searchInputRef_current.focus();\n            }\n            // Handle barcode scanning (only if not typing in input fields)\n            if (!isTypingInInput) {\n                if (event.key === \"Enter\") {\n                    // End of barcode scan - process the buffer\n                    if (barcodeBuffer.trim().length > 0) {\n                        handleBarcodeScanned(barcodeBuffer.trim());\n                        setBarcodeBuffer(\"\");\n                    }\n                } else if (isScannerInput && event.key.length === 1) {\n                    // Add character to barcode buffer\n                    setBarcodeBuffer((prev)=>prev + event.key);\n                } else if (!isScannerInput) {\n                    // Reset buffer if typing is too slow (manual typing)\n                    setBarcodeBuffer(\"\");\n                }\n            }\n            setLastKeyTime(currentTime);\n        };\n        const handleFocusAnywhere = (event)=>{\n            // Don't interfere when manual entry modal is open\n            if (showManualEntry) {\n                return;\n            }\n            // Don't refocus if clicking on form elements that need focus\n            const clickedElement = event.target;\n            const isFormElement = clickedElement.tagName === \"SELECT\" || clickedElement.tagName === \"OPTION\" || clickedElement.tagName === \"INPUT\" || clickedElement.tagName === \"BUTTON\" || clickedElement.tagName === \"TEXTAREA\";\n            // Don't refocus if clicking on the category filter or its options\n            const isCategoryFilter = clickedElement.closest(\"select\") || clickedElement.tagName === \"SELECT\";\n            if (isFormElement || isCategoryFilter) {\n                return; // Let the form element handle its own focus\n            }\n            // Ensure search input stays focused when clicking elsewhere on the page\n            setTimeout(()=>{\n                if (searchInputRef.current && document.activeElement !== searchInputRef.current && !document.activeElement.closest(\"select\")) {\n                    searchInputRef.current.focus();\n                }\n            }, 100);\n        };\n        // Add event listeners\n        document.addEventListener(\"keydown\", handleKeyDown);\n        document.addEventListener(\"click\", handleFocusAnywhere);\n        // Cleanup function\n        return ()=>{\n            document.removeEventListener(\"keydown\", handleKeyDown);\n            document.removeEventListener(\"click\", handleFocusAnywhere);\n        };\n    }, [\n        barcodeBuffer,\n        lastKeyTime,\n        showManualEntry\n    ]);\n    // Handle barcode scanned\n    const handleBarcodeScanned = (barcode)=>{\n        console.log(\"Barcode scanned:\", barcode);\n        // Use the enhanced search functionality to find products\n        // This will search by barcode, productId, id, name, and category\n        const searchResults = getFilteredInventory(barcode);\n        if (searchResults.length === 1) {\n            // Exactly one product found - automatically add to cart\n            const foundProduct = searchResults[0];\n            addToCart(foundProduct);\n            console.log(\"Product added to cart via barcode:\", foundProduct.name);\n        } else if (searchResults.length > 1) {\n            // Multiple matches - show in search results for user to choose\n            setSearchTerm(barcode);\n            console.log(\"Multiple products found for barcode \".concat(barcode, \":\"), searchResults.map((p)=>p.name));\n        } else {\n            // No product found - automatically prompt for manual entry\n            setSearchTerm(barcode);\n            setManualItem((prev)=>({\n                    ...prev,\n                    name: barcode\n                }));\n            setShowManualEntry(true);\n            console.log(\"Product not found for barcode:\", barcode, \"- opening manual entry\");\n        }\n    };\n    if (showReceipt && lastTransaction) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(POSWrapper, {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.Container, {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.ReceiptSection, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            children: \"Transaction Complete!\"\n                        }, void 0, false, {\n                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                            lineNumber: 1893,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"receipt\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    children: \"CONVENIENCE STORE\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 1895,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: \"Scarborough, Ontario\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 1896,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: [\n                                        \"Transaction #\",\n                                        (lastTransaction.id || \"N/A\").toString().slice(-8)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 1897,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: new Date(lastTransaction.timestamp).toLocaleString()\n                                }, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 1901,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {}, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 1902,\n                                    columnNumber: 15\n                                }, this),\n                                lastTransaction.items.map((item)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"receipt-item\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: [\n                                                    item.name,\n                                                    \" \",\n                                                    !item.taxable && \"(No HST)\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 1905,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: [\n                                                    item.quantity,\n                                                    \" x $\",\n                                                    item.price.toFixed(2),\n                                                    \" = $\",\n                                                    (item.quantity * item.price).toFixed(2)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 1908,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, item.id, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 1904,\n                                        columnNumber: 17\n                                    }, this)),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {}, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 1914,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"receipt-totals\",\n                                    children: [\n                                        lastTransaction.taxableAmount > 0 && lastTransaction.nonTaxableAmount > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        \"Taxable Items: $\",\n                                                        lastTransaction.taxableAmount.toFixed(2)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 1919,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        \"Non-Taxable Items: $\",\n                                                        lastTransaction.nonTaxableAmount.toFixed(2)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 1923,\n                                                    columnNumber: 23\n                                                }, this)\n                                            ]\n                                        }, void 0, true),\n                                        lastTransaction.discount > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        \"Items Subtotal: $\",\n                                                        lastTransaction.originalSubtotal.toFixed(2)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 1931,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        fontWeight: \"600\",\n                                                        color: \"#e65100\"\n                                                    },\n                                                    children: [\n                                                        \"Discount: -$\",\n                                                        lastTransaction.discount.toFixed(2)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 1935,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        \"Subtotal: $\",\n                                                        lastTransaction.subtotal.toFixed(2)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 1938,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                \"Subtotal: $\",\n                                                lastTransaction.subtotal.toFixed(2)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 1941,\n                                            columnNumber: 19\n                                        }, this),\n                                        lastTransaction.includeTax && lastTransaction.tax > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                \"HST (13%): $\",\n                                                lastTransaction.tax.toFixed(2)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 1944,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"total\",\n                                            children: [\n                                                \"Total: $\",\n                                                lastTransaction.total.toFixed(2)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 1946,\n                                            columnNumber: 17\n                                        }, this),\n                                        lastTransaction.cashback > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                fontWeight: \"600\",\n                                                color: \"#e67e22\"\n                                            },\n                                            children: [\n                                                \"Cashback: $\",\n                                                lastTransaction.cashback.toFixed(2)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 1950,\n                                            columnNumber: 19\n                                        }, this),\n                                        lastTransaction.paymentBreakdown && lastTransaction.paymentBreakdown.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {}, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 1957,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                        children: \"Payments\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 1959,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 1958,\n                                                    columnNumber: 23\n                                                }, this),\n                                                lastTransaction.paymentBreakdown.map((p, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: [\n                                                            p.method.toUpperCase(),\n                                                            \": $\",\n                                                            p.amount.toFixed(2)\n                                                        ]\n                                                    }, \"payment-\".concat(p.method, \"-\").concat(idx), true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 1962,\n                                                        columnNumber: 25\n                                                    }, this)),\n                                                lastTransaction.change > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        \"Change: $\",\n                                                        lastTransaction.change.toFixed(2)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 1967,\n                                                    columnNumber: 25\n                                                }, this)\n                                            ]\n                                        }, void 0, true)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 1915,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {}, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 1972,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: \"Thank you for your business!\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 1973,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                            lineNumber: 1894,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                display: \"flex\",\n                                gap: \"1rem\",\n                                marginTop: \"2rem\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.Button, {\n                                    onClick: printReceipt,\n                                    style: {\n                                        backgroundColor: \"#27ae60\",\n                                        color: \"white\"\n                                    },\n                                    children: \"\\uD83D\\uDDA8️ Print Receipt\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 1976,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.Button, {\n                                    onClick: startNewSale,\n                                    children: \"New Sale\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 1982,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                            lineNumber: 1975,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                    lineNumber: 1892,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                lineNumber: 1891,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n            lineNumber: 1890,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(POSWrapper, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.Container, {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.POSGrid, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.ProductsPanel, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"flex\",\n                                    justifyContent: \"space-between\",\n                                    alignItems: \"center\",\n                                    marginBottom: \"1rem\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        children: \"Products\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2003,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            fontSize: \"0.75rem\",\n                                            color: \"#7f8c8d\",\n                                            padding: \"0.25rem 0.5rem\",\n                                            background: \"#f8f9fa\",\n                                            borderRadius: \"4px\"\n                                        },\n                                        children: [\n                                            inventory.length,\n                                            \" items loaded\",\n                                            inventoryLoaded && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                style: {\n                                                    marginLeft: \"0.5rem\",\n                                                    color: inventoryLoading ? \"#f39c12\" : \"#27ae60\"\n                                                },\n                                                children: [\n                                                    \"• \",\n                                                    inventoryLoading ? \"syncing...\" : \"ready\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2015,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2004,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 1995,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"flex\",\n                                    gap: \"1rem\",\n                                    marginBottom: \"1rem\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            position: \"relative\",\n                                            flex: 1,\n                                            display: \"flex\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.SearchBar, {\n                                                ref: searchInputRef,\n                                                type: \"text\",\n                                                placeholder: \"Search products... (Barcode Scanner Ready)\",\n                                                value: searchTerm,\n                                                onChange: (e)=>setSearchTerm(e.target.value),\n                                                onFocus: ()=>handleInputFocus(searchInputRef, false),\n                                                onKeyDown: (e)=>{\n                                                    if (e.key === \"Enter\") {\n                                                        handleSearchEnter();\n                                                    }\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2028,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.Button, {\n                                                onClick: ()=>{\n                                                    if (showKeyboard && activeInputRef === searchInputRef) {\n                                                        setShowKeyboard(false);\n                                                    } else {\n                                                        handleInputFocus(searchInputRef, false);\n                                                    }\n                                                },\n                                                style: {\n                                                    marginLeft: \"0.5rem\",\n                                                    padding: \"0.75rem\",\n                                                    background: showKeyboard && activeInputRef === searchInputRef ? \"#27ae60\" : \"#3498db\",\n                                                    minWidth: \"auto\"\n                                                },\n                                                title: \"Toggle Virtual Keyboard\",\n                                                children: \"⌨️\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2041,\n                                                columnNumber: 17\n                                            }, this),\n                                            barcodeBuffer && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    position: \"absolute\",\n                                                    top: \"-25px\",\n                                                    right: \"0\",\n                                                    background: \"#27ae60\",\n                                                    color: \"white\",\n                                                    padding: \"2px 8px\",\n                                                    borderRadius: \"4px\",\n                                                    fontSize: \"0.8rem\",\n                                                    fontWeight: \"bold\"\n                                                },\n                                                children: \"\\uD83D\\uDCF7 Scanning...\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2063,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2027,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: handleDebugRefresh,\n                                        style: {\n                                            padding: \"0.5rem 1rem\",\n                                            background: \"#e74c3c\",\n                                            color: \"white\",\n                                            border: \"none\",\n                                            borderRadius: \"4px\",\n                                            cursor: \"pointer\",\n                                            fontSize: \"0.9rem\",\n                                            whiteSpace: \"nowrap\"\n                                        },\n                                        title: \"Force refresh inventory from database (Debug)\",\n                                        children: \"\\uD83D\\uDD04 Refresh\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2080,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.CategoryFilter, {\n                                        value: categoryFilter,\n                                        onChange: (e)=>{\n                                            setCategoryFilter(e.target.value);\n                                            // After selection, return focus to search bar\n                                            setTimeout(()=>{\n                                                if (searchInputRef.current) {\n                                                    searchInputRef.current.focus();\n                                                }\n                                            }, 100);\n                                        },\n                                        onBlur: (e)=>{\n                                            // When dropdown loses focus (after selection or clicking away), return to search\n                                            setTimeout(()=>{\n                                                if (searchInputRef.current && document.activeElement !== searchInputRef.current) {\n                                                    searchInputRef.current.focus();\n                                                }\n                                            }, 100);\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"\",\n                                                children: \"All Categories\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2119,\n                                                columnNumber: 17\n                                            }, this),\n                                            categories.map((category)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: category,\n                                                    children: category\n                                                }, category, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2121,\n                                                    columnNumber: 19\n                                                }, this))\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2096,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setShowManualEntry(true),\n                                        style: {\n                                            marginLeft: \"0.5rem\",\n                                            padding: \"0.5rem 1rem\",\n                                            backgroundColor: \"#3498db\",\n                                            color: \"white\",\n                                            border: \"none\",\n                                            borderRadius: \"4px\",\n                                            cursor: \"pointer\",\n                                            fontWeight: \"bold\"\n                                        },\n                                        children: \"+ Manual Item\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2127,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 2026,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"grid\",\n                                    gridTemplateColumns: \"repeat(auto-fit, minmax(160px, 1fr))\",\n                                    gap: \"0.8rem\",\n                                    marginBottom: \"1.5rem\",\n                                    maxHeight: \"200px\",\n                                    minHeight: \"100px\",\n                                    overflowX: \"auto\"\n                                },\n                                children: [\n                                    [\n                                        {\n                                            name: \"Lotto\",\n                                            key: \"Lotto\",\n                                            icon: \"\\uD83C\\uDFB2\",\n                                            color: \"#e74c3c\",\n                                            description: \"Type amount & click to add\"\n                                        },\n                                        {\n                                            name: \"Grocery\",\n                                            key: \"Grocery\",\n                                            icon: \"\\uD83D\\uDED2\",\n                                            color: \"#27ae60\",\n                                            description: \"Type amount & click to add\"\n                                        },\n                                        {\n                                            name: \"Western Union\",\n                                            key: \"WesternUnion\",\n                                            icon: \"\\uD83D\\uDCB8\",\n                                            color: \"#8e44ad\",\n                                            description: \"Type amount & click to add\"\n                                        },\n                                        {\n                                            name: \"Tea\",\n                                            key: \"Tea\",\n                                            icon: \"\\uD83C\\uDF75\",\n                                            color: \"#d35400\",\n                                            description: \"Type amount & click to add\"\n                                        },\n                                        {\n                                            name: \"Bakery\",\n                                            key: \"Bakery\",\n                                            icon: \"\\uD83C\\uDF5E\",\n                                            color: \"#f39c12\",\n                                            description: \"Bread & Baked Goods\"\n                                        },\n                                        {\n                                            name: \"Dairy\",\n                                            key: \"Dairy\",\n                                            icon: \"\\uD83E\\uDD5B\",\n                                            color: \"#16a085\",\n                                            description: \"Milk & Dairy Products\"\n                                        },\n                                        {\n                                            name: \"Beverages\",\n                                            key: \"Beverages\",\n                                            icon: \"\\uD83E\\uDD64\",\n                                            color: \"#3498db\",\n                                            description: \"Drinks & Refreshments\"\n                                        },\n                                        {\n                                            name: \"Tobacco\",\n                                            key: \"Tobacco\",\n                                            icon: \"\\uD83D\\uDEAC\",\n                                            color: \"#95a5a6\",\n                                            description: \"Cigarettes & Cigars\"\n                                        },\n                                        {\n                                            name: \"Snacks\",\n                                            key: \"Snacks\",\n                                            icon: \"\\uD83C\\uDF7F\",\n                                            color: \"#e67e22\",\n                                            description: \"Chips & Snacks\"\n                                        }\n                                    ].map((category)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            \"data-category\": category.key,\n                                            onClick: ()=>{\n                                                // Special handling for Lotto, Grocery, Western Union, and Tea categories\n                                                if (category.key === \"Lotto\" || category.key === \"Grocery\" || category.key === \"WesternUnion\" || category.key === \"Tea\") {\n                                                    // Check search term first, then currently focused input field\n                                                    let inputValue = searchTerm.trim();\n                                                    // If search is empty, check the currently active input field\n                                                    if (!inputValue && activeInputRef && activeInputRef.current) {\n                                                        inputValue = activeInputRef.current.value;\n                                                    }\n                                                    // If still no value, check other input fields that might have values\n                                                    if (!inputValue) {\n                                                        const inputs = [\n                                                            discountRef,\n                                                            cashAmountRef,\n                                                            cardAmountRef,\n                                                            cashbackAmountRef,\n                                                            lottoWinningsRef\n                                                        ];\n                                                        for (const inputRef of inputs){\n                                                            if (inputRef.current && inputRef.current.value) {\n                                                                inputValue = inputRef.current.value;\n                                                                break;\n                                                            }\n                                                        }\n                                                    }\n                                                    const numericValue = parseFloat(inputValue);\n                                                    // Check if search term is a valid number\n                                                    if (!isNaN(numericValue) && numericValue > 0) {\n                                                        // Create item with the specified amount based on category\n                                                        let newItem;\n                                                        if (category.key === \"Lotto\") {\n                                                            newItem = {\n                                                                id: \"lotto-\".concat(Date.now()),\n                                                                name: \"Lotto $\".concat(numericValue.toFixed(2)),\n                                                                category: \"Lotto\",\n                                                                price: numericValue,\n                                                                stock: 999,\n                                                                lowStockThreshold: 0,\n                                                                applyTax: true,\n                                                                isManual: true\n                                                            };\n                                                        } else if (category.key === \"Grocery\") {\n                                                            newItem = {\n                                                                id: \"grocery-\".concat(Date.now()),\n                                                                name: \"Grocery Item $\".concat(numericValue.toFixed(2)),\n                                                                category: \"Grocery\",\n                                                                price: numericValue,\n                                                                stock: 999,\n                                                                lowStockThreshold: 0,\n                                                                applyTax: true,\n                                                                isManual: true\n                                                            };\n                                                        } else if (category.key === \"WesternUnion\") {\n                                                            newItem = {\n                                                                id: \"western-union-\".concat(Date.now()),\n                                                                name: \"Western Union $\".concat(numericValue.toFixed(2)),\n                                                                category: \"Western Union\",\n                                                                price: numericValue,\n                                                                stock: 999,\n                                                                lowStockThreshold: 0,\n                                                                applyTax: true,\n                                                                isManual: true\n                                                            };\n                                                        } else if (category.key === \"Tea\") {\n                                                            newItem = {\n                                                                id: \"tea-\".concat(Date.now()),\n                                                                name: \"Tea $\".concat(numericValue.toFixed(2)),\n                                                                category: \"Tea\",\n                                                                price: numericValue,\n                                                                stock: 999,\n                                                                lowStockThreshold: 0,\n                                                                applyTax: true,\n                                                                isManual: true\n                                                            };\n                                                        }\n                                                        // Add to cart\n                                                        addToCart(newItem);\n                                                        // Clear the input field that was used\n                                                        if (searchTerm.trim()) {\n                                                            setSearchTerm(\"\");\n                                                        } else if (activeInputRef && activeInputRef.current) {\n                                                            // Clear the currently active input field\n                                                            activeInputRef.current.value = \"\";\n                                                            // Trigger onChange event to update state\n                                                            const event = new Event(\"input\", {\n                                                                bubbles: true\n                                                            });\n                                                            activeInputRef.current.dispatchEvent(event);\n                                                        }\n                                                        // Show success feedback\n                                                        console.log(\"Added \".concat(newItem.name, \" to cart\"));\n                                                        // Brief visual feedback by temporarily highlighting the card\n                                                        const currentCard = document.querySelector('[data-category=\"'.concat(category.key, '\"]'));\n                                                        if (currentCard) {\n                                                            currentCard.style.transform = \"scale(1.05)\";\n                                                            setTimeout(()=>{\n                                                                currentCard.style.transform = \"scale(1)\";\n                                                            }, 200);\n                                                        }\n                                                        // Return focus to search bar\n                                                        setTimeout(()=>{\n                                                            if (searchInputRef.current) {\n                                                                searchInputRef.current.focus();\n                                                            }\n                                                        }, 100);\n                                                        return; // Don't set category filter, just add the item\n                                                    }\n                                                }\n                                                // Default behavior: set category filter\n                                                setCategoryFilter(category.key);\n                                                // Return focus to search bar after category selection\n                                                setTimeout(()=>{\n                                                    if (searchInputRef.current) {\n                                                        searchInputRef.current.focus();\n                                                    }\n                                                }, 100);\n                                            },\n                                            style: {\n                                                background: \"linear-gradient(135deg, \".concat(category.color, \", \").concat(category.color, \"dd)\"),\n                                                color: \"white\",\n                                                padding: \"0.8rem\",\n                                                borderRadius: \"10px\",\n                                                cursor: \"pointer\",\n                                                textAlign: \"center\",\n                                                transition: \"all 0.2s ease\",\n                                                boxShadow: categoryFilter === category.key ? \"0 8px 25px \".concat(category.color, \"40\") : \"0 4px 15px rgba(0,0,0,0.1)\",\n                                                transform: categoryFilter === category.key ? \"translateY(-2px)\" : \"translateY(0)\",\n                                                border: categoryFilter === category.key ? \"3px solid \".concat(category.color) : \"3px solid transparent\"\n                                            },\n                                            onMouseEnter: (e)=>{\n                                                if (categoryFilter !== category.key) {\n                                                    e.target.style.transform = \"translateY(-1px)\";\n                                                    e.target.style.boxShadow = \"0 6px 20px \".concat(category.color, \"30\");\n                                                }\n                                            },\n                                            onMouseLeave: (e)=>{\n                                                if (categoryFilter !== category.key) {\n                                                    e.target.style.transform = \"translateY(0)\";\n                                                    e.target.style.boxShadow = \"0 4px 15px rgba(0,0,0,0.1)\";\n                                                }\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        fontSize: \"2rem\",\n                                                        marginBottom: \"0.5rem\"\n                                                    },\n                                                    children: category.icon\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2396,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        fontSize: \"1rem\",\n                                                        fontWeight: \"600\",\n                                                        marginBottom: \"0.25rem\"\n                                                    },\n                                                    children: category.name\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2399,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        fontSize: \"0.8rem\",\n                                                        opacity: 0.9\n                                                    },\n                                                    children: category.description\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2408,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, category.key, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2221,\n                                            columnNumber: 17\n                                        }, this)),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        onClick: ()=>{\n                                            setCategoryFilter(\"\");\n                                            setTimeout(()=>{\n                                                if (searchInputRef.current) {\n                                                    searchInputRef.current.focus();\n                                                }\n                                            }, 100);\n                                        },\n                                        style: {\n                                            background: categoryFilter === \"\" ? \"linear-gradient(135deg, #2c3e50, #34495e)\" : \"linear-gradient(135deg, #ecf0f1, #bdc3c7)\",\n                                            color: categoryFilter === \"\" ? \"white\" : \"#2c3e50\",\n                                            padding: \"0.8rem\",\n                                            borderRadius: \"10px\",\n                                            cursor: \"pointer\",\n                                            textAlign: \"center\",\n                                            transition: \"all 0.2s ease\",\n                                            boxShadow: categoryFilter === \"\" ? \"0 8px 25px rgba(44,62,80,0.3)\" : \"0 4px 15px rgba(0,0,0,0.1)\",\n                                            transform: categoryFilter === \"\" ? \"translateY(-2px)\" : \"translateY(0)\",\n                                            border: categoryFilter === \"\" ? \"3px solid #2c3e50\" : \"3px solid transparent\"\n                                        },\n                                        onMouseEnter: (e)=>{\n                                            if (categoryFilter !== \"\") {\n                                                e.target.style.transform = \"translateY(-1px)\";\n                                                e.target.style.boxShadow = \"0 6px  20px rgba(44,62,80,0.2)\";\n                                            }\n                                        },\n                                        onMouseLeave: (e)=>{\n                                            if (categoryFilter !== \"\") {\n                                                e.target.style.transform = \"translateY(0)\";\n                                                e.target.style.boxShadow = \"0 4px 15px rgba(0,0,0,0.1)\";\n                                            }\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    fontSize: \"2rem\",\n                                                    marginBottom: \"0.5rem\"\n                                                },\n                                                children: \"\\uD83C\\uDFEA\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2461,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    fontSize: \"1rem\",\n                                                    fontWeight: \"600\",\n                                                    marginBottom: \"0.25rem\"\n                                                },\n                                                children: \"All Categories\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2464,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    fontSize: \"0.8rem\",\n                                                    opacity: 0.9\n                                                },\n                                                children: \"View All Products\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2473,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2415,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 2145,\n                                columnNumber: 13\n                            }, this),\n                            showManualEntry && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    position: \"fixed\",\n                                    top: \"0\",\n                                    left: \"0\",\n                                    right: \"0\",\n                                    bottom: \"0\",\n                                    backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n                                    display: \"flex\",\n                                    alignItems: \"center\",\n                                    justifyContent: \"center\",\n                                    zIndex: 1000\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        backgroundColor: \"white\",\n                                        padding: \"2rem\",\n                                        borderRadius: \"8px\",\n                                        minWidth: \"400px\",\n                                        maxWidth: \"500px\"\n                                    },\n                                    onKeyDown: (e)=>{\n                                        if (e.key === \"Escape\") {\n                                            setShowManualEntry(false);\n                                            setManualItem({\n                                                name: \"\",\n                                                price: \"\",\n                                                category: categories.length > 0 ? categories[0] : \"grocery-taxable\",\n                                                quantity: 1\n                                            });\n                                        }\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            style: {\n                                                marginBottom: \"1rem\",\n                                                color: \"#2c3e50\"\n                                            },\n                                            children: \"Add Manual Item\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2518,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                marginBottom: \"1rem\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    style: {\n                                                        display: \"block\",\n                                                        marginBottom: \"0.5rem\",\n                                                        fontWeight: \"bold\"\n                                                    },\n                                                    children: \"Item Name:\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2523,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"text\",\n                                                    value: manualItem.name,\n                                                    onChange: (e)=>setManualItem((prev)=>({\n                                                                ...prev,\n                                                                name: e.target.value\n                                                            })),\n                                                    placeholder: \"Enter item name or description\",\n                                                    style: {\n                                                        width: \"100%\",\n                                                        padding: \"0.5rem\",\n                                                        border: \"1px solid #ddd\",\n                                                        borderRadius: \"4px\"\n                                                    },\n                                                    autoFocus: true\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2532,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2522,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                marginBottom: \"1rem\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    style: {\n                                                        display: \"block\",\n                                                        marginBottom: \"0.5rem\",\n                                                        fontWeight: \"bold\"\n                                                    },\n                                                    children: \"Price:\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2553,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"text\",\n                                                    inputMode: \"decimal\",\n                                                    step: \"0.01\",\n                                                    min: \"0\",\n                                                    value: manualItem.price,\n                                                    onFocus: (e)=>handleInputFocus(e.target, true),\n                                                    onChange: (e)=>setManualItem((prev)=>({\n                                                                ...prev,\n                                                                price: e.target.value\n                                                            })),\n                                                    placeholder: \"0.00\",\n                                                    style: {\n                                                        width: \"100%\",\n                                                        padding: \"0.5rem\",\n                                                        border: \"1px solid #ddd\",\n                                                        borderRadius: \"4px\"\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2562,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2552,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                marginBottom: \"1rem\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    style: {\n                                                        display: \"block\",\n                                                        marginBottom: \"0.5rem\",\n                                                        fontWeight: \"bold\"\n                                                    },\n                                                    children: \"Category:\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2586,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                    value: manualItem.category,\n                                                    onChange: (e)=>setManualItem((prev)=>({\n                                                                ...prev,\n                                                                category: e.target.value\n                                                            })),\n                                                    style: {\n                                                        width: \"100%\",\n                                                        padding: \"0.5rem\",\n                                                        border: \"1px solid #ddd\",\n                                                        borderRadius: \"4px\"\n                                                    },\n                                                    children: categories.length > 0 ? // Use categories from Redux/database\n                                                    categories.map((category)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            value: category,\n                                                            children: category\n                                                        }, category, false, {\n                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                            lineNumber: 2613,\n                                                            columnNumber: 27\n                                                        }, this)) : // Fallback to hardcoded options if no categories loaded\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                value: \"grocery-taxable\",\n                                                                children: \"Grocery (Taxable)\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 2620,\n                                                                columnNumber: 27\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                value: \"grocery-non-taxable\",\n                                                                children: \"Grocery (Non-Taxable)\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 2623,\n                                                                columnNumber: 27\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                value: \"lotto\",\n                                                                children: \"Lotto (Taxable)\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 2626,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2595,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2585,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                marginBottom: \"1.5rem\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    style: {\n                                                        display: \"block\",\n                                                        marginBottom: \"0.5rem\",\n                                                        fontWeight: \"bold\"\n                                                    },\n                                                    children: \"Quantity:\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2633,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"text\",\n                                                    inputMode: \"numeric\",\n                                                    min: \"1\",\n                                                    value: manualItem.quantity,\n                                                    onFocus: (e)=>handleInputFocus(e.target, true),\n                                                    onChange: (e)=>setManualItem((prev)=>({\n                                                                ...prev,\n                                                                quantity: parseInt(e.target.value) || 1\n                                                            })),\n                                                    style: {\n                                                        width: \"100%\",\n                                                        padding: \"0.5rem\",\n                                                        border: \"1px solid #ddd\",\n                                                        borderRadius: \"4px\"\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2642,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2632,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                display: \"flex\",\n                                                gap: \"0.5rem\",\n                                                justifyContent: \"flex-end\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>{\n                                                        setShowManualEntry(false);\n                                                        setManualItem({\n                                                            name: \"\",\n                                                            price: \"\",\n                                                            category: categories.length > 0 ? categories[0] : \"grocery-taxable\",\n                                                            quantity: 1\n                                                        });\n                                                    },\n                                                    style: {\n                                                        padding: \"0.5rem 1rem\",\n                                                        backgroundColor: \"#95a5a6\",\n                                                        color: \"white\",\n                                                        border: \"none\",\n                                                        borderRadius: \"4px\",\n                                                        cursor: \"pointer\"\n                                                    },\n                                                    children: \"Cancel\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2670,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: addManualItem,\n                                                    style: {\n                                                        padding: \"0.5rem 1rem\",\n                                                        backgroundColor: \"#27ae60\",\n                                                        color: \"white\",\n                                                        border: \"none\",\n                                                        borderRadius: \"4px\",\n                                                        cursor: \"pointer\",\n                                                        fontWeight: \"bold\"\n                                                    },\n                                                    children: \"Add to Cart\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2694,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2663,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 2495,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 2481,\n                                columnNumber: 15\n                            }, this),\n                            showKeyboard && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(KeyboardArea, {\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_OnScreenKeyboard__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                    show: showKeyboard,\n                                    mode: keyboardMode,\n                                    onClose: ()=>{\n                                        console.log(\"\\uD83D\\uDD04 Keyboard closed\");\n                                        setShowKeyboard(false);\n                                    },\n                                    inputRef: activeInputRef,\n                                    onKeyPress: (key)=>{\n                                        var _activeInputRef_current;\n                                        console.log(\"\\uD83D\\uDD24 Virtual key pressed:\", key);\n                                        console.log(\"\\uD83D\\uDD0D activeInputRef at key press:\", {\n                                            activeInputRef,\n                                            activeInputRefCurrent: activeInputRef === null || activeInputRef === void 0 ? void 0 : activeInputRef.current,\n                                            activeInputRefCurrentValue: activeInputRef === null || activeInputRef === void 0 ? void 0 : (_activeInputRef_current = activeInputRef.current) === null || _activeInputRef_current === void 0 ? void 0 : _activeInputRef_current.value\n                                        });\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 2716,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 2715,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"products-grid\",\n                                children: [\n                                    filteredInventory.length === 0 && inventory.length > 0 && searchTerm && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            padding: \"2rem\",\n                                            textAlign: \"center\",\n                                            color: \"#f39c12\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                children: \"No products match your search\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2748,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                children: [\n                                                    'Search: \"',\n                                                    searchTerm,\n                                                    '\"',\n                                                    \" \",\n                                                    categoryFilter && '| Category: \"'.concat(categoryFilter, '\"')\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2749,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    marginTop: \"1rem\",\n                                                    padding: \"0.75rem\",\n                                                    backgroundColor: \"#fff3cd\",\n                                                    border: \"1px solid #ffeaa7\",\n                                                    borderRadius: \"4px\",\n                                                    color: \"#856404\"\n                                                },\n                                                children: [\n                                                    \"\\uD83D\\uDCA1 \",\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                        children: \"Press Enter\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 2763,\n                                                        columnNumber: 26\n                                                    }, this),\n                                                    ' to add \"',\n                                                    searchTerm,\n                                                    '\" as a manual item with custom price'\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2753,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2741,\n                                        columnNumber: 19\n                                    }, this),\n                                    inventoryLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            padding: \"2rem\",\n                                            textAlign: \"center\",\n                                            color: \"#3498db\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                children: \"Loading products...\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2776,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                children: \"Please wait while we load the inventory from database\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2777,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2769,\n                                        columnNumber: 17\n                                    }, this),\n                                    inventory.length === 0 && !inventoryLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            padding: \"2rem\",\n                                            textAlign: \"center\",\n                                            color: \"#e74c3c\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                children: \"No products available\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2788,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                children: \"No inventory items found. Please check your connection or contact support.\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2789,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2781,\n                                        columnNumber: 17\n                                    }, this),\n                                    filteredInventory.map((product)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.ProductItem, {\n                                            onClick: ()=>addToCart(product),\n                                            style: {\n                                                opacity: product.stock <= 0 ? 0.7 : 1,\n                                                cursor: \"pointer\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                    children: product.name\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2804,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"price-row\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"price\",\n                                                            children: [\n                                                                \"$\",\n                                                                product.price.toFixed(2)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                            lineNumber: 2806,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            style: {\n                                                                fontSize: \"0.8rem\",\n                                                                color: \"#7f8c8d\"\n                                                            },\n                                                            children: product.taxable ? \"HST\" : \"No HST\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                            lineNumber: 2807,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2805,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"stock\",\n                                                    style: {\n                                                        color: product.stock < 0 ? \"#e74c3c\" : product.stock === 0 ? \"#f39c12\" : product.stock <= product.lowStockThreshold ? \"#f39c12\" : \"#27ae60\"\n                                                    },\n                                                    children: [\n                                                        \"Stock: \",\n                                                        product.stock,\n                                                        \" \",\n                                                        product.stock < 0 ? \"(Negative Stock)\" : product.stock === 0 ? \"(Out of Stock)\" : product.stock <= product.lowStockThreshold ? \"(Low Stock)\" : \"\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2811,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, product.id, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2796,\n                                            columnNumber: 17\n                                        }, this))\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 2737,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                        lineNumber: 1994,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.CheckoutPanel, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"flex\",\n                                    justifyContent: \"space-between\",\n                                    alignItems: \"center\",\n                                    marginBottom: \"0.1rem\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        style: {\n                                            margin: 0\n                                        },\n                                        children: \"Current Sale\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2847,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            display: \"flex\",\n                                            gap: \"0.5rem\"\n                                        },\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.Button, {\n                                            onClick: ()=>{\n                                                setIsCreditSale(!isCreditSale);\n                                                if (isCreditSale) {\n                                                    setCreditCustomerName(\"\");\n                                                    setCreditAmount(0);\n                                                    setSelectedCustomer(null);\n                                                    setCustomerBalance(0);\n                                                }\n                                            },\n                                            style: {\n                                                background: isCreditSale ? \"#28a745\" : \"#6c757d\",\n                                                color: \"white\",\n                                                padding: \"0.2rem 0.4rem\",\n                                                fontSize: \"0.65rem\",\n                                                fontWeight: \"600\"\n                                            },\n                                            children: \"\\uD83D\\uDCB3 Credit\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2849,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2848,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 2839,\n                                columnNumber: 13\n                            }, this),\n                            isCreditSale && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    padding: \"0.5rem\",\n                                    backgroundColor: \"#fff3cd\",\n                                    border: \"2px solid #ffc107\",\n                                    borderRadius: \"8px\",\n                                    marginBottom: \"0.75rem\",\n                                    textAlign: \"center\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            fontWeight: \"600\",\n                                            color: \"#856404\",\n                                            fontSize: \"0.9rem\"\n                                        },\n                                        children: \"\\uD83D\\uDCB3 CREDIT SALE MODE ACTIVE\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2884,\n                                        columnNumber: 17\n                                    }, this),\n                                    creditCustomerName && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            fontSize: \"0.8rem\",\n                                            color: \"#856404\",\n                                            marginTop: \"0.25rem\"\n                                        },\n                                        children: [\n                                            \"Customer: \",\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                children: creditCustomerName\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2901,\n                                                columnNumber: 31\n                                            }, this),\n                                            selectedCustomer && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                style: {\n                                                    marginLeft: \"0.5rem\"\n                                                },\n                                                children: [\n                                                    \"(Balance: $\",\n                                                    Math.abs(customerBalance).toFixed(2),\n                                                    \" \",\n                                                    customerBalance > 0 ? \"owed\" : \"credit\",\n                                                    \")\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2903,\n                                                columnNumber: 23\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2894,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 2874,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"cart-items\",\n                                children: cart.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    style: {\n                                        textAlign: \"center\",\n                                        color: \"#7f8c8d\",\n                                        marginTop: \"2rem\"\n                                    },\n                                    children: \"No items in cart — add products from the left panel\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 2914,\n                                    columnNumber: 17\n                                }, this) : cart.map((item)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.CartItem, {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"item-details\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                        children: item.name\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 2927,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        children: [\n                                                            \"$\",\n                                                            item.price.toFixed(2),\n                                                            \" each\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 2928,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>toggleItemTax(item.id),\n                                                        style: {\n                                                            fontSize: \"0.75rem\",\n                                                            padding: \"0.25rem 0.5rem\",\n                                                            borderRadius: \"12px\",\n                                                            border: \"none\",\n                                                            background: item.applyTax === true ? \"#27ae60\" : \"#95a5a6\",\n                                                            color: \"white\",\n                                                            cursor: \"pointer\",\n                                                            marginTop: \"0.25rem\"\n                                                        },\n                                                        children: item.applyTax === true ? \"HST ON\" : \"HST OFF\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 2929,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2926,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"quantity-controls\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>handleDecreaseQuantity(item.id),\n                                                        disabled: item.quantity <= 1,\n                                                        style: {\n                                                            opacity: item.quantity <= 1 ? 0.5 : 1,\n                                                            cursor: item.quantity <= 1 ? \"not-allowed\" : \"pointer\"\n                                                        },\n                                                        children: \"-\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 2947,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: item.quantity\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 2958,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>updateCartQuantity(item.id, item.quantity + 1),\n                                                        children: \"+\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 2959,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2946,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"item-total\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: [\n                                                            \"$\",\n                                                            (item.price * item.quantity).toFixed(2)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 2968,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    item.applyTax === true && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            fontSize: \"0.75rem\",\n                                                            color: \"#7f8c8d\"\n                                                        },\n                                                        children: [\n                                                            \"+$\",\n                                                            (item.price * item.quantity * 0.13).toFixed(2),\n                                                            \" HST\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 2970,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2967,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                className: \"remove-btn\",\n                                                onClick: ()=>removeFromCart(item.id),\n                                                children: \"\\xd7\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2975,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, item.id, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2925,\n                                        columnNumber: 19\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 2912,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"checkout-sections\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            margin: \"0.5rem 0\",\n                                            padding: \"0.5rem\",\n                                            backgroundColor: \"#f8f9fa\",\n                                            border: \"1px solid #e9ecef\",\n                                            borderRadius: \"6px\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                style: {\n                                                    display: \"flex\",\n                                                    alignItems: \"center\",\n                                                    gap: \"0.5rem\",\n                                                    cursor: \"pointer\",\n                                                    fontWeight: \"500\"\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: \"checkbox\",\n                                                        checked: cashbackEnabled,\n                                                        onChange: (e)=>{\n                                                            setCashbackEnabled(e.target.checked);\n                                                            if (!e.target.checked) {\n                                                                setCashbackAmount(\"\");\n                                                                setCashbackFee(\"\");\n                                                            }\n                                                        },\n                                                        style: {\n                                                            transform: \"scale(1.2)\"\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3007,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: \"Add Cashback\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3019,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2998,\n                                                columnNumber: 17\n                                            }, this),\n                                            cashbackEnabled && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            marginTop: \"0.5rem\",\n                                                            display: \"flex\",\n                                                            alignItems: \"center\",\n                                                            gap: \"0.5rem\"\n                                                        },\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                style: {\n                                                                    minWidth: \"70px\",\n                                                                    fontSize: \"0.9rem\"\n                                                                },\n                                                                children: \"Amount:\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 3032,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                ref: cashbackAmountRef,\n                                                                type: \"text\",\n                                                                inputMode: \"decimal\",\n                                                                step: \"0.01\",\n                                                                min: \"0\",\n                                                                value: cashbackAmount,\n                                                                onFocus: ()=>handleInputFocus(cashbackAmountRef, true),\n                                                                onChange: (e)=>{\n                                                                    const value = e.target.value;\n                                                                    setCashbackAmount(value === \"\" ? \"\" : Number(value));\n                                                                },\n                                                                style: {\n                                                                    padding: \"0.4rem\",\n                                                                    flex: 1,\n                                                                    borderRadius: \"4px\",\n                                                                    border: \"1px solid #ddd\"\n                                                                },\n                                                                placeholder: \"0.00\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 3035,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3024,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            marginTop: \"0.5rem\",\n                                                            display: \"flex\",\n                                                            alignItems: \"center\",\n                                                            gap: \"0.5rem\"\n                                                        },\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                style: {\n                                                                    minWidth: \"70px\",\n                                                                    fontSize: \"0.9rem\",\n                                                                    color: \"#e67e22\"\n                                                                },\n                                                                children: \"Fee:\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 3067,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                ref: cashbackFeeRef,\n                                                                type: \"text\",\n                                                                inputMode: \"decimal\",\n                                                                step: \"0.01\",\n                                                                min: \"0\",\n                                                                value: cashbackFee,\n                                                                onFocus: ()=>handleInputFocus(cashbackFeeRef, true),\n                                                                onChange: (e)=>{\n                                                                    const value = e.target.value;\n                                                                    setCashbackFee(value === \"\" ? \"\" : Number(value));\n                                                                },\n                                                                style: {\n                                                                    padding: \"0.4rem\",\n                                                                    flex: 1,\n                                                                    borderRadius: \"4px\",\n                                                                    border: \"1px solid #e67e22\",\n                                                                    backgroundColor: \"#fef5e7\"\n                                                                },\n                                                                placeholder: \"0.00\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 3076,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3059,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    (Number(cashbackFee) || 0) > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            marginTop: \"0.5rem\",\n                                                            fontSize: \"0.8rem\",\n                                                            color: \"#e67e22\",\n                                                            fontStyle: \"italic\",\n                                                            backgroundColor: \"#fef5e7\",\n                                                            padding: \"0.25rem 0.5rem\",\n                                                            borderRadius: \"4px\",\n                                                            border: \"1px solid #f4d03f\"\n                                                        },\n                                                        children: [\n                                                            \"\\uD83D\\uDCB0 Cashback fee: $\",\n                                                            (Number(cashbackFee) || 0).toFixed(2),\n                                                            \" added to total\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3100,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2989,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            margin: \"0.5rem 0\",\n                                            padding: \"0.5rem\",\n                                            backgroundColor: \"#fff3e0\",\n                                            border: \"1px solid #ffcc80\",\n                                            borderRadius: \"6px\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    display: \"flex\",\n                                                    alignItems: \"center\",\n                                                    gap: \"0.5rem\",\n                                                    marginBottom: \"0.3rem\"\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        style: {\n                                                            fontSize: \"0.8rem\",\n                                                            fontWeight: \"500\"\n                                                        },\n                                                        children: \"Discount amount:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3138,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        ref: discountRef,\n                                                        type: \"text\",\n                                                        inputMode: \"decimal\",\n                                                        value: discountAmount,\n                                                        onFocus: ()=>handleInputFocus(discountRef, true),\n                                                        onChange: (e)=>{\n                                                            setUserIsTyping(true); // Prevent auto-updates while typing\n                                                            setDiscountAmount(e.target.value);\n                                                        },\n                                                        style: {\n                                                            padding: \"0.4rem\",\n                                                            flex: 1,\n                                                            borderRadius: \"4px\",\n                                                            border: \"1px solid #ddd\"\n                                                        },\n                                                        placeholder: \"0.00\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3141,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 3130,\n                                                columnNumber: 17\n                                            }, this),\n                                            (Number(discountAmount) || 0) > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    marginTop: \"0.5rem\",\n                                                    fontSize: \"0.8rem\",\n                                                    color: \"#e65100\",\n                                                    fontStyle: \"italic\"\n                                                },\n                                                children: [\n                                                    \"\\uD83D\\uDCB8 Customer saves $\",\n                                                    (Number(discountAmount) || 0).toFixed(2)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 3161,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 3121,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            display: \"flex\",\n                                            alignItems: \"center\",\n                                            gap: \"0.5rem\",\n                                            marginBottom: cardFeeEnabled ? \"0.5rem\" : \"0\"\n                                        },\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            style: {\n                                                display: \"flex\",\n                                                alignItems: \"center\",\n                                                gap: \"0.5rem\",\n                                                cursor: \"pointer\",\n                                                fontSize: \"0.9rem\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"checkbox\",\n                                                    checked: cardFeeEnabled,\n                                                    onChange: (e)=>{\n                                                        const isEnabled = e.target.checked;\n                                                        setCardFeeEnabled(isEnabled);\n                                                        const currentCardAmount = Number(parseFloat(cardAmount) || 0);\n                                                        const currentCashAmount = Number(parseFloat(cashAmount) || 0);\n                                                        if (isEnabled) {\n                                                            // When enabling, add card fee to total\n                                                            const totalAmount = currentCardAmount + currentCashAmount + CARD_FEE_AMOUNT;\n                                                            setCardAmount(String(totalAmount.toFixed(2)));\n                                                            setCashAmount(\"0\");\n                                                            setLastEdited(\"card\");\n                                                        } else {\n                                                            // When disabling, remove card fee from total\n                                                            if (currentCardAmount >= CARD_FEE_AMOUNT) {\n                                                                const newCardAmount = Math.max(0, currentCardAmount - CARD_FEE_AMOUNT);\n                                                                setCardAmount(String(newCardAmount.toFixed(2)));\n                                                            }\n                                                        }\n                                                    },\n                                                    style: {\n                                                        marginRight: \"0.25rem\",\n                                                        transform: \"scale(1.1)\"\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 3193,\n                                                    columnNumber: 19\n                                                }, this),\n                                                \"Apply card fee (+$\",\n                                                CARD_FEE_AMOUNT.toFixed(2),\n                                                \")\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 3184,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 3176,\n                                        columnNumber: 15\n                                    }, this),\n                                    cardFeeEnabled && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            marginTop: \"0.5rem\",\n                                            padding: \"0.25rem 0.5rem\",\n                                            backgroundColor: \"#fff3cd\",\n                                            border: \"1px solid #ffeaa7\",\n                                            borderRadius: \"4px\",\n                                            fontSize: \"0.8rem\",\n                                            color: \"#856404\"\n                                        },\n                                        children: [\n                                            \"\\uD83D\\uDCB0 Card processing fee: $\",\n                                            CARD_FEE_AMOUNT.toFixed(2),\n                                            \" added to total\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 3238,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            margin: \"0.5rem 0\",\n                                            padding: \"0.5rem\",\n                                            backgroundColor: \"#e8f5e8\",\n                                            border: \"1px solid #c3e6c3\",\n                                            borderRadius: \"6px\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    display: \"flex\",\n                                                    alignItems: \"center\",\n                                                    gap: \"0.5rem\",\n                                                    marginBottom: \"0.3rem\"\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        style: {\n                                                            fontSize: \"0.8rem\",\n                                                            fontWeight: \"500\"\n                                                        },\n                                                        children: \"Lotto winnings:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3272,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        ref: lottoWinningsRef,\n                                                        type: \"text\",\n                                                        inputMode: \"decimal\",\n                                                        step: \"0.01\",\n                                                        min: \"0\",\n                                                        value: lottoWinnings,\n                                                        onFocus: ()=>handleInputFocus(lottoWinningsRef, true),\n                                                        onChange: (e)=>{\n                                                            const value = e.target.value;\n                                                            setUserIsTyping(true); // Prevent auto-updates while typing\n                                                            // Preserve string value while typing to allow decimal input\n                                                            setLottoWinnings(value);\n                                                        },\n                                                        style: {\n                                                            padding: \"0.4rem\",\n                                                            flex: 1,\n                                                            borderRadius: \"4px\",\n                                                            border: \"1px solid #ddd\"\n                                                        },\n                                                        placeholder: \"0.00\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3275,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 3264,\n                                                columnNumber: 17\n                                            }, this),\n                                            (Number(lottoWinnings) || 0) > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    marginTop: \"0.5rem\",\n                                                    fontSize: \"0.8rem\",\n                                                    color: \"#28a745\",\n                                                    fontStyle: \"italic\"\n                                                },\n                                                children: [\n                                                    \"\\uD83D\\uDCB0 Customer won $\",\n                                                    (Number(lottoWinnings) || 0).toFixed(2),\n                                                    \" \",\n                                                    \"in lottery\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 3300,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 3255,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 2987,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"checkout-summary\",\n                                children: (()=>{\n                                    var _selectedCustomer_balance;\n                                    const originalSubtotal = calculateSubtotal(); // Items total before discount\n                                    const discount = Number(parseFloat(discountAmount) || 0);\n                                    const subtotal = calculateTotal(); // After discount\n                                    const tax = calculateTax();\n                                    const total = +(subtotal + tax).toFixed(2);\n                                    const cashback = Number(parseFloat(cashbackAmount) || 0);\n                                    const lotto = Number(parseFloat(lottoWinnings) || 0);\n                                    const paidCash = Number(parseFloat(cashAmount) || 0);\n                                    const paidCard = Number(parseFloat(cardAmount) || 0);\n                                    const paidTotal = +(paidCash + paidCard).toFixed(2);\n                                    // Calculate final total with cashback and lotto winnings\n                                    const finalTotal = total + cashback - lotto;\n                                    // For cashback transactions, require card payment to cover total + cashback\n                                    let isSufficient;\n                                    if (cashback > 0 && lotto === 0) {\n                                        const totalNeeded = total + cashback;\n                                        isSufficient = paidCard + 0.0001 >= totalNeeded;\n                                    } else if (lotto > 0) {\n                                        // With lotto winnings, customer may owe less or even get money back\n                                        isSufficient = finalTotal <= 0 || paidTotal + 0.0001 >= finalTotal;\n                                    } else {\n                                        isSufficient = paidTotal + 0.0001 >= total;\n                                    }\n                                    const change = cashback > 0 && lotto === 0 ? 0 : Math.max(0, +(paidTotal - finalTotal).toFixed(2));\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.Total, {\n                                                children: [\n                                                    getTaxableTotal() > 0 && getNonTaxableTotal() > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                children: [\n                                                                    \"Taxable: $\",\n                                                                    getTaxableTotal().toFixed(2)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 3354,\n                                                                columnNumber: 27\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                children: [\n                                                                    \"Non-Taxable: $\",\n                                                                    getNonTaxableTotal().toFixed(2)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 3355,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true),\n                                                    discount > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                children: [\n                                                                    \"Items Subtotal: $\",\n                                                                    originalSubtotal.toFixed(2)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 3362,\n                                                                columnNumber: 27\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                style: {\n                                                                    color: \"#e65100\",\n                                                                    fontWeight: \"500\"\n                                                                },\n                                                                children: [\n                                                                    \"Discount: -$\",\n                                                                    discount.toFixed(2)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 3365,\n                                                                columnNumber: 27\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                children: [\n                                                                    \"Subtotal: $\",\n                                                                    subtotal.toFixed(2)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 3368,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: [\n                                                            \"Subtotal: $\",\n                                                            subtotal.toFixed(2)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3371,\n                                                        columnNumber: 25\n                                                    }, this),\n                                                    tax > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: [\n                                                            \"HST (13%): $\",\n                                                            tax.toFixed(2)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3373,\n                                                        columnNumber: 35\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: [\n                                                            \"Purchase Total: $\",\n                                                            total.toFixed(2)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3374,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    cashback > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            color: \"#e67e22\",\n                                                            fontWeight: \"500\"\n                                                        },\n                                                        children: [\n                                                            \"Cashback: $\",\n                                                            cashback.toFixed(2)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3376,\n                                                        columnNumber: 25\n                                                    }, this),\n                                                    Number(parseFloat(cashbackFee) || 0) > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            color: \"#d35400\",\n                                                            fontWeight: \"500\"\n                                                        },\n                                                        children: [\n                                                            \"Cashback Fee: $\",\n                                                            Number(parseFloat(cashbackFee) || 0).toFixed(2)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3381,\n                                                        columnNumber: 25\n                                                    }, this),\n                                                    lotto > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            color: \"#28a745\",\n                                                            fontWeight: \"500\"\n                                                        },\n                                                        children: [\n                                                            \"Lotto Winnings: -$\",\n                                                            lotto.toFixed(2)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3387,\n                                                        columnNumber: 25\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"final-total\",\n                                                        children: isBalancePayment ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    style: {\n                                                                        color: \"#17a2b8\",\n                                                                        fontWeight: \"600\",\n                                                                        marginBottom: \"5px\"\n                                                                    },\n                                                                    children: \"\\uD83C\\uDFE6 Customer Balance Payment\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                    lineNumber: 3394,\n                                                                    columnNumber: 29\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    children: [\n                                                                        \"Paying for:\",\n                                                                        \" \",\n                                                                        (selectedCustomer === null || selectedCustomer === void 0 ? void 0 : selectedCustomer.name) || \"Selected Customer\"\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                    lineNumber: 3403,\n                                                                    columnNumber: 29\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    children: [\n                                                                        \"Current Balance: $\",\n                                                                        (selectedCustomer === null || selectedCustomer === void 0 ? void 0 : (_selectedCustomer_balance = selectedCustomer.balance) === null || _selectedCustomer_balance === void 0 ? void 0 : _selectedCustomer_balance.toFixed(2)) || \"0.00\"\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                    lineNumber: 3407,\n                                                                    columnNumber: 29\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                            children: [\n                                                                \"Total Amount Due: $\",\n                                                                finalTotal >= 0 ? finalTotal.toFixed(2) : \"(\".concat(Math.abs(finalTotal).toFixed(2), \") Credit\")\n                                                            ]\n                                                        }, void 0, true)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3391,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 3351,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    marginTop: \"1rem\",\n                                                    display: \"flex\",\n                                                    flexDirection: \"column\",\n                                                    gap: \"0.5rem\"\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            padding: \"1rem\",\n                                                            backgroundColor: \"#fff3cd\",\n                                                            border: \"2px solid #ffc107\",\n                                                            borderRadius: \"8px\"\n                                                        },\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                style: {\n                                                                    display: \"flex\",\n                                                                    alignItems: \"center\",\n                                                                    gap: \"0.5rem\",\n                                                                    cursor: \"pointer\",\n                                                                    fontWeight: \"600\",\n                                                                    fontSize: \"1.1rem\",\n                                                                    color: \"#856404\",\n                                                                    marginBottom: isCreditSale ? \"0.75rem\" : \"0\",\n                                                                    justifyContent: \"center\"\n                                                                },\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                        type: \"checkbox\",\n                                                                        checked: isCreditSale,\n                                                                        onChange: (e)=>{\n                                                                            setIsCreditSale(e.target.checked);\n                                                                            if (!e.target.checked) {\n                                                                                setCreditCustomerName(\"\");\n                                                                                setCreditAmount(0);\n                                                                            } else {\n                                                                                // Clear existing payments when entering credit mode\n                                                                                setCashAmount(\"\");\n                                                                                setCardAmount(\"\");\n                                                                                setCreditAmount(0);\n                                                                            }\n                                                                        },\n                                                                        style: {\n                                                                            transform: \"scale(1.2)\"\n                                                                        }\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                        lineNumber: 3454,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        children: \"\\uD83D\\uDCB3 Credit Sale Mode\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                        lineNumber: 3471,\n                                                                        columnNumber: 27\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 3441,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            isCreditSale && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        style: {\n                                                                            marginBottom: \"0.75rem\"\n                                                                        },\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                style: {\n                                                                                    display: \"flex\",\n                                                                                    alignItems: \"center\",\n                                                                                    gap: \"0.5rem\",\n                                                                                    marginBottom: \"0.5rem\",\n                                                                                    position: \"relative\"\n                                                                                },\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                                        style: {\n                                                                                            minWidth: \"80px\",\n                                                                                            fontSize: \"0.9rem\",\n                                                                                            color: \"#856404\",\n                                                                                            fontWeight: \"500\"\n                                                                                        },\n                                                                                        children: \"Customer:\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3487,\n                                                                                        columnNumber: 33\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        style: {\n                                                                                            flex: 1,\n                                                                                            position: \"relative\",\n                                                                                            display: \"flex\",\n                                                                                            gap: \"0.25rem\"\n                                                                                        },\n                                                                                        children: [\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                                                ref: creditCustomerNameRef,\n                                                                                                type: \"text\",\n                                                                                                value: creditCustomerName,\n                                                                                                onFocus: ()=>handleInputFocus(creditCustomerNameRef, false),\n                                                                                                onChange: (e)=>handleCustomerNameChange(e.target.value),\n                                                                                                style: {\n                                                                                                    padding: \"0.4rem\",\n                                                                                                    flex: 1,\n                                                                                                    borderRadius: \"4px\",\n                                                                                                    border: \"1px solid #ddd\"\n                                                                                                },\n                                                                                                placeholder: \"Enter customer name\"\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                                lineNumber: 3505,\n                                                                                                columnNumber: 35\n                                                                                            }, this),\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                                onClick: fetchExistingCustomers,\n                                                                                                style: {\n                                                                                                    padding: \"0.4rem\",\n                                                                                                    backgroundColor: \"#6c757d\",\n                                                                                                    color: \"white\",\n                                                                                                    border: \"none\",\n                                                                                                    borderRadius: \"4px\",\n                                                                                                    cursor: \"pointer\",\n                                                                                                    fontSize: \"0.8rem\"\n                                                                                                },\n                                                                                                title: \"Refresh customer list\",\n                                                                                                children: \"\\uD83D\\uDD04\"\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                                lineNumber: 3526,\n                                                                                                columnNumber: 35\n                                                                                            }, this),\n                                                                                            showCustomerSuggestions && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                style: {\n                                                                                                    position: \"absolute\",\n                                                                                                    top: \"100%\",\n                                                                                                    left: 0,\n                                                                                                    right: 0,\n                                                                                                    backgroundColor: \"white\",\n                                                                                                    border: \"1px solid #ddd\",\n                                                                                                    borderRadius: \"4px\",\n                                                                                                    boxShadow: \"0 2px 8px rgba(0,0,0,0.1)\",\n                                                                                                    zIndex: 1000,\n                                                                                                    maxHeight: \"150px\",\n                                                                                                    overflowY: \"auto\"\n                                                                                                },\n                                                                                                children: (()=>{\n                                                                                                    const filteredCustomers = Array.isArray(existingCustomers) ? existingCustomers.filter((customer)=>customer && customer.customerName && customer.customerName.toLowerCase().includes(creditCustomerName.toLowerCase())) : [];\n                                                                                                    const exactMatch = filteredCustomers.find((customer)=>customer.customerName.toLowerCase() === creditCustomerName.toLowerCase());\n                                                                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                                                                        children: [\n                                                                                                            filteredCustomers.map((customer, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                                    onClick: ()=>handleCustomerSelection(customer),\n                                                                                                                    style: {\n                                                                                                                        padding: \"0.5rem\",\n                                                                                                                        cursor: \"pointer\",\n                                                                                                                        borderBottom: \"1px solid #eee\",\n                                                                                                                        display: \"flex\",\n                                                                                                                        justifyContent: \"space-between\",\n                                                                                                                        alignItems: \"center\"\n                                                                                                                    },\n                                                                                                                    onMouseEnter: (e)=>e.target.style.backgroundColor = \"#f5f5f5\",\n                                                                                                                    onMouseLeave: (e)=>e.target.style.backgroundColor = \"white\",\n                                                                                                                    children: [\n                                                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                                            children: customer.customerName\n                                                                                                                        }, void 0, false, {\n                                                                                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                                                            lineNumber: 3612,\n                                                                                                                            columnNumber: 51\n                                                                                                                        }, this),\n                                                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                                            style: {\n                                                                                                                                fontSize: \"0.8rem\",\n                                                                                                                                color: customer.balance > 0 ? \"#dc3545\" : \"#28a745\",\n                                                                                                                                fontWeight: \"500\"\n                                                                                                                            },\n                                                                                                                            children: [\n                                                                                                                                \"$\",\n                                                                                                                                Math.abs(customer.balance || 0).toFixed(2),\n                                                                                                                                \" \",\n                                                                                                                                customer.balance > 0 ? \"owed\" : \"credit\"\n                                                                                                                            ]\n                                                                                                                        }, void 0, true, {\n                                                                                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                                                            lineNumber: 3615,\n                                                                                                                            columnNumber: 51\n                                                                                                                        }, this)\n                                                                                                                    ]\n                                                                                                                }, index, true, {\n                                                                                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                                                    lineNumber: 3586,\n                                                                                                                    columnNumber: 49\n                                                                                                                }, this)),\n                                                                                                            creditCustomerName.trim().length > 0 && !exactMatch && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                                onClick: ()=>{\n                                                                                                                    // Create new customer with entered name\n                                                                                                                    const newCustomer = {\n                                                                                                                        customerName: creditCustomerName.trim(),\n                                                                                                                        balance: 0,\n                                                                                                                        isNewCustomer: true\n                                                                                                                    };\n                                                                                                                    handleCustomerSelection(newCustomer);\n                                                                                                                },\n                                                                                                                style: {\n                                                                                                                    padding: \"0.5rem\",\n                                                                                                                    cursor: \"pointer\",\n                                                                                                                    borderTop: filteredCustomers.length > 0 ? \"2px solid #e9ecef\" : \"none\",\n                                                                                                                    backgroundColor: \"#e8f5e8\",\n                                                                                                                    display: \"flex\",\n                                                                                                                    alignItems: \"center\",\n                                                                                                                    gap: \"0.5rem\",\n                                                                                                                    fontWeight: \"500\",\n                                                                                                                    color: \"#155724\"\n                                                                                                                },\n                                                                                                                onMouseEnter: (e)=>e.target.style.backgroundColor = \"#d4edda\",\n                                                                                                                onMouseLeave: (e)=>e.target.style.backgroundColor = \"#e8f5e8\",\n                                                                                                                children: [\n                                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                                        children: \"➕\"\n                                                                                                                    }, void 0, false, {\n                                                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                                                        lineNumber: 3678,\n                                                                                                                        columnNumber: 51\n                                                                                                                    }, this),\n                                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                                        children: [\n                                                                                                                            'Add \"',\n                                                                                                                            creditCustomerName.trim(),\n                                                                                                                            '\" as new credit customer'\n                                                                                                                        ]\n                                                                                                                    }, void 0, true, {\n                                                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                                                        lineNumber: 3679,\n                                                                                                                        columnNumber: 51\n                                                                                                                    }, this)\n                                                                                                                ]\n                                                                                                            }, void 0, true, {\n                                                                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                                                lineNumber: 3641,\n                                                                                                                columnNumber: 49\n                                                                                                            }, this)\n                                                                                                        ]\n                                                                                                    }, void 0, true);\n                                                                                                })()\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                                lineNumber: 3544,\n                                                                                                columnNumber: 37\n                                                                                            }, this)\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3497,\n                                                                                        columnNumber: 33\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                lineNumber: 3478,\n                                                                                columnNumber: 31\n                                                                            }, this),\n                                                                            existingCustomers.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                style: {\n                                                                                    fontSize: \"0.8rem\",\n                                                                                    color: \"#6c757d\",\n                                                                                    marginBottom: \"0.5rem\",\n                                                                                    padding: \"0.25rem\",\n                                                                                    backgroundColor: \"#f8f9fa\",\n                                                                                    borderRadius: \"4px\"\n                                                                                },\n                                                                                children: [\n                                                                                    \"Loaded \",\n                                                                                    existingCustomers.length,\n                                                                                    \" customers.\",\n                                                                                    \" \",\n                                                                                    creditCustomerName && 'Searching for: \"'.concat(creditCustomerName, '\"')\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                lineNumber: 3696,\n                                                                                columnNumber: 33\n                                                                            }, this),\n                                                                            selectedCustomer && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                style: {\n                                                                                    padding: \"0.5rem\",\n                                                                                    backgroundColor: customerBalance > 0 ? \"#f8d7da\" : \"#d4edda\",\n                                                                                    border: \"1px solid \".concat(customerBalance > 0 ? \"#f5c6cb\" : \"#c3e6cb\"),\n                                                                                    borderRadius: \"4px\",\n                                                                                    marginBottom: \"0.5rem\",\n                                                                                    fontSize: \"0.9rem\"\n                                                                                },\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                                        children: selectedCustomer.customerName\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3731,\n                                                                                        columnNumber: 35\n                                                                                    }, this),\n                                                                                    \" \",\n                                                                                    \"- Current Balance:\",\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                        style: {\n                                                                                            color: customerBalance > 0 ? \"#721c24\" : \"#155724\",\n                                                                                            fontWeight: \"600\",\n                                                                                            marginLeft: \"0.25rem\"\n                                                                                        },\n                                                                                        children: [\n                                                                                            \"$\",\n                                                                                            Math.abs(customerBalance).toFixed(2),\n                                                                                            \" \",\n                                                                                            customerBalance > 0 ? \"owed\" : \"credit\"\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3735,\n                                                                                        columnNumber: 35\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        style: {\n                                                                                            fontSize: \"0.7rem\",\n                                                                                            color: \"#6c757d\",\n                                                                                            marginTop: \"0.25rem\"\n                                                                                        },\n                                                                                        children: [\n                                                                                            \"ID: \",\n                                                                                            selectedCustomer.id,\n                                                                                            \" | Last updated:\",\n                                                                                            \" \",\n                                                                                            new Date(selectedCustomer.updatedAt).toLocaleTimeString()\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3748,\n                                                                                        columnNumber: 35\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                lineNumber: 3714,\n                                                                                columnNumber: 33\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                        lineNumber: 3477,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    \" \",\n                                                                    (()=>{\n                                                                        const subtotal = calculateTotal();\n                                                                        const tax = calculateTax();\n                                                                        const total = +(subtotal + tax).toFixed(2);\n                                                                        const cashback = Number(parseFloat(cashbackAmount) || 0);\n                                                                        const lotto = Number(parseFloat(lottoWinnings) || 0);\n                                                                        const finalTotal = total + cashback - lotto;\n                                                                        const paidCash = Number(parseFloat(cashAmount) || 0);\n                                                                        const paidCard = Number(parseFloat(cardAmount) || 0);\n                                                                        const paidTotal = paidCash + paidCard;\n                                                                        const specifiedCreditAmount = Number(parseFloat(creditAmount) || 0);\n                                                                        // Use specified credit amount or calculate from payment difference\n                                                                        const creditBalance = specifiedCreditAmount > 0 ? specifiedCreditAmount : Math.max(0, finalTotal - paidTotal);\n                                                                        const requiredPayment = specifiedCreditAmount > 0 ? finalTotal - specifiedCreditAmount : paidTotal;\n                                                                        if (specifiedCreditAmount > 0) {\n                                                                            // Specified credit amount mode\n                                                                            const paymentNeeded = finalTotal - specifiedCreditAmount;\n                                                                            const paymentStatus = paidTotal >= paymentNeeded - 0.001;\n                                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                style: {\n                                                                                    backgroundColor: paymentStatus ? \"#e8f5e8\" : \"#fff3cd\",\n                                                                                    border: \"1px solid \".concat(paymentStatus ? \"#28a745\" : \"#ffc107\"),\n                                                                                    borderRadius: \"4px\",\n                                                                                    padding: \"0.5rem\",\n                                                                                    fontSize: \"0.9rem\"\n                                                                                },\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                                            children: \"Specified Credit Mode:\"\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                            lineNumber: 3817,\n                                                                                            columnNumber: 39\n                                                                                        }, this)\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3816,\n                                                                                        columnNumber: 37\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        children: [\n                                                                                            \"� Unpaid Balance: $\",\n                                                                                            specifiedCreditAmount.toFixed(2)\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3819,\n                                                                                        columnNumber: 37\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        children: [\n                                                                                            \"\\uD83D\\uDCB0 Payment Needed: $\",\n                                                                                            paymentNeeded.toFixed(2)\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3823,\n                                                                                        columnNumber: 37\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        children: [\n                                                                                            \"\\uD83D\\uDCCA Payment Status: $\",\n                                                                                            paidTotal.toFixed(2),\n                                                                                            \" \",\n                                                                                            \"/ $\",\n                                                                                            paymentNeeded.toFixed(2)\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3827,\n                                                                                        columnNumber: 37\n                                                                                    }, this),\n                                                                                    !paymentStatus && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        style: {\n                                                                                            color: \"#dc3545\",\n                                                                                            fontWeight: \"500\",\n                                                                                            marginTop: \"0.25rem\"\n                                                                                        },\n                                                                                        children: [\n                                                                                            \"⚠️ Need $\",\n                                                                                            (paymentNeeded - paidTotal).toFixed(2),\n                                                                                            \" \",\n                                                                                            \"more\"\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3832,\n                                                                                        columnNumber: 39\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                lineNumber: 3803,\n                                                                                columnNumber: 35\n                                                                            }, this);\n                                                                        } else if (paidTotal > 0 && creditBalance > 0) {\n                                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                style: {\n                                                                                    backgroundColor: \"#e8f5e8\",\n                                                                                    border: \"1px solid #28a745\",\n                                                                                    borderRadius: \"4px\",\n                                                                                    padding: \"0.5rem\",\n                                                                                    fontSize: \"0.9rem\"\n                                                                                },\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                                            children: \"Auto-Calculate Mode:\"\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                            lineNumber: 3858,\n                                                                                            columnNumber: 39\n                                                                                        }, this)\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3857,\n                                                                                        columnNumber: 37\n                                                                                    }, this),\n                                                                                    paidCash > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        children: [\n                                                                                            \"\\uD83D\\uDCB5 Cash: $\",\n                                                                                            paidCash.toFixed(2)\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3861,\n                                                                                        columnNumber: 39\n                                                                                    }, this),\n                                                                                    paidCard > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        children: [\n                                                                                            \"\\uD83D\\uDCB3 Card: $\",\n                                                                                            paidCard.toFixed(2)\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3864,\n                                                                                        columnNumber: 39\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        style: {\n                                                                                            color: \"#dc3545\",\n                                                                                            fontWeight: \"500\"\n                                                                                        },\n                                                                                        children: [\n                                                                                            \"\\uD83D\\uDCDD Credit Balance: $\",\n                                                                                            creditBalance.toFixed(2)\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3866,\n                                                                                        columnNumber: 37\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                lineNumber: 3848,\n                                                                                columnNumber: 35\n                                                                            }, this);\n                                                                        } else if (paidTotal >= finalTotal) {\n                                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                style: {\n                                                                                    backgroundColor: \"#e8f5e8\",\n                                                                                    border: \"1px solid #28a745\",\n                                                                                    borderRadius: \"4px\",\n                                                                                    padding: \"0.5rem\",\n                                                                                    fontSize: \"0.9rem\",\n                                                                                    textAlign: \"center\"\n                                                                                },\n                                                                                children: [\n                                                                                    \"✅\",\n                                                                                    \" \",\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                                        children: \"Fully Paid - No Credit Balance\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3890,\n                                                                                        columnNumber: 37\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                lineNumber: 3879,\n                                                                                columnNumber: 35\n                                                                            }, this);\n                                                                        } else {\n                                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                style: {\n                                                                                    backgroundColor: \"#f8d7da\",\n                                                                                    border: \"1px solid #dc3545\",\n                                                                                    borderRadius: \"4px\",\n                                                                                    padding: \"0.5rem\",\n                                                                                    fontSize: \"0.9rem\",\n                                                                                    textAlign: \"center\"\n                                                                                },\n                                                                                children: [\n                                                                                    \"\\uD83D\\uDCDD\",\n                                                                                    \" \",\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                                        children: [\n                                                                                            \"Full Credit: $\",\n                                                                                            creditBalance.toFixed(2)\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3908,\n                                                                                        columnNumber: 37\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                lineNumber: 3897,\n                                                                                columnNumber: 35\n                                                                            }, this);\n                                                                        }\n                                                                    })()\n                                                                ]\n                                                            }, void 0, true)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3432,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    !isCreditSale && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            display: \"flex\",\n                                                            gap: \"0.5rem\",\n                                                            alignItems: \"center\",\n                                                            justifyContent: \"space-between\"\n                                                        },\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                style: {\n                                                                    display: \"flex\",\n                                                                    gap: \"0.5rem\",\n                                                                    alignItems: \"center\"\n                                                                },\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                        type: \"checkbox\",\n                                                                        checked: autoFillOther,\n                                                                        onChange: (e)=>setAutoFillOther(!!e.target.checked)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                        lineNumber: 3936,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        style: {\n                                                                            fontSize: \"0.9rem\"\n                                                                        },\n                                                                        children: \"Auto-fill other payment\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                        lineNumber: 3943,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 3929,\n                                                                columnNumber: 27\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                style: {\n                                                                    fontSize: \"0.85rem\",\n                                                                    color: \"#7f8c8d\"\n                                                                },\n                                                                children: \"Toggle to automatically fill the other field\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 3947,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3921,\n                                                        columnNumber: 25\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            display: \"flex\",\n                                                            gap: \"0.5rem\",\n                                                            alignItems: \"center\",\n                                                            position: \"relative\"\n                                                        },\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                style: {\n                                                                    minWidth: \"80px\",\n                                                                    color: (Number(cashbackAmount) || 0) > 0 ? \"#95a5a6\" : \"inherit\"\n                                                                },\n                                                                children: \"Cash:\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 3963,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                ref: cashAmountRef,\n                                                                type: \"text\",\n                                                                inputMode: \"decimal\",\n                                                                step: \"0.01\",\n                                                                min: \"0\",\n                                                                value: cashAmount,\n                                                                disabled: (Number(cashbackAmount) || 0) > 0,\n                                                                onFocus: ()=>handleInputFocus(cashAmountRef, true),\n                                                                onChange: (e)=>{\n                                                                    const value = e.target.value;\n                                                                    setLastEdited(\"cash\");\n                                                                    setUserIsTyping(true); // Prevent auto-updates while typing\n                                                                    // Always set the raw value first to allow proper typing\n                                                                    setCashAmount(value);\n                                                                    // Only do validation and auto-fill if value is not empty and not currently being typed\n                                                                    if (value !== \"\") {\n                                                                        const parsed = Number(value);\n                                                                        if (isCreditSale) {\n                                                                            // Check if this is a balance payment (no items in cart)\n                                                                            const isBalancePayment = cart.length === 0 && selectedCustomer && customerBalance > 0;\n                                                                            if (isBalancePayment) {\n                                                                                // For balance payments, allow any amount up to the customer's balance\n                                                                                const validCashAmount = Math.min(parsed, customerBalance);\n                                                                                if (parsed > customerBalance) {\n                                                                                    setCashAmount(String(validCashAmount));\n                                                                                }\n                                                                                // Clear card when cash is entered\n                                                                                if (validCashAmount > 0) {\n                                                                                    setCardAmount(\"\");\n                                                                                }\n                                                                                return;\n                                                                            }\n                                                                            // For regular credit sales with items in cart\n                                                                            const subtotal = calculateTotal();\n                                                                            const tax = calculateTax();\n                                                                            const total = +(subtotal + tax).toFixed(2);\n                                                                            const cashback = Number(parseFloat(cashbackAmount) || 0);\n                                                                            const lotto = Number(parseFloat(lottoWinnings) || 0);\n                                                                            const finalTotal = total + cashback - lotto;\n                                                                            const currentCredit = Number(parseFloat(creditAmount) || 0);\n                                                                            const remainingAmount = Math.max(0, finalTotal - currentCredit);\n                                                                            // If customer has existing balance, allow payment up to transaction total + existing balance\n                                                                            let maxAllowedPayment = remainingAmount;\n                                                                            if (selectedCustomer && customerBalance > 0) {\n                                                                                maxAllowedPayment = finalTotal + customerBalance;\n                                                                            }\n                                                                            // Allow cash up to max allowed payment\n                                                                            const validCashAmount = Math.min(parsed, maxAllowedPayment);\n                                                                            if (parsed > maxAllowedPayment) {\n                                                                                setCashAmount(String(validCashAmount));\n                                                                            }\n                                                                            // If user enters cash, clear card (only one payment method)\n                                                                            if (validCashAmount > 0) {\n                                                                                setCardAmount(\"\");\n                                                                            }\n                                                                            return;\n                                                                        }\n                                                                        if (autoFillOther) {\n                                                                            // Regular mode auto-fill\n                                                                            const subtotal = calculateTotal();\n                                                                            const tax = calculateTax();\n                                                                            const total = +(subtotal + tax).toFixed(2);\n                                                                            const newCard = Math.max(0, +(total - parsed).toFixed(2));\n                                                                            setCardAmount(String(newCard));\n                                                                        }\n                                                                    }\n                                                                },\n                                                                style: {\n                                                                    padding: \"0.4rem\",\n                                                                    flex: 1,\n                                                                    backgroundColor: isCreditSale ? \"#f8f9fa\" : \"white\"\n                                                                },\n                                                                placeholder: isCreditSale ? \"Enter partial payment\" : \"0.00\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 3974,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3955,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            display: \"flex\",\n                                                            gap: \"0.5rem\",\n                                                            alignItems: \"center\",\n                                                            position: \"relative\"\n                                                        },\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                onClick: swapPayments,\n                                                                disabled: isCreditSale,\n                                                                style: {\n                                                                    position: \"absolute\",\n                                                                    left: \"40px\",\n                                                                    top: \"-15px\",\n                                                                    background: isCreditSale ? \"#f8f9fa\" : \"linear-gradient(135deg, #3498db, #2980b9)\",\n                                                                    border: \"none\",\n                                                                    borderRadius: \"50%\",\n                                                                    width: \"20px\",\n                                                                    height: \"20px\",\n                                                                    cursor: isCreditSale ? \"not-allowed\" : \"pointer\",\n                                                                    color: \"white\",\n                                                                    fontSize: \"10px\",\n                                                                    fontWeight: \"bold\",\n                                                                    display: \"flex\",\n                                                                    alignItems: \"center\",\n                                                                    justifyContent: \"center\",\n                                                                    boxShadow: isCreditSale ? \"none\" : \"0 1px 4px rgba(52, 152, 219, 0.3)\",\n                                                                    transition: \"all 0.2s ease\",\n                                                                    opacity: isCreditSale ? 0.4 : 1,\n                                                                    zIndex: 10\n                                                                },\n                                                                onMouseEnter: (e)=>{\n                                                                    if (!isCreditSale) {\n                                                                        e.target.style.transform = \"rotate(180deg) scale(1.2)\";\n                                                                        e.target.style.boxShadow = \"0 2px 6px rgba(52, 152, 219, 0.4)\";\n                                                                    }\n                                                                },\n                                                                onMouseLeave: (e)=>{\n                                                                    if (!isCreditSale) {\n                                                                        e.target.style.transform = \"rotate(0deg) scale(1)\";\n                                                                        e.target.style.boxShadow = \"0 1px 4px rgba(52, 152, 219, 0.3)\";\n                                                                    }\n                                                                },\n                                                                title: isCreditSale ? \"Swap disabled in credit mode\" : \"Swap cash and card amounts\",\n                                                                children: \"⇅\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 4093,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                style: {\n                                                                    minWidth: \"80px\"\n                                                                },\n                                                                children: \"Card:\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 4145,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                ref: cardAmountRef,\n                                                                type: \"text\",\n                                                                inputMode: \"decimal\",\n                                                                step: \"0.01\",\n                                                                min: \"0\",\n                                                                value: cardAmount,\n                                                                onFocus: ()=>handleInputFocus(cardAmountRef, true),\n                                                                onChange: (e)=>{\n                                                                    const value = e.target.value;\n                                                                    setLastEdited(\"card\");\n                                                                    setUserIsTyping(true); // Prevent auto-updates while typing\n                                                                    // Always set the raw value first to allow proper typing\n                                                                    setCardAmount(value);\n                                                                    // Only do validation and auto-fill if value is not empty and not currently being typed\n                                                                    if (value !== \"\") {\n                                                                        const parsed = Number(value);\n                                                                        if (isCreditSale) {\n                                                                            // Check if this is a balance payment (no items in cart)\n                                                                            const isBalancePayment = cart.length === 0 && selectedCustomer && customerBalance > 0;\n                                                                            if (isBalancePayment) {\n                                                                                // For balance payments, allow any amount up to the customer's balance\n                                                                                const validCardAmount = Math.min(parsed, customerBalance);\n                                                                                if (parsed > customerBalance) {\n                                                                                    setCardAmount(String(validCardAmount));\n                                                                                }\n                                                                                // Clear cash when card is entered\n                                                                                if (validCardAmount > 0) {\n                                                                                    setCashAmount(\"\");\n                                                                                }\n                                                                                return;\n                                                                            }\n                                                                            // For regular credit sales with items in cart\n                                                                            const subtotal = calculateTotal();\n                                                                            const tax = calculateTax();\n                                                                            const total = +(subtotal + tax).toFixed(2);\n                                                                            const cashback = Number(parseFloat(cashbackAmount) || 0);\n                                                                            const lotto = Number(parseFloat(lottoWinnings) || 0);\n                                                                            const finalTotal = total + cashback - lotto;\n                                                                            const currentCredit = Number(parseFloat(creditAmount) || 0);\n                                                                            const remainingAmount = Math.max(0, finalTotal - currentCredit);\n                                                                            // If customer has existing balance, allow payment up to transaction total + existing balance\n                                                                            let maxAllowedPayment = remainingAmount;\n                                                                            if (selectedCustomer && customerBalance > 0) {\n                                                                                maxAllowedPayment = finalTotal + customerBalance;\n                                                                            }\n                                                                            // Allow card up to max allowed payment\n                                                                            const validCardAmount = Math.min(parsed, maxAllowedPayment);\n                                                                            if (parsed > maxAllowedPayment) {\n                                                                                setCardAmount(String(validCardAmount));\n                                                                            }\n                                                                            // If user enters card, clear cash (only one payment method)\n                                                                            if (validCardAmount > 0) {\n                                                                                setCashAmount(\"\");\n                                                                            }\n                                                                            return;\n                                                                        }\n                                                                        if (autoFillOther) {\n                                                                            // Regular mode auto-fill\n                                                                            const subtotal = calculateTotal();\n                                                                            const tax = calculateTax();\n                                                                            const total = +(subtotal + tax).toFixed(2);\n                                                                            const newCash = Math.max(0, +(total - parsed).toFixed(2));\n                                                                            setCashAmount(String(newCash));\n                                                                        }\n                                                                    }\n                                                                },\n                                                                style: {\n                                                                    padding: \"0.4rem\",\n                                                                    flex: 1,\n                                                                    backgroundColor: isCreditSale ? \"#f8f9fa\" : \"white\"\n                                                                },\n                                                                placeholder: isCreditSale ? \"Enter partial payment\" : \"0.00\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 4146,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                onClick: ()=>{\n                                                                    // Calculate total for terminal payment\n                                                                    const subtotal = calculateTotal();\n                                                                    const tax = calculateTax();\n                                                                    const total = +(subtotal + tax).toFixed(2);\n                                                                    const cashback = Number(parseFloat(cashbackAmount) || 0);\n                                                                    const lotto = Number(parseFloat(lottoWinnings) || 0);\n                                                                    // Note: total already includes credit card charge from calculateTotal()\n                                                                    const finalTotal = total + cashback - lotto;\n                                                                    // Process terminal payment\n                                                                    handleTerminalPayment(finalTotal);\n                                                                },\n                                                                disabled: isCreditSale || cart.length === 0,\n                                                                style: {\n                                                                    padding: \"0.4rem 0.8rem\",\n                                                                    backgroundColor: isCreditSale || cart.length === 0 ? \"#f8f9fa\" : \"#6f42c1\",\n                                                                    color: isCreditSale || cart.length === 0 ? \"#6c757d\" : \"white\",\n                                                                    border: \"none\",\n                                                                    borderRadius: \"6px\",\n                                                                    cursor: isCreditSale || cart.length === 0 ? \"not-allowed\" : \"pointer\",\n                                                                    fontSize: \"0.85rem\",\n                                                                    fontWeight: \"600\",\n                                                                    marginLeft: \"0.5rem\",\n                                                                    transition: \"all 0.2s ease\",\n                                                                    opacity: isCreditSale || cart.length === 0 ? 0.6 : 1\n                                                                },\n                                                                title: isCreditSale ? \"Terminal disabled in credit mode\" : cart.length === 0 ? \"Add items to cart first\" : \"Process payment via terminal\",\n                                                                children: \"\\uD83D\\uDCB3 Terminal\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 4254,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 4084,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    (Number(cashbackAmount) || 0) > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            padding: \"0.5rem\",\n                                                            backgroundColor: \"#e8f4fd\",\n                                                            border: \"1px solid #85c1e9\",\n                                                            borderRadius: \"4px\",\n                                                            fontSize: \"0.85rem\",\n                                                            color: \"#2e86c1\",\n                                                            textAlign: \"center\",\n                                                            fontWeight: \"500\",\n                                                            marginTop: \"0.5rem\"\n                                                        },\n                                                        children: [\n                                                            \"\\uD83D\\uDEAB\",\n                                                            \" \",\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                children: \"Cash payment disabled for cashback transactions\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 4324,\n                                                                columnNumber: 27\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                style: {\n                                                                    fontSize: \"0.8rem\",\n                                                                    marginTop: \"0.25rem\",\n                                                                    opacity: 0.9\n                                                                },\n                                                                children: [\n                                                                    \"Customer must pay by card • Cash register: -\",\n                                                                    (Number(cashbackAmount) || 0).toFixed(2),\n                                                                    \" +\",\n                                                                    \" \",\n                                                                    (Number(cashbackFee) || 0).toFixed(2),\n                                                                    \" profit\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 4327,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 4310,\n                                                        columnNumber: 25\n                                                    }, this),\n                                                    !isCreditSale && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                        children: [\n                                                            cashback > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                style: {\n                                                                    padding: \"0.5rem\",\n                                                                    backgroundColor: \"#fff3cd\",\n                                                                    border: \"1px solid #ffeaa7\",\n                                                                    borderRadius: \"4px\",\n                                                                    marginTop: \"0.5rem\"\n                                                                },\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                        children: [\n                                                                            \"Cashback: $\",\n                                                                            cashback.toFixed(2)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                        lineNumber: 4353,\n                                                                        columnNumber: 31\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        style: {\n                                                                            fontSize: \"0.85rem\",\n                                                                            color: \"#856404\"\n                                                                        },\n                                                                        children: [\n                                                                            \"Requires card payment: $\",\n                                                                            (total + cashback).toFixed(2),\n                                                                            \" (Purchase: $\",\n                                                                            total.toFixed(2),\n                                                                            \" + Cashback: $\",\n                                                                            cashback.toFixed(2),\n                                                                            \")\"\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                        lineNumber: 4354,\n                                                                        columnNumber: 31\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        style: {\n                                                                            fontSize: \"0.8rem\",\n                                                                            color: \"#d68910\",\n                                                                            marginTop: \"0.25rem\",\n                                                                            fontWeight: \"500\"\n                                                                        },\n                                                                        children: [\n                                                                            \"\\uD83D\\uDCB3 Customer pays by card • \\uD83D\\uDCB5 You give $\",\n                                                                            cashback.toFixed(2),\n                                                                            \" cash from register\"\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                        lineNumber: 4365,\n                                                                        columnNumber: 31\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 4344,\n                                                                columnNumber: 29\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                style: {\n                                                                    color: isSufficient ? \"#2ecc71\" : \"#e74c3c\",\n                                                                    fontWeight: \"600\"\n                                                                },\n                                                                children: isSufficient ? \"Card Payment: $\".concat(paidCard.toFixed(2)).concat(change > 0 && cashback === 0 ? \" — Change: $\".concat(change.toFixed(2)) : \"\").concat(cashback > 0 ? \" — Cashback Given: $\".concat(cashback.toFixed(2)) : \"\") : cashback > 0 ? \"Card payment needed: $\".concat((total + cashback).toFixed(2), \" (Current: $\").concat(paidCard.toFixed(2), \")\") : \"Amount due: $\".concat((total - paidTotal).toFixed(2))\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 4379,\n                                                                columnNumber: 27\n                                                            }, this),\n                                                            paymentError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                style: {\n                                                                    color: \"#e74c3c\"\n                                                                },\n                                                                children: paymentError\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 4409,\n                                                                columnNumber: 29\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.CheckoutButton, {\n                                                        onClick: processCheckout,\n                                                        disabled: isCreditSale ? false : !isSufficient,\n                                                        children: (()=>{\n                                                            // Check if this is a balance payment\n                                                            if (isBalancePayment) {\n                                                                const paidCash = Number(parseFloat(cashAmount) || 0);\n                                                                const paidCard = Number(parseFloat(cardAmount) || 0);\n                                                                const paymentTotal = paidCash + paidCard;\n                                                                const customerBalance = (selectedCustomer === null || selectedCustomer === void 0 ? void 0 : selectedCustomer.balance) || 0;\n                                                                const remainingBalance = customerBalance - paymentTotal;\n                                                                if (paymentTotal === 0) {\n                                                                    return \"Enter Payment Amount\";\n                                                                } else if (remainingBalance > 0) {\n                                                                    return \"Pay $\".concat(paymentTotal.toFixed(2), \" (Balance Remaining: $\").concat(remainingBalance.toFixed(2), \")\");\n                                                                } else {\n                                                                    return \"Pay $\".concat(paymentTotal.toFixed(2), \" (Balance Paid)\");\n                                                                }\n                                                            }\n                                                            if (!isCreditSale) return \"Process Payment\";\n                                                            const subtotal = calculateTotal();\n                                                            const tax = calculateTax();\n                                                            const total = +(subtotal + tax).toFixed(2);\n                                                            const cashback = Number(parseFloat(cashbackAmount) || 0);\n                                                            const lotto = Number(parseFloat(lottoWinnings) || 0);\n                                                            const finalTotal = total + cashback - lotto;\n                                                            const paidCash = Number(parseFloat(cashAmount) || 0);\n                                                            const paidCard = Number(parseFloat(cardAmount) || 0);\n                                                            const paidTotal = paidCash + paidCard;\n                                                            const specifiedCreditAmount = Number(parseFloat(creditAmount) || 0);\n                                                            if (specifiedCreditAmount > 0) {\n                                                                const paymentNeeded = finalTotal - specifiedCreditAmount;\n                                                                return \"Process Sale (Payment: $\".concat(paymentNeeded.toFixed(2), \", Credit: $\").concat(specifiedCreditAmount.toFixed(2), \")\");\n                                                            } else {\n                                                                const creditBalance = Math.max(0, finalTotal - paidTotal);\n                                                                if (paidTotal > 0 && creditBalance > 0) {\n                                                                    return \"Process Partial Payment (Credit: $\".concat(creditBalance.toFixed(2), \")\");\n                                                                } else if (paidTotal >= finalTotal) {\n                                                                    return \"Process Full Payment\";\n                                                                } else {\n                                                                    return \"Create Full Credit Sale\";\n                                                                }\n                                                            }\n                                                        })()\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 4416,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 3423,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true);\n                                })()\n                            }, void 0, false, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 3315,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                        lineNumber: 2838,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                lineNumber: 1993,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n            lineNumber: 1992,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n        lineNumber: 1991,\n        columnNumber: 5\n    }, this);\n}\n_s(POSContent, \"2V+yGna81U3U5NQt9lw3vIn2OzU=\", false, function() {\n    return [\n        _lib_hooks__WEBPACK_IMPORTED_MODULE_3__.useAppDispatch,\n        _lib_hooks__WEBPACK_IMPORTED_MODULE_3__.useInventoryManager,\n        _lib_withInventory__WEBPACK_IMPORTED_MODULE_4__.useEnsureInventory,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams\n    ];\n});\n_c2 = POSContent;\nfunction POSPage() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react__WEBPACK_IMPORTED_MODULE_1__.Suspense, {\n        fallback: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                padding: \"2rem\",\n                textAlign: \"center\"\n            },\n            children: \"Loading POS system...\"\n        }, void 0, false, {\n            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n            lineNumber: 4506,\n            columnNumber: 9\n        }, void 0),\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(POSContent, {}, void 0, false, {\n            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n            lineNumber: 4511,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n        lineNumber: 4504,\n        columnNumber: 5\n    }, this);\n}\n_c3 = POSPage;\nvar _c, _c1, _c2, _c3;\n$RefreshReg$(_c, \"POSWrapper\");\n$RefreshReg$(_c1, \"KeyboardArea\");\n$RefreshReg$(_c2, \"POSContent\");\n$RefreshReg$(_c3, \"POSPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE9BQU8sSUFBSStFLGFBQWE3QixZQUFZO29FQUNsQyxPQUFPO2dFQUNULE9BQU87b0VBQ0wsT0FBTztnRUFDVDs0REFDRjt3REFDRjs7Ozs7Ozs7Ozs7Ozs7Z0NBS1Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPZDtHQTV2SVNyTTs7UUFDVTlCLHNEQUFjQTtRQU0zQkQsMkRBQW1CQTtRQUNLRSxrRUFBa0JBO1FBQ3pCSCw0REFBZUE7OztNQVQ3QmdDO0FBOHZJTSxTQUFTOGI7SUFDdEIscUJBQ0UsOERBQUMvZCwyQ0FBUUE7UUFDUGdlLHdCQUNFLDhEQUFDemM7WUFBSTJWLE9BQU87Z0JBQUVjLFNBQVM7Z0JBQVFzQyxXQUFXO1lBQVM7c0JBQUc7Ozs7OztrQkFLeEQsNEVBQUNyWTs7Ozs7Ozs7OztBQUdQO01BWndCOGIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vYXBwL3Bvcy9wYWdlLmpzPzg0ZjAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiwgU3VzcGVuc2UgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVNlYXJjaFBhcmFtcyB9IGZyb20gXCJuZXh0L25hdmlnYXRpb25cIjtcbmltcG9ydCB7IHVzZUludmVudG9yeU1hbmFnZXIsIHVzZUFwcERpc3BhdGNoIH0gZnJvbSBcIi4uL2xpYi9ob29rc1wiO1xuaW1wb3J0IHsgdXNlRW5zdXJlSW52ZW50b3J5IH0gZnJvbSBcIi4uL2xpYi93aXRoSW52ZW50b3J5XCI7XG5pbXBvcnQge1xuICB1cGRhdGVJbnZlbnRvcnlBZnRlclRyYW5zYWN0aW9uLFxuICB1cGRhdGVJdGVtU3RvY2tMb2NhbCxcbiAgbG9hZEludmVudG9yeSxcbn0gZnJvbSBcIi4uL2xpYi9zbGljZXMvaW52ZW50b3J5U2xpY2VcIjtcbmltcG9ydCB7XG4gIENvbnRhaW5lcixcbiAgUE9TR3JpZCxcbiAgUHJvZHVjdHNQYW5lbCxcbiAgQ2hlY2tvdXRQYW5lbCxcbiAgUHJvZHVjdEl0ZW0sXG4gIENhcnRJdGVtLFxuICBTZWFyY2hCYXIsXG4gIEJ1dHRvbixcbiAgQ2F0ZWdvcnlGaWx0ZXIsXG4gIFRvdGFsLFxuICBDaGVja291dEJ1dHRvbixcbiAgUmVjZWlwdFNlY3Rpb24sXG59IGZyb20gXCIuLi9zdHlsZXMvcG9zU3R5bGVzXCI7XG5pbXBvcnQgT25TY3JlZW5LZXlib2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9PblNjcmVlbktleWJvYXJkXCI7XG5pbXBvcnQgc3R5bGVkIGZyb20gXCJzdHlsZWQtY29tcG9uZW50c1wiO1xuXG4vLyBXcmFwcGVyIHRvIGhhbmRsZSBrZXlib2FyZCBzcGFjaW5nXG5jb25zdCBQT1NXcmFwcGVyID0gc3R5bGVkLmRpdmBcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgbWluLWhlaWdodDogMTAwdmg7XG4gIG1heC1oZWlnaHQ6IDEwMHZoO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuYDtcblxuY29uc3QgS2V5Ym9hcmRBcmVhID0gc3R5bGVkLmRpdmBcbiAgaGVpZ2h0OiAyMzBweDtcbiAgYmFja2dyb3VuZDogI2Y4ZjlmYTtcbiAgYm9yZGVyOiAxcHggc29saWQgI2RlZTJlNjtcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xuICBtYXJnaW46IDAuNXJlbSAwO1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBmbGV4LXNocmluazogMDtcbmA7XG5cbi8vIEluaXRpYWwgaW52ZW50b3J5IGRhdGEgYXMgZmFsbGJhY2tcbmNvbnN0IGluaXRpYWxJbnZlbnRvcnkgPSBbXG4gIHtcbiAgICBpZDogMSxcbiAgICBuYW1lOiBcIkNvY2EgQ29sYSAzNTVtbFwiLFxuICAgIGNhdGVnb3J5OiBcIkJldmVyYWdlc1wiLFxuICAgIHByaWNlOiAxLjUsXG4gICAgc3RvY2s6IDI0LFxuICAgIGxvd1N0b2NrVGhyZXNob2xkOiAxMCxcbiAgICB0YXhhYmxlOiB0cnVlLFxuICB9LFxuICB7XG4gICAgaWQ6IDIsXG4gICAgbmFtZTogXCJMYXlzIENsYXNzaWMgQ2hpcHNcIixcbiAgICBjYXRlZ29yeTogXCJTbmFja3NcIixcbiAgICBwcmljZTogMi45OSxcbiAgICBzdG9jazogOCxcbiAgICBsb3dTdG9ja1RocmVzaG9sZDogMTUsXG4gICAgdGF4YWJsZTogdHJ1ZSxcbiAgfSxcbiAge1xuICAgIGlkOiAzLFxuICAgIG5hbWU6IFwiV29uZGVyIEJyZWFkXCIsXG4gICAgY2F0ZWdvcnk6IFwiQmFrZXJ5XCIsXG4gICAgcHJpY2U6IDMuNDksXG4gICAgc3RvY2s6IDEyLFxuICAgIGxvd1N0b2NrVGhyZXNob2xkOiA1LFxuICAgIHRheGFibGU6IGZhbHNlLFxuICB9LFxuICB7XG4gICAgaWQ6IDQsXG4gICAgbmFtZTogXCJNYXJsYm9ybyBHb2xkXCIsXG4gICAgY2F0ZWdvcnk6IFwiVG9iYWNjb1wiLFxuICAgIHByaWNlOiAxMi45OSxcbiAgICBzdG9jazogMyxcbiAgICBsb3dTdG9ja1RocmVzaG9sZDogNSxcbiAgICB0YXhhYmxlOiB0cnVlLFxuICB9LFxuICB7XG4gICAgaWQ6IDUsXG4gICAgbmFtZTogXCJNYXJsYm9ybyBSZWRcIixcbiAgICBjYXRlZ29yeTogXCJUb2JhY2NvXCIsXG4gICAgcHJpY2U6IDEyLjk5LFxuICAgIHN0b2NrOiA1LFxuICAgIGxvd1N0b2NrVGhyZXNob2xkOiA1LFxuICAgIHRheGFibGU6IHRydWUsXG4gIH0sXG4gIHtcbiAgICBpZDogNixcbiAgICBuYW1lOiBcIkNhbWVsIEJsdWVcIixcbiAgICBjYXRlZ29yeTogXCJUb2JhY2NvXCIsXG4gICAgcHJpY2U6IDEzLjQ5LFxuICAgIHN0b2NrOiA0LFxuICAgIGxvd1N0b2NrVGhyZXNob2xkOiA1LFxuICAgIHRheGFibGU6IHRydWUsXG4gIH0sXG4gIHtcbiAgICBpZDogNyxcbiAgICBuYW1lOiBcIk5ld3BvcnQgTWVudGhvbFwiLFxuICAgIGNhdGVnb3J5OiBcIlRvYmFjY29cIixcbiAgICBwcmljZTogMTMuOTksXG4gICAgc3RvY2s6IDYsXG4gICAgbG93U3RvY2tUaHJlc2hvbGQ6IDUsXG4gICAgdGF4YWJsZTogdHJ1ZSxcbiAgfSxcbiAge1xuICAgIGlkOiA4LFxuICAgIG5hbWU6IFwiUmVkIEJ1bGwgMjUwbWxcIixcbiAgICBjYXRlZ29yeTogXCJCZXZlcmFnZXNcIixcbiAgICBwcmljZTogMy45OSxcbiAgICBzdG9jazogMTgsXG4gICAgbG93U3RvY2tUaHJlc2hvbGQ6IDgsXG4gICAgdGF4YWJsZTogdHJ1ZSxcbiAgfSxcbiAge1xuICAgIGlkOiA5LFxuICAgIG5hbWU6IFwiTWlsayAxTFwiLFxuICAgIGNhdGVnb3J5OiBcIkRhaXJ5XCIsXG4gICAgcHJpY2U6IDIuNzksXG4gICAgc3RvY2s6IDE1LFxuICAgIGxvd1N0b2NrVGhyZXNob2xkOiA1LFxuICAgIHRheGFibGU6IGZhbHNlLFxuICB9LFxuICB7XG4gICAgaWQ6IDEwLFxuICAgIG5hbWU6IFwiQmFuYW5hIChlYWNoKVwiLFxuICAgIGNhdGVnb3J5OiBcIkZyZXNoIFByb2R1Y2VcIixcbiAgICBwcmljZTogMC44OSxcbiAgICBzdG9jazogMjUsXG4gICAgbG93U3RvY2tUaHJlc2hvbGQ6IDEwLFxuICAgIHRheGFibGU6IGZhbHNlLFxuICB9LFxuICB7XG4gICAgaWQ6IDExLFxuICAgIG5hbWU6IFwiQ29mZmVlIEN1cCAxMm96XCIsXG4gICAgY2F0ZWdvcnk6IFwiQmV2ZXJhZ2VzXCIsXG4gICAgcHJpY2U6IDEuOTksXG4gICAgc3RvY2s6IDMwLFxuICAgIGxvd1N0b2NrVGhyZXNob2xkOiAxMCxcbiAgICB0YXhhYmxlOiB0cnVlLFxuICB9LFxuXTtcblxuZnVuY3Rpb24gUE9TQ29udGVudCgpIHtcbiAgY29uc3QgZGlzcGF0Y2ggPSB1c2VBcHBEaXNwYXRjaCgpO1xuICBjb25zdCB7XG4gICAgaXRlbXM6IGludmVudG9yeSxcbiAgICBsb2FkaW5nOiBpbnZlbnRvcnlMb2FkaW5nLFxuICAgIGNhdGVnb3JpZXMsXG4gICAgZ2V0RmlsdGVyZWRJbnZlbnRvcnksXG4gIH0gPSB1c2VJbnZlbnRvcnlNYW5hZ2VyKCk7XG4gIGNvbnN0IHsgaW52ZW50b3J5TG9hZGVkIH0gPSB1c2VFbnN1cmVJbnZlbnRvcnkoKTtcbiAgY29uc3Qgc2VhcmNoUGFyYW1zID0gdXNlU2VhcmNoUGFyYW1zKCk7XG5cbiAgY29uc3QgW2NhcnQsIHNldENhcnRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbc2VhcmNoVGVybSwgc2V0U2VhcmNoVGVybV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2NhdGVnb3J5RmlsdGVyLCBzZXRDYXRlZ29yeUZpbHRlcl0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3Qgc2VhcmNoSW5wdXRSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGNhc2hBbW91bnRSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGNhcmRBbW91bnRSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGRpc2NvdW50UmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBjYXNoYmFja0Ftb3VudFJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgY2FzaGJhY2tGZWVSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGxvdHRvV2lubmluZ3NSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGNyZWRpdEN1c3RvbWVyTmFtZVJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgW2JhcmNvZGVCdWZmZXIsIHNldEJhcmNvZGVCdWZmZXJdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtsYXN0S2V5VGltZSwgc2V0TGFzdEtleVRpbWVdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFtzaG93UmVjZWlwdCwgc2V0U2hvd1JlY2VpcHRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbGFzdFRyYW5zYWN0aW9uLCBzZXRMYXN0VHJhbnNhY3Rpb25dID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtjYXNoQW1vdW50LCBzZXRDYXNoQW1vdW50XSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbY2FyZEFtb3VudCwgc2V0Q2FyZEFtb3VudF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2Nhc2hiYWNrQW1vdW50LCBzZXRDYXNoYmFja0Ftb3VudF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2Nhc2hiYWNrRmVlLCBzZXRDYXNoYmFja0ZlZV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2Nhc2hiYWNrRW5hYmxlZCwgc2V0Q2FzaGJhY2tFbmFibGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvdHRvV2lubmluZ3MsIHNldExvdHRvV2lubmluZ3NdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtwYXltZW50RXJyb3IsIHNldFBheW1lbnRFcnJvcl0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2F1dG9GaWxsT3RoZXIsIHNldEF1dG9GaWxsT3RoZXJdID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtsYXN0RWRpdGVkLCBzZXRMYXN0RWRpdGVkXSA9IHVzZVN0YXRlKG51bGwpOyAvLyAnY2FzaCcgfCAnY2FyZCcgfCBudWxsXG4gIGNvbnN0IFt1c2VySXNUeXBpbmcsIHNldFVzZXJJc1R5cGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7IC8vIFByZXZlbnQgYXV0by11cGRhdGVzIHdoaWxlIHVzZXIgdHlwZXNcblxuICAvLyBWaXJ0dWFsIGtleWJvYXJkIHN0YXRlc1xuICBjb25zdCBbc2hvd0tleWJvYXJkLCBzZXRTaG93S2V5Ym9hcmRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYWN0aXZlSW5wdXRSZWYsIHNldEFjdGl2ZUlucHV0UmVmXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBba2V5Ym9hcmRNb2RlLCBzZXRLZXlib2FyZE1vZGVdID0gdXNlU3RhdGUoXCJmdWxsXCIpOyAvLyAnZnVsbCcgb3IgJ251bWVyaWMnXG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGhhbmRsZSBpbnB1dCBmb2N1cyBhbmQgc2hvdyBhcHByb3ByaWF0ZSBrZXlib2FyZFxuICBjb25zdCBoYW5kbGVJbnB1dEZvY3VzID0gKGlucHV0UmVmLCBpc051bWVyaWMgPSBmYWxzZSkgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwi8J+OryBQT1MgaGFuZGxlSW5wdXRGb2N1cyBjYWxsZWQ6XCIsIHtcbiAgICAgIGlucHV0UmVmLFxuICAgICAgaW5wdXRSZWZDdXJyZW50OiBpbnB1dFJlZj8uY3VycmVudCxcbiAgICAgIGlucHV0UmVmQ3VycmVudFZhbHVlOiBpbnB1dFJlZj8uY3VycmVudD8udmFsdWUsXG4gICAgICBpc051bWVyaWMsXG4gICAgfSk7XG4gICAgc2V0QWN0aXZlSW5wdXRSZWYoaW5wdXRSZWYpO1xuICAgIHNldEtleWJvYXJkTW9kZShpc051bWVyaWMgPyBcIm51bWVyaWNcIiA6IFwiZnVsbFwiKTtcbiAgICBzZXRTaG93S2V5Ym9hcmQodHJ1ZSk7XG4gIH07XG5cbiAgLy8gQ3JlZGl0IHNhbGUgc3RhdGVzXG4gIGNvbnN0IFtpc0NyZWRpdFNhbGUsIHNldElzQ3JlZGl0U2FsZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjcmVkaXRDdXN0b21lck5hbWUsIHNldENyZWRpdEN1c3RvbWVyTmFtZV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2NyZWRpdEFtb3VudCwgc2V0Q3JlZGl0QW1vdW50XSA9IHVzZVN0YXRlKDApOyAvLyBTcGVjaWZpYyBjcmVkaXQgYW1vdW50XG4gIGNvbnN0IFtpc0F1dG9DYWxjdWxhdGluZywgc2V0SXNBdXRvQ2FsY3VsYXRpbmddID0gdXNlU3RhdGUoZmFsc2UpOyAvLyBQcmV2ZW50IGNpcmN1bGFyIHVwZGF0ZXNcblxuICAvLyBDcmVkaXQgY3VzdG9tZXIgbWFuYWdlbWVudCBzdGF0ZXNcbiAgY29uc3QgW2V4aXN0aW5nQ3VzdG9tZXJzLCBzZXRFeGlzdGluZ0N1c3RvbWVyc10gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtzaG93Q3VzdG9tZXJTdWdnZXN0aW9ucywgc2V0U2hvd0N1c3RvbWVyU3VnZ2VzdGlvbnNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2VsZWN0ZWRDdXN0b21lciwgc2V0U2VsZWN0ZWRDdXN0b21lcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2N1c3RvbWVyQmFsYW5jZSwgc2V0Q3VzdG9tZXJCYWxhbmNlXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbc2hvd1BheW1lbnRPcHRpb25zLCBzZXRTaG93UGF5bWVudE9wdGlvbnNdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vIENhcmQgZmVlIHN0YXRlc1xuICBjb25zdCBbY2FyZFR5cGUsIHNldENhcmRUeXBlXSA9IHVzZVN0YXRlKFwiZGViaXRcIik7IC8vICdkZWJpdCcgfCAnY3JlZGl0J1xuICBjb25zdCBbY2FyZEZlZUVuYWJsZWQsIHNldENhcmRGZWVFbmFibGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgQ0FSRF9GRUVfQU1PVU5UID0gMC4yNTsgLy8gJDAuMjUgZmVlIGZvciBjcmVkaXQgY2FyZHNcblxuICAvLyBDaGVjayBpZiB0aGlzIGlzIGEgYmFsYW5jZSBwYXltZW50IChjdXN0b21lciBzZWxlY3RlZCBhbmQgbm8gY2FydCBpdGVtcylcbiAgY29uc3QgaXNCYWxhbmNlUGF5bWVudCA9IHNlbGVjdGVkQ3VzdG9tZXIgJiYgY2FydC5sZW5ndGggPT09IDA7XG5cbiAgLy8gRGlzY291bnQgc3RhdGVzIC0gc2ltcGxlIGltcGxlbWVudGF0aW9uXG4gIGNvbnN0IFtkaXNjb3VudEFtb3VudCwgc2V0RGlzY291bnRBbW91bnRdID0gdXNlU3RhdGUoXCJcIik7XG5cbiAgLy8gTWFudWFsIGl0ZW0gZW50cnkgc3RhdGVzXG4gIGNvbnN0IFtzaG93TWFudWFsRW50cnksIHNldFNob3dNYW51YWxFbnRyeV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFttYW51YWxJdGVtLCBzZXRNYW51YWxJdGVtXSA9IHVzZVN0YXRlKHtcbiAgICBuYW1lOiBcIlwiLFxuICAgIHByaWNlOiBcIlwiLFxuICAgIGNhdGVnb3J5OiBjYXRlZ29yaWVzLmxlbmd0aCA+IDAgPyBjYXRlZ29yaWVzWzBdIDogXCJncm9jZXJ5LXRheGFibGVcIixcbiAgICBxdWFudGl0eTogMSxcbiAgfSk7XG5cbiAgLy8gVXNlIFJlZHV4LW1hbmFnZWQgaW52ZW50b3J5IHdpdGggc21hcnQgZmlsdGVyaW5nXG4gIGNvbnN0IGZpbHRlcmVkSW52ZW50b3J5ID0gZ2V0RmlsdGVyZWRJbnZlbnRvcnkoc2VhcmNoVGVybSwgY2F0ZWdvcnlGaWx0ZXIpO1xuXG4gIGNvbnN0IGFkZFRvQ2FydCA9IChwcm9kdWN0KSA9PiB7XG4gICAgLy8gRm9yIG1hbnVhbCBpdGVtcywgZmluZCBleGlzdGluZyBpdGVtIGJ5IG5hbWUsIHByaWNlLCBhbmQgY2F0ZWdvcnkgaW5zdGVhZCBvZiBJRFxuICAgIGxldCBleGlzdGluZ0l0ZW07XG4gICAgaWYgKHByb2R1Y3QuaXNNYW51YWwpIHtcbiAgICAgIGV4aXN0aW5nSXRlbSA9IGNhcnQuZmluZChcbiAgICAgICAgKGl0ZW0pID0+XG4gICAgICAgICAgaXRlbS5pc01hbnVhbCAmJlxuICAgICAgICAgIGl0ZW0ubmFtZSA9PT0gcHJvZHVjdC5uYW1lICYmXG4gICAgICAgICAgaXRlbS5wcmljZSA9PT0gcHJvZHVjdC5wcmljZSAmJlxuICAgICAgICAgIGl0ZW0uY2F0ZWdvcnkgPT09IHByb2R1Y3QuY2F0ZWdvcnlcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4aXN0aW5nSXRlbSA9IGNhcnQuZmluZCgoaXRlbSkgPT4gaXRlbS5pZCA9PT0gcHJvZHVjdC5pZCk7XG4gICAgfVxuXG4gICAgaWYgKGV4aXN0aW5nSXRlbSkge1xuICAgICAgc2V0Q2FydChcbiAgICAgICAgY2FydC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAvLyBGb3IgbWFudWFsIGl0ZW1zLCBtYXRjaCBieSBuYW1lLCBwcmljZSwgYW5kIGNhdGVnb3J5XG4gICAgICAgICAgY29uc3QgaXNNYXRjaCA9IHByb2R1Y3QuaXNNYW51YWxcbiAgICAgICAgICAgID8gaXRlbS5pc01hbnVhbCAmJlxuICAgICAgICAgICAgICBpdGVtLm5hbWUgPT09IHByb2R1Y3QubmFtZSAmJlxuICAgICAgICAgICAgICBpdGVtLnByaWNlID09PSBwcm9kdWN0LnByaWNlICYmXG4gICAgICAgICAgICAgIGl0ZW0uY2F0ZWdvcnkgPT09IHByb2R1Y3QuY2F0ZWdvcnlcbiAgICAgICAgICAgIDogaXRlbS5pZCA9PT0gcHJvZHVjdC5pZDtcblxuICAgICAgICAgIHJldHVybiBpc01hdGNoID8geyAuLi5pdGVtLCBxdWFudGl0eTogaXRlbS5xdWFudGl0eSArIDEgfSA6IGl0ZW07XG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICAvLyBVcGRhdGUgaW52ZW50b3J5IHN0b2NrIGltbWVkaWF0ZWx5IChvcHRpbWlzdGljIHVwZGF0ZSlcbiAgICAgIGlmICghcHJvZHVjdC5pc01hbnVhbCAmJiBwcm9kdWN0LmlkKSB7XG4gICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgIHVwZGF0ZUl0ZW1TdG9ja0xvY2FsKHtcbiAgICAgICAgICAgIGlkOiBwcm9kdWN0LmlkLFxuICAgICAgICAgICAgbmV3U3RvY2s6IHByb2R1Y3Quc3RvY2sgLSAxLFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldENhcnQoW1xuICAgICAgICAuLi5jYXJ0LFxuICAgICAgICB7IC4uLnByb2R1Y3QsIHF1YW50aXR5OiAxLCBhcHBseVRheDogcHJvZHVjdC50YXhhYmxlID09PSB0cnVlIH0sXG4gICAgICBdKTtcblxuICAgICAgLy8gVXBkYXRlIGludmVudG9yeSBzdG9jayBpbW1lZGlhdGVseSAob3B0aW1pc3RpYyB1cGRhdGUpXG4gICAgICBpZiAoIXByb2R1Y3QuaXNNYW51YWwgJiYgcHJvZHVjdC5pZCkge1xuICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICB1cGRhdGVJdGVtU3RvY2tMb2NhbCh7XG4gICAgICAgICAgICBpZDogcHJvZHVjdC5pZCxcbiAgICAgICAgICAgIG5ld1N0b2NrOiBwcm9kdWN0LnN0b2NrIC0gMSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVWb2lkSXRlbSA9IChpdGVtSWQsIGl0ZW1OYW1lKSA9PiB7XG4gICAgY29uc3QgY29uZmlybVZvaWQgPSBjb25maXJtKFxuICAgICAgYFZvaWQgaXRlbTogXCIke2l0ZW1OYW1lfVwiP1xcblxcblRoaXMgd2lsbCByZW1vdmUgdGhlIGl0ZW0gY29tcGxldGVseSBmcm9tIHRoZSBjYXJ0LmBcbiAgICApO1xuICAgIGlmIChjb25maXJtVm9pZCkge1xuICAgICAgLy8gRmluZCB0aGUgaXRlbSBiZWluZyB2b2lkZWQgdG8gcmVzdG9yZSBzdG9ja1xuICAgICAgY29uc3QgaXRlbVRvVm9pZCA9IGNhcnQuZmluZCgoaXRlbSkgPT4gaXRlbS5pZCA9PT0gaXRlbUlkKTtcblxuICAgICAgaWYgKGl0ZW1Ub1ZvaWQgJiYgIWl0ZW1Ub1ZvaWQuaXNNYW51YWwpIHtcbiAgICAgICAgLy8gRmluZCB0aGUgY29ycmVzcG9uZGluZyBwcm9kdWN0IGluIGludmVudG9yeVxuICAgICAgICBjb25zdCBwcm9kdWN0ID0gaW52ZW50b3J5LmZpbmQoKHApID0+IHAuaWQgPT09IGl0ZW1JZCk7XG5cbiAgICAgICAgaWYgKHByb2R1Y3QpIHtcbiAgICAgICAgICAvLyBSZXN0b3JlIHN0b2NrIGJ5IGFkZGluZyBiYWNrIHRoZSBxdWFudGl0eSBiZWluZyB2b2lkZWRcbiAgICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICAgIHVwZGF0ZUl0ZW1TdG9ja0xvY2FsKHtcbiAgICAgICAgICAgICAgaWQ6IHByb2R1Y3QuaWQsXG4gICAgICAgICAgICAgIG5ld1N0b2NrOiBwcm9kdWN0LnN0b2NrICsgaXRlbVRvVm9pZC5xdWFudGl0eSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzZXRDYXJ0KGNhcnQuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmlkICE9PSBpdGVtSWQpKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRGVjcmVhc2VRdWFudGl0eSA9IChpdGVtSWQpID0+IHtcbiAgICBjb25zdCBpdGVtID0gY2FydC5maW5kKChpdGVtKSA9PiBpdGVtLmlkID09PSBpdGVtSWQpO1xuICAgIGlmICghaXRlbSB8fCBpdGVtLnF1YW50aXR5IDw9IDEpIHJldHVybjsgLy8gRG9uJ3QgYWxsb3cgZGVjcmVhc2UgYmVsb3cgMVxuXG4gICAgLy8gRGVjcmVhc2UgcXVhbnRpdHkgbm9ybWFsbHlcbiAgICB1cGRhdGVDYXJ0UXVhbnRpdHkoaXRlbUlkLCBpdGVtLnF1YW50aXR5IC0gMSk7XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlQ2FydFF1YW50aXR5ID0gKGlkLCBuZXdRdWFudGl0eSkgPT4ge1xuICAgIGlmIChuZXdRdWFudGl0eSA9PT0gMCkge1xuICAgICAgLy8gV2hlbiBxdWFudGl0eSB3b3VsZCBiZWNvbWUgMCwgcHJvbXB0IGZvciB2b2lkIGNvbmZpcm1hdGlvblxuICAgICAgY29uc3QgaXRlbSA9IGNhcnQuZmluZCgoaXRlbSkgPT4gaXRlbS5pZCA9PT0gaWQpO1xuICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgaGFuZGxlVm9pZEl0ZW0oaWQsIGl0ZW0ubmFtZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEZpbmQgdGhlIGl0ZW0gaW4gY2FydCB0byBjaGVjayBpZiBpdCdzIG1hbnVhbFxuICAgICAgY29uc3QgY2FydEl0ZW0gPSBjYXJ0LmZpbmQoKGl0ZW0pID0+IGl0ZW0uaWQgPT09IGlkKTtcblxuICAgICAgaWYgKGNhcnRJdGVtICYmIGNhcnRJdGVtLmlzTWFudWFsKSB7XG4gICAgICAgIC8vIE1hbnVhbCBpdGVtcyBoYXZlIHVubGltaXRlZCBzdG9ja1xuICAgICAgICBzZXRDYXJ0KFxuICAgICAgICAgIGNhcnQubWFwKChpdGVtKSA9PlxuICAgICAgICAgICAgaXRlbS5pZCA9PT0gaWQgPyB7IC4uLml0ZW0sIHF1YW50aXR5OiBuZXdRdWFudGl0eSB9IDogaXRlbVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFJlZ3VsYXIgaW52ZW50b3J5IGl0ZW1zIC0gY2hlY2sgc3RvY2sgYW5kIHVwZGF0ZSBpbnZlbnRvcnlcbiAgICAgICAgY29uc3QgcHJvZHVjdCA9IGludmVudG9yeS5maW5kKChwKSA9PiBwLmlkID09PSBpZCk7XG4gICAgICAgIGNvbnN0IGNhcnRJdGVtID0gY2FydC5maW5kKChpdGVtKSA9PiBpdGVtLmlkID09PSBpZCk7XG5cbiAgICAgICAgaWYgKHByb2R1Y3QgJiYgY2FydEl0ZW0pIHtcbiAgICAgICAgICBjb25zdCBxdWFudGl0eURpZmYgPSBuZXdRdWFudGl0eSAtIGNhcnRJdGVtLnF1YW50aXR5O1xuICAgICAgICAgIGNvbnN0IG5ld1N0b2NrID0gcHJvZHVjdC5zdG9jayAtIHF1YW50aXR5RGlmZjtcblxuICAgICAgICAgIHNldENhcnQoXG4gICAgICAgICAgICBjYXJ0Lm1hcCgoaXRlbSkgPT5cbiAgICAgICAgICAgICAgaXRlbS5pZCA9PT0gaWQgPyB7IC4uLml0ZW0sIHF1YW50aXR5OiBuZXdRdWFudGl0eSB9IDogaXRlbVxuICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG5cbiAgICAgICAgICAvLyBVcGRhdGUgaW52ZW50b3J5IHN0b2NrIGltbWVkaWF0ZWx5XG4gICAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICB1cGRhdGVJdGVtU3RvY2tMb2NhbCh7XG4gICAgICAgICAgICAgIGlkOiBwcm9kdWN0LmlkLFxuICAgICAgICAgICAgICBuZXdTdG9jazogbmV3U3RvY2ssXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcmVtb3ZlRnJvbUNhcnQgPSAoaWQpID0+IHtcbiAgICAvLyBGaW5kIHRoZSBpdGVtIGJlaW5nIHJlbW92ZWQgdG8gcmVzdG9yZSBzdG9ja1xuICAgIGNvbnN0IGl0ZW1Ub1JlbW92ZSA9IGNhcnQuZmluZCgoaXRlbSkgPT4gaXRlbS5pZCA9PT0gaWQpO1xuXG4gICAgaWYgKGl0ZW1Ub1JlbW92ZSAmJiAhaXRlbVRvUmVtb3ZlLmlzTWFudWFsKSB7XG4gICAgICAvLyBGaW5kIHRoZSBjb3JyZXNwb25kaW5nIHByb2R1Y3QgaW4gaW52ZW50b3J5XG4gICAgICBjb25zdCBwcm9kdWN0ID0gaW52ZW50b3J5LmZpbmQoKHApID0+IHAuaWQgPT09IGlkKTtcblxuICAgICAgaWYgKHByb2R1Y3QpIHtcbiAgICAgICAgLy8gUmVzdG9yZSBzdG9jayBieSBhZGRpbmcgYmFjayB0aGUgcXVhbnRpdHkgYmVpbmcgcmVtb3ZlZFxuICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICB1cGRhdGVJdGVtU3RvY2tMb2NhbCh7XG4gICAgICAgICAgICBpZDogcHJvZHVjdC5pZCxcbiAgICAgICAgICAgIG5ld1N0b2NrOiBwcm9kdWN0LnN0b2NrICsgaXRlbVRvUmVtb3ZlLnF1YW50aXR5LFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc2V0Q2FydChjYXJ0LmZpbHRlcigoaXRlbSkgPT4gaXRlbS5pZCAhPT0gaWQpKTtcbiAgfTtcblxuICBjb25zdCB0b2dnbGVJdGVtVGF4ID0gKGlkKSA9PiB7XG4gICAgc2V0Q2FydChcbiAgICAgIGNhcnQubWFwKChpdGVtKSA9PlxuICAgICAgICBpdGVtLmlkID09PSBpZCA/IHsgLi4uaXRlbSwgYXBwbHlUYXg6ICFpdGVtLmFwcGx5VGF4IH0gOiBpdGVtXG4gICAgICApXG4gICAgKTtcbiAgfTtcblxuICAvLyBGdW5jdGlvbiB0byBoYW5kbGUgc2VhcmNoIHdoZW4gRW50ZXIgaXMgcHJlc3NlZFxuICBjb25zdCBoYW5kbGVTZWFyY2hFbnRlciA9ICgpID0+IHtcbiAgICBpZiAoIXNlYXJjaFRlcm0udHJpbSgpKSByZXR1cm47XG5cbiAgICAvLyBDaGVjayBpZiBhbnkgcHJvZHVjdHMgbWF0Y2ggdGhlIHNlYXJjaCB0ZXJtXG4gICAgY29uc3Qgc2VhcmNoUmVzdWx0cyA9IGZpbHRlcmVkSW52ZW50b3J5O1xuXG4gICAgaWYgKHNlYXJjaFJlc3VsdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyBObyBwcm9kdWN0cyBmb3VuZCwgcHJvbXB0IGZvciBtYW51YWwgZW50cnlcbiAgICAgIGNvbnN0IGl0ZW1OYW1lID0gc2VhcmNoVGVybS50cmltKCk7XG4gICAgICBzZXRNYW51YWxJdGVtKChwcmV2KSA9PiAoe1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICBuYW1lOiBpdGVtTmFtZSxcbiAgICAgIH0pKTtcbiAgICAgIHNldFNob3dNYW51YWxFbnRyeSh0cnVlKTtcbiAgICB9IGVsc2UgaWYgKHNlYXJjaFJlc3VsdHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAvLyBFeGFjdGx5IG9uZSBwcm9kdWN0IGZvdW5kIC0gYXV0b21hdGljYWxseSBhZGQgdG8gY2FydFxuICAgICAgY29uc3QgZm91bmRJdGVtID0gc2VhcmNoUmVzdWx0c1swXTtcbiAgICAgIGFkZFRvQ2FydChmb3VuZEl0ZW0pO1xuICAgICAgc2V0U2VhcmNoVGVybShcIlwiKTsgLy8gQ2xlYXIgc2VhcmNoIGFmdGVyIGFkZGluZ1xuXG4gICAgICAvLyBGb2N1cyBiYWNrIG9uIHNlYXJjaCBpbnB1dCBmb3IgbmV4dCBzY2FuXG4gICAgICBpZiAoc2VhcmNoSW5wdXRSZWYuY3VycmVudCkge1xuICAgICAgICBzZWFyY2hJbnB1dFJlZi5jdXJyZW50LmZvY3VzKCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIElmIG11bHRpcGxlIHJlc3VsdHMsIGRvIG5vdGhpbmcgLSBsZXQgdXNlciBzZWUgdGhlIHJlc3VsdHMgYW5kIGNsaWNrIG1hbnVhbGx5XG4gIH07XG5cbiAgLy8gRGVidWcgZnVuY3Rpb24gdG8gZm9yY2UgcmVmcmVzaCBpbnZlbnRvcnkgZnJvbSBkYXRhYmFzZVxuICBjb25zdCBoYW5kbGVEZWJ1Z1JlZnJlc2ggPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coXCI9PT0gREVCVUcgUkVGUkVTSCBUUklHR0VSRUQgPT09XCIpO1xuICAgIGNvbnNvbGUubG9nKFwiQ3VycmVudCBpbnZlbnRvcnkgY291bnQ6XCIsIGludmVudG9yeS5sZW5ndGgpO1xuXG4gICAgLy8gQ2xlYXIgc2VhcmNoIGFuZCBmaWx0ZXJzXG4gICAgc2V0U2VhcmNoVGVybShcIlwiKTtcbiAgICBzZXRDYXRlZ29yeUZpbHRlcihcIlwiKTtcblxuICAgIC8vIEZvcmNlIHJlZnJlc2ggaW52ZW50b3J5IGJ5IGJ5cGFzc2luZyBjYWNoZVxuICAgIGF3YWl0IGRpc3BhdGNoKGxvYWRJbnZlbnRvcnkodHJ1ZSkpO1xuXG4gICAgY29uc29sZS5sb2coXCI9PT0gREVCVUcgUkVGUkVTSCBDT01QTEVURUQgPT09XCIpO1xuICAgIGNvbnNvbGUubG9nKFwiTmV3IGludmVudG9yeSBjb3VudDpcIiwgaW52ZW50b3J5Lmxlbmd0aCk7XG5cbiAgICAvLyBGb2N1cyBiYWNrIG9uIHNlYXJjaCBpbnB1dFxuICAgIGlmIChzZWFyY2hJbnB1dFJlZi5jdXJyZW50KSB7XG4gICAgICBzZWFyY2hJbnB1dFJlZi5jdXJyZW50LmZvY3VzKCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBkZXRlcm1pbmUgaWYgYSBjYXRlZ29yeSBzaG91bGQgYmUgdGF4YWJsZVxuICBjb25zdCBpc0NhdGVnb3J5VGF4YWJsZSA9IChjYXRlZ29yeSkgPT4ge1xuICAgIC8vIENoZWNrIGlmIGNhdGVnb3J5IG5hbWUgY29udGFpbnMgaW5kaWNhdG9ycyBvZiB0YXhhYmxlIGl0ZW1zXG4gICAgY29uc3QgdGF4YWJsZUtleXdvcmRzID0gW1xuICAgICAgXCJ0YXhhYmxlXCIsXG4gICAgICBcImxvdHRvXCIsXG4gICAgICBcImxvdHRlcnlcIixcbiAgICAgIFwidG9iYWNjb1wiLFxuICAgICAgXCJhbGNvaG9sXCIsXG4gICAgXTtcbiAgICBjb25zdCBub25UYXhhYmxlS2V5d29yZHMgPSBbXG4gICAgICBcIm5vbi10YXhhYmxlXCIsXG4gICAgICBcInVudGF4YWJsZVwiLFxuICAgICAgXCJiYXNpY1wiLFxuICAgICAgXCJlc3NlbnRpYWxcIixcbiAgICBdO1xuXG4gICAgY29uc3QgY2F0ZWdvcnlMb3dlciA9IGNhdGVnb3J5LnRvTG93ZXJDYXNlKCk7XG5cbiAgICAvLyBGaXJzdCBjaGVjayBmb3IgZXhwbGljaXQgbm9uLXRheGFibGUgaW5kaWNhdG9yc1xuICAgIGlmIChub25UYXhhYmxlS2V5d29yZHMuc29tZSgoa2V5d29yZCkgPT4gY2F0ZWdvcnlMb3dlci5pbmNsdWRlcyhrZXl3b3JkKSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBUaGVuIGNoZWNrIGZvciBleHBsaWNpdCB0YXhhYmxlIGluZGljYXRvcnNcbiAgICBpZiAodGF4YWJsZUtleXdvcmRzLnNvbWUoKGtleXdvcmQpID0+IGNhdGVnb3J5TG93ZXIuaW5jbHVkZXMoa2V5d29yZCkpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBEZWZhdWx0IHRvIHRheGFibGUgZm9yIHVua25vd24gY2F0ZWdvcmllcyAoc2FmZXIgZm9yIHRheCBjb21wbGlhbmNlKVxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIC8vIEZ1bmN0aW9uIHRvIGFkZCBtYW51YWwgaXRlbSB0byBjYXJ0XG4gIGNvbnN0IGFkZE1hbnVhbEl0ZW0gPSAoKSA9PiB7XG4gICAgaWYgKFxuICAgICAgIW1hbnVhbEl0ZW0ubmFtZS50cmltKCkgfHxcbiAgICAgICFtYW51YWxJdGVtLnByaWNlIHx8XG4gICAgICBwYXJzZUZsb2F0KG1hbnVhbEl0ZW0ucHJpY2UpIDw9IDBcbiAgICApIHtcbiAgICAgIGFsZXJ0KFwiUGxlYXNlIGVudGVyIGl0ZW0gbmFtZSBhbmQgdmFsaWQgcHJpY2VcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGEgY29uc2lzdGVudCBJRCBiYXNlZCBvbiBuYW1lLCBwcmljZSwgYW5kIGNhdGVnb3J5IGZvciBtYW51YWwgaXRlbXNcbiAgICBjb25zdCBub3JtYWxpemVkTmFtZSA9IG1hbnVhbEl0ZW0ubmFtZVxuICAgICAgLnRyaW0oKVxuICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgIC5yZXBsYWNlKC9cXHMrL2csIFwiLVwiKTtcbiAgICBjb25zdCBwcmljZVN0ciA9IHBhcnNlRmxvYXQobWFudWFsSXRlbS5wcmljZSkudG9GaXhlZCgyKTtcbiAgICBjb25zdCBtYW51YWxJZCA9IGBtYW51YWwtJHtub3JtYWxpemVkTmFtZX0tJHtwcmljZVN0cn0tJHttYW51YWxJdGVtLmNhdGVnb3J5fWA7XG5cbiAgICBjb25zdCBuZXdJdGVtID0ge1xuICAgICAgaWQ6IG1hbnVhbElkLCAvLyBDb25zaXN0ZW50IElEIGZvciBzYW1lIG1hbnVhbCBpdGVtc1xuICAgICAgbmFtZTogbWFudWFsSXRlbS5uYW1lLnRyaW0oKSxcbiAgICAgIHByaWNlOiBwYXJzZUZsb2F0KG1hbnVhbEl0ZW0ucHJpY2UpLFxuICAgICAgY2F0ZWdvcnk6IG1hbnVhbEl0ZW0uY2F0ZWdvcnksXG4gICAgICBhcHBseVRheDogaXNDYXRlZ29yeVRheGFibGUobWFudWFsSXRlbS5jYXRlZ29yeSksXG4gICAgICBzdG9jazogOTk5LCAvLyBNYW51YWwgaXRlbXMgZG9uJ3QgYWZmZWN0IGludmVudG9yeVxuICAgICAgaXNNYW51YWw6IHRydWUsIC8vIEZsYWcgdG8gaWRlbnRpZnkgbWFudWFsIGl0ZW1zXG4gICAgfTtcblxuICAgIC8vIEFkZCB0byBjYXJ0IHdpdGggc3BlY2lmaWVkIHF1YW50aXR5XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYW51YWxJdGVtLnF1YW50aXR5OyBpKyspIHtcbiAgICAgIGFkZFRvQ2FydChuZXdJdGVtKTtcbiAgICB9XG5cbiAgICAvLyBSZXNldCBtYW51YWwgaXRlbSBmb3JtIGFuZCBjbGVhciBzZWFyY2hcbiAgICBzZXRNYW51YWxJdGVtKHtcbiAgICAgIG5hbWU6IFwiXCIsXG4gICAgICBwcmljZTogXCJcIixcbiAgICAgIGNhdGVnb3J5OiBjYXRlZ29yaWVzLmxlbmd0aCA+IDAgPyBjYXRlZ29yaWVzWzBdIDogXCJncm9jZXJ5LXRheGFibGVcIixcbiAgICAgIHF1YW50aXR5OiAxLFxuICAgIH0pO1xuICAgIHNldFNob3dNYW51YWxFbnRyeShmYWxzZSk7XG4gICAgc2V0U2VhcmNoVGVybShcIlwiKTsgLy8gQ2xlYXIgc2VhcmNoIHRlcm0gYWZ0ZXIgYWRkaW5nIGl0ZW1cbiAgfTtcblxuICBjb25zdCBjYWxjdWxhdGVTdWJ0b3RhbCA9ICgpID0+IHtcbiAgICByZXR1cm4gY2FydC5yZWR1Y2UoKHRvdGFsLCBpdGVtKSA9PiB0b3RhbCArIGl0ZW0ucHJpY2UgKiBpdGVtLnF1YW50aXR5LCAwKTtcbiAgfTtcblxuICBjb25zdCBjYWxjdWxhdGVUb3RhbCA9ICgpID0+IHtcbiAgICBjb25zdCBzdWJ0b3RhbCA9IGNhbGN1bGF0ZVN1YnRvdGFsKCk7XG4gICAgY29uc3QgZGlzY291bnQgPSBOdW1iZXIocGFyc2VGbG9hdChkaXNjb3VudEFtb3VudCkgfHwgMCk7XG4gICAgY29uc3QgY2JGZWUgPSBOdW1iZXIocGFyc2VGbG9hdChjYXNoYmFja0ZlZSkgfHwgMCk7IC8vIEFkZCBjYXNoYmFjayBmZWUgaWYgcHJlc2VudFxuXG4gICAgLy8gQ2FyZCBmZWUgbG9naWMgLSBhcHBseSBmZWUgd2hlbiBlbmFibGVkXG4gICAgY29uc3QgY2FyZEZlZUluVG90YWwgPSBjYXJkRmVlRW5hYmxlZCA/IENBUkRfRkVFX0FNT1VOVCA6IDA7XG5cbiAgICByZXR1cm4gTWF0aC5tYXgoMCwgc3VidG90YWwgLSBkaXNjb3VudCArIGNiRmVlICsgY2FyZEZlZUluVG90YWwpOyAvLyBFbnN1cmUgdG90YWwgZG9lc24ndCBnbyBuZWdhdGl2ZVxuICB9O1xuXG4gIGNvbnN0IGNhbGN1bGF0ZVRheCA9ICgpID0+IHtcbiAgICAvLyBDYWxjdWxhdGUgdGF4IG9uIGRpc2NvdW50ZWQgYW1vdW50IGZvciB0YXhhYmxlIGl0ZW1zXG4gICAgY29uc3QgZGlzY291bnRlZFN1YnRvdGFsID0gY2FsY3VsYXRlVG90YWwoKTsgLy8gVGhpcyBhbHJlYWR5IGhhcyBkaXNjb3VudCBhcHBsaWVkXG4gICAgY29uc3Qgb3JpZ2luYWxTdWJ0b3RhbCA9IGNhbGN1bGF0ZVN1YnRvdGFsKCk7XG4gICAgY29uc3QgdGF4YWJsZU9yaWdpbmFsID0gZ2V0VGF4YWJsZVRvdGFsKCk7XG5cbiAgICBpZiAob3JpZ2luYWxTdWJ0b3RhbCA9PT0gMCkgcmV0dXJuIDA7XG5cbiAgICAvLyBDYWxjdWxhdGUgcHJvcG9ydGlvbmFsIGRpc2NvdW50IG9uIHRheGFibGUgaXRlbXNcbiAgICBjb25zdCB0YXhhYmxlRGlzY291bnRlZCA9XG4gICAgICB0YXhhYmxlT3JpZ2luYWwgKiAoZGlzY291bnRlZFN1YnRvdGFsIC8gb3JpZ2luYWxTdWJ0b3RhbCk7XG4gICAgcmV0dXJuIHRheGFibGVEaXNjb3VudGVkICogMC4xMzsgLy8gMTMlIEhTVCBmb3IgT250YXJpbywgQ2FuYWRhXG4gIH07XG5cbiAgY29uc3QgZ2V0VGF4YWJsZVRvdGFsID0gKCkgPT4ge1xuICAgIHJldHVybiBjYXJ0LnJlZHVjZSgodG90YWwsIGl0ZW0pID0+IHtcbiAgICAgIGlmIChpdGVtLmFwcGx5VGF4ID09PSB0cnVlKSB7XG4gICAgICAgIHJldHVybiB0b3RhbCArIGl0ZW0ucHJpY2UgKiBpdGVtLnF1YW50aXR5O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRvdGFsO1xuICAgIH0sIDApO1xuICB9O1xuXG4gIGNvbnN0IGdldE5vblRheGFibGVUb3RhbCA9ICgpID0+IHtcbiAgICByZXR1cm4gY2FydC5yZWR1Y2UoKHRvdGFsLCBpdGVtKSA9PiB7XG4gICAgICBpZiAoaXRlbS5hcHBseVRheCAhPT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gdG90YWwgKyBpdGVtLnByaWNlICogaXRlbS5xdWFudGl0eTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0b3RhbDtcbiAgICB9LCAwKTtcbiAgfTtcblxuICAvLyBQcm9jZXNzIHBheW1lbnQgZm9yIGV4aXN0aW5nIGN1c3RvbWVyIGJhbGFuY2VcbiAgY29uc3QgcHJvY2Vzc0N1c3RvbWVyQmFsYW5jZVBheW1lbnQgPSBhc3luYyAoXG4gICAgcGF5bWVudFRvdGFsLFxuICAgIGNhc2hQYWlkLFxuICAgIGNhcmRQYWlkXG4gICkgPT4ge1xuICAgIGlmICghc2VsZWN0ZWRDdXN0b21lciB8fCBjdXN0b21lckJhbGFuY2UgPD0gMCkge1xuICAgICAgYWxlcnQoXCJObyBjdXN0b21lciBzZWxlY3RlZCBvciBjdXN0b21lciBoYXMgbm8gb3V0c3RhbmRpbmcgYmFsYW5jZVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocGF5bWVudFRvdGFsIDw9IDApIHtcbiAgICAgIGFsZXJ0KFwiUGxlYXNlIGVudGVyIGEgcGF5bWVudCBhbW91bnQgaW4gY2FzaCBvciBjYXJkXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENhbGN1bGF0ZSByZW1haW5pbmcgYmFsYW5jZSBhZnRlciBwYXltZW50XG4gICAgY29uc3QgcmVtYWluaW5nQmFsYW5jZSA9IE1hdGgubWF4KDAsIGN1c3RvbWVyQmFsYW5jZSAtIHBheW1lbnRUb3RhbCk7XG5cbiAgICBjb25zb2xlLmxvZyhcbiAgICAgIGBQcm9jZXNzaW5nIHBheW1lbnQ6IEN1c3RvbWVyPSR7c2VsZWN0ZWRDdXN0b21lci5jdXN0b21lck5hbWV9LCBCYWxhbmNlPSR7Y3VzdG9tZXJCYWxhbmNlfSwgUGF5bWVudD0ke3BheW1lbnRUb3RhbH0sIFJlbWFpbmluZz0ke3JlbWFpbmluZ0JhbGFuY2V9YFxuICAgICk7XG5cbiAgICB0cnkge1xuICAgICAgLy8gUHJvY2VzcyB0aGUgcGF5bWVudCBhZ2FpbnN0IGN1c3RvbWVyJ3MgYWNjb3VudFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcIi9hcGkvY3JlZGl0L2FjY291bnRzXCIsIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgYWN0aW9uOiBcInBheW1lbnRcIixcbiAgICAgICAgICBjdXN0b21lck5hbWU6IHNlbGVjdGVkQ3VzdG9tZXIuY3VzdG9tZXJOYW1lLFxuICAgICAgICAgIGFtb3VudDogcGF5bWVudFRvdGFsLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yRGF0YS5lcnJvciB8fCBcIlBheW1lbnQgcHJvY2Vzc2luZyBmYWlsZWRcIik7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQ3JlYXRlIGEgcGF5bWVudCB0cmFuc2FjdGlvbiByZWNvcmRcbiAgICAgIGNvbnN0IHBheW1lbnRUcmFuc2FjdGlvbiA9IHtcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIGl0ZW1zOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6IFwiYmFsYW5jZS1wYXltZW50XCIsXG4gICAgICAgICAgICBuYW1lOiBgQmFsYW5jZSBQYXltZW50IC0gJHtzZWxlY3RlZEN1c3RvbWVyLmN1c3RvbWVyTmFtZX1gLFxuICAgICAgICAgICAgcXVhbnRpdHk6IDEsXG4gICAgICAgICAgICBwcmljZTogcGF5bWVudFRvdGFsLFxuICAgICAgICAgICAgYXBwbHlUYXg6IGZhbHNlLFxuICAgICAgICAgICAgY2F0ZWdvcnk6IFwiUGF5bWVudFwiLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICAgIG9yaWdpbmFsU3VidG90YWw6IHBheW1lbnRUb3RhbCxcbiAgICAgICAgZGlzY291bnQ6IDAsXG4gICAgICAgIHN1YnRvdGFsOiBwYXltZW50VG90YWwsXG4gICAgICAgIHRheGFibGVBbW91bnQ6IDAsXG4gICAgICAgIG5vblRheGFibGVBbW91bnQ6IHBheW1lbnRUb3RhbCxcbiAgICAgICAgdGF4OiAwLFxuICAgICAgICB0b3RhbDogcGF5bWVudFRvdGFsLFxuICAgICAgICBmaW5hbFRvdGFsOiBwYXltZW50VG90YWwsXG4gICAgICAgIGNhc2hiYWNrOiAwLFxuICAgICAgICBwYXltZW50QnJlYWtkb3duOiBbXG4gICAgICAgICAgLi4uKGNhc2hQYWlkID4gMCA/IFt7IG1ldGhvZDogXCJjYXNoXCIsIGFtb3VudDogY2FzaFBhaWQgfV0gOiBbXSksXG4gICAgICAgICAgLi4uKGNhcmRQYWlkID4gMCA/IFt7IG1ldGhvZDogXCJjYXJkXCIsIGFtb3VudDogY2FyZFBhaWQgfV0gOiBbXSksXG4gICAgICAgIF0sXG4gICAgICAgIGNoYW5nZTogMCxcbiAgICAgICAgaXNDcmVkaXRTYWxlOiBmYWxzZSxcbiAgICAgICAgaXNQYXJ0aWFsUGF5bWVudDogZmFsc2UsXG4gICAgICAgIGNyZWRpdEJhbGFuY2U6IDAsXG4gICAgICAgIHBhaWRBbW91bnQ6IHBheW1lbnRUb3RhbCxcbiAgICAgICAgY3JlZGl0Q3VzdG9tZXJOYW1lOiBzZWxlY3RlZEN1c3RvbWVyLmN1c3RvbWVyTmFtZSxcbiAgICAgICAgY3JlZGl0U3RhdHVzOiBcInBheW1lbnRcIixcbiAgICAgICAgbG90dG9XaW5uaW5nczogMCxcbiAgICAgICAgaXNCYWxhbmNlUGF5bWVudDogdHJ1ZSwgLy8gU3BlY2lhbCBmbGFnIGZvciBiYWxhbmNlIHBheW1lbnRzXG4gICAgICAgIHByZXZpb3VzQmFsYW5jZTogY3VzdG9tZXJCYWxhbmNlLFxuICAgICAgICBuZXdCYWxhbmNlOiByZW1haW5pbmdCYWxhbmNlLFxuICAgICAgfTtcblxuICAgICAgLy8gU2F2ZSB0aGUgcGF5bWVudCB0cmFuc2FjdGlvblxuICAgICAgY29uc3QgdHJhbnNhY3Rpb25SZXNwb25zZSA9IGF3YWl0IGZldGNoKFwiL2FwaS90cmFuc2FjdGlvblwiLCB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICBcIngtYXBpLWtleVwiOiBcImRldi1zZWNyZXRcIixcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bWVudFRyYW5zYWN0aW9uKSxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAodHJhbnNhY3Rpb25SZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCB0cmFuc2FjdGlvbkRhdGEgPSBhd2FpdCB0cmFuc2FjdGlvblJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgICAvLyBTaG93IHN1Y2Nlc3MgbWVzc2FnZSBhbmQgcmVjZWlwdFxuICAgICAgICBzZXRMYXN0VHJhbnNhY3Rpb24oe1xuICAgICAgICAgIGlkOiB0cmFuc2FjdGlvbkRhdGEuaWQsXG4gICAgICAgICAgLi4ucGF5bWVudFRyYW5zYWN0aW9uLFxuICAgICAgICB9KTtcbiAgICAgICAgc2V0U2hvd1JlY2VpcHQodHJ1ZSk7XG5cbiAgICAgICAgLy8gVXBkYXRlIGxvY2FsIHN0YXRlXG4gICAgICAgIHNldEN1c3RvbWVyQmFsYW5jZShyZW1haW5pbmdCYWxhbmNlKTtcbiAgICAgICAgc2V0U2VsZWN0ZWRDdXN0b21lcih7IC4uLnNlbGVjdGVkQ3VzdG9tZXIsIGJhbGFuY2U6IHJlbWFpbmluZ0JhbGFuY2UgfSk7XG4gICAgICAgIHNldEV4aXN0aW5nQ3VzdG9tZXJzKChwcmV2KSA9PlxuICAgICAgICAgIHByZXYubWFwKChjKSA9PlxuICAgICAgICAgICAgYy5jdXN0b21lck5hbWUgPT09IHNlbGVjdGVkQ3VzdG9tZXIuY3VzdG9tZXJOYW1lXG4gICAgICAgICAgICAgID8geyAuLi5jLCBiYWxhbmNlOiByZW1haW5pbmdCYWxhbmNlIH1cbiAgICAgICAgICAgICAgOiBjXG4gICAgICAgICAgKVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIFJlZnJlc2ggY3VzdG9tZXJzIGxpc3QgZnJvbSBkYXRhYmFzZSB0byBlbnN1cmUgbGF0ZXN0IGRhdGFcbiAgICAgICAgY29uc29sZS5sb2coXCJSZWZyZXNoaW5nIGN1c3RvbWVyIGxpc3QgYWZ0ZXIgcGF5bWVudC4uLlwiKTtcbiAgICAgICAgc2V0VGltZW91dChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgYXdhaXQgZmV0Y2hFeGlzdGluZ0N1c3RvbWVycygpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ3VzdG9tZXIgbGlzdCByZWZyZXNoZWQgd2l0aCBsYXRlc3QgYmFsYW5jZXNcIik7XG4gICAgICAgIH0sIDUwMCk7XG5cbiAgICAgICAgLy8gUmVmcmVzaCBjdXN0b21lcnMgbGlzdCBmcm9tIGRhdGFiYXNlIHRvIGVuc3VyZSBsYXRlc3QgZGF0YVxuICAgICAgICBjb25zb2xlLmxvZyhcIlJlZnJlc2hpbmcgY3VzdG9tZXIgbGlzdCBhZnRlciBwYXltZW50Li4uXCIpO1xuICAgICAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICBhd2FpdCBmZXRjaEV4aXN0aW5nQ3VzdG9tZXJzKCk7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJDdXN0b21lciBsaXN0IHJlZnJlc2hlZCB3aXRoIGxhdGVzdCBiYWxhbmNlc1wiKTtcbiAgICAgICAgfSwgNTAwKTtcblxuICAgICAgICAvLyBSZXNldCBwYXltZW50IGZpZWxkc1xuICAgICAgICBzZXRDYXNoQW1vdW50KFwiXCIpO1xuICAgICAgICBzZXRDYXJkQW1vdW50KFwiXCIpO1xuICAgICAgICBzZXRQYXltZW50RXJyb3IoXCJcIik7XG5cbiAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgYFBheW1lbnQgcHJvY2Vzc2VkOiAkJHtwYXltZW50VG90YWwudG9GaXhlZChcbiAgICAgICAgICAgIDJcbiAgICAgICAgICApfSBwYWlkLCByZW1haW5pbmcgYmFsYW5jZTogJCR7cmVtYWluaW5nQmFsYW5jZS50b0ZpeGVkKDIpfWBcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byByZWNvcmQgcGF5bWVudCB0cmFuc2FjdGlvblwiKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHByb2Nlc3NpbmcgY3VzdG9tZXIgcGF5bWVudDpcIiwgZXJyb3IpO1xuICAgICAgc2V0UGF5bWVudEVycm9yKGVycm9yLm1lc3NhZ2UgfHwgXCJGYWlsZWQgdG8gcHJvY2VzcyBwYXltZW50XCIpO1xuICAgIH1cbiAgfTtcblxuICAvLyBUZXJtaW5hbCBQYXltZW50IEhhbmRsZXJcbiAgY29uc3QgaGFuZGxlVGVybWluYWxQYXltZW50ID0gYXN5bmMgKGFtb3VudCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBTaG93IHByb2Nlc3NpbmcgaW5kaWNhdG9yXG4gICAgICBzZXRQYXltZW50RXJyb3IoXG4gICAgICAgIFwiUHJvY2Vzc2luZyBwYXltZW50IHZpYSB0ZXJtaW5hbC4uLiBQbGVhc2UgcHJlc2VudCBjYXJkLlwiXG4gICAgICApO1xuXG4gICAgICAvLyBDYWxsIHRlcm1pbmFsIEFQSVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcIi9hcGkvdGVybWluYWxcIiwge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBhbW91bnQ6IGFtb3VudCxcbiAgICAgICAgICBwcm9jZXNzb3I6IFwiY2hhc2VcIiwgLy8gVXNpbmcgQ2hhc2UgdGVybWluYWxcbiAgICAgICAgICB0ZXJtaW5hbElkOiBudWxsLCAvLyBXaWxsIHVzZSBkZWZhdWx0IENoYXNlIHRlcm1pbmFsIElEIGZyb20gZW52XG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHRlcm1pbmFsUmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcih0ZXJtaW5hbFJlc3VsdC5lcnJvciB8fCBcIlRlcm1pbmFsIHJlcXVlc3QgZmFpbGVkXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGVybWluYWxSZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAvLyBTZXQgcGF5bWVudCBhbW91bnRzIGZvciBzdWNjZXNzZnVsIHRlcm1pbmFsIHBheW1lbnRcbiAgICAgICAgc2V0Q2FzaEFtb3VudChcIjBcIik7XG4gICAgICAgIHNldENhcmRBbW91bnQoU3RyaW5nKGFtb3VudC50b0ZpeGVkKDIpKSk7XG4gICAgICAgIHNldExhc3RFZGl0ZWQoXCJjYXJkXCIpO1xuXG4gICAgICAgIC8vIEF1dG8tcHJvY2VzcyBjaGVja291dCBhZnRlciBzdWNjZXNzZnVsIHRlcm1pbmFsIHBheW1lbnRcbiAgICAgICAgYWxlcnQoXG4gICAgICAgICAgYOKchSBQYXltZW50IEFwcHJvdmVkIVxcblxcblRyYW5zYWN0aW9uIElEOiAke1xuICAgICAgICAgICAgdGVybWluYWxSZXN1bHQudHJhbnNhY3Rpb25JZFxuICAgICAgICAgIH1cXG5DYXJkOiAke3Rlcm1pbmFsUmVzdWx0LmNhcmRUeXBlfSAqKioqJHtcbiAgICAgICAgICAgIHRlcm1pbmFsUmVzdWx0Lmxhc3Q0XG4gICAgICAgICAgfVxcbkFtb3VudDogJCR7YW1vdW50LnRvRml4ZWQoMil9XFxuXFxuUHJvY2Vzc2luZyBzYWxlLi4uYFxuICAgICAgICApO1xuXG4gICAgICAgIC8vIFRyaWdnZXIgY2hlY2tvdXQgYWZ0ZXIgc2hvcnQgZGVsYXlcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgcHJvY2Vzc0NoZWNrb3V0KCk7XG4gICAgICAgIH0sIDUwMCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJUZXJtaW5hbCBwYXltZW50IGZhaWxlZDpcIiwgZXJyb3IpO1xuICAgICAgYWxlcnQoXG4gICAgICAgIGDinYwgUGF5bWVudCBGYWlsZWRcXG5cXG4ke2Vycm9yLm1lc3NhZ2V9XFxuXFxuUGxlYXNlIHRyeSBhZ2FpbiBvciB1c2UgbWFudWFsIHBheW1lbnQgZW50cnkuYFxuICAgICAgKTtcbiAgICAgIHNldFBheW1lbnRFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcHJvY2Vzc0NoZWNrb3V0ID0gKCkgPT4ge1xuICAgIGNvbnN0IG9yaWdpbmFsU3VidG90YWwgPSBjYWxjdWxhdGVTdWJ0b3RhbCgpOyAvLyBJdGVtcyB0b3RhbCBiZWZvcmUgZGlzY291bnRcbiAgICBjb25zdCBkaXNjb3VudCA9IE51bWJlcihwYXJzZUZsb2F0KGRpc2NvdW50QW1vdW50KSB8fCAwKTtcbiAgICBjb25zdCBzdWJ0b3RhbFdpdGhGZWVzID0gY2FsY3VsYXRlVG90YWwoKTsgLy8gVXNlIGNhbGN1bGF0ZVRvdGFsKCkgd2hpY2ggaW5jbHVkZXMgZGlzY291bnQgYW5kIGNhcmQgZmVlc1xuICAgIGNvbnN0IHRheCA9IGNhbGN1bGF0ZVRheCgpO1xuICAgIGNvbnN0IHRvdGFsID0gc3VidG90YWxXaXRoRmVlcyArIHRheDtcbiAgICBjb25zdCBjYXNoYmFjayA9IE51bWJlcihwYXJzZUZsb2F0KGNhc2hiYWNrQW1vdW50KSB8fCAwKTtcbiAgICBjb25zdCBjYkZlZSA9IE51bWJlcihwYXJzZUZsb2F0KGNhc2hiYWNrRmVlKSB8fCAwKTtcblxuICAgIC8vIEdldCBwYXltZW50IGFtb3VudHNcbiAgICBjb25zdCBwYWlkQ2FzaCA9IE51bWJlcihwYXJzZUZsb2F0KGNhc2hBbW91bnQpIHx8IDApO1xuICAgIGNvbnN0IHBhaWRDYXJkID0gTnVtYmVyKHBhcnNlRmxvYXQoY2FyZEFtb3VudCkgfHwgMCk7XG4gICAgY29uc3QgcGFpZFRvdGFsID0gcGFpZENhc2ggKyBwYWlkQ2FyZDtcbiAgICBjb25zdCB0ZW1wTG90dG9BbW91bnQgPSBOdW1iZXIocGFyc2VGbG9hdChsb3R0b1dpbm5pbmdzKSB8fCAwKTtcblxuICAgIC8vIFNwZWNpYWwgY2FzZTogQ3VzdG9tZXIgYmFsYW5jZSBwYXltZW50IChubyBpdGVtcyBpbiBjYXJ0LCBqdXN0IHBheWluZyBleGlzdGluZyBkZWJ0KVxuICAgIGlmIChcbiAgICAgIHNlbGVjdGVkQ3VzdG9tZXIgJiZcbiAgICAgIGN1c3RvbWVyQmFsYW5jZSA+IDAgJiZcbiAgICAgIGNhcnQubGVuZ3RoID09PSAwICYmXG4gICAgICBwYWlkVG90YWwgPiAwXG4gICAgKSB7XG4gICAgICBwcm9jZXNzQ3VzdG9tZXJCYWxhbmNlUGF5bWVudChwYWlkVG90YWwsIHBhaWRDYXNoLCBwYWlkQ2FyZCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgdGhlcmUncyBhbnl0aGluZyB0byBwcm9jZXNzIChpdGVtcywgY2FzaGJhY2ssIG9yIGxvdHRvIHdpbm5pbmdzKVxuICAgIGlmIChjYXJ0Lmxlbmd0aCA9PT0gMCAmJiBjYXNoYmFjayA9PT0gMCAmJiB0ZW1wTG90dG9BbW91bnQgPT09IDApIHtcbiAgICAgIGFsZXJ0KFxuICAgICAgICBcIk5vIGl0ZW1zIGluIGNhcnQsIG5vIGNhc2hiYWNrIGFtb3VudCwgYW5kIG5vIGxvdHRvIHdpbm5pbmdzIGVudGVyZWRcIlxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBjcmVkaXQgc2FsZVxuICAgIGlmIChpc0NyZWRpdFNhbGUgJiYgIWNyZWRpdEN1c3RvbWVyTmFtZS50cmltKCkpIHtcbiAgICAgIGFsZXJ0KFwiUGxlYXNlIGVudGVyIGN1c3RvbWVyIG5hbWUgZm9yIGNyZWRpdCBzYWxlXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEluaXRpYWxpemUgcGF5bWVudCB2YXJpYWJsZXMgKHJldXNlIHRoZSBvbmVzIGFscmVhZHkgZGVjbGFyZWQgYWJvdmUpXG4gICAgY29uc3QgbG90dG9BbW91bnQgPSBOdW1iZXIocGFyc2VGbG9hdChsb3R0b1dpbm5pbmdzKSB8fCAwKTtcbiAgICBsZXQgdG90YWxXaXRoQ2FzaGJhY2sgPSB0b3RhbCArIGNhc2hiYWNrO1xuICAgIGxldCBjaGFuZ2UgPSAwO1xuICAgIGxldCBjcmVkaXRCYWxhbmNlID0gMDtcbiAgICBsZXQgaXNQYXJ0aWFsUGF5bWVudCA9IGZhbHNlO1xuXG4gICAgaWYgKFxuICAgICAgaXNOYU4ocGFpZENhc2gpIHx8XG4gICAgICBpc05hTihwYWlkQ2FyZCkgfHxcbiAgICAgIGlzTmFOKGNhc2hiYWNrKSB8fFxuICAgICAgaXNOYU4obG90dG9BbW91bnQpIHx8XG4gICAgICBwYWlkQ2FzaCA8IDAgfHxcbiAgICAgIHBhaWRDYXJkIDwgMCB8fFxuICAgICAgY2FzaGJhY2sgPCAwIHx8XG4gICAgICBsb3R0b0Ftb3VudCA8IDBcbiAgICApIHtcbiAgICAgIHNldFBheW1lbnRFcnJvcihcIkludmFsaWQgcGF5bWVudCBhbW91bnRzXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENhbGN1bGF0ZSB0b3RhbCBpbmNsdWRpbmcgY2FzaGJhY2sgYXMgbGluZSBpdGVtLCBtaW51cyBsb3R0byB3aW5uaW5nc1xuICAgIC8vIE5vdGU6IGNhcmQgZmVlIGlzIGFscmVhZHkgaW5jbHVkZWQgaW4gdG90YWwgZnJvbSBjYWxjdWxhdGVUb3RhbCgpXG4gICAgY29uc3QgY2FyZEZlZUZvckNhbGMgPSBjYXJkRmVlRW5hYmxlZCA/IENBUkRfRkVFX0FNT1VOVCA6IDA7XG4gICAgY29uc3QgdG90YWxDYXJkRmVlID0gY2FyZEZlZUZvckNhbGM7XG5cbiAgICB0b3RhbFdpdGhDYXNoYmFjayA9IHRvdGFsICsgY2FzaGJhY2sgLSBsb3R0b0Ftb3VudDtcblxuICAgIGlmIChpc0NyZWRpdFNhbGUpIHtcbiAgICAgIC8vIFVzZSBzcGVjaWZpYyBjcmVkaXQgYW1vdW50IGlmIHByb3ZpZGVkLCBvdGhlcndpc2UgY2FsY3VsYXRlIGZyb20gcGF5bWVudCBkaWZmZXJlbmNlXG4gICAgICBjb25zdCBzcGVjaWZpZWRDcmVkaXRBbW91bnQgPSBOdW1iZXIocGFyc2VGbG9hdChjcmVkaXRBbW91bnQpIHx8IDApO1xuXG4gICAgICBpZiAoc3BlY2lmaWVkQ3JlZGl0QW1vdW50ID4gMCkge1xuICAgICAgICAvLyBDdXN0b21lciBzcGVjaWZpZWQgZXhhY3QgY3JlZGl0IGFtb3VudFxuICAgICAgICBjcmVkaXRCYWxhbmNlID0gc3BlY2lmaWVkQ3JlZGl0QW1vdW50O1xuICAgICAgICBjb25zdCByZXF1aXJlZFBheW1lbnQgPSB0b3RhbFdpdGhDYXNoYmFjayAtIGNyZWRpdEJhbGFuY2U7XG5cbiAgICAgICAgaWYgKHJlcXVpcmVkUGF5bWVudCA+IHBhaWRUb3RhbCArIDAuMDAxKSB7XG4gICAgICAgICAgc2V0UGF5bWVudEVycm9yKFxuICAgICAgICAgICAgYE5lZWQgJCR7cmVxdWlyZWRQYXltZW50LnRvRml4ZWQoXG4gICAgICAgICAgICAgIDJcbiAgICAgICAgICAgICl9IHBheW1lbnQgZm9yICQke2NyZWRpdEJhbGFuY2UudG9GaXhlZChcbiAgICAgICAgICAgICAgMlxuICAgICAgICAgICAgKX0gY3JlZGl0IChDdXJyZW50bHkgcGFpZDogJCR7cGFpZFRvdGFsLnRvRml4ZWQoMil9KWBcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlzUGFydGlhbFBheW1lbnQgPSBjcmVkaXRCYWxhbmNlID4gMCAmJiBwYWlkVG90YWwgPiAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVHJhZGl0aW9uYWwgbW9kZTogY3JlZGl0ID0gcmVtYWluaW5nIGJhbGFuY2UgYWZ0ZXIgcGF5bWVudFxuICAgICAgICBjcmVkaXRCYWxhbmNlID0gTWF0aC5tYXgoMCwgdG90YWxXaXRoQ2FzaGJhY2sgLSBwYWlkVG90YWwpO1xuICAgICAgICBpc1BhcnRpYWxQYXltZW50ID0gcGFpZFRvdGFsID4gMCAmJiBjcmVkaXRCYWxhbmNlID4gMDtcbiAgICAgIH1cblxuICAgICAgLy8gVmFsaWRhdGUgY3VzdG9tZXIgbmFtZSBmb3IgYW55IGNyZWRpdCBhbW91bnRcbiAgICAgIGlmIChjcmVkaXRCYWxhbmNlID4gMCAmJiAhY3JlZGl0Q3VzdG9tZXJOYW1lLnRyaW0oKSkge1xuICAgICAgICBhbGVydChcIlBsZWFzZSBlbnRlciBjdXN0b21lciBuYW1lIGZvciBjcmVkaXQgYW1vdW50XCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIElmIG5vIHBheW1lbnQgYW5kIG5vIGNyZWRpdCBhbW91bnQgc3BlY2lmaWVkLCByZXF1aXJlIGN1c3RvbWVyIG5hbWVcbiAgICAgIGlmIChcbiAgICAgICAgcGFpZFRvdGFsID09PSAwICYmXG4gICAgICAgIGNyZWRpdEJhbGFuY2UgPT09IDAgJiZcbiAgICAgICAgIWNyZWRpdEN1c3RvbWVyTmFtZS50cmltKClcbiAgICAgICkge1xuICAgICAgICBhbGVydChcIlBsZWFzZSBlbnRlciBjdXN0b21lciBuYW1lIG9yIHNwZWNpZnkgcGF5bWVudC9jcmVkaXQgYW1vdW50c1wiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGb3Igbm9uLWNyZWRpdCBzYWxlcywgcmVxdWlyZSBmdWxsIHBheW1lbnRcbiAgICAgIC8vIEZvciBjYXNoYmFjayB0cmFuc2FjdGlvbnMsIHJlcXVpcmUgY2FyZCBwYXltZW50IHRvIGNvdmVyIHRvdGFsIGluY2x1ZGluZyBjYXNoYmFja1xuICAgICAgaWYgKGNhc2hiYWNrID4gMCkge1xuICAgICAgICBpZiAocGFpZENhcmQgPCB0b3RhbFdpdGhDYXNoYmFjayAtIDAuMDAxKSB7XG4gICAgICAgICAgc2V0UGF5bWVudEVycm9yKFxuICAgICAgICAgICAgYENhc2hiYWNrIHJlcXVpcmVzIGNhcmQgcGF5bWVudCBvZiAkJHt0b3RhbFdpdGhDYXNoYmFjay50b0ZpeGVkKFxuICAgICAgICAgICAgICAyXG4gICAgICAgICAgICApfSAoVG90YWwgd2l0aCBDYXNoYmFjazogJCR7dG90YWxXaXRoQ2FzaGJhY2sudG9GaXhlZCgyKX0pYFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSZWd1bGFyIHRyYW5zYWN0aW9uIHdpdGhvdXQgY2FzaGJhY2tcbiAgICAgICAgaWYgKHBhaWRUb3RhbCA8IHRvdGFsV2l0aENhc2hiYWNrIC0gMC4wMDEpIHtcbiAgICAgICAgICBzZXRQYXltZW50RXJyb3IoXG4gICAgICAgICAgICBgUGF5bWVudCBpcyBpbnN1ZmZpY2llbnQuIE5lZWQgJCR7dG90YWxXaXRoQ2FzaGJhY2sudG9GaXhlZChcbiAgICAgICAgICAgICAgMlxuICAgICAgICAgICAgKX0gZm9yIHB1cmNoYXNlYFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNoYW5nZSA9XG4gICAgICAgIGNhc2hiYWNrID4gMFxuICAgICAgICAgID8gMFxuICAgICAgICAgIDogTWF0aC5tYXgoMCwgKyhwYWlkVG90YWwgLSB0b3RhbFdpdGhDYXNoYmFjaykudG9GaXhlZCgyKSk7XG4gICAgfVxuXG4gICAgLy8gUGF5bWVudCBicmVha2Rvd24gZm9yIGRpZmZlcmVudCB0cmFuc2FjdGlvbiB0eXBlc1xuICAgIGxldCBmaW5hbENhc2hBbW91bnQgPSAwO1xuICAgIGxldCBmaW5hbENhcmRBbW91bnQgPSAwO1xuXG4gICAgaWYgKGlzQ3JlZGl0U2FsZSkge1xuICAgICAgLy8gQ3JlZGl0IHNhbGUgLSBubyBpbW1lZGlhdGUgcGF5bWVudFxuICAgICAgZmluYWxDYXNoQW1vdW50ID0gMDtcbiAgICAgIGZpbmFsQ2FyZEFtb3VudCA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlZ3VsYXIgcGF5bWVudCBoYW5kbGluZyAtIHJlY29yZCBvbmx5IHRoZSBhY3R1YWwgc2FsZSBhbW91bnQsIG5vdCBvdmVycGF5bWVudFxuICAgICAgLy8gQ2FzaCBhbW91bnQgc2hvdWxkIGJlIHRoZSBwb3J0aW9uIG9mIHRoZSB0b3RhbCB0aGF0IHdhcyBwYWlkIGluIGNhc2ggKHVwIHRvIHRvdGFsIG93ZWQpXG4gICAgICBjb25zdCB0b3RhbE93ZWQgPSB0b3RhbFdpdGhDYXNoYmFjaztcbiAgICAgIGZpbmFsQ2FzaEFtb3VudCA9IE1hdGgubWluKHBhaWRDYXNoLCBNYXRoLm1heCgwLCB0b3RhbE93ZWQpKTtcbiAgICAgIGZpbmFsQ2FyZEFtb3VudCA9IE1hdGgubWluKFxuICAgICAgICBwYWlkQ2FyZCxcbiAgICAgICAgTWF0aC5tYXgoMCwgdG90YWxPd2VkIC0gZmluYWxDYXNoQW1vdW50KVxuICAgICAgKTtcblxuICAgICAgaWYgKGNhc2hiYWNrID4gMCkge1xuICAgICAgICAvLyBDYXNoYmFjayB0cmFuc2FjdGlvbnM6IHJlY29yZCBjYXNoIGdvaW5nIG91dCBhbmQgY2FyZCBwYXltZW50XG4gICAgICAgIGZpbmFsQ2FzaEFtb3VudCA9IC1jYXNoYmFjazsgLy8gQ2FzaCByZWR1Y2VkIGZyb20gcmVnaXN0ZXJcbiAgICAgICAgZmluYWxDYXJkQW1vdW50ID0gcGFpZENhcmQ7IC8vIENhcmQgcGF5bWVudCBjb3ZlcnMgcHVyY2hhc2UgKyBjYXNoYmFja1xuICAgICAgfVxuXG4gICAgICAvLyBIYW5kbGUgbG90dG8gd2lubmluZ3MgLSBjdXN0b21lciBnZXRzIGNhc2ggYmFjayBpZiB0b3RhbCBpcyBuZWdhdGl2ZVxuICAgICAgaWYgKGxvdHRvQW1vdW50ID4gMCAmJiB0b3RhbFdpdGhDYXNoYmFjayA8IDApIHtcbiAgICAgICAgLy8gQ3VzdG9tZXIgb3dlcyBub3RoaW5nIGFuZCBnZXRzIG1vbmV5IGJhY2sgKGxvdHRvIHdpbm5pbmdzIGV4Y2VlZCBwdXJjaGFzZSB0b3RhbClcbiAgICAgICAgZmluYWxDYXNoQW1vdW50ID0gdG90YWxXaXRoQ2FzaGJhY2s7IC8vIE5lZ2F0aXZlIGNhc2ggYW1vdW50ID0gY2FzaCBnb2luZyBvdXQgb2YgcmVnaXN0ZXJcbiAgICAgICAgZmluYWxDYXJkQW1vdW50ID0gMDsgLy8gTm8gY2FyZCBwYXltZW50IG5lZWRlZFxuICAgICAgfSBlbHNlIGlmIChsb3R0b0Ftb3VudCA+IDApIHtcbiAgICAgICAgLy8gTG90dG8gd2lubmluZ3MgcmVkdWNlIHRoZSBhbW91bnQgY3VzdG9tZXIgbmVlZHMgdG8gcGF5XG4gICAgICAgIC8vIEFkanVzdCBwYXltZW50IGFtb3VudHMgcHJvcG9ydGlvbmFsbHlcbiAgICAgICAgY29uc3QgcmVtYWluaW5nVG90YWwgPSB0b3RhbFdpdGhDYXNoYmFjaztcbiAgICAgICAgaWYgKHJlbWFpbmluZ1RvdGFsID4gMCkge1xuICAgICAgICAgIGNvbnN0IGNhc2hSYXRpbyA9IHBhaWRDYXNoIC8gcGFpZFRvdGFsO1xuICAgICAgICAgIGNvbnN0IGNhcmRSYXRpbyA9IHBhaWRDYXJkIC8gcGFpZFRvdGFsO1xuICAgICAgICAgIGZpbmFsQ2FzaEFtb3VudCA9IHJlbWFpbmluZ1RvdGFsICogY2FzaFJhdGlvO1xuICAgICAgICAgIGZpbmFsQ2FyZEFtb3VudCA9IHJlbWFpbmluZ1RvdGFsICogY2FyZFJhdGlvO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcGF5bWVudEJyZWFrZG93biA9IFtdO1xuICAgIGlmIChpc0NyZWRpdFNhbGUpIHtcbiAgICAgIC8vIEZvciBwYXJ0aWFsIHBheW1lbnRzLCByZWNvcmQgYm90aCBwYXltZW50IGFuZCBjcmVkaXRcbiAgICAgIGlmIChpc1BhcnRpYWxQYXltZW50KSB7XG4gICAgICAgIGlmIChwYWlkQ2FzaCA+IDApXG4gICAgICAgICAgcGF5bWVudEJyZWFrZG93bi5wdXNoKHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJjYXNoXCIsXG4gICAgICAgICAgICBhbW91bnQ6ICtwYWlkQ2FzaC50b0ZpeGVkKDIpLFxuICAgICAgICAgIH0pO1xuICAgICAgICBpZiAocGFpZENhcmQgPiAwKVxuICAgICAgICAgIHBheW1lbnRCcmVha2Rvd24ucHVzaCh7XG4gICAgICAgICAgICBtZXRob2Q6IFwiY2FyZFwiLFxuICAgICAgICAgICAgYW1vdW50OiArcGFpZENhcmQudG9GaXhlZCgyKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgcGF5bWVudEJyZWFrZG93bi5wdXNoKHtcbiAgICAgICAgICBtZXRob2Q6IFwiY3JlZGl0XCIsXG4gICAgICAgICAgYW1vdW50OiArY3JlZGl0QmFsYW5jZS50b0ZpeGVkKDIpLFxuICAgICAgICAgIGN1c3RvbWVyTmFtZTogY3JlZGl0Q3VzdG9tZXJOYW1lLnRyaW0oKSxcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGdWxsIGNyZWRpdCBzYWxlIChubyBwYXltZW50KVxuICAgICAgICBwYXltZW50QnJlYWtkb3duLnB1c2goe1xuICAgICAgICAgIG1ldGhvZDogXCJjcmVkaXRcIixcbiAgICAgICAgICBhbW91bnQ6ICt0b3RhbFdpdGhDYXNoYmFjay50b0ZpeGVkKDIpLFxuICAgICAgICAgIGN1c3RvbWVyTmFtZTogY3JlZGl0Q3VzdG9tZXJOYW1lLnRyaW0oKSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChmaW5hbENhc2hBbW91bnQgIT09IDApXG4gICAgICAgIHBheW1lbnRCcmVha2Rvd24ucHVzaCh7XG4gICAgICAgICAgbWV0aG9kOiBcImNhc2hcIixcbiAgICAgICAgICBhbW91bnQ6ICtmaW5hbENhc2hBbW91bnQudG9GaXhlZCgyKSxcbiAgICAgICAgfSk7XG4gICAgICBpZiAoZmluYWxDYXJkQW1vdW50ID4gMClcbiAgICAgICAgcGF5bWVudEJyZWFrZG93bi5wdXNoKHtcbiAgICAgICAgICBtZXRob2Q6IFwiY2FyZFwiLFxuICAgICAgICAgIGFtb3VudDogK2ZpbmFsQ2FyZEFtb3VudC50b0ZpeGVkKDIpLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBZGQgbG90dG8gd2lubmluZ3MgdG8gcGF5bWVudCBicmVha2Rvd24gZm9yIHRyYWNraW5nXG4gICAgaWYgKGxvdHRvQW1vdW50ID4gMClcbiAgICAgIHBheW1lbnRCcmVha2Rvd24ucHVzaCh7XG4gICAgICAgIG1ldGhvZDogXCJsb3R0b1wiLFxuICAgICAgICBhbW91bnQ6ICtsb3R0b0Ftb3VudC50b0ZpeGVkKDIpLFxuICAgICAgfSk7XG5cbiAgICAvLyBJbmNsdWRlIGNhc2hiYWNrIGFzIGFuIGl0ZW0gaWYgcHJlc2VudFxuICAgIGNvbnN0IHRyYW5zYWN0aW9uSXRlbXMgPSBjYXJ0Lm1hcCgoYykgPT4gKHtcbiAgICAgIGlkOiBjLmlkLFxuICAgICAgbmFtZTogYy5uYW1lLFxuICAgICAgcXVhbnRpdHk6IGMucXVhbnRpdHksXG4gICAgICBwcmljZTogYy5wcmljZSxcbiAgICAgIGFwcGx5VGF4OiBjLmFwcGx5VGF4LFxuICAgICAgY2F0ZWdvcnk6IGMuY2F0ZWdvcnksXG4gICAgfSkpO1xuXG4gICAgLy8gQWRkIGNhc2hiYWNrIGFzIGEgbGluZSBpdGVtIGlmIHByZXNlbnRcbiAgICBpZiAoY2FzaGJhY2sgPiAwKSB7XG4gICAgICB0cmFuc2FjdGlvbkl0ZW1zLnB1c2goe1xuICAgICAgICBpZDogXCJjYXNoYmFjay1pdGVtXCIsXG4gICAgICAgIG5hbWU6IFwiQ2FzaGJhY2tcIixcbiAgICAgICAgcXVhbnRpdHk6IDEsXG4gICAgICAgIHByaWNlOiBjYXNoYmFjayxcbiAgICAgICAgYXBwbHlUYXg6IGZhbHNlLFxuICAgICAgICBjYXRlZ29yeTogXCJDYXNoYmFja1wiLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gQWRkIGNhc2hiYWNrIGZlZSBhcyBhIGxpbmUgaXRlbSBpZiBwcmVzZW50XG4gICAgaWYgKGNiRmVlID4gMCkge1xuICAgICAgdHJhbnNhY3Rpb25JdGVtcy5wdXNoKHtcbiAgICAgICAgaWQ6IFwiY2FzaGJhY2stZmVlLWl0ZW1cIixcbiAgICAgICAgbmFtZTogXCJDYXNoYmFjayBGZWVcIixcbiAgICAgICAgcXVhbnRpdHk6IDEsXG4gICAgICAgIHByaWNlOiBjYkZlZSxcbiAgICAgICAgYXBwbHlUYXg6IHRydWUsIC8vIENhc2hiYWNrIGZlZXMgYXJlIHR5cGljYWxseSB0YXhhYmxlXG4gICAgICAgIGNhdGVnb3J5OiBcIkZlZXNcIixcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEFkZCBjYXJkIGZlZSBhcyBhIGxpbmUgaXRlbSBpZiBwcmVzZW50XG4gICAgY29uc3QgY2FyZEZlZUZvckl0ZW0gPSBjYXJkRmVlRW5hYmxlZCA/IENBUkRfRkVFX0FNT1VOVCA6IDA7XG4gICAgY29uc3QgY2NDaGFyZ2VGb3JMaW5lSXRlbSA9IGNhcmRGZWVGb3JJdGVtO1xuICAgIGlmIChjY0NoYXJnZUZvckxpbmVJdGVtID4gMCkge1xuICAgICAgdHJhbnNhY3Rpb25JdGVtcy5wdXNoKHtcbiAgICAgICAgaWQ6IFwiY2FyZC1wcm9jZXNzaW5nLWZlZS1pdGVtXCIsXG4gICAgICAgIG5hbWU6IFwiQ2FyZCBQcm9jZXNzaW5nIEZlZVwiLFxuICAgICAgICBxdWFudGl0eTogMSxcbiAgICAgICAgcHJpY2U6IGNjQ2hhcmdlRm9yTGluZUl0ZW0sXG4gICAgICAgIGFwcGx5VGF4OiBmYWxzZSwgLy8gQ2FyZCBwcm9jZXNzaW5nIGZlZXMgYXJlIHR5cGljYWxseSBub3QgdGF4YWJsZVxuICAgICAgICBjYXRlZ29yeTogXCJGZWVzXCIsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBZGQgbG90dG8gd2lubmluZ3MgYXMgYSBsaW5lIGl0ZW0gaWYgcHJlc2VudCAobmVnYXRpdmUgcHJpY2UgPSBkaXNjb3VudClcbiAgICBpZiAobG90dG9BbW91bnQgPiAwKSB7XG4gICAgICB0cmFuc2FjdGlvbkl0ZW1zLnB1c2goe1xuICAgICAgICBpZDogXCJsb3R0by13aW5uaW5nc1wiLFxuICAgICAgICBuYW1lOiBcIkxvdHRvIFdpbm5pbmdzXCIsXG4gICAgICAgIHF1YW50aXR5OiAxLFxuICAgICAgICBwcmljZTogLWxvdHRvQW1vdW50LCAvLyBOZWdhdGl2ZSBwcmljZSA9IGNyZWRpdC9kaXNjb3VudFxuICAgICAgICBhcHBseVRheDogZmFsc2UsXG4gICAgICAgIGNhdGVnb3J5OiBcIkxvdHRvXCIsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBZGQgZGlzY291bnQgYXMgYSBsaW5lIGl0ZW0gaWYgcHJlc2VudCAobmVnYXRpdmUgcHJpY2UgPSBkaXNjb3VudClcbiAgICBpZiAoZGlzY291bnQgPiAwKSB7XG4gICAgICB0cmFuc2FjdGlvbkl0ZW1zLnB1c2goe1xuICAgICAgICBpZDogXCJkaXNjb3VudC1pdGVtXCIsXG4gICAgICAgIG5hbWU6IFwiRGlzY291bnRcIixcbiAgICAgICAgcXVhbnRpdHk6IDEsXG4gICAgICAgIHByaWNlOiAtZGlzY291bnQsXG4gICAgICAgIGFwcGx5VGF4OiBmYWxzZSxcbiAgICAgICAgY2F0ZWdvcnk6IFwiRGlzY291bnRcIixcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFJlY2FsY3VsYXRlIHRvdGFscyB3aXRoIGNhc2hiYWNrLCBsb3R0byB3aW5uaW5ncywgZGlzY291bnQsIGFuZCBjYXNoYmFjayBmZWUgaW5jbHVkZWQgYXMgaXRlbXNcbiAgICBjb25zdCBuZXdTdWJ0b3RhbCA9XG4gICAgICBvcmlnaW5hbFN1YnRvdGFsICsgY2FzaGJhY2sgLSBsb3R0b0Ftb3VudCAtIGRpc2NvdW50ICsgY2JGZWU7XG4gICAgY29uc3QgbmV3VGF4YWJsZVRvdGFsID0gZ2V0VGF4YWJsZVRvdGFsKCkgKyBjYkZlZTsgLy8gY2FzaGJhY2sgZmVlIGlzIHRheGFibGUsIGRpc2NvdW50L2Nhc2hiYWNrL2xvdHRvIGFyZSBub24tdGF4YWJsZVxuICAgIGNvbnN0IG5ld05vblRheGFibGVUb3RhbCA9XG4gICAgICBnZXROb25UYXhhYmxlVG90YWwoKSArIGNhc2hiYWNrIC0gbG90dG9BbW91bnQgLSBkaXNjb3VudDtcbiAgICBjb25zdCBuZXdUYXggPSB0YXg7IC8vIHRheCBhbHJlYWR5IGNhbGN1bGF0ZWQgb24gZGlzY291bnRlZCBhbW91bnRcbiAgICBjb25zdCBuZXdUb3RhbCA9IHRvdGFsICsgY2FzaGJhY2sgLSBsb3R0b0Ftb3VudCArIGNjQ2hhcmdlRm9yTGluZUl0ZW07XG5cbiAgICBjb25zdCB0cmFuc2FjdGlvbiA9IHtcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgaXRlbXM6IHRyYW5zYWN0aW9uSXRlbXMsXG4gICAgICBvcmlnaW5hbFN1YnRvdGFsOiBvcmlnaW5hbFN1YnRvdGFsLCAvLyBJdGVtcyB0b3RhbCBiZWZvcmUgZGlzY291bnRcbiAgICAgIGRpc2NvdW50OiBkaXNjb3VudCxcbiAgICAgIHN1YnRvdGFsOiBuZXdTdWJ0b3RhbCxcbiAgICAgIHRheGFibGVBbW91bnQ6IG5ld1RheGFibGVUb3RhbCxcbiAgICAgIG5vblRheGFibGVBbW91bnQ6IG5ld05vblRheGFibGVUb3RhbCxcbiAgICAgIHRheDogbmV3VGF4LFxuICAgICAgdG90YWw6IG5ld1RvdGFsLFxuICAgICAgZmluYWxUb3RhbDogdG90YWxXaXRoQ2FzaGJhY2ssIC8vIFRvdGFsIGFtb3VudCBjdXN0b21lciBvd2VzXG4gICAgICBjYXNoYmFjazogY2FzaGJhY2ssXG4gICAgICBwYXltZW50QnJlYWtkb3duLFxuICAgICAgY2hhbmdlLFxuICAgICAgaXNDcmVkaXRTYWxlOiBpc0NyZWRpdFNhbGUsXG4gICAgICBpc1BhcnRpYWxQYXltZW50OiBpc1BhcnRpYWxQYXltZW50LFxuICAgICAgY3JlZGl0QmFsYW5jZTogY3JlZGl0QmFsYW5jZSxcbiAgICAgIHBhaWRBbW91bnQ6IHBhaWRUb3RhbCxcbiAgICAgIGNyZWRpdEN1c3RvbWVyTmFtZTogaXNDcmVkaXRTYWxlID8gY3JlZGl0Q3VzdG9tZXJOYW1lLnRyaW0oKSA6IG51bGwsXG4gICAgICBjcmVkaXRTdGF0dXM6IGlzQ3JlZGl0U2FsZVxuICAgICAgICA/IGNyZWRpdEJhbGFuY2UgPiAwXG4gICAgICAgICAgPyBcInVucGFpZFwiXG4gICAgICAgICAgOiBcInBhaWRcIlxuICAgICAgICA6IG51bGwsXG4gICAgICBsb3R0b1dpbm5pbmdzOiBsb3R0b0Ftb3VudCxcbiAgICAgIC8vIEVuaGFuY2VkIGNhcmQgZmVlIHRyYWNraW5nXG4gICAgICBjYXJkVHlwZTogY2FyZFR5cGUsXG4gICAgICBjYXJkRmVlRW5hYmxlZDogY2FyZEZlZUVuYWJsZWQsXG4gICAgfTtcblxuICAgIC8vIHNlbmQgdG8gc2VydmVyXG4gICAgZmV0Y2goXCIvYXBpL3RyYW5zYWN0aW9uXCIsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICBcIngtYXBpLWtleVwiOiBcImRldi1zZWNyZXRcIixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0cmFuc2FjdGlvbiksXG4gICAgfSlcbiAgICAgIC50aGVuKChyKSA9PiByLmpzb24oKSlcbiAgICAgIC50aGVuKGFzeW5jIChkYXRhKSA9PiB7XG4gICAgICAgIGlmIChkYXRhICYmIGRhdGEudHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICBzZXRMYXN0VHJhbnNhY3Rpb24oeyBpZDogZGF0YS5pZCwgLi4uZGF0YS50cmFuc2FjdGlvbiB9KTtcbiAgICAgICAgICBzZXRTaG93UmVjZWlwdCh0cnVlKTtcbiAgICAgICAgICBzZXRDYXJ0KFtdKTtcbiAgICAgICAgICBzZXRDYXNoQW1vdW50KFwiXCIpO1xuICAgICAgICAgIHNldENhcmRBbW91bnQoXCJcIik7XG4gICAgICAgICAgc2V0Q2FzaGJhY2tBbW91bnQoXCJcIik7XG4gICAgICAgICAgc2V0TG90dG9XaW5uaW5ncyhcIlwiKTtcbiAgICAgICAgICBzZXREaXNjb3VudEFtb3VudChcIlwiKTtcbiAgICAgICAgICBzZXRJc0NyZWRpdFNhbGUoZmFsc2UpO1xuICAgICAgICAgIHNldENyZWRpdEN1c3RvbWVyTmFtZShcIlwiKTtcbiAgICAgICAgICBzZXRDcmVkaXRBbW91bnQoMCk7XG4gICAgICAgICAgc2V0UGF5bWVudEVycm9yKFwiXCIpO1xuICAgICAgICAgIC8vIFJlc2V0IGNhcmQgZmVlIHN0YXRlc1xuICAgICAgICAgIHNldENhcmRUeXBlKFwiZGViaXRcIik7XG4gICAgICAgICAgc2V0Q2FyZEZlZUVuYWJsZWQoZmFsc2UpO1xuICAgICAgICAgIC8vIFVwZGF0ZSBpbnZlbnRvcnkgZm9yIGFsbCBzYWxlcyBleGNlcHQgZnVsbCBjcmVkaXQgc2FsZXMgKG5vIHBheW1lbnQpXG4gICAgICAgICAgLy8gUGFydGlhbCBwYXltZW50cyBzaG91bGQgdXBkYXRlIGludmVudG9yeSBzaW5jZSBnb29kcyBhcmUgZGVsaXZlcmVkXG4gICAgICAgICAgaWYgKCFpc0NyZWRpdFNhbGUgfHwgaXNQYXJ0aWFsUGF5bWVudCkge1xuICAgICAgICAgICAgZGlzcGF0Y2godXBkYXRlSW52ZW50b3J5QWZ0ZXJUcmFuc2FjdGlvbihjYXJ0KSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gVXBkYXRlIGNyZWRpdCBhY2NvdW50IGlmIHRoaXMgaXMgYSBjcmVkaXQgc2FsZVxuICAgICAgICAgIGlmIChpc0NyZWRpdFNhbGUgJiYgY3JlZGl0Q3VzdG9tZXJOYW1lLnRyaW0oKSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY29uc3QgY3JlZGl0QWNjb3VudFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgICAgICAgXCIvYXBpL2NyZWRpdC9hY2NvdW50c1wiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcImFkZENyZWRpdFwiLFxuICAgICAgICAgICAgICAgICAgICBjdXN0b21lck5hbWU6IGNyZWRpdEN1c3RvbWVyTmFtZS50cmltKCksXG4gICAgICAgICAgICAgICAgICAgIGFtb3VudDogY3JlZGl0QmFsYW5jZSxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25JZDogZGF0YS5pZCxcbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICBpZiAoIWNyZWRpdEFjY291bnRSZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgICAgIFwiRmFpbGVkIHRvIHVwZGF0ZSBjcmVkaXQgYWNjb3VudDpcIixcbiAgICAgICAgICAgICAgICAgIGF3YWl0IGNyZWRpdEFjY291bnRSZXNwb25zZS50ZXh0KClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRDdXN0b21lclJlc3BvbnNlID1cbiAgICAgICAgICAgICAgICAgIGF3YWl0IGNyZWRpdEFjY291bnRSZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZEFjY291bnQgPSB1cGRhdGVkQ3VzdG9tZXJSZXNwb25zZS5hY2NvdW50O1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICAgICAgXCJDcmVkaXQgYWNjb3VudCB1cGRhdGVkIHN1Y2Nlc3NmdWxseSBmb3IgY3VzdG9tZXI6XCIsXG4gICAgICAgICAgICAgICAgICBjcmVkaXRDdXN0b21lck5hbWUudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgXCJOZXcgYmFsYW5jZTpcIixcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZWRBY2NvdW50LmJhbGFuY2VcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIGxvY2FsIHN0YXRlIGlmIHRoaXMgY3VzdG9tZXIgd2FzIHNlbGVjdGVkXG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRDdXN0b21lciAmJlxuICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRDdXN0b21lci5jdXN0b21lck5hbWUgPT09IGNyZWRpdEN1c3RvbWVyTmFtZS50cmltKClcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIHNldEN1c3RvbWVyQmFsYW5jZSh1cGRhdGVkQWNjb3VudC5iYWxhbmNlKTtcbiAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkQ3VzdG9tZXIodXBkYXRlZEFjY291bnQpO1xuXG4gICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGN1c3RvbWVycyBsaXN0XG4gICAgICAgICAgICAgICAgICBzZXRFeGlzdGluZ0N1c3RvbWVycygocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgcHJldi5tYXAoKGMpID0+XG4gICAgICAgICAgICAgICAgICAgICAgYy5jdXN0b21lck5hbWUgPT09IGNyZWRpdEN1c3RvbWVyTmFtZS50cmltKClcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdXBkYXRlZEFjY291bnRcbiAgICAgICAgICAgICAgICAgICAgICAgIDogY1xuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAvLyBJZiBubyBjdXN0b21lciBzZWxlY3RlZCwgcmVmcmVzaCB0aGUgZW50aXJlIGxpc3RcbiAgICAgICAgICAgICAgICAgIGZldGNoRXhpc3RpbmdDdXN0b21lcnMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJFcnJvciB1cGRhdGluZyBjcmVkaXQgYWNjb3VudDpcIiwgZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIlVuZXhwZWN0ZWQgcmVzcG9uc2UgZnJvbSB0cmFuc2FjdGlvbiBBUElcIiwgZGF0YSk7XG4gICAgICAgICAgc2V0UGF5bWVudEVycm9yKFwiRmFpbGVkIHRvIGNvbXBsZXRlIHRyYW5zYWN0aW9uXCIpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlRyYW5zYWN0aW9uIEFQSSBlcnJvclwiLCBlcnIpO1xuICAgICAgICBzZXRQYXltZW50RXJyb3IoXCJGYWlsZWQgdG8gY29tcGxldGUgdHJhbnNhY3Rpb25cIik7XG4gICAgICB9KTtcbiAgfTtcblxuICBjb25zdCBzdGFydE5ld1NhbGUgPSAoKSA9PiB7XG4gICAgc2V0U2hvd1JlY2VpcHQoZmFsc2UpO1xuICAgIHNldExhc3RUcmFuc2FjdGlvbihudWxsKTtcbiAgICBzZXRDYXJ0KFtdKTtcbiAgICBzZXRDYXNoQW1vdW50KFwiXCIpO1xuICAgIHNldENhcmRBbW91bnQoXCJcIik7XG4gICAgc2V0Q2FzaGJhY2tBbW91bnQoXCJcIik7XG4gICAgc2V0Q2FzaGJhY2tGZWUoXCJcIik7XG4gICAgc2V0Q2FzaGJhY2tFbmFibGVkKGZhbHNlKTtcbiAgICBzZXRMb3R0b1dpbm5pbmdzKFwiXCIpO1xuICAgIHNldERpc2NvdW50QW1vdW50KFwiXCIpO1xuICAgIHNldElzQ3JlZGl0U2FsZShmYWxzZSk7XG4gICAgc2V0Q3JlZGl0Q3VzdG9tZXJOYW1lKFwiXCIpO1xuICAgIHNldENyZWRpdEFtb3VudCgwKTtcbiAgICBzZXRQYXltZW50RXJyb3IoXCJcIik7XG4gICAgLy8gUmVzZXQgY2FyZCBmZWUgc3RhdGVzXG4gICAgc2V0Q2FyZFR5cGUoXCJkZWJpdFwiKTtcbiAgICBzZXRDYXJkRmVlRW5hYmxlZChmYWxzZSk7XG4gIH07XG5cbiAgLy8gQ3JlZGl0IGN1c3RvbWVyIG1hbmFnZW1lbnQgZnVuY3Rpb25zXG4gIGNvbnN0IGZldGNoRXhpc3RpbmdDdXN0b21lcnMgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXCIvYXBpL2NyZWRpdC9hY2NvdW50c1wiKTtcbiAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAvLyBUaGUgQVBJIHJldHVybnMgYWNjb3VudHMgaW4gYW4gJ2FjY291bnRzJyBwcm9wZXJ0eVxuICAgICAgICBjb25zdCBjdXN0b21lcnMgPSBkYXRhLmFjY291bnRzIHx8IFtdO1xuICAgICAgICBjb25zb2xlLmxvZyhcIkZldGNoZWQgZXhpc3RpbmcgY3VzdG9tZXJzOlwiLCBjdXN0b21lcnMpO1xuICAgICAgICBzZXRFeGlzdGluZ0N1c3RvbWVycyhjdXN0b21lcnMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBmZXRjaCBleGlzdGluZyBjdXN0b21lcnNcIik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgY3VzdG9tZXJzOlwiLCBlcnIpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVDdXN0b21lck5hbWVDaGFuZ2UgPSAodmFsdWUpID0+IHtcbiAgICBzZXRDcmVkaXRDdXN0b21lck5hbWUodmFsdWUpO1xuXG4gICAgaWYgKHZhbHVlLmxlbmd0aCA+IDAgJiYgQXJyYXkuaXNBcnJheShleGlzdGluZ0N1c3RvbWVycykpIHtcbiAgICAgIGNvbnN0IG1hdGNoaW5nQ3VzdG9tZXJzID0gZXhpc3RpbmdDdXN0b21lcnMuZmlsdGVyKFxuICAgICAgICAoY3VzdG9tZXIpID0+XG4gICAgICAgICAgY3VzdG9tZXIgJiZcbiAgICAgICAgICBjdXN0b21lci5jdXN0b21lck5hbWUgJiZcbiAgICAgICAgICBjdXN0b21lci5jdXN0b21lck5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh2YWx1ZS50b0xvd2VyQ2FzZSgpKVxuICAgICAgKTtcbiAgICAgIC8vIEFsd2F5cyBzaG93IHN1Z2dlc3Rpb25zIHdoZW4gdHlwaW5nIChmb3IgZXhpc3RpbmcgY3VzdG9tZXJzIG9yIG5ldyBjdXN0b21lciBvcHRpb24pXG4gICAgICBzZXRTaG93Q3VzdG9tZXJTdWdnZXN0aW9ucyh0cnVlKTtcblxuICAgICAgLy8gQXV0by1zZWxlY3QgaWYgZXhhY3QgbWF0Y2hcbiAgICAgIGNvbnN0IGV4YWN0TWF0Y2ggPSBleGlzdGluZ0N1c3RvbWVycy5maW5kKFxuICAgICAgICAoY3VzdG9tZXIpID0+XG4gICAgICAgICAgY3VzdG9tZXIgJiZcbiAgICAgICAgICBjdXN0b21lci5jdXN0b21lck5hbWUgJiZcbiAgICAgICAgICBjdXN0b21lci5jdXN0b21lck5hbWUudG9Mb3dlckNhc2UoKSA9PT0gdmFsdWUudG9Mb3dlckNhc2UoKVxuICAgICAgKTtcbiAgICAgIGlmIChleGFjdE1hdGNoKSB7XG4gICAgICAgIHNldFNlbGVjdGVkQ3VzdG9tZXIoZXhhY3RNYXRjaCk7XG4gICAgICAgIHNldEN1c3RvbWVyQmFsYW5jZShleGFjdE1hdGNoLmJhbGFuY2UgfHwgMCk7XG4gICAgICAgIHNldFNob3dQYXltZW50T3B0aW9ucyh0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFNlbGVjdGVkQ3VzdG9tZXIobnVsbCk7XG4gICAgICAgIHNldEN1c3RvbWVyQmFsYW5jZSgwKTtcbiAgICAgICAgc2V0U2hvd1BheW1lbnRPcHRpb25zKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2V0U2hvd0N1c3RvbWVyU3VnZ2VzdGlvbnMoZmFsc2UpO1xuICAgICAgc2V0U2VsZWN0ZWRDdXN0b21lcihudWxsKTtcbiAgICAgIHNldEN1c3RvbWVyQmFsYW5jZSgwKTtcbiAgICAgIHNldFNob3dQYXltZW50T3B0aW9ucyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUN1c3RvbWVyU2VsZWN0aW9uID0gKGN1c3RvbWVyKSA9PiB7XG4gICAgc2V0Q3JlZGl0Q3VzdG9tZXJOYW1lKGN1c3RvbWVyLmN1c3RvbWVyTmFtZSk7XG4gICAgc2V0U2VsZWN0ZWRDdXN0b21lcihjdXN0b21lcik7XG4gICAgc2V0Q3VzdG9tZXJCYWxhbmNlKGN1c3RvbWVyLmJhbGFuY2UgfHwgMCk7XG4gICAgc2V0U2hvd0N1c3RvbWVyU3VnZ2VzdGlvbnMoZmFsc2UpO1xuICAgIHNldFNob3dQYXltZW50T3B0aW9ucyh0cnVlKTtcbiAgfTtcblxuICBjb25zdCBwcm9jZXNzQ3VzdG9tZXJQYXltZW50ID0gYXN5bmMgKHBheW1lbnRBbW91bnQpID0+IHtcbiAgICBpZiAoIXNlbGVjdGVkQ3VzdG9tZXIpIHJldHVybjtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFwiL2FwaS9jcmVkaXQvYWNjb3VudHNcIiwge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBhY3Rpb246IFwicGF5bWVudFwiLFxuICAgICAgICAgIGN1c3RvbWVyTmFtZTogc2VsZWN0ZWRDdXN0b21lci5jdXN0b21lck5hbWUsXG4gICAgICAgICAgYW1vdW50OiBwYXltZW50QW1vdW50LFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgdXBkYXRlZEN1c3RvbWVyID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBzZXRDdXN0b21lckJhbGFuY2UodXBkYXRlZEN1c3RvbWVyLmJhbGFuY2UpO1xuICAgICAgICBzZXRTZWxlY3RlZEN1c3RvbWVyKHVwZGF0ZWRDdXN0b21lcik7XG5cbiAgICAgICAgLy8gVXBkYXRlIHRoZSBjdXN0b21lcnMgbGlzdFxuICAgICAgICBzZXRFeGlzdGluZ0N1c3RvbWVycygocHJldikgPT5cbiAgICAgICAgICBwcmV2Lm1hcCgoYykgPT5cbiAgICAgICAgICAgIGMuY3VzdG9tZXJOYW1lID09PSB1cGRhdGVkQ3VzdG9tZXIuY3VzdG9tZXJOYW1lXG4gICAgICAgICAgICAgID8gdXBkYXRlZEN1c3RvbWVyXG4gICAgICAgICAgICAgIDogY1xuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBwcm9jZXNzaW5nIHBheW1lbnQ6XCIsIGVycik7XG4gICAgfVxuICB9O1xuXG4gIC8vIExvYWQgZXhpc3RpbmcgY3VzdG9tZXJzIHdoZW4gY3JlZGl0IHNhbGUgbW9kZSBpcyBhY3RpdmF0ZWRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNDcmVkaXRTYWxlICYmIGV4aXN0aW5nQ3VzdG9tZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgZmV0Y2hFeGlzdGluZ0N1c3RvbWVycygpO1xuICAgIH1cbiAgfSwgW2lzQ3JlZGl0U2FsZV0pO1xuXG4gIC8vIEhhbmRsZSBjcmVkaXRQYXltZW50IFVSTCBwYXJhbWV0ZXIgZnJvbSBjcmVkaXQgbWFuYWdlbWVudCBwYWdlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY3JlZGl0UGF5bWVudFBhcmFtID0gc2VhcmNoUGFyYW1zPy5nZXQoXCJjcmVkaXRQYXltZW50XCIpO1xuICAgIGlmIChjcmVkaXRQYXltZW50UGFyYW0pIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiQ3JlZGl0IHBheW1lbnQgcGFyYW1ldGVyIGRldGVjdGVkOlwiLCBjcmVkaXRQYXltZW50UGFyYW0pO1xuXG4gICAgICAvLyBFbmFibGUgY3JlZGl0IHNhbGUgbW9kZVxuICAgICAgc2V0SXNDcmVkaXRTYWxlKHRydWUpO1xuXG4gICAgICAvLyBTZXQgdGhlIGN1c3RvbWVyIG5hbWVcbiAgICAgIHNldENyZWRpdEN1c3RvbWVyTmFtZShjcmVkaXRQYXltZW50UGFyYW0pO1xuXG4gICAgICAvLyBGZXRjaCBleGlzdGluZyBjdXN0b21lcnMgdG8gZmluZCB0aGlzIHNwZWNpZmljIGN1c3RvbWVyXG4gICAgICBmZXRjaEV4aXN0aW5nQ3VzdG9tZXJzKCkudGhlbigoKSA9PiB7XG4gICAgICAgIC8vIFRoaXMgd2lsbCBiZSBoYW5kbGVkIGJ5IHRoZSBuZXh0IHVzZUVmZmVjdCB3aGVuIGV4aXN0aW5nQ3VzdG9tZXJzIHVwZGF0ZXNcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW3NlYXJjaFBhcmFtc10pO1xuXG4gIC8vIEF1dG8tc2VsZWN0IGN1c3RvbWVyIHdoZW4gY3JlZGl0UGF5bWVudCBwYXJhbWV0ZXIgaXMgdXNlZFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGNyZWRpdFBheW1lbnRQYXJhbSA9IHNlYXJjaFBhcmFtcz8uZ2V0KFwiY3JlZGl0UGF5bWVudFwiKTtcbiAgICBpZiAoY3JlZGl0UGF5bWVudFBhcmFtICYmIGV4aXN0aW5nQ3VzdG9tZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHRhcmdldEN1c3RvbWVyID0gZXhpc3RpbmdDdXN0b21lcnMuZmluZChcbiAgICAgICAgKGN1c3RvbWVyKSA9PlxuICAgICAgICAgIGN1c3RvbWVyLmN1c3RvbWVyTmFtZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgIGNyZWRpdFBheW1lbnRQYXJhbS50b0xvd2VyQ2FzZSgpXG4gICAgICApO1xuXG4gICAgICBpZiAodGFyZ2V0Q3VzdG9tZXIpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJBdXRvLXNlbGVjdGluZyBjdXN0b21lcjpcIiwgdGFyZ2V0Q3VzdG9tZXIpO1xuICAgICAgICBzZXRTZWxlY3RlZEN1c3RvbWVyKHRhcmdldEN1c3RvbWVyKTtcbiAgICAgICAgc2V0Q3VzdG9tZXJCYWxhbmNlKHRhcmdldEN1c3RvbWVyLmJhbGFuY2UgfHwgMCk7XG4gICAgICAgIHNldFNob3dQYXltZW50T3B0aW9ucyh0cnVlKTtcbiAgICAgICAgc2V0U2hvd0N1c3RvbWVyU3VnZ2VzdGlvbnMoZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW2V4aXN0aW5nQ3VzdG9tZXJzLCBzZWFyY2hQYXJhbXNdKTtcblxuICAvLyBSZXNldCB0byBuZXcgc2FsZSB3aGVuIG5hdmlnYXRpbmcgdG8gUE9TIChlLmcuLCBmcm9tIGhlYWRlciBuYXZpZ2F0aW9uKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IG5ld1NhbGVQYXJhbSA9IHNlYXJjaFBhcmFtcz8uZ2V0KFwibmV3U2FsZVwiKTtcbiAgICBpZiAobmV3U2FsZVBhcmFtID09PSBcInRydWVcIikge1xuICAgICAgLy8gQXV0by1zdGFydCBuZXcgc2FsZSB3aGVuIG5ld1NhbGU9dHJ1ZSBwYXJhbWV0ZXIgaXMgcHJlc2VudFxuICAgICAgc3RhcnROZXdTYWxlKCk7XG5cbiAgICAgIC8vIENsZWFyIHRoZSBuZXdTYWxlIHBhcmFtZXRlciBmcm9tIFVSTCB3aXRob3V0IHBhZ2UgcmVsb2FkXG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbik7XG4gICAgICB1cmwuc2VhcmNoUGFyYW1zLmRlbGV0ZShcIm5ld1NhbGVcIik7XG4gICAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoe30sIFwiXCIsIHVybCk7XG4gICAgfVxuICB9LCBbc2VhcmNoUGFyYW1zXSk7XG5cbiAgY29uc3Qgc3dhcFBheW1lbnRzID0gKCkgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRDYXNoID0gY2FzaEFtb3VudDtcbiAgICBjb25zdCBjdXJyZW50Q2FyZCA9IGNhcmRBbW91bnQ7XG5cbiAgICBzZXRDYXNoQW1vdW50KGN1cnJlbnRDYXJkKTtcbiAgICBzZXRDYXJkQW1vdW50KGN1cnJlbnRDYXNoKTtcblxuICAgIC8vIFVwZGF0ZSBsYXN0IGVkaXRlZCB0byByZWZsZWN0IHRoZSBzd2FwXG4gICAgaWYgKChOdW1iZXIoY3VycmVudENhcmQpIHx8IDApID4gMCkge1xuICAgICAgc2V0TGFzdEVkaXRlZChcImNhc2hcIik7XG4gICAgfSBlbHNlIGlmICgoTnVtYmVyKGN1cnJlbnRDYXNoKSB8fCAwKSA+IDApIHtcbiAgICAgIHNldExhc3RFZGl0ZWQoXCJjYXJkXCIpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBwcmludFJlY2VpcHQgPSAoKSA9PiB7XG4gICAgaWYgKCFsYXN0VHJhbnNhY3Rpb24pIHJldHVybjtcblxuICAgIGNvbnN0IHByaW50V2luZG93ID0gd2luZG93Lm9wZW4oXCJcIiwgXCJfYmxhbmtcIik7XG4gICAgY29uc3QgcmVjZWlwdENvbnRlbnQgPSBgXG4gICAgICA8IURPQ1RZUEUgaHRtbD5cbiAgICAgIDxodG1sPlxuICAgICAgICA8aGVhZD5cbiAgICAgICAgICA8dGl0bGU+UmVjZWlwdCAtIFRyYW5zYWN0aW9uICMkeyhsYXN0VHJhbnNhY3Rpb24uaWQgfHwgXCJOL0FcIilcbiAgICAgICAgICAgIC50b1N0cmluZygpXG4gICAgICAgICAgICAuc2xpY2UoLTgpfTwvdGl0bGU+XG4gICAgICAgICAgPHN0eWxlPlxuICAgICAgICAgICAgYm9keSB7XG4gICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnQ291cmllciBOZXcnLCBtb25vc3BhY2U7XG4gICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgICAgICAgICBtYXgtd2lkdGg6IDMwMHB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLmhlYWRlciB7XG4gICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5zdG9yZS1uYW1lIHtcbiAgICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogNXB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLnJlY2VpcHQtaXRlbSB7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAgICAgICAgbWFyZ2luOiAycHggMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5yZWNlaXB0LXRvdGFscyB7XG4gICAgICAgICAgICAgIG1hcmdpbi10b3A6IDEwcHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAudG90YWwge1xuICAgICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICMwMDA7XG4gICAgICAgICAgICAgIHBhZGRpbmctdG9wOiA1cHg7XG4gICAgICAgICAgICAgIG1hcmdpbi10b3A6IDVweDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhyIHtcbiAgICAgICAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgIzAwMDtcbiAgICAgICAgICAgICAgbWFyZ2luOiAxMHB4IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuY2VudGVyIHtcbiAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgQG1lZGlhIHByaW50IHtcbiAgICAgICAgICAgICAgYm9keSB7IG1hcmdpbjogMDsgcGFkZGluZzogMTBweDsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgIDwvaGVhZD5cbiAgICAgICAgPGJvZHk+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImhlYWRlclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0b3JlLW5hbWVcIj5DT05WRU5JRU5DRSBTVE9SRTwvZGl2PlxuICAgICAgICAgICAgPGRpdj5TY2FyYm9yb3VnaCwgT250YXJpbzwvZGl2PlxuICAgICAgICAgICAgPGRpdj5UcmFuc2FjdGlvbiAjJHsobGFzdFRyYW5zYWN0aW9uLmlkIHx8IFwiTi9BXCIpXG4gICAgICAgICAgICAgIC50b1N0cmluZygpXG4gICAgICAgICAgICAgIC5zbGljZSgtOCl9PC9kaXY+XG4gICAgICAgICAgICA8ZGl2PiR7bmV3IERhdGUobGFzdFRyYW5zYWN0aW9uLnRpbWVzdGFtcCkudG9Mb2NhbGVTdHJpbmcoKX08L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICA8aHI+XG4gICAgICAgICAgXG4gICAgICAgICAgJHtsYXN0VHJhbnNhY3Rpb24uaXRlbXNcbiAgICAgICAgICAgIC5tYXAoXG4gICAgICAgICAgICAgIChpdGVtKSA9PiBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVjZWlwdC1pdGVtXCI+XG4gICAgICAgICAgICAgIDxkaXY+JHtpdGVtLm5hbWV9ICR7IWl0ZW0udGF4YWJsZSA/IFwiKE5vIEhTVClcIiA6IFwiXCJ9PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWNlaXB0LWl0ZW1cIj5cbiAgICAgICAgICAgICAgPGRpdj4ke2l0ZW0ucXVhbnRpdHl9IHggJCR7aXRlbS5wcmljZS50b0ZpeGVkKDIpfTwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2PiQkeyhpdGVtLnF1YW50aXR5ICogaXRlbS5wcmljZSkudG9GaXhlZCgyKX08L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIGBcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5qb2luKFwiXCIpfVxuICAgICAgICAgIFxuICAgICAgICAgIDxocj5cbiAgICAgICAgICBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVjZWlwdC10b3RhbHNcIj5cbiAgICAgICAgICAgICR7XG4gICAgICAgICAgICAgIGxhc3RUcmFuc2FjdGlvbi50YXhhYmxlQW1vdW50ID4gMCAmJlxuICAgICAgICAgICAgICBsYXN0VHJhbnNhY3Rpb24ubm9uVGF4YWJsZUFtb3VudCA+IDBcbiAgICAgICAgICAgICAgICA/IGBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJlY2VpcHQtaXRlbVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuPlRheGFibGUgSXRlbXM6PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuPiQke2xhc3RUcmFuc2FjdGlvbi50YXhhYmxlQW1vdW50LnRvRml4ZWQoMil9PC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJlY2VpcHQtaXRlbVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuPk5vbi1UYXhhYmxlIEl0ZW1zOjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3Bhbj4kJHtsYXN0VHJhbnNhY3Rpb24ubm9uVGF4YWJsZUFtb3VudC50b0ZpeGVkKDIpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBgXG4gICAgICAgICAgICAgICAgOiBcIlwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICR7XG4gICAgICAgICAgICAgIGxhc3RUcmFuc2FjdGlvbi5kaXNjb3VudCA+IDBcbiAgICAgICAgICAgICAgICA/IGBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJlY2VpcHQtaXRlbVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuPkl0ZW1zIFN1YnRvdGFsOjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3Bhbj4kJHtsYXN0VHJhbnNhY3Rpb24ub3JpZ2luYWxTdWJ0b3RhbC50b0ZpeGVkKDIpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWNlaXB0LWl0ZW1cIiBzdHlsZT1cImZvbnQtd2VpZ2h0OiBib2xkOyBjb2xvcjogI2U2NTEwMDtcIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj5EaXNjb3VudDo8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4+LSQke2xhc3RUcmFuc2FjdGlvbi5kaXNjb3VudC50b0ZpeGVkKDIpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWNlaXB0LWl0ZW1cIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj5TdWJ0b3RhbDo8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4+JCR7bGFzdFRyYW5zYWN0aW9uLnN1YnRvdGFsLnRvRml4ZWQoMil9PC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICA6IGBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJlY2VpcHQtaXRlbVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuPlN1YnRvdGFsOjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3Bhbj4kJHtsYXN0VHJhbnNhY3Rpb24uc3VidG90YWwudG9GaXhlZCgyKX08L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAke1xuICAgICAgICAgICAgICBsYXN0VHJhbnNhY3Rpb24uaW5jbHVkZVRheCAmJiBsYXN0VHJhbnNhY3Rpb24udGF4ID4gMFxuICAgICAgICAgICAgICAgID8gYFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVjZWlwdC1pdGVtXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4+SFNUICgxMyUpOjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3Bhbj4kJHtsYXN0VHJhbnNhY3Rpb24udGF4LnRvRml4ZWQoMil9PC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICA6IFwiXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJlY2VpcHQtaXRlbSB0b3RhbFwiPlxuICAgICAgICAgICAgICA8c3Bhbj5Ub3RhbDo8L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuPiQke2xhc3RUcmFuc2FjdGlvbi50b3RhbC50b0ZpeGVkKDIpfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICAke1xuICAgICAgICAgICAgICBsYXN0VHJhbnNhY3Rpb24uY2FzaGJhY2sgPiAwXG4gICAgICAgICAgICAgICAgPyBgXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWNlaXB0LWl0ZW1cIiBzdHlsZT1cImZvbnQtd2VpZ2h0OiBib2xkOyBjb2xvcjogI2U2N2UyMjtcIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj5DYXNoYmFjazo8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4+JCR7bGFzdFRyYW5zYWN0aW9uLmNhc2hiYWNrLnRvRml4ZWQoMil9PC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICA6IFwiXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgJHtcbiAgICAgICAgICAgICAgbGFzdFRyYW5zYWN0aW9uLnBheW1lbnRCcmVha2Rvd24gJiZcbiAgICAgICAgICAgICAgbGFzdFRyYW5zYWN0aW9uLnBheW1lbnRCcmVha2Rvd24ubGVuZ3RoID4gMFxuICAgICAgICAgICAgICAgID8gYFxuICAgICAgICAgICAgICA8aHI+XG4gICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJmb250LXdlaWdodDogYm9sZDsgbWFyZ2luLWJvdHRvbTogNXB4O1wiPlBheW1lbnRzPC9kaXY+XG4gICAgICAgICAgICAgICR7bGFzdFRyYW5zYWN0aW9uLnBheW1lbnRCcmVha2Rvd25cbiAgICAgICAgICAgICAgICAubWFwKFxuICAgICAgICAgICAgICAgICAgKHApID0+IGBcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVjZWlwdC1pdGVtXCI+XG4gICAgICAgICAgICAgICAgICA8c3Bhbj4ke3AubWV0aG9kLnRvVXBwZXJDYXNlKCl9Ojwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuPiQke3AuYW1vdW50LnRvRml4ZWQoMil9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICBgXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIC5qb2luKFwiXCIpfVxuICAgICAgICAgICAgICAke1xuICAgICAgICAgICAgICAgIGxhc3RUcmFuc2FjdGlvbi5jaGFuZ2UgPiAwXG4gICAgICAgICAgICAgICAgICA/IGBcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVjZWlwdC1pdGVtXCI+XG4gICAgICAgICAgICAgICAgICA8c3Bhbj5DaGFuZ2U6PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPHNwYW4+JCR7bGFzdFRyYW5zYWN0aW9uLmNoYW5nZS50b0ZpeGVkKDIpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgICAgICAgOiBcIlwiXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICA6IFwiXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICA8aHI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNlbnRlclwiPlRoYW5rIHlvdSBmb3IgeW91ciBidXNpbmVzcyE8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICA8c2NyaXB0PlxuICAgICAgICAgICAgd2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICB3aW5kb3cucHJpbnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA8L3NjcmlwdD5cbiAgICAgICAgPC9ib2R5PlxuICAgICAgPC9odG1sPlxuICAgIGA7XG5cbiAgICBwcmludFdpbmRvdy5kb2N1bWVudC53cml0ZShyZWNlaXB0Q29udGVudCk7XG4gICAgcHJpbnRXaW5kb3cuZG9jdW1lbnQuY2xvc2UoKTtcbiAgfTtcblxuICAvLyBXaGVuIGNhcnQgY2hhbmdlcywgcmVzZXQgcGF5bWVudCBhbW91bnRzIChkZWZhdWx0IGNhcmQgZm9yIGNhc2hiYWNrLCBvdGhlcndpc2UgY2FzaClcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBEb24ndCBhdXRvLXJlc2V0IHBheW1lbnQgYW1vdW50cyB3aGVuIGluIGNyZWRpdCBzYWxlIG1vZGUgb3IgdXNlciBpcyB0eXBpbmdcbiAgICBpZiAoaXNDcmVkaXRTYWxlIHx8IHVzZXJJc1R5cGluZykge1xuICAgICAgc2V0UGF5bWVudEVycm9yKFwiXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHN1YnRvdGFsID0gY2FsY3VsYXRlVG90YWwoKTtcbiAgICBjb25zdCB0YXggPSBjYWxjdWxhdGVUYXgoKTtcbiAgICBjb25zdCB0b3RhbCA9ICsoc3VidG90YWwgKyB0YXgpLnRvRml4ZWQoMik7XG4gICAgY29uc3QgY2FzaGJhY2sgPSBOdW1iZXIocGFyc2VGbG9hdChjYXNoYmFja0Ftb3VudCkgfHwgMCk7XG4gICAgY29uc3QgbG90dG8gPSBOdW1iZXIocGFyc2VGbG9hdChsb3R0b1dpbm5pbmdzKSB8fCAwKTtcbiAgICBjb25zdCB0b3RhbFdpdGhDYXNoYmFjayA9IHRvdGFsICsgY2FzaGJhY2sgLSBsb3R0bztcblxuICAgIC8vIEZvciBjYXNoYmFjayB0cmFuc2FjdGlvbnMsIGZvcmNlIGNhcmQgcGF5bWVudCBvbmx5XG4gICAgaWYgKGNhc2hiYWNrID4gMCkge1xuICAgICAgc2V0Q2FzaEFtb3VudChcIlwiKTtcbiAgICAgIHNldENhcmRBbW91bnQoTWF0aC5tYXgoMCwgdG90YWxXaXRoQ2FzaGJhY2spKTtcbiAgICAgIHNldExhc3RFZGl0ZWQoXCJjYXJkXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBEZWZhdWx0OiBjYXNoIGNvdmVycyB0aGUgdG90YWwgbWludXMgbG90dG8gd2lubmluZ3NcbiAgICAgIHNldENhc2hBbW91bnQoTWF0aC5tYXgoMCwgdG90YWxXaXRoQ2FzaGJhY2spKTtcbiAgICAgIHNldENhcmRBbW91bnQoMCk7XG4gICAgICBzZXRMYXN0RWRpdGVkKFwiY2FzaFwiKTtcbiAgICB9XG4gICAgc2V0UGF5bWVudEVycm9yKFwiXCIpO1xuICB9LCBbXG4gICAgY2FydCxcbiAgICBjYXNoYmFja0Ftb3VudCxcbiAgICBjYXNoYmFja0ZlZSxcbiAgICBsb3R0b1dpbm5pbmdzLFxuICAgIGRpc2NvdW50QW1vdW50LFxuICAgIGlzQ3JlZGl0U2FsZSxcbiAgICBjYXJkRmVlRW5hYmxlZCxcbiAgXSk7XG5cbiAgLy8gSWYgYXV0by1maWxsIGlzIGVuYWJsZWQgYW5kIGxhc3RFZGl0ZWQgaXMgc2V0LCB1cGRhdGUgdGhlIG90aGVyIGFtb3VudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghYXV0b0ZpbGxPdGhlciB8fCAhbGFzdEVkaXRlZCB8fCBpc0NyZWRpdFNhbGUgfHwgdXNlcklzVHlwaW5nKSByZXR1cm47IC8vIERvbid0IGF1dG8tZmlsbCBpbiBjcmVkaXQgc2FsZSBtb2RlIG9yIHdoaWxlIHR5cGluZ1xuXG4gICAgY29uc3Qgc3VidG90YWwgPSBjYWxjdWxhdGVUb3RhbCgpO1xuICAgIGNvbnN0IHRheCA9IGNhbGN1bGF0ZVRheCgpO1xuICAgIGNvbnN0IHRvdGFsID0gKyhzdWJ0b3RhbCArIHRheCkudG9GaXhlZCgyKTtcbiAgICBjb25zdCBjYXNoYmFjayA9IE51bWJlcihwYXJzZUZsb2F0KGNhc2hiYWNrQW1vdW50KSB8fCAwKTtcbiAgICBjb25zdCBsb3R0byA9IE51bWJlcihwYXJzZUZsb2F0KGxvdHRvV2lubmluZ3MpIHx8IDApO1xuICAgIGNvbnN0IHRvdGFsV2l0aENhc2hiYWNrID0gdG90YWwgKyBjYXNoYmFjayAtIGxvdHRvO1xuXG4gICAgLy8gRm9yIGNhc2hiYWNrIHRyYW5zYWN0aW9ucywgb25seSBhbGxvdyBjYXJkIHBheW1lbnRcbiAgICBpZiAoY2FzaGJhY2sgPiAwKSB7XG4gICAgICBzZXRDYXNoQW1vdW50KFwiXCIpO1xuICAgICAgc2V0Q2FyZEFtb3VudChNYXRoLm1heCgwLCB0b3RhbFdpdGhDYXNoYmFjaykpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChsYXN0RWRpdGVkID09PSBcImNhc2hcIikge1xuICAgICAgY29uc3QgcGFpZENhc2ggPSBOdW1iZXIocGFyc2VGbG9hdChjYXNoQW1vdW50KSB8fCAwKTtcbiAgICAgIGNvbnN0IG5ld0NhcmQgPSBNYXRoLm1heCgwLCArKHRvdGFsV2l0aENhc2hiYWNrIC0gcGFpZENhc2gpLnRvRml4ZWQoMikpO1xuICAgICAgc2V0Q2FyZEFtb3VudChuZXdDYXJkKTtcbiAgICB9IGVsc2UgaWYgKGxhc3RFZGl0ZWQgPT09IFwiY2FyZFwiKSB7XG4gICAgICBjb25zdCBwYWlkQ2FyZCA9IE51bWJlcihwYXJzZUZsb2F0KGNhcmRBbW91bnQpIHx8IDApO1xuICAgICAgY29uc3QgbmV3Q2FzaCA9IE1hdGgubWF4KDAsICsodG90YWxXaXRoQ2FzaGJhY2sgLSBwYWlkQ2FyZCkudG9GaXhlZCgyKSk7XG4gICAgICBzZXRDYXNoQW1vdW50KG5ld0Nhc2gpO1xuICAgIH1cbiAgfSwgW1xuICAgIGF1dG9GaWxsT3RoZXIsXG4gICAgbGFzdEVkaXRlZCxcbiAgICBjYXNoQW1vdW50LFxuICAgIGNhcmRBbW91bnQsXG4gICAgY2FydCxcbiAgICBjYXNoYmFja0Ftb3VudCxcbiAgICBjYXNoYmFja0ZlZSxcbiAgICBsb3R0b1dpbm5pbmdzLFxuICAgIGRpc2NvdW50QW1vdW50LFxuICAgIGlzQ3JlZGl0U2FsZSxcbiAgICBjYXJkRmVlRW5hYmxlZCxcbiAgXSk7XG5cbiAgLy8gQ2xlYXIgdXNlcklzVHlwaW5nIGZsYWcgYWZ0ZXIgdXNlciBzdG9wcyB0eXBpbmdcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodXNlcklzVHlwaW5nKSB7XG4gICAgICBjb25zdCB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHNldFVzZXJJc1R5cGluZyhmYWxzZSk7XG4gICAgICB9LCA1MDApOyAvLyA1MDBtcyBkZWxheSBhZnRlciB1c2VyIHN0b3BzIHR5cGluZ1xuXG4gICAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIH1cbiAgfSwgW3VzZXJJc1R5cGluZywgY2FzaEFtb3VudCwgY2FyZEFtb3VudCwgbG90dG9XaW5uaW5nc10pO1xuXG4gIC8vIEFkZCBldmVudCBsaXN0ZW5lciBmb3IgdmlydHVhbCBrZXlib2FyZCBpbnB1dFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZVZpcnR1YWxLZXlib2FyZElucHV0ID0gKGV2ZW50KSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhcIvCflKQgVmlydHVhbCBrZXlib2FyZCBpbnB1dCBkZXRlY3RlZDpcIiwgZXZlbnQuZGV0YWlsKTtcbiAgICAgIHNldFVzZXJJc1R5cGluZyh0cnVlKTsgLy8gU2V0IHR5cGluZyBmbGFnIHdoZW4gdmlydHVhbCBrZXlib2FyZCBpcyB1c2VkXG4gICAgfTtcblxuICAgIC8vIEFkZCBldmVudCBsaXN0ZW5lciB0byB0aGUgZG9jdW1lbnQgdG8gY2F0Y2ggdmlydHVhbCBrZXlib2FyZCBldmVudHNcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgXCJ2aXJ0dWFsS2V5Ym9hcmRJbnB1dFwiLFxuICAgICAgaGFuZGxlVmlydHVhbEtleWJvYXJkSW5wdXRcbiAgICApO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFwidmlydHVhbEtleWJvYXJkSW5wdXRcIixcbiAgICAgICAgaGFuZGxlVmlydHVhbEtleWJvYXJkSW5wdXRcbiAgICAgICk7XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIC8vIEJhcmNvZGUgU2Nhbm5lciBGdW5jdGlvbmFsaXR5XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gQXV0by1mb2N1cyBzZWFyY2ggaW5wdXQgd2hlbiBjb21wb25lbnQgbW91bnRzXG4gICAgaWYgKHNlYXJjaElucHV0UmVmLmN1cnJlbnQpIHtcbiAgICAgIHNlYXJjaElucHV0UmVmLmN1cnJlbnQuZm9jdXMoKTtcbiAgICB9XG5cbiAgICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGV2ZW50KSA9PiB7XG4gICAgICAvLyBEb24ndCBpbnRlcmZlcmUgd2l0aCBiYXJjb2RlIHNjYW5uZXIgd2hlbiBtYW51YWwgZW50cnkgbW9kYWwgaXMgb3BlblxuICAgICAgaWYgKHNob3dNYW51YWxFbnRyeSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIERvbid0IGludGVyZmVyZSBpZiB1c2VyIGlzIHR5cGluZyBpbiBpbnB1dCBmaWVsZHMgb3IgZm9ybSBlbGVtZW50c1xuICAgICAgY29uc3QgYWN0aXZlRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgICBjb25zdCBpc1R5cGluZ0luSW5wdXQgPVxuICAgICAgICBhY3RpdmVFbGVtZW50ICYmXG4gICAgICAgIChhY3RpdmVFbGVtZW50LnRhZ05hbWUgPT09IFwiSU5QVVRcIiB8fFxuICAgICAgICAgIGFjdGl2ZUVsZW1lbnQudGFnTmFtZSA9PT0gXCJURVhUQVJFQVwiIHx8XG4gICAgICAgICAgYWN0aXZlRWxlbWVudC50YWdOYW1lID09PSBcIlNFTEVDVFwiIHx8XG4gICAgICAgICAgYWN0aXZlRWxlbWVudC5jb250ZW50RWRpdGFibGUgPT09IFwidHJ1ZVwiKTtcblxuICAgICAgaWYgKGlzVHlwaW5nSW5JbnB1dCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgIGNvbnN0IHRpbWVEaWZmID0gY3VycmVudFRpbWUgLSBsYXN0S2V5VGltZTtcblxuICAgICAgLy8gSWYgdGltZSBiZXR3ZWVuIGtleXN0cm9rZXMgaXMgbGVzcyB0aGFuIDUwbXMsIGl0J3MgbGlrZWx5IGEgYmFyY29kZSBzY2FubmVyXG4gICAgICAvLyBCYXJjb2RlIHNjYW5uZXJzIHR5cGUgdmVyeSBmYXN0ICh0eXBpY2FsbHkgMTAtMzBtcyBiZXR3ZWVuIGNoYXJhY3RlcnMpXG4gICAgICBjb25zdCBpc1NjYW5uZXJJbnB1dCA9IHRpbWVEaWZmIDwgNTAgJiYgdGltZURpZmYgPiAwO1xuXG4gICAgICAvLyBPbmx5IGZvY3VzIHNlYXJjaCBpbnB1dCBpZiB1c2VyIGlzIG5vdCB0eXBpbmcgaW4gYW55IGlucHV0IGZpZWxkIGFuZCBpdCdzIG5vdCBhbHJlYWR5IGZvY3VzZWRcbiAgICAgIGlmIChcbiAgICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gc2VhcmNoSW5wdXRSZWYuY3VycmVudCAmJlxuICAgICAgICAhaXNUeXBpbmdJbklucHV0ICYmXG4gICAgICAgICFbXG4gICAgICAgICAgXCJUYWJcIixcbiAgICAgICAgICBcIkVzY2FwZVwiLFxuICAgICAgICAgIFwiRjFcIixcbiAgICAgICAgICBcIkYyXCIsXG4gICAgICAgICAgXCJGM1wiLFxuICAgICAgICAgIFwiRjRcIixcbiAgICAgICAgICBcIkY1XCIsXG4gICAgICAgICAgXCJGNlwiLFxuICAgICAgICAgIFwiRjdcIixcbiAgICAgICAgICBcIkY4XCIsXG4gICAgICAgICAgXCJGOVwiLFxuICAgICAgICAgIFwiRjEwXCIsXG4gICAgICAgICAgXCJGMTFcIixcbiAgICAgICAgICBcIkYxMlwiLFxuICAgICAgICBdLmluY2x1ZGVzKGV2ZW50LmtleSlcbiAgICAgICkge1xuICAgICAgICBzZWFyY2hJbnB1dFJlZi5jdXJyZW50Py5mb2N1cygpO1xuICAgICAgfVxuXG4gICAgICAvLyBIYW5kbGUgYmFyY29kZSBzY2FubmluZyAob25seSBpZiBub3QgdHlwaW5nIGluIGlucHV0IGZpZWxkcylcbiAgICAgIGlmICghaXNUeXBpbmdJbklucHV0KSB7XG4gICAgICAgIGlmIChldmVudC5rZXkgPT09IFwiRW50ZXJcIikge1xuICAgICAgICAgIC8vIEVuZCBvZiBiYXJjb2RlIHNjYW4gLSBwcm9jZXNzIHRoZSBidWZmZXJcbiAgICAgICAgICBpZiAoYmFyY29kZUJ1ZmZlci50cmltKCkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaGFuZGxlQmFyY29kZVNjYW5uZWQoYmFyY29kZUJ1ZmZlci50cmltKCkpO1xuICAgICAgICAgICAgc2V0QmFyY29kZUJ1ZmZlcihcIlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoaXNTY2FubmVySW5wdXQgJiYgZXZlbnQua2V5Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIC8vIEFkZCBjaGFyYWN0ZXIgdG8gYmFyY29kZSBidWZmZXJcbiAgICAgICAgICBzZXRCYXJjb2RlQnVmZmVyKChwcmV2KSA9PiBwcmV2ICsgZXZlbnQua2V5KTtcbiAgICAgICAgfSBlbHNlIGlmICghaXNTY2FubmVySW5wdXQpIHtcbiAgICAgICAgICAvLyBSZXNldCBidWZmZXIgaWYgdHlwaW5nIGlzIHRvbyBzbG93IChtYW51YWwgdHlwaW5nKVxuICAgICAgICAgIHNldEJhcmNvZGVCdWZmZXIoXCJcIik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc2V0TGFzdEtleVRpbWUoY3VycmVudFRpbWUpO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVGb2N1c0FueXdoZXJlID0gKGV2ZW50KSA9PiB7XG4gICAgICAvLyBEb24ndCBpbnRlcmZlcmUgd2hlbiBtYW51YWwgZW50cnkgbW9kYWwgaXMgb3BlblxuICAgICAgaWYgKHNob3dNYW51YWxFbnRyeSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIERvbid0IHJlZm9jdXMgaWYgY2xpY2tpbmcgb24gZm9ybSBlbGVtZW50cyB0aGF0IG5lZWQgZm9jdXNcbiAgICAgIGNvbnN0IGNsaWNrZWRFbGVtZW50ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgY29uc3QgaXNGb3JtRWxlbWVudCA9XG4gICAgICAgIGNsaWNrZWRFbGVtZW50LnRhZ05hbWUgPT09IFwiU0VMRUNUXCIgfHxcbiAgICAgICAgY2xpY2tlZEVsZW1lbnQudGFnTmFtZSA9PT0gXCJPUFRJT05cIiB8fFxuICAgICAgICBjbGlja2VkRWxlbWVudC50YWdOYW1lID09PSBcIklOUFVUXCIgfHxcbiAgICAgICAgY2xpY2tlZEVsZW1lbnQudGFnTmFtZSA9PT0gXCJCVVRUT05cIiB8fFxuICAgICAgICBjbGlja2VkRWxlbWVudC50YWdOYW1lID09PSBcIlRFWFRBUkVBXCI7XG5cbiAgICAgIC8vIERvbid0IHJlZm9jdXMgaWYgY2xpY2tpbmcgb24gdGhlIGNhdGVnb3J5IGZpbHRlciBvciBpdHMgb3B0aW9uc1xuICAgICAgY29uc3QgaXNDYXRlZ29yeUZpbHRlciA9XG4gICAgICAgIGNsaWNrZWRFbGVtZW50LmNsb3Nlc3QoXCJzZWxlY3RcIikgfHwgY2xpY2tlZEVsZW1lbnQudGFnTmFtZSA9PT0gXCJTRUxFQ1RcIjtcblxuICAgICAgaWYgKGlzRm9ybUVsZW1lbnQgfHwgaXNDYXRlZ29yeUZpbHRlcikge1xuICAgICAgICByZXR1cm47IC8vIExldCB0aGUgZm9ybSBlbGVtZW50IGhhbmRsZSBpdHMgb3duIGZvY3VzXG4gICAgICB9XG5cbiAgICAgIC8vIEVuc3VyZSBzZWFyY2ggaW5wdXQgc3RheXMgZm9jdXNlZCB3aGVuIGNsaWNraW5nIGVsc2V3aGVyZSBvbiB0aGUgcGFnZVxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBzZWFyY2hJbnB1dFJlZi5jdXJyZW50ICYmXG4gICAgICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gc2VhcmNoSW5wdXRSZWYuY3VycmVudCAmJlxuICAgICAgICAgICFkb2N1bWVudC5hY3RpdmVFbGVtZW50LmNsb3Nlc3QoXCJzZWxlY3RcIilcbiAgICAgICAgKSB7XG4gICAgICAgICAgc2VhcmNoSW5wdXRSZWYuY3VycmVudC5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9LCAxMDApO1xuICAgIH07XG5cbiAgICAvLyBBZGQgZXZlbnQgbGlzdGVuZXJzXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlS2V5RG93bik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUZvY3VzQW55d2hlcmUpO1xuXG4gICAgLy8gQ2xlYW51cCBmdW5jdGlvblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVLZXlEb3duKTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVGb2N1c0FueXdoZXJlKTtcbiAgICB9O1xuICB9LCBbYmFyY29kZUJ1ZmZlciwgbGFzdEtleVRpbWUsIHNob3dNYW51YWxFbnRyeV0pO1xuXG4gIC8vIEhhbmRsZSBiYXJjb2RlIHNjYW5uZWRcbiAgY29uc3QgaGFuZGxlQmFyY29kZVNjYW5uZWQgPSAoYmFyY29kZSkgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwiQmFyY29kZSBzY2FubmVkOlwiLCBiYXJjb2RlKTtcblxuICAgIC8vIFVzZSB0aGUgZW5oYW5jZWQgc2VhcmNoIGZ1bmN0aW9uYWxpdHkgdG8gZmluZCBwcm9kdWN0c1xuICAgIC8vIFRoaXMgd2lsbCBzZWFyY2ggYnkgYmFyY29kZSwgcHJvZHVjdElkLCBpZCwgbmFtZSwgYW5kIGNhdGVnb3J5XG4gICAgY29uc3Qgc2VhcmNoUmVzdWx0cyA9IGdldEZpbHRlcmVkSW52ZW50b3J5KGJhcmNvZGUpO1xuXG4gICAgaWYgKHNlYXJjaFJlc3VsdHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAvLyBFeGFjdGx5IG9uZSBwcm9kdWN0IGZvdW5kIC0gYXV0b21hdGljYWxseSBhZGQgdG8gY2FydFxuICAgICAgY29uc3QgZm91bmRQcm9kdWN0ID0gc2VhcmNoUmVzdWx0c1swXTtcbiAgICAgIGFkZFRvQ2FydChmb3VuZFByb2R1Y3QpO1xuICAgICAgY29uc29sZS5sb2coXCJQcm9kdWN0IGFkZGVkIHRvIGNhcnQgdmlhIGJhcmNvZGU6XCIsIGZvdW5kUHJvZHVjdC5uYW1lKTtcbiAgICB9IGVsc2UgaWYgKHNlYXJjaFJlc3VsdHMubGVuZ3RoID4gMSkge1xuICAgICAgLy8gTXVsdGlwbGUgbWF0Y2hlcyAtIHNob3cgaW4gc2VhcmNoIHJlc3VsdHMgZm9yIHVzZXIgdG8gY2hvb3NlXG4gICAgICBzZXRTZWFyY2hUZXJtKGJhcmNvZGUpO1xuICAgICAgY29uc29sZS5sb2coXG4gICAgICAgIGBNdWx0aXBsZSBwcm9kdWN0cyBmb3VuZCBmb3IgYmFyY29kZSAke2JhcmNvZGV9OmAsXG4gICAgICAgIHNlYXJjaFJlc3VsdHMubWFwKChwKSA9PiBwLm5hbWUpXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBObyBwcm9kdWN0IGZvdW5kIC0gYXV0b21hdGljYWxseSBwcm9tcHQgZm9yIG1hbnVhbCBlbnRyeVxuICAgICAgc2V0U2VhcmNoVGVybShiYXJjb2RlKTtcbiAgICAgIHNldE1hbnVhbEl0ZW0oKHByZXYpID0+ICh7XG4gICAgICAgIC4uLnByZXYsXG4gICAgICAgIG5hbWU6IGJhcmNvZGUsXG4gICAgICB9KSk7XG4gICAgICBzZXRTaG93TWFudWFsRW50cnkodHJ1ZSk7XG4gICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgXCJQcm9kdWN0IG5vdCBmb3VuZCBmb3IgYmFyY29kZTpcIixcbiAgICAgICAgYmFyY29kZSxcbiAgICAgICAgXCItIG9wZW5pbmcgbWFudWFsIGVudHJ5XCJcbiAgICAgICk7XG4gICAgfVxuICB9O1xuXG4gIGlmIChzaG93UmVjZWlwdCAmJiBsYXN0VHJhbnNhY3Rpb24pIHtcbiAgICByZXR1cm4gKFxuICAgICAgPFBPU1dyYXBwZXI+XG4gICAgICAgIDxDb250YWluZXI+XG4gICAgICAgICAgPFJlY2VpcHRTZWN0aW9uPlxuICAgICAgICAgICAgPGgyPlRyYW5zYWN0aW9uIENvbXBsZXRlITwvaDI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlY2VpcHRcIj5cbiAgICAgICAgICAgICAgPGgzPkNPTlZFTklFTkNFIFNUT1JFPC9oMz5cbiAgICAgICAgICAgICAgPHA+U2NhcmJvcm91Z2gsIE9udGFyaW88L3A+XG4gICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgIFRyYW5zYWN0aW9uICNcbiAgICAgICAgICAgICAgICB7KGxhc3RUcmFuc2FjdGlvbi5pZCB8fCBcIk4vQVwiKS50b1N0cmluZygpLnNsaWNlKC04KX1cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8cD57bmV3IERhdGUobGFzdFRyYW5zYWN0aW9uLnRpbWVzdGFtcCkudG9Mb2NhbGVTdHJpbmcoKX08L3A+XG4gICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICB7bGFzdFRyYW5zYWN0aW9uLml0ZW1zLm1hcCgoaXRlbSkgPT4gKFxuICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpdGVtLmlkfSBjbGFzc05hbWU9XCJyZWNlaXB0LWl0ZW1cIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgICAgICB7aXRlbS5uYW1lfSB7IWl0ZW0udGF4YWJsZSAmJiBcIihObyBIU1QpXCJ9XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgICAge2l0ZW0ucXVhbnRpdHl9IHggJHtpdGVtLnByaWNlLnRvRml4ZWQoMil9ID0gJFxuICAgICAgICAgICAgICAgICAgICB7KGl0ZW0ucXVhbnRpdHkgKiBpdGVtLnByaWNlKS50b0ZpeGVkKDIpfVxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgPGhyIC8+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVjZWlwdC10b3RhbHNcIj5cbiAgICAgICAgICAgICAgICB7bGFzdFRyYW5zYWN0aW9uLnRheGFibGVBbW91bnQgPiAwICYmXG4gICAgICAgICAgICAgICAgICBsYXN0VHJhbnNhY3Rpb24ubm9uVGF4YWJsZUFtb3VudCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICBUYXhhYmxlIEl0ZW1zOiAkXG4gICAgICAgICAgICAgICAgICAgICAgICB7bGFzdFRyYW5zYWN0aW9uLnRheGFibGVBbW91bnQudG9GaXhlZCgyKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgTm9uLVRheGFibGUgSXRlbXM6ICRcbiAgICAgICAgICAgICAgICAgICAgICAgIHtsYXN0VHJhbnNhY3Rpb24ubm9uVGF4YWJsZUFtb3VudC50b0ZpeGVkKDIpfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAge2xhc3RUcmFuc2FjdGlvbi5kaXNjb3VudCA+IDAgPyAoXG4gICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIEl0ZW1zIFN1YnRvdGFsOiAkXG4gICAgICAgICAgICAgICAgICAgICAge2xhc3RUcmFuc2FjdGlvbi5vcmlnaW5hbFN1YnRvdGFsLnRvRml4ZWQoMil9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRXZWlnaHQ6IFwiNjAwXCIsIGNvbG9yOiBcIiNlNjUxMDBcIiB9fT5cbiAgICAgICAgICAgICAgICAgICAgICBEaXNjb3VudDogLSR7bGFzdFRyYW5zYWN0aW9uLmRpc2NvdW50LnRvRml4ZWQoMil9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlN1YnRvdGFsOiAke2xhc3RUcmFuc2FjdGlvbi5zdWJ0b3RhbC50b0ZpeGVkKDIpfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDxkaXY+U3VidG90YWw6ICR7bGFzdFRyYW5zYWN0aW9uLnN1YnRvdGFsLnRvRml4ZWQoMil9PC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB7bGFzdFRyYW5zYWN0aW9uLmluY2x1ZGVUYXggJiYgbGFzdFRyYW5zYWN0aW9uLnRheCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdj5IU1QgKDEzJSk6ICR7bGFzdFRyYW5zYWN0aW9uLnRheC50b0ZpeGVkKDIpfTwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b3RhbFwiPlxuICAgICAgICAgICAgICAgICAgVG90YWw6ICR7bGFzdFRyYW5zYWN0aW9uLnRvdGFsLnRvRml4ZWQoMil9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAge2xhc3RUcmFuc2FjdGlvbi5jYXNoYmFjayA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250V2VpZ2h0OiBcIjYwMFwiLCBjb2xvcjogXCIjZTY3ZTIyXCIgfX0+XG4gICAgICAgICAgICAgICAgICAgIENhc2hiYWNrOiAke2xhc3RUcmFuc2FjdGlvbi5jYXNoYmFjay50b0ZpeGVkKDIpfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB7bGFzdFRyYW5zYWN0aW9uLnBheW1lbnRCcmVha2Rvd24gJiZcbiAgICAgICAgICAgICAgICAgIGxhc3RUcmFuc2FjdGlvbi5wYXltZW50QnJlYWtkb3duLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPlBheW1lbnRzPC9zdHJvbmc+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAge2xhc3RUcmFuc2FjdGlvbi5wYXltZW50QnJlYWtkb3duLm1hcCgocCwgaWR4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17YHBheW1lbnQtJHtwLm1ldGhvZH0tJHtpZHh9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtwLm1ldGhvZC50b1VwcGVyQ2FzZSgpfTogJHtwLmFtb3VudC50b0ZpeGVkKDIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAge2xhc3RUcmFuc2FjdGlvbi5jaGFuZ2UgPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+Q2hhbmdlOiAke2xhc3RUcmFuc2FjdGlvbi5jaGFuZ2UudG9GaXhlZCgyKX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgPHA+VGhhbmsgeW91IGZvciB5b3VyIGJ1c2luZXNzITwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiBcImZsZXhcIiwgZ2FwOiBcIjFyZW1cIiwgbWFyZ2luVG9wOiBcIjJyZW1cIiB9fT5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3ByaW50UmVjZWlwdH1cbiAgICAgICAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6IFwiIzI3YWU2MFwiLCBjb2xvcjogXCJ3aGl0ZVwiIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICDwn5ao77iPIFByaW50IFJlY2VpcHRcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17c3RhcnROZXdTYWxlfT5OZXcgU2FsZTwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9SZWNlaXB0U2VjdGlvbj5cbiAgICAgICAgPC9Db250YWluZXI+XG4gICAgICA8L1BPU1dyYXBwZXI+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPFBPU1dyYXBwZXI+XG4gICAgICA8Q29udGFpbmVyPlxuICAgICAgICA8UE9TR3JpZD5cbiAgICAgICAgICA8UHJvZHVjdHNQYW5lbD5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzcGFjZS1iZXR3ZWVuXCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiMXJlbVwiLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8aDI+UHJvZHVjdHM8L2gyPlxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuNzVyZW1cIixcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiM3ZjhjOGRcIixcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC4yNXJlbSAwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwiI2Y4ZjlmYVwiLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7aW52ZW50b3J5Lmxlbmd0aH0gaXRlbXMgbG9hZGVkXG4gICAgICAgICAgICAgICAge2ludmVudG9yeUxvYWRlZCAmJiAoXG4gICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbkxlZnQ6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgY29sb3I6IGludmVudG9yeUxvYWRpbmcgPyBcIiNmMzljMTJcIiA6IFwiIzI3YWU2MFwiLFxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICDigKIge2ludmVudG9yeUxvYWRpbmcgPyBcInN5bmNpbmcuLi5cIiA6IFwicmVhZHlcIn1cbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiBcImZsZXhcIiwgZ2FwOiBcIjFyZW1cIiwgbWFyZ2luQm90dG9tOiBcIjFyZW1cIiB9fT5cbiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLCBmbGV4OiAxLCBkaXNwbGF5OiBcImZsZXhcIiB9fT5cbiAgICAgICAgICAgICAgICA8U2VhcmNoQmFyXG4gICAgICAgICAgICAgICAgICByZWY9e3NlYXJjaElucHV0UmVmfVxuICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZWFyY2ggcHJvZHVjdHMuLi4gKEJhcmNvZGUgU2Nhbm5lciBSZWFkeSlcIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3NlYXJjaFRlcm19XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFNlYXJjaFRlcm0oZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgb25Gb2N1cz17KCkgPT4gaGFuZGxlSW5wdXRGb2N1cyhzZWFyY2hJbnB1dFJlZiwgZmFsc2UpfVxuICAgICAgICAgICAgICAgICAgb25LZXlEb3duPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS5rZXkgPT09IFwiRW50ZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVNlYXJjaEVudGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaG93S2V5Ym9hcmQgJiYgYWN0aXZlSW5wdXRSZWYgPT09IHNlYXJjaElucHV0UmVmKSB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0U2hvd0tleWJvYXJkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVJbnB1dEZvY3VzKHNlYXJjaElucHV0UmVmLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBtYXJnaW5MZWZ0OiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNzVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDpcbiAgICAgICAgICAgICAgICAgICAgICBzaG93S2V5Ym9hcmQgJiYgYWN0aXZlSW5wdXRSZWYgPT09IHNlYXJjaElucHV0UmVmXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFwiIzI3YWU2MFwiXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFwiIzM0OThkYlwiLFxuICAgICAgICAgICAgICAgICAgICBtaW5XaWR0aDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgdGl0bGU9XCJUb2dnbGUgVmlydHVhbCBLZXlib2FyZFwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAg4oyo77iPXG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAge2JhcmNvZGVCdWZmZXIgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgdG9wOiBcIi0yNXB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IFwiMFwiLFxuICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwiIzI3YWU2MFwiLFxuICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIndoaXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIycHggOHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuOHJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiYm9sZFwiLFxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICDwn5O3IFNjYW5uaW5nLi4uXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZURlYnVnUmVmcmVzaH1cbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjVyZW0gMXJlbVwiLFxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCIjZTc0YzNjXCIsXG4gICAgICAgICAgICAgICAgICBjb2xvcjogXCJ3aGl0ZVwiLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjlyZW1cIixcbiAgICAgICAgICAgICAgICAgIHdoaXRlU3BhY2U6IFwibm93cmFwXCIsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICB0aXRsZT1cIkZvcmNlIHJlZnJlc2ggaW52ZW50b3J5IGZyb20gZGF0YWJhc2UgKERlYnVnKVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICDwn5SEIFJlZnJlc2hcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxDYXRlZ29yeUZpbHRlclxuICAgICAgICAgICAgICAgIHZhbHVlPXtjYXRlZ29yeUZpbHRlcn1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldENhdGVnb3J5RmlsdGVyKGUudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgIC8vIEFmdGVyIHNlbGVjdGlvbiwgcmV0dXJuIGZvY3VzIHRvIHNlYXJjaCBiYXJcbiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VhcmNoSW5wdXRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaElucHV0UmVmLmN1cnJlbnQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIG9uQmx1cj17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIC8vIFdoZW4gZHJvcGRvd24gbG9zZXMgZm9jdXMgKGFmdGVyIHNlbGVjdGlvbiBvciBjbGlja2luZyBhd2F5KSwgcmV0dXJuIHRvIHNlYXJjaFxuICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hJbnB1dFJlZi5jdXJyZW50ICYmXG4gICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gc2VhcmNoSW5wdXRSZWYuY3VycmVudFxuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hJbnB1dFJlZi5jdXJyZW50LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj5BbGwgQ2F0ZWdvcmllczwvb3B0aW9uPlxuICAgICAgICAgICAgICAgIHtjYXRlZ29yaWVzLm1hcCgoY2F0ZWdvcnkpID0+IChcbiAgICAgICAgICAgICAgICAgIDxvcHRpb24ga2V5PXtjYXRlZ29yeX0gdmFsdWU9e2NhdGVnb3J5fT5cbiAgICAgICAgICAgICAgICAgICAge2NhdGVnb3J5fVxuICAgICAgICAgICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvQ2F0ZWdvcnlGaWx0ZXI+XG5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dNYW51YWxFbnRyeSh0cnVlKX1cbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgbWFyZ2luTGVmdDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC41cmVtIDFyZW1cIixcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMzQ5OGRiXCIsXG4gICAgICAgICAgICAgICAgICBjb2xvcjogXCJ3aGl0ZVwiLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcImJvbGRcIixcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgKyBNYW51YWwgSXRlbVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogQ2F0ZWdvcnkgQ2FyZHMgKi99XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJncmlkXCIsXG4gICAgICAgICAgICAgICAgZ3JpZFRlbXBsYXRlQ29sdW1uczogXCJyZXBlYXQoYXV0by1maXQsIG1pbm1heCgxNjBweCwgMWZyKSlcIixcbiAgICAgICAgICAgICAgICBnYXA6IFwiMC44cmVtXCIsXG4gICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBcIjEuNXJlbVwiLFxuICAgICAgICAgICAgICAgIG1heEhlaWdodDogXCIyMDBweFwiLFxuICAgICAgICAgICAgICAgIG1pbkhlaWdodDogXCIxMDBweFwiLFxuICAgICAgICAgICAgICAgIG92ZXJmbG93WDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgbmFtZTogXCJMb3R0b1wiLFxuICAgICAgICAgICAgICAgICAga2V5OiBcIkxvdHRvXCIsXG4gICAgICAgICAgICAgICAgICBpY29uOiBcIvCfjrJcIixcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNlNzRjM2NcIixcbiAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIlR5cGUgYW1vdW50ICYgY2xpY2sgdG8gYWRkXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiBcIkdyb2NlcnlcIixcbiAgICAgICAgICAgICAgICAgIGtleTogXCJHcm9jZXJ5XCIsXG4gICAgICAgICAgICAgICAgICBpY29uOiBcIvCfm5JcIixcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiMyN2FlNjBcIixcbiAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIlR5cGUgYW1vdW50ICYgY2xpY2sgdG8gYWRkXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiBcIldlc3Rlcm4gVW5pb25cIixcbiAgICAgICAgICAgICAgICAgIGtleTogXCJXZXN0ZXJuVW5pb25cIixcbiAgICAgICAgICAgICAgICAgIGljb246IFwi8J+SuFwiLFxuICAgICAgICAgICAgICAgICAgY29sb3I6IFwiIzhlNDRhZFwiLFxuICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiVHlwZSBhbW91bnQgJiBjbGljayB0byBhZGRcIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIG5hbWU6IFwiVGVhXCIsXG4gICAgICAgICAgICAgICAgICBrZXk6IFwiVGVhXCIsXG4gICAgICAgICAgICAgICAgICBpY29uOiBcIvCfjbVcIixcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNkMzU0MDBcIixcbiAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIlR5cGUgYW1vdW50ICYgY2xpY2sgdG8gYWRkXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiBcIkJha2VyeVwiLFxuICAgICAgICAgICAgICAgICAga2V5OiBcIkJha2VyeVwiLFxuICAgICAgICAgICAgICAgICAgaWNvbjogXCLwn42eXCIsXG4gICAgICAgICAgICAgICAgICBjb2xvcjogXCIjZjM5YzEyXCIsXG4gICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJCcmVhZCAmIEJha2VkIEdvb2RzXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiBcIkRhaXJ5XCIsXG4gICAgICAgICAgICAgICAgICBrZXk6IFwiRGFpcnlcIixcbiAgICAgICAgICAgICAgICAgIGljb246IFwi8J+lm1wiLFxuICAgICAgICAgICAgICAgICAgY29sb3I6IFwiIzE2YTA4NVwiLFxuICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiTWlsayAmIERhaXJ5IFByb2R1Y3RzXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiBcIkJldmVyYWdlc1wiLFxuICAgICAgICAgICAgICAgICAga2V5OiBcIkJldmVyYWdlc1wiLFxuICAgICAgICAgICAgICAgICAgaWNvbjogXCLwn6WkXCIsXG4gICAgICAgICAgICAgICAgICBjb2xvcjogXCIjMzQ5OGRiXCIsXG4gICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJEcmlua3MgJiBSZWZyZXNobWVudHNcIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIG5hbWU6IFwiVG9iYWNjb1wiLFxuICAgICAgICAgICAgICAgICAga2V5OiBcIlRvYmFjY29cIixcbiAgICAgICAgICAgICAgICAgIGljb246IFwi8J+arFwiLFxuICAgICAgICAgICAgICAgICAgY29sb3I6IFwiIzk1YTVhNlwiLFxuICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiQ2lnYXJldHRlcyAmIENpZ2Fyc1wiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgbmFtZTogXCJTbmFja3NcIixcbiAgICAgICAgICAgICAgICAgIGtleTogXCJTbmFja3NcIixcbiAgICAgICAgICAgICAgICAgIGljb246IFwi8J+Nv1wiLFxuICAgICAgICAgICAgICAgICAgY29sb3I6IFwiI2U2N2UyMlwiLFxuICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiQ2hpcHMgJiBTbmFja3NcIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBdLm1hcCgoY2F0ZWdvcnkpID0+IChcbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBrZXk9e2NhdGVnb3J5LmtleX1cbiAgICAgICAgICAgICAgICAgIGRhdGEtY2F0ZWdvcnk9e2NhdGVnb3J5LmtleX1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU3BlY2lhbCBoYW5kbGluZyBmb3IgTG90dG8sIEdyb2NlcnksIFdlc3Rlcm4gVW5pb24sIGFuZCBUZWEgY2F0ZWdvcmllc1xuICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnkua2V5ID09PSBcIkxvdHRvXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeS5rZXkgPT09IFwiR3JvY2VyeVwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnkua2V5ID09PSBcIldlc3Rlcm5VbmlvblwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnkua2V5ID09PSBcIlRlYVwiXG4gICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIHNlYXJjaCB0ZXJtIGZpcnN0LCB0aGVuIGN1cnJlbnRseSBmb2N1c2VkIGlucHV0IGZpZWxkXG4gICAgICAgICAgICAgICAgICAgICAgbGV0IGlucHV0VmFsdWUgPSBzZWFyY2hUZXJtLnRyaW0oKTtcblxuICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHNlYXJjaCBpcyBlbXB0eSwgY2hlY2sgdGhlIGN1cnJlbnRseSBhY3RpdmUgaW5wdXQgZmllbGRcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAhaW5wdXRWYWx1ZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlSW5wdXRSZWYgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUlucHV0UmVmLmN1cnJlbnRcbiAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0VmFsdWUgPSBhY3RpdmVJbnB1dFJlZi5jdXJyZW50LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHN0aWxsIG5vIHZhbHVlLCBjaGVjayBvdGhlciBpbnB1dCBmaWVsZHMgdGhhdCBtaWdodCBoYXZlIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICAgIGlmICghaW5wdXRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRzID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNjb3VudFJlZixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzaEFtb3VudFJlZixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZEFtb3VudFJlZixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzaGJhY2tBbW91bnRSZWYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxvdHRvV2lubmluZ3NSZWYsXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpbnB1dFJlZiBvZiBpbnB1dHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0UmVmLmN1cnJlbnQgJiYgaW5wdXRSZWYuY3VycmVudC52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0VmFsdWUgPSBpbnB1dFJlZi5jdXJyZW50LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgbnVtZXJpY1ZhbHVlID0gcGFyc2VGbG9hdChpbnB1dFZhbHVlKTtcblxuICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHNlYXJjaCB0ZXJtIGlzIGEgdmFsaWQgbnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc05hTihudW1lcmljVmFsdWUpICYmIG51bWVyaWNWYWx1ZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBpdGVtIHdpdGggdGhlIHNwZWNpZmllZCBhbW91bnQgYmFzZWQgb24gY2F0ZWdvcnlcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdJdGVtO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2F0ZWdvcnkua2V5ID09PSBcIkxvdHRvXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3SXRlbSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogYGxvdHRvLSR7RGF0ZS5ub3coKX1gLCAvLyBVbmlxdWUgSUQgZm9yIG1hbnVhbCBsb3R0byBpdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogYExvdHRvICQke251bWVyaWNWYWx1ZS50b0ZpeGVkKDIpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IFwiTG90dG9cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZTogbnVtZXJpY1ZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b2NrOiA5OTksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG93U3RvY2tUaHJlc2hvbGQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlUYXg6IHRydWUsIC8vIExvdHRvIGlzIHR5cGljYWxseSB0YXhhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNNYW51YWw6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNhdGVnb3J5LmtleSA9PT0gXCJHcm9jZXJ5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3SXRlbSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogYGdyb2NlcnktJHtEYXRlLm5vdygpfWAsIC8vIFVuaXF1ZSBJRCBmb3IgbWFudWFsIGdyb2NlcnkgaXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGBHcm9jZXJ5IEl0ZW0gJCR7bnVtZXJpY1ZhbHVlLnRvRml4ZWQoMil9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogXCJHcm9jZXJ5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2U6IG51bWVyaWNWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9jazogOTk5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvd1N0b2NrVGhyZXNob2xkOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5VGF4OiB0cnVlLCAvLyBHcm9jZXJ5IGlzIHR5cGljYWxseSB0YXhhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNNYW51YWw6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNhdGVnb3J5LmtleSA9PT0gXCJXZXN0ZXJuVW5pb25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdJdGVtID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBgd2VzdGVybi11bmlvbi0ke0RhdGUubm93KCl9YCwgLy8gVW5pcXVlIElEIGZvciBtYW51YWwgV2VzdGVybiBVbmlvbiBpdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogYFdlc3Rlcm4gVW5pb24gJCR7bnVtZXJpY1ZhbHVlLnRvRml4ZWQoMil9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogXCJXZXN0ZXJuIFVuaW9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2U6IG51bWVyaWNWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9jazogOTk5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvd1N0b2NrVGhyZXNob2xkOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5VGF4OiB0cnVlLCAvLyBXZXN0ZXJuIFVuaW9uIGlzIHR5cGljYWxseSB0YXhhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNNYW51YWw6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNhdGVnb3J5LmtleSA9PT0gXCJUZWFcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdJdGVtID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBgdGVhLSR7RGF0ZS5ub3coKX1gLCAvLyBVbmlxdWUgSUQgZm9yIG1hbnVhbCBUZWEgaXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGBUZWEgJCR7bnVtZXJpY1ZhbHVlLnRvRml4ZWQoMil9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogXCJUZWFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZTogbnVtZXJpY1ZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b2NrOiA5OTksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG93U3RvY2tUaHJlc2hvbGQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlUYXg6IHRydWUsIC8vIFRlYSBpcyB0eXBpY2FsbHkgdGF4YWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTWFudWFsOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdG8gY2FydFxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9DYXJ0KG5ld0l0ZW0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDbGVhciB0aGUgaW5wdXQgZmllbGQgdGhhdCB3YXMgdXNlZFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlYXJjaFRlcm0udHJpbSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlYXJjaFRlcm0oXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFjdGl2ZUlucHV0UmVmICYmIGFjdGl2ZUlucHV0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgdGhlIGN1cnJlbnRseSBhY3RpdmUgaW5wdXQgZmllbGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlSW5wdXRSZWYuY3VycmVudC52YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRyaWdnZXIgb25DaGFuZ2UgZXZlbnQgdG8gdXBkYXRlIHN0YXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEV2ZW50KFwiaW5wdXRcIiwgeyBidWJibGVzOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVJbnB1dFJlZi5jdXJyZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTaG93IHN1Y2Nlc3MgZmVlZGJhY2tcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBBZGRlZCAke25ld0l0ZW0ubmFtZX0gdG8gY2FydGApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBCcmllZiB2aXN1YWwgZmVlZGJhY2sgYnkgdGVtcG9yYXJpbHkgaGlnaGxpZ2h0aW5nIHRoZSBjYXJkXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50Q2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGBbZGF0YS1jYXRlZ29yeT1cIiR7Y2F0ZWdvcnkua2V5fVwiXWBcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudENhcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENhcmQuc3R5bGUudHJhbnNmb3JtID0gXCJzY2FsZSgxLjA1KVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q2FyZC5zdHlsZS50cmFuc2Zvcm0gPSBcInNjYWxlKDEpXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDIwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJldHVybiBmb2N1cyB0byBzZWFyY2ggYmFyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlYXJjaElucHV0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hJbnB1dFJlZi5jdXJyZW50LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gRG9uJ3Qgc2V0IGNhdGVnb3J5IGZpbHRlciwganVzdCBhZGQgdGhlIGl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBEZWZhdWx0IGJlaGF2aW9yOiBzZXQgY2F0ZWdvcnkgZmlsdGVyXG4gICAgICAgICAgICAgICAgICAgIHNldENhdGVnb3J5RmlsdGVyKGNhdGVnb3J5LmtleSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJldHVybiBmb2N1cyB0byBzZWFyY2ggYmFyIGFmdGVyIGNhdGVnb3J5IHNlbGVjdGlvblxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VhcmNoSW5wdXRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoSW5wdXRSZWYuY3VycmVudC5mb2N1cygpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBgbGluZWFyLWdyYWRpZW50KDEzNWRlZywgJHtjYXRlZ29yeS5jb2xvcn0sICR7Y2F0ZWdvcnkuY29sb3J9ZGQpYCxcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwid2hpdGVcIixcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjhyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjEwcHhcIixcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBcImFsbCAwLjJzIGVhc2VcIixcbiAgICAgICAgICAgICAgICAgICAgYm94U2hhZG93OlxuICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5RmlsdGVyID09PSBjYXRlZ29yeS5rZXlcbiAgICAgICAgICAgICAgICAgICAgICAgID8gYDAgOHB4IDI1cHggJHtjYXRlZ29yeS5jb2xvcn00MGBcbiAgICAgICAgICAgICAgICAgICAgICAgIDogXCIwIDRweCAxNXB4IHJnYmEoMCwwLDAsMC4xKVwiLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06XG4gICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlGaWx0ZXIgPT09IGNhdGVnb3J5LmtleVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBcInRyYW5zbGF0ZVkoLTJweClcIlxuICAgICAgICAgICAgICAgICAgICAgICAgOiBcInRyYW5zbGF0ZVkoMClcIixcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOlxuICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5RmlsdGVyID09PSBjYXRlZ29yeS5rZXlcbiAgICAgICAgICAgICAgICAgICAgICAgID8gYDNweCBzb2xpZCAke2NhdGVnb3J5LmNvbG9yfWBcbiAgICAgICAgICAgICAgICAgICAgICAgIDogXCIzcHggc29saWQgdHJhbnNwYXJlbnRcIixcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYXRlZ29yeUZpbHRlciAhPT0gY2F0ZWdvcnkua2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKC0xcHgpXCI7XG4gICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUuYm94U2hhZG93ID0gYDAgNnB4IDIwcHggJHtjYXRlZ29yeS5jb2xvcn0zMGA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYXRlZ29yeUZpbHRlciAhPT0gY2F0ZWdvcnkua2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKDApXCI7XG4gICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUuYm94U2hhZG93ID0gXCIwIDRweCAxNXB4IHJnYmEoMCwwLDAsMC4xKVwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZm9udFNpemU6IFwiMnJlbVwiLCBtYXJnaW5Cb3R0b206IFwiMC41cmVtXCIgfX0+XG4gICAgICAgICAgICAgICAgICAgIHtjYXRlZ29yeS5pY29ufVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiNjAwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBcIjAuMjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge2NhdGVnb3J5Lm5hbWV9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZm9udFNpemU6IFwiMC44cmVtXCIsIG9wYWNpdHk6IDAuOSB9fT5cbiAgICAgICAgICAgICAgICAgICAge2NhdGVnb3J5LmRlc2NyaXB0aW9ufVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkpfVxuXG4gICAgICAgICAgICAgIHsvKiBDbGVhciBGaWx0ZXIgQ2FyZCAqL31cbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldENhdGVnb3J5RmlsdGVyKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWFyY2hJbnB1dFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgc2VhcmNoSW5wdXRSZWYuY3VycmVudC5mb2N1cygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6XG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5RmlsdGVyID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgPyBcImxpbmVhci1ncmFkaWVudCgxMzVkZWcsICMyYzNlNTAsICMzNDQ5NWUpXCJcbiAgICAgICAgICAgICAgICAgICAgICA6IFwibGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2VjZjBmMSwgI2JkYzNjNylcIixcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBjYXRlZ29yeUZpbHRlciA9PT0gXCJcIiA/IFwid2hpdGVcIiA6IFwiIzJjM2U1MFwiLFxuICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjhyZW1cIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCIxMHB4XCIsXG4gICAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogXCJhbGwgMC4ycyBlYXNlXCIsXG4gICAgICAgICAgICAgICAgICBib3hTaGFkb3c6XG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5RmlsdGVyID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgPyBcIjAgOHB4IDI1cHggcmdiYSg0NCw2Miw4MCwwLjMpXCJcbiAgICAgICAgICAgICAgICAgICAgICA6IFwiMCA0cHggMTVweCByZ2JhKDAsMCwwLDAuMSlcIixcbiAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTpcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlGaWx0ZXIgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICA/IFwidHJhbnNsYXRlWSgtMnB4KVwiXG4gICAgICAgICAgICAgICAgICAgICAgOiBcInRyYW5zbGF0ZVkoMClcIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlcjpcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlGaWx0ZXIgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICA/IFwiM3B4IHNvbGlkICMyYzNlNTBcIlxuICAgICAgICAgICAgICAgICAgICAgIDogXCIzcHggc29saWQgdHJhbnNwYXJlbnRcIixcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIG9uTW91c2VFbnRlcj17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChjYXRlZ29yeUZpbHRlciAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoLTFweClcIjtcbiAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUuYm94U2hhZG93ID0gXCIwIDZweCAgMjBweCByZ2JhKDQ0LDYyLDgwLDAuMilcIjtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChjYXRlZ29yeUZpbHRlciAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMClcIjtcbiAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUuYm94U2hhZG93ID0gXCIwIDRweCAxNXB4IHJnYmEoMCwwLDAsMC4xKVwiO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRTaXplOiBcIjJyZW1cIiwgbWFyZ2luQm90dG9tOiBcIjAuNXJlbVwiIH19PlxuICAgICAgICAgICAgICAgICAg8J+PqlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjFyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCI2MDBcIixcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBcIjAuMjVyZW1cIixcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgQWxsIENhdGVnb3JpZXNcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRTaXplOiBcIjAuOHJlbVwiLCBvcGFjaXR5OiAwLjkgfX0+XG4gICAgICAgICAgICAgICAgICBWaWV3IEFsbCBQcm9kdWN0c1xuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogTWFudWFsIEVudHJ5IE1vZGFsICovfVxuICAgICAgICAgICAge3Nob3dNYW51YWxFbnRyeSAmJiAoXG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwiZml4ZWRcIixcbiAgICAgICAgICAgICAgICAgIHRvcDogXCIwXCIsXG4gICAgICAgICAgICAgICAgICBsZWZ0OiBcIjBcIixcbiAgICAgICAgICAgICAgICAgIHJpZ2h0OiBcIjBcIixcbiAgICAgICAgICAgICAgICAgIGJvdHRvbTogXCIwXCIsXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwicmdiYSgwLCAwLCAwLCAwLjUpXCIsXG4gICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgIHpJbmRleDogMTAwMCxcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIndoaXRlXCIsXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMnJlbVwiLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiOHB4XCIsXG4gICAgICAgICAgICAgICAgICAgIG1pbldpZHRoOiBcIjQwMHB4XCIsXG4gICAgICAgICAgICAgICAgICAgIG1heFdpZHRoOiBcIjUwMHB4XCIsXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgb25LZXlEb3duPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRTaG93TWFudWFsRW50cnkoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldE1hbnVhbEl0ZW0oe1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXMubGVuZ3RoID4gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gY2F0ZWdvcmllc1swXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJncm9jZXJ5LXRheGFibGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1YW50aXR5OiAxLFxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxoMyBzdHlsZT17eyBtYXJnaW5Cb3R0b206IFwiMXJlbVwiLCBjb2xvcjogXCIjMmMzZTUwXCIgfX0+XG4gICAgICAgICAgICAgICAgICAgIEFkZCBNYW51YWwgSXRlbVxuICAgICAgICAgICAgICAgICAgPC9oMz5cblxuICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Cb3R0b206IFwiMXJlbVwiIH19PlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJibG9ja1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCJib2xkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIEl0ZW0gTmFtZTpcbiAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXttYW51YWxJdGVtLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0TWFudWFsSXRlbSgocHJldikgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciBpdGVtIG5hbWUgb3IgZGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjZGRkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICBhdXRvRm9jdXNcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogXCIxcmVtXCIgfX0+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImJsb2NrXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcImJvbGRcIixcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgUHJpY2U6XG4gICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICBpbnB1dE1vZGU9XCJkZWNpbWFsXCJcbiAgICAgICAgICAgICAgICAgICAgICBzdGVwPVwiMC4wMVwiXG4gICAgICAgICAgICAgICAgICAgICAgbWluPVwiMFwiXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e21hbnVhbEl0ZW0ucHJpY2V9XG4gICAgICAgICAgICAgICAgICAgICAgb25Gb2N1cz17KGUpID0+IGhhbmRsZUlucHV0Rm9jdXMoZS50YXJnZXQsIHRydWUpfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldE1hbnVhbEl0ZW0oKHByZXYpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIjAuMDBcIlxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjZGRkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogXCIxcmVtXCIgfX0+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImJsb2NrXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcImJvbGRcIixcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgQ2F0ZWdvcnk6XG4gICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17bWFudWFsSXRlbS5jYXRlZ29yeX1cbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRNYW51YWxJdGVtKChwcmV2KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICNkZGRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAge2NhdGVnb3JpZXMubGVuZ3RoID4gMCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVzZSBjYXRlZ29yaWVzIGZyb20gUmVkdXgvZGF0YWJhc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXMubWFwKChjYXRlZ29yeSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIGtleT17Y2F0ZWdvcnl9IHZhbHVlPXtjYXRlZ29yeX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2NhdGVnb3J5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIGhhcmRjb2RlZCBvcHRpb25zIGlmIG5vIGNhdGVnb3JpZXMgbG9hZGVkXG4gICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiZ3JvY2VyeS10YXhhYmxlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvY2VyeSAoVGF4YWJsZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJncm9jZXJ5LW5vbi10YXhhYmxlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvY2VyeSAoTm9uLVRheGFibGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwibG90dG9cIj5Mb3R0byAoVGF4YWJsZSk8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiBcIjEuNXJlbVwiIH19PlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJibG9ja1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCJib2xkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIFF1YW50aXR5OlxuICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgaW5wdXRNb2RlPVwibnVtZXJpY1wiXG4gICAgICAgICAgICAgICAgICAgICAgbWluPVwiMVwiXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e21hbnVhbEl0ZW0ucXVhbnRpdHl9XG4gICAgICAgICAgICAgICAgICAgICAgb25Gb2N1cz17KGUpID0+IGhhbmRsZUlucHV0Rm9jdXMoZS50YXJnZXQsIHRydWUpfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldE1hbnVhbEl0ZW0oKHByZXYpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHF1YW50aXR5OiBwYXJzZUludChlLnRhcmdldC52YWx1ZSkgfHwgMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgI2RkZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgIGdhcDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJmbGV4LWVuZFwiLFxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2hvd01hbnVhbEVudHJ5KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldE1hbnVhbEl0ZW0oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZTogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcmllcy5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGNhdGVnb3JpZXNbMF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJncm9jZXJ5LXRheGFibGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbSAxcmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzk1YTVhNlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwid2hpdGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICBDYW5jZWxcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXthZGRNYW51YWxJdGVtfVxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbSAxcmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzI3YWU2MFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwid2hpdGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCJib2xkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIEFkZCB0byBDYXJ0XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgey8qIERlZGljYXRlZCBLZXlib2FyZCBBcmVhICovfVxuICAgICAgICAgICAge3Nob3dLZXlib2FyZCAmJiAoXG4gICAgICAgICAgICAgIDxLZXlib2FyZEFyZWE+XG4gICAgICAgICAgICAgICAgPE9uU2NyZWVuS2V5Ym9hcmRcbiAgICAgICAgICAgICAgICAgIHNob3c9e3Nob3dLZXlib2FyZH1cbiAgICAgICAgICAgICAgICAgIG1vZGU9e2tleWJvYXJkTW9kZX1cbiAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLwn5SEIEtleWJvYXJkIGNsb3NlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0U2hvd0tleWJvYXJkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBpbnB1dFJlZj17YWN0aXZlSW5wdXRSZWZ9XG4gICAgICAgICAgICAgICAgICBvbktleVByZXNzPXsoa2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi8J+UpCBWaXJ0dWFsIGtleSBwcmVzc2VkOlwiLCBrZXkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIvCflI0gYWN0aXZlSW5wdXRSZWYgYXQga2V5IHByZXNzOlwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgYWN0aXZlSW5wdXRSZWYsXG4gICAgICAgICAgICAgICAgICAgICAgYWN0aXZlSW5wdXRSZWZDdXJyZW50OiBhY3RpdmVJbnB1dFJlZj8uY3VycmVudCxcbiAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVJbnB1dFJlZkN1cnJlbnRWYWx1ZTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUlucHV0UmVmPy5jdXJyZW50Py52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvS2V5Ym9hcmRBcmVhPlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9kdWN0cy1ncmlkXCI+XG4gICAgICAgICAgICAgIHtmaWx0ZXJlZEludmVudG9yeS5sZW5ndGggPT09IDAgJiZcbiAgICAgICAgICAgICAgICBpbnZlbnRvcnkubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgICAgIHNlYXJjaFRlcm0gJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMnJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIjZjM5YzEyXCIsXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxoMz5ObyBwcm9kdWN0cyBtYXRjaCB5b3VyIHNlYXJjaDwvaDM+XG4gICAgICAgICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgICAgICAgIFNlYXJjaDogXCJ7c2VhcmNoVGVybX1cIntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICB7Y2F0ZWdvcnlGaWx0ZXIgJiYgYHwgQ2F0ZWdvcnk6IFwiJHtjYXRlZ29yeUZpbHRlcn1cImB9XG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6IFwiMXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjc1cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2ZmZjNjZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjZmZlYWE3XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIjODU2NDA0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIPCfkqEgPHN0cm9uZz5QcmVzcyBFbnRlcjwvc3Ryb25nPiB0byBhZGQgXCJ7c2VhcmNoVGVybX1cIiBhcyBhXG4gICAgICAgICAgICAgICAgICAgICAgbWFudWFsIGl0ZW0gd2l0aCBjdXN0b20gcHJpY2VcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICB7aW52ZW50b3J5TG9hZGluZyAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIycmVtXCIsXG4gICAgICAgICAgICAgICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiIzM0OThkYlwiLFxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8aDM+TG9hZGluZyBwcm9kdWN0cy4uLjwvaDM+XG4gICAgICAgICAgICAgICAgICA8cD5QbGVhc2Ugd2FpdCB3aGlsZSB3ZSBsb2FkIHRoZSBpbnZlbnRvcnkgZnJvbSBkYXRhYmFzZTwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAge2ludmVudG9yeS5sZW5ndGggPT09IDAgJiYgIWludmVudG9yeUxvYWRpbmcgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMnJlbVwiLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNlNzRjM2NcIixcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPGgzPk5vIHByb2R1Y3RzIGF2YWlsYWJsZTwvaDM+XG4gICAgICAgICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgICAgICAgTm8gaW52ZW50b3J5IGl0ZW1zIGZvdW5kLiBQbGVhc2UgY2hlY2sgeW91ciBjb25uZWN0aW9uIG9yXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhY3Qgc3VwcG9ydC5cbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAge2ZpbHRlcmVkSW52ZW50b3J5Lm1hcCgocHJvZHVjdCkgPT4gKFxuICAgICAgICAgICAgICAgIDxQcm9kdWN0SXRlbVxuICAgICAgICAgICAgICAgICAga2V5PXtwcm9kdWN0LmlkfVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gYWRkVG9DYXJ0KHByb2R1Y3QpfVxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogcHJvZHVjdC5zdG9jayA8PSAwID8gMC43IDogMSxcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPGg0Pntwcm9kdWN0Lm5hbWV9PC9oND5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJpY2Utcm93XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJpY2VcIj4ke3Byb2R1Y3QucHJpY2UudG9GaXhlZCgyKX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogXCIwLjhyZW1cIiwgY29sb3I6IFwiIzdmOGM4ZFwiIH19PlxuICAgICAgICAgICAgICAgICAgICAgIHtwcm9kdWN0LnRheGFibGUgPyBcIkhTVFwiIDogXCJObyBIU1RcIn1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic3RvY2tcIlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOlxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdC5zdG9jayA8IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIiNlNzRjM2NcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IHByb2R1Y3Quc3RvY2sgPT09IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIiNmMzljMTJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IHByb2R1Y3Quc3RvY2sgPD0gcHJvZHVjdC5sb3dTdG9ja1RocmVzaG9sZFxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiI2YzOWMxMlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogXCIjMjdhZTYwXCIsXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIFN0b2NrOiB7cHJvZHVjdC5zdG9ja317XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgIHtwcm9kdWN0LnN0b2NrIDwgMFxuICAgICAgICAgICAgICAgICAgICAgID8gXCIoTmVnYXRpdmUgU3RvY2spXCJcbiAgICAgICAgICAgICAgICAgICAgICA6IHByb2R1Y3Quc3RvY2sgPT09IDBcbiAgICAgICAgICAgICAgICAgICAgICA/IFwiKE91dCBvZiBTdG9jaylcIlxuICAgICAgICAgICAgICAgICAgICAgIDogcHJvZHVjdC5zdG9jayA8PSBwcm9kdWN0Lmxvd1N0b2NrVGhyZXNob2xkXG4gICAgICAgICAgICAgICAgICAgICAgPyBcIihMb3cgU3RvY2spXCJcbiAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L1Byb2R1Y3RJdGVtPlxuICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvUHJvZHVjdHNQYW5lbD5cblxuICAgICAgICAgIDxDaGVja291dFBhbmVsPlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcInNwYWNlLWJldHdlZW5cIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogXCIwLjFyZW1cIixcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGgyIHN0eWxlPXt7IG1hcmdpbjogMCB9fT5DdXJyZW50IFNhbGU8L2gyPlxuICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6IFwiZmxleFwiLCBnYXA6IFwiMC41cmVtXCIgfX0+XG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRJc0NyZWRpdFNhbGUoIWlzQ3JlZGl0U2FsZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0NyZWRpdFNhbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRDcmVkaXRDdXN0b21lck5hbWUoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0Q3JlZGl0QW1vdW50KDApO1xuICAgICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkQ3VzdG9tZXIobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0Q3VzdG9tZXJCYWxhbmNlKDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogaXNDcmVkaXRTYWxlID8gXCIjMjhhNzQ1XCIgOiBcIiM2Yzc1N2RcIixcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwid2hpdGVcIixcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjJyZW0gMC40cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuNjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCI2MDBcIixcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAg8J+SsyBDcmVkaXRcbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgey8qIENyZWRpdCBTYWxlIFN0YXR1cyBJbmRpY2F0b3IgKi99XG4gICAgICAgICAgICB7aXNDcmVkaXRTYWxlICYmIChcbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmZmYzY2RcIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIycHggc29saWQgI2ZmYzEwN1wiLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjhweFwiLFxuICAgICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBcIjAuNzVyZW1cIixcbiAgICAgICAgICAgICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCI2MDBcIixcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiIzg1NjQwNFwiLFxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjlyZW1cIixcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAg8J+SsyBDUkVESVQgU0FMRSBNT0RFIEFDVElWRVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIHtjcmVkaXRDdXN0b21lck5hbWUgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuOHJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiM4NTY0MDRcIixcbiAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6IFwiMC4yNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBDdXN0b21lcjogPHN0cm9uZz57Y3JlZGl0Q3VzdG9tZXJOYW1lfTwvc3Ryb25nPlxuICAgICAgICAgICAgICAgICAgICB7c2VsZWN0ZWRDdXN0b21lciAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgbWFyZ2luTGVmdDogXCIwLjVyZW1cIiB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgIChCYWxhbmNlOiAke01hdGguYWJzKGN1c3RvbWVyQmFsYW5jZSkudG9GaXhlZCgyKX17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VzdG9tZXJCYWxhbmNlID4gMCA/IFwib3dlZFwiIDogXCJjcmVkaXRcIn0pXG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJ0LWl0ZW1zXCI+XG4gICAgICAgICAgICAgIHtjYXJ0Lmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICAgICAgICA8cFxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIjN2Y4YzhkXCIsXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpblRvcDogXCIycmVtXCIsXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIE5vIGl0ZW1zIGluIGNhcnQg4oCUIGFkZCBwcm9kdWN0cyBmcm9tIHRoZSBsZWZ0IHBhbmVsXG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIGNhcnQubWFwKChpdGVtKSA9PiAoXG4gICAgICAgICAgICAgICAgICA8Q2FydEl0ZW0ga2V5PXtpdGVtLmlkfT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpdGVtLWRldGFpbHNcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8aDQ+e2l0ZW0ubmFtZX08L2g0PlxuICAgICAgICAgICAgICAgICAgICAgIDxwPiR7aXRlbS5wcmljZS50b0ZpeGVkKDIpfSBlYWNoPC9wPlxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRvZ2dsZUl0ZW1UYXgoaXRlbS5pZCl9XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjc1cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC4yNXJlbSAwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjEycHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmFwcGx5VGF4ID09PSB0cnVlID8gXCIjMjdhZTYwXCIgOiBcIiM5NWE1YTZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwid2hpdGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiBcIjAuMjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAge2l0ZW0uYXBwbHlUYXggPT09IHRydWUgPyBcIkhTVCBPTlwiIDogXCJIU1QgT0ZGXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInF1YW50aXR5LWNvbnRyb2xzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlRGVjcmVhc2VRdWFudGl0eShpdGVtLmlkKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpdGVtLnF1YW50aXR5IDw9IDF9XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiBpdGVtLnF1YW50aXR5IDw9IDEgPyAwLjUgOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5xdWFudGl0eSA8PSAxID8gXCJub3QtYWxsb3dlZFwiIDogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIC1cbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj57aXRlbS5xdWFudGl0eX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ2FydFF1YW50aXR5KGl0ZW0uaWQsIGl0ZW0ucXVhbnRpdHkgKyAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICtcbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaXRlbS10b3RhbFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXY+JHsoaXRlbS5wcmljZSAqIGl0ZW0ucXVhbnRpdHkpLnRvRml4ZWQoMil9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAge2l0ZW0uYXBwbHlUYXggPT09IHRydWUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogXCIwLjc1cmVtXCIsIGNvbG9yOiBcIiM3ZjhjOGRcIiB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKyR7KGl0ZW0ucHJpY2UgKiBpdGVtLnF1YW50aXR5ICogMC4xMykudG9GaXhlZCgyKX0gSFNUXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJlbW92ZS1idG5cIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHJlbW92ZUZyb21DYXJ0KGl0ZW0uaWQpfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgw5dcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8L0NhcnRJdGVtPlxuICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgey8qIFNjcm9sbGFibGUgY2hlY2tvdXQgc2VjdGlvbnMgKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoZWNrb3V0LXNlY3Rpb25zXCI+XG4gICAgICAgICAgICAgIHsvKiBDYXNoYmFjayBPcHRpb24gKi99XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgbWFyZ2luOiBcIjAuNXJlbSAwXCIsXG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmOGY5ZmFcIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgI2U5ZWNlZlwiLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjZweFwiLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICBnYXA6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiNTAwXCIsXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjYXNoYmFja0VuYWJsZWR9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldENhc2hiYWNrRW5hYmxlZChlLnRhcmdldC5jaGVja2VkKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoIWUudGFyZ2V0LmNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldENhc2hiYWNrQW1vdW50KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2FzaGJhY2tGZWUoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB0cmFuc2Zvcm06IFwic2NhbGUoMS4yKVwiIH19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPHNwYW4+QWRkIENhc2hiYWNrPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG5cbiAgICAgICAgICAgICAgICB7Y2FzaGJhY2tFbmFibGVkICYmIChcbiAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2FwOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgc3R5bGU9e3sgbWluV2lkdGg6IFwiNzBweFwiLCBmb250U2l6ZTogXCIwLjlyZW1cIiB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgIEFtb3VudDpcbiAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmPXtjYXNoYmFja0Ftb3VudFJlZn1cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0TW9kZT1cImRlY2ltYWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgc3RlcD1cIjAuMDFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgbWluPVwiMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Y2FzaGJhY2tBbW91bnR9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkZvY3VzPXsoKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVJbnB1dEZvY3VzKGNhc2hiYWNrQW1vdW50UmVmLCB0cnVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldENhc2hiYWNrQW1vdW50KHZhbHVlID09PSBcIlwiID8gXCJcIiA6IE51bWJlcih2YWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC40cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZsZXg6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjZGRkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCIwLjAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblRvcDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhcDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5XaWR0aDogXCI3MHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuOXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIjZTY3ZTIyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIEZlZTpcbiAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmPXtjYXNoYmFja0ZlZVJlZn1cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0TW9kZT1cImRlY2ltYWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgc3RlcD1cIjAuMDFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgbWluPVwiMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Y2FzaGJhY2tGZWV9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkZvY3VzPXsoKSA9PiBoYW5kbGVJbnB1dEZvY3VzKGNhc2hiYWNrRmVlUmVmLCB0cnVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDYXNoYmFja0ZlZSh2YWx1ZSA9PT0gXCJcIiA/IFwiXCIgOiBOdW1iZXIodmFsdWUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNHJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgI2U2N2UyMlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2ZlZjVlN1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiMC4wMFwiXG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgeyhOdW1iZXIoY2FzaGJhY2tGZWUpIHx8IDApID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjhyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiI2U2N2UyMlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U3R5bGU6IFwiaXRhbGljXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZmVmNWU3XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC4yNXJlbSAwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICNmNGQwM2ZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAg8J+SsCBDYXNoYmFjayBmZWU6ICRcbiAgICAgICAgICAgICAgICAgICAgICAgIHsoTnVtYmVyKGNhc2hiYWNrRmVlKSB8fCAwKS50b0ZpeGVkKDIpfSBhZGRlZCB0byB0b3RhbFxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgey8qIERpc2NvdW50ICovfVxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIG1hcmdpbjogXCIwLjVyZW0gMFwiLFxuICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZmZmM2UwXCIsXG4gICAgICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICNmZmNjODBcIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI2cHhcIixcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIGdhcDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBcIjAuM3JlbVwiLFxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8bGFiZWwgc3R5bGU9e3sgZm9udFNpemU6IFwiMC44cmVtXCIsIGZvbnRXZWlnaHQ6IFwiNTAwXCIgfX0+XG4gICAgICAgICAgICAgICAgICAgIERpc2NvdW50IGFtb3VudDpcbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgcmVmPXtkaXNjb3VudFJlZn1cbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICBpbnB1dE1vZGU9XCJkZWNpbWFsXCJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2Rpc2NvdW50QW1vdW50fVxuICAgICAgICAgICAgICAgICAgICBvbkZvY3VzPXsoKSA9PiBoYW5kbGVJbnB1dEZvY3VzKGRpc2NvdW50UmVmLCB0cnVlKX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0VXNlcklzVHlwaW5nKHRydWUpOyAvLyBQcmV2ZW50IGF1dG8tdXBkYXRlcyB3aGlsZSB0eXBpbmdcbiAgICAgICAgICAgICAgICAgICAgICBzZXREaXNjb3VudEFtb3VudChlLnRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjRyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICNkZGRcIixcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCIwLjAwXCJcbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgeyhOdW1iZXIoZGlzY291bnRBbW91bnQpIHx8IDApID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuOHJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNlNjUxMDBcIixcbiAgICAgICAgICAgICAgICAgICAgICBmb250U3R5bGU6IFwiaXRhbGljXCIsXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIPCfkrggQ3VzdG9tZXIgc2F2ZXMgJFxuICAgICAgICAgICAgICAgICAgICB7KE51bWJlcihkaXNjb3VudEFtb3VudCkgfHwgMCkudG9GaXhlZCgyKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIHsvKiBDYXJkIEZlZSBDaGVja2JveCAqL31cbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICBnYXA6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206IGNhcmRGZWVFbmFibGVkID8gXCIwLjVyZW1cIiA6IFwiMFwiLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICBnYXA6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuOXJlbVwiLFxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y2FyZEZlZUVuYWJsZWR9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzRW5hYmxlZCA9IGUudGFyZ2V0LmNoZWNrZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0Q2FyZEZlZUVuYWJsZWQoaXNFbmFibGVkKTtcblxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRDYXJkQW1vdW50ID0gTnVtYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChjYXJkQW1vdW50KSB8fCAwXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50Q2FzaEFtb3VudCA9IE51bWJlcihcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQoY2FzaEFtb3VudCkgfHwgMFxuICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIGVuYWJsaW5nLCBhZGQgY2FyZCBmZWUgdG8gdG90YWxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsQW1vdW50ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENhcmRBbW91bnQgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q2FzaEFtb3VudCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgIENBUkRfRkVFX0FNT1VOVDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldENhcmRBbW91bnQoU3RyaW5nKHRvdGFsQW1vdW50LnRvRml4ZWQoMikpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldENhc2hBbW91bnQoXCIwXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0TGFzdEVkaXRlZChcImNhcmRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gZGlzYWJsaW5nLCByZW1vdmUgY2FyZCBmZWUgZnJvbSB0b3RhbFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRDYXJkQW1vdW50ID49IENBUkRfRkVFX0FNT1VOVCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdDYXJkQW1vdW50ID0gTWF0aC5tYXgoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q2FyZEFtb3VudCAtIENBUkRfRkVFX0FNT1VOVFxuICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDYXJkQW1vdW50KFN0cmluZyhuZXdDYXJkQW1vdW50LnRvRml4ZWQoMikpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IFwiMC4yNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogXCJzY2FsZSgxLjEpXCIsXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgQXBwbHkgY2FyZCBmZWUgKCske0NBUkRfRkVFX0FNT1VOVC50b0ZpeGVkKDIpfSlcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICB7LyogRmVlIFN0YXR1cyBEaXNwbGF5ICovfVxuICAgICAgICAgICAgICB7Y2FyZEZlZUVuYWJsZWQgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIG1hcmdpblRvcDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjI1cmVtIDAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2ZmZjNjZFwiLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICNmZmVhYTdcIixcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjhyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiIzg1NjQwNFwiLFxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICDwn5KwIENhcmQgcHJvY2Vzc2luZyBmZWU6ICR7Q0FSRF9GRUVfQU1PVU5ULnRvRml4ZWQoMil9IGFkZGVkXG4gICAgICAgICAgICAgICAgICB0byB0b3RhbFxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgIHsvKiBMb3R0byBXaW5uaW5ncyAqL31cbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBtYXJnaW46IFwiMC41cmVtIDBcIixcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2U4ZjVlOFwiLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjYzNlNmMzXCIsXG4gICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNnB4XCIsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICBnYXA6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogXCIwLjNyZW1cIixcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIHN0eWxlPXt7IGZvbnRTaXplOiBcIjAuOHJlbVwiLCBmb250V2VpZ2h0OiBcIjUwMFwiIH19PlxuICAgICAgICAgICAgICAgICAgICBMb3R0byB3aW5uaW5nczpcbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgcmVmPXtsb3R0b1dpbm5pbmdzUmVmfVxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgIGlucHV0TW9kZT1cImRlY2ltYWxcIlxuICAgICAgICAgICAgICAgICAgICBzdGVwPVwiMC4wMVwiXG4gICAgICAgICAgICAgICAgICAgIG1pbj1cIjBcIlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17bG90dG9XaW5uaW5nc31cbiAgICAgICAgICAgICAgICAgICAgb25Gb2N1cz17KCkgPT4gaGFuZGxlSW5wdXRGb2N1cyhsb3R0b1dpbm5pbmdzUmVmLCB0cnVlKX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRVc2VySXNUeXBpbmcodHJ1ZSk7IC8vIFByZXZlbnQgYXV0by11cGRhdGVzIHdoaWxlIHR5cGluZ1xuICAgICAgICAgICAgICAgICAgICAgIC8vIFByZXNlcnZlIHN0cmluZyB2YWx1ZSB3aGlsZSB0eXBpbmcgdG8gYWxsb3cgZGVjaW1hbCBpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIHNldExvdHRvV2lubmluZ3ModmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC40cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjZGRkXCIsXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiMC4wMFwiXG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgeyhOdW1iZXIobG90dG9XaW5uaW5ncykgfHwgMCkgPiAwICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC44cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiIzI4YTc0NVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGZvbnRTdHlsZTogXCJpdGFsaWNcIixcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAg8J+SsCBDdXN0b21lciB3b24gJHsoTnVtYmVyKGxvdHRvV2lubmluZ3MpIHx8IDApLnRvRml4ZWQoMil9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICBpbiBsb3R0ZXJ5XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoZWNrb3V0LXN1bW1hcnlcIj5cbiAgICAgICAgICAgICAgeygoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxTdWJ0b3RhbCA9IGNhbGN1bGF0ZVN1YnRvdGFsKCk7IC8vIEl0ZW1zIHRvdGFsIGJlZm9yZSBkaXNjb3VudFxuICAgICAgICAgICAgICAgIGNvbnN0IGRpc2NvdW50ID0gTnVtYmVyKHBhcnNlRmxvYXQoZGlzY291bnRBbW91bnQpIHx8IDApO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN1YnRvdGFsID0gY2FsY3VsYXRlVG90YWwoKTsgLy8gQWZ0ZXIgZGlzY291bnRcbiAgICAgICAgICAgICAgICBjb25zdCB0YXggPSBjYWxjdWxhdGVUYXgoKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0b3RhbCA9ICsoc3VidG90YWwgKyB0YXgpLnRvRml4ZWQoMik7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FzaGJhY2sgPSBOdW1iZXIocGFyc2VGbG9hdChjYXNoYmFja0Ftb3VudCkgfHwgMCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbG90dG8gPSBOdW1iZXIocGFyc2VGbG9hdChsb3R0b1dpbm5pbmdzKSB8fCAwKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYWlkQ2FzaCA9IE51bWJlcihwYXJzZUZsb2F0KGNhc2hBbW91bnQpIHx8IDApO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhaWRDYXJkID0gTnVtYmVyKHBhcnNlRmxvYXQoY2FyZEFtb3VudCkgfHwgMCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFpZFRvdGFsID0gKyhwYWlkQ2FzaCArIHBhaWRDYXJkKS50b0ZpeGVkKDIpO1xuXG4gICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGZpbmFsIHRvdGFsIHdpdGggY2FzaGJhY2sgYW5kIGxvdHRvIHdpbm5pbmdzXG4gICAgICAgICAgICAgICAgY29uc3QgZmluYWxUb3RhbCA9IHRvdGFsICsgY2FzaGJhY2sgLSBsb3R0bztcblxuICAgICAgICAgICAgICAgIC8vIEZvciBjYXNoYmFjayB0cmFuc2FjdGlvbnMsIHJlcXVpcmUgY2FyZCBwYXltZW50IHRvIGNvdmVyIHRvdGFsICsgY2FzaGJhY2tcbiAgICAgICAgICAgICAgICBsZXQgaXNTdWZmaWNpZW50O1xuICAgICAgICAgICAgICAgIGlmIChjYXNoYmFjayA+IDAgJiYgbG90dG8gPT09IDApIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsTmVlZGVkID0gdG90YWwgKyBjYXNoYmFjaztcbiAgICAgICAgICAgICAgICAgIGlzU3VmZmljaWVudCA9IHBhaWRDYXJkICsgMC4wMDAxID49IHRvdGFsTmVlZGVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG90dG8gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAvLyBXaXRoIGxvdHRvIHdpbm5pbmdzLCBjdXN0b21lciBtYXkgb3dlIGxlc3Mgb3IgZXZlbiBnZXQgbW9uZXkgYmFja1xuICAgICAgICAgICAgICAgICAgaXNTdWZmaWNpZW50ID1cbiAgICAgICAgICAgICAgICAgICAgZmluYWxUb3RhbCA8PSAwIHx8IHBhaWRUb3RhbCArIDAuMDAwMSA+PSBmaW5hbFRvdGFsO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBpc1N1ZmZpY2llbnQgPSBwYWlkVG90YWwgKyAwLjAwMDEgPj0gdG90YWw7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgY2hhbmdlID1cbiAgICAgICAgICAgICAgICAgIGNhc2hiYWNrID4gMCAmJiBsb3R0byA9PT0gMFxuICAgICAgICAgICAgICAgICAgICA/IDBcbiAgICAgICAgICAgICAgICAgICAgOiBNYXRoLm1heCgwLCArKHBhaWRUb3RhbCAtIGZpbmFsVG90YWwpLnRvRml4ZWQoMikpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgIDxUb3RhbD5cbiAgICAgICAgICAgICAgICAgICAgICB7Z2V0VGF4YWJsZVRvdGFsKCkgPiAwICYmIGdldE5vblRheGFibGVUb3RhbCgpID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlRheGFibGU6ICR7Z2V0VGF4YWJsZVRvdGFsKCkudG9GaXhlZCgyKX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBOb24tVGF4YWJsZTogJHtnZXROb25UYXhhYmxlVG90YWwoKS50b0ZpeGVkKDIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAge2Rpc2NvdW50ID4gMCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSXRlbXMgU3VidG90YWw6ICR7b3JpZ2luYWxTdWJ0b3RhbC50b0ZpeGVkKDIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogXCIjZTY1MTAwXCIsIGZvbnRXZWlnaHQ6IFwiNTAwXCIgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGlzY291bnQ6IC0ke2Rpc2NvdW50LnRvRml4ZWQoMil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlN1YnRvdGFsOiAke3N1YnRvdGFsLnRvRml4ZWQoMil9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5TdWJ0b3RhbDogJHtzdWJ0b3RhbC50b0ZpeGVkKDIpfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAge3RheCA+IDAgJiYgPGRpdj5IU1QgKDEzJSk6ICR7dGF4LnRvRml4ZWQoMil9PC9kaXY+fVxuICAgICAgICAgICAgICAgICAgICAgIDxkaXY+UHVyY2hhc2UgVG90YWw6ICR7dG90YWwudG9GaXhlZCgyKX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICB7Y2FzaGJhY2sgPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6IFwiI2U2N2UyMlwiLCBmb250V2VpZ2h0OiBcIjUwMFwiIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICBDYXNoYmFjazogJHtjYXNoYmFjay50b0ZpeGVkKDIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICB7TnVtYmVyKHBhcnNlRmxvYXQoY2FzaGJhY2tGZWUpIHx8IDApID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBcIiNkMzU0MDBcIiwgZm9udFdlaWdodDogXCI1MDBcIiB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FzaGJhY2sgRmVlOiAkXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtOdW1iZXIocGFyc2VGbG9hdChjYXNoYmFja0ZlZSkgfHwgMCkudG9GaXhlZCgyKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAge2xvdHRvID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBcIiMyOGE3NDVcIiwgZm9udFdlaWdodDogXCI1MDBcIiB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgTG90dG8gV2lubmluZ3M6IC0ke2xvdHRvLnRvRml4ZWQoMil9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmluYWwtdG90YWxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtpc0JhbGFuY2VQYXltZW50ID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiMxN2EyYjhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCI2MDBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBcIjVweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn4+mIEN1c3RvbWVyIEJhbGFuY2UgUGF5bWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXlpbmcgZm9yOntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZEN1c3RvbWVyPy5uYW1lIHx8IFwiU2VsZWN0ZWQgQ3VzdG9tZXJcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ3VycmVudCBCYWxhbmNlOiAkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VsZWN0ZWRDdXN0b21lcj8uYmFsYW5jZT8udG9GaXhlZCgyKSB8fCBcIjAuMDBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvdGFsIEFtb3VudCBEdWU6ICRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZmluYWxUb3RhbCA+PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGZpbmFsVG90YWwudG9GaXhlZCgyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBgKCR7TWF0aC5hYnMoZmluYWxUb3RhbCkudG9GaXhlZCgyKX0pIENyZWRpdGB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9Ub3RhbD5cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblRvcDogXCIxcmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBnYXA6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIHsvKiBDcmVkaXQgU2FsZSBTZWN0aW9uICovfVxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2ZmZjNjZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwiMnB4IHNvbGlkICNmZmMxMDdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjhweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogQ3JlZGl0IFNhbGUgVG9nZ2xlICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYXA6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIjYwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjEuMXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiM4NTY0MDRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206IGlzQ3JlZGl0U2FsZSA/IFwiMC43NXJlbVwiIDogXCIwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17aXNDcmVkaXRTYWxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXNDcmVkaXRTYWxlKGUudGFyZ2V0LmNoZWNrZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlLnRhcmdldC5jaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldENyZWRpdEN1c3RvbWVyTmFtZShcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q3JlZGl0QW1vdW50KDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgZXhpc3RpbmcgcGF5bWVudHMgd2hlbiBlbnRlcmluZyBjcmVkaXQgbW9kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDYXNoQW1vdW50KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDYXJkQW1vdW50KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDcmVkaXRBbW91bnQoMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB0cmFuc2Zvcm06IFwic2NhbGUoMS4yKVwiIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPvCfkrMgQ3JlZGl0IFNhbGUgTW9kZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtpc0NyZWRpdFNhbGUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBDcmVkaXQgU2FsZSBJbnB1dHMgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Cb3R0b206IFwiMC43NXJlbVwiIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FwOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluV2lkdGg6IFwiODBweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC45cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIjODU2NDA0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIjUwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDdXN0b21lcjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FwOiBcIjAuMjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9e2NyZWRpdEN1c3RvbWVyTmFtZVJlZn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtjcmVkaXRDdXN0b21lck5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkZvY3VzPXsoKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVJbnB1dEZvY3VzKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRpdEN1c3RvbWVyTmFtZVJlZixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUN1c3RvbWVyTmFtZUNoYW5nZShlLnRhcmdldC52YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC40cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsZXg6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjZGRkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciBjdXN0b21lciBuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2ZldGNoRXhpc3RpbmdDdXN0b21lcnN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNHJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzZjNzU3ZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCJ3aGl0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuOHJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiUmVmcmVzaCBjdXN0b21lciBsaXN0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn5SEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogQ3VzdG9tZXIgc3VnZ2VzdGlvbnMgZHJvcGRvd24gKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3Nob3dDdXN0b21lclN1Z2dlc3Rpb25zICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWdodDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwid2hpdGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICNkZGRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm94U2hhZG93OiBcIjAgMnB4IDhweCByZ2JhKDAsMCwwLDAuMSlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IDEwMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4SGVpZ2h0OiBcIjE1MHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRDdXN0b21lcnMgPSBBcnJheS5pc0FycmF5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdDdXN0b21lcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGV4aXN0aW5nQ3VzdG9tZXJzLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY3VzdG9tZXIpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lciAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXIuY3VzdG9tZXJOYW1lICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lci5jdXN0b21lck5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluY2x1ZGVzKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRpdEN1c3RvbWVyTmFtZS50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBbXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4YWN0TWF0Y2ggPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRDdXN0b21lcnMuZmluZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGN1c3RvbWVyKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbWVyLmN1c3RvbWVyTmFtZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRpdEN1c3RvbWVyTmFtZS50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmaWx0ZXJlZEN1c3RvbWVycy5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGN1c3RvbWVyLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUN1c3RvbWVyU2VsZWN0aW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyQm90dG9tOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIxcHggc29saWQgI2VlZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzcGFjZS1iZXR3ZWVuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZS50YXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiI2Y1ZjVmNVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGUudGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIndoaXRlXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1c3RvbWVyLmN1c3RvbWVyTmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjhyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lci5iYWxhbmNlID4gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCIjZGMzNTQ1XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiIzI4YTc0NVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCI1MDBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtNYXRoLmFicyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbWVyLmJhbGFuY2UgfHwgMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkudG9GaXhlZCgyKX17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1c3RvbWVyLmJhbGFuY2UgPiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwib3dlZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiY3JlZGl0XCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogQWRkIE5ldyBDdXN0b21lciBvcHRpb24gd2hlbiBubyBleGFjdCBtYXRjaCBmb3VuZCAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NyZWRpdEN1c3RvbWVyTmFtZS50cmltKCkubGVuZ3RoID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIWV4YWN0TWF0Y2ggJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIG5ldyBjdXN0b21lciB3aXRoIGVudGVyZWQgbmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0N1c3RvbWVyID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXJOYW1lOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVkaXRDdXN0b21lck5hbWUudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFsYW5jZTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTmV3Q3VzdG9tZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVDdXN0b21lclNlbGVjdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0N1c3RvbWVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyVG9wOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRDdXN0b21lcnMubGVuZ3RoID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIjJweCBzb2xpZCAjZTllY2VmXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2U4ZjVlOFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FwOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiNTAwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiIzE1NTcyNFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChlLnRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIjZDRlZGRhXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZS50YXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiI2U4ZjVlOFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPuKelTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWRkIFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NyZWRpdEN1c3RvbWVyTmFtZS50cmltKCl9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcyBuZXcgY3JlZGl0IGN1c3RvbWVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIERlYnVnIGluZm8gZm9yIGN1c3RvbWVyIGRhdGEgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZXhpc3RpbmdDdXN0b21lcnMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC44cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIjNmM3NTdkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuMjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZjhmOWZhXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvYWRlZCB7ZXhpc3RpbmdDdXN0b21lcnMubGVuZ3RofSBjdXN0b21lcnMue1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjcmVkaXRDdXN0b21lck5hbWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBTZWFyY2hpbmcgZm9yOiBcIiR7Y3JlZGl0Q3VzdG9tZXJOYW1lfVwiYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogQ3VzdG9tZXIgYmFsYW5jZSBkaXNwbGF5ICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkQ3VzdG9tZXIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbWVyQmFsYW5jZSA+IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiI2Y4ZDdkYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIiNkNGVkZGFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogYDFweCBzb2xpZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lckJhbGFuY2UgPiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIiNmNWM2Y2JcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCIjYzNlNmNiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC45cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VsZWN0ZWRDdXN0b21lci5jdXN0b21lck5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHJvbmc+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0gQ3VycmVudCBCYWxhbmNlOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lckJhbGFuY2UgPiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiIzcyMWMyNFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiIzE1NTcyNFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIjYwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5MZWZ0OiBcIjAuMjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtNYXRoLmFicyhjdXN0b21lckJhbGFuY2UpLnRvRml4ZWQoMil9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1c3RvbWVyQmFsYW5jZSA+IDAgPyBcIm93ZWRcIiA6IFwiY3JlZGl0XCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuN3JlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIjNmM3NTdkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblRvcDogXCIwLjI1cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElEOiB7c2VsZWN0ZWRDdXN0b21lci5pZH0gfCBMYXN0IHVwZGF0ZWQ6e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge25ldyBEYXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEN1c3RvbWVyLnVwZGF0ZWRBdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKS50b0xvY2FsZVRpbWVTdHJpbmcoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1YnRvdGFsID0gY2FsY3VsYXRlVG90YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRheCA9IGNhbGN1bGF0ZVRheCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG90YWwgPSArKHN1YnRvdGFsICsgdGF4KS50b0ZpeGVkKDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FzaGJhY2sgPSBOdW1iZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQoY2FzaGJhY2tBbW91bnQpIHx8IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsb3R0byA9IE51bWJlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChsb3R0b1dpbm5pbmdzKSB8fCAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmluYWxUb3RhbCA9IHRvdGFsICsgY2FzaGJhY2sgLSBsb3R0bztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhaWRDYXNoID0gTnVtYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KGNhc2hBbW91bnQpIHx8IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWlkQ2FyZCA9IE51bWJlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChjYXJkQW1vdW50KSB8fCAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFpZFRvdGFsID0gcGFpZENhc2ggKyBwYWlkQ2FyZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwZWNpZmllZENyZWRpdEFtb3VudCA9IE51bWJlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChjcmVkaXRBbW91bnQpIHx8IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVzZSBzcGVjaWZpZWQgY3JlZGl0IGFtb3VudCBvciBjYWxjdWxhdGUgZnJvbSBwYXltZW50IGRpZmZlcmVuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNyZWRpdEJhbGFuY2UgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGVjaWZpZWRDcmVkaXRBbW91bnQgPiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBzcGVjaWZpZWRDcmVkaXRBbW91bnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IE1hdGgubWF4KDAsIGZpbmFsVG90YWwgLSBwYWlkVG90YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVxdWlyZWRQYXltZW50ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BlY2lmaWVkQ3JlZGl0QW1vdW50ID4gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZmluYWxUb3RhbCAtIHNwZWNpZmllZENyZWRpdEFtb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogcGFpZFRvdGFsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3BlY2lmaWVkQ3JlZGl0QW1vdW50ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTcGVjaWZpZWQgY3JlZGl0IGFtb3VudCBtb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBheW1lbnROZWVkZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsVG90YWwgLSBzcGVjaWZpZWRDcmVkaXRBbW91bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBheW1lbnRTdGF0dXMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhaWRUb3RhbCA+PSBwYXltZW50TmVlZGVkIC0gMC4wMDE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHBheW1lbnRTdGF0dXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiI2U4ZjVlOFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIiNmZmYzY2RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBgMXB4IHNvbGlkICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF5bWVudFN0YXR1cyA/IFwiIzI4YTc0NVwiIDogXCIjZmZjMTA3XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC45cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+U3BlY2lmaWVkIENyZWRpdCBNb2RlOjwvc3Ryb25nPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDvv70gVW5wYWlkIEJhbGFuY2U6ICRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NwZWNpZmllZENyZWRpdEFtb3VudC50b0ZpeGVkKDIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn5KwIFBheW1lbnQgTmVlZGVkOiAkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtwYXltZW50TmVlZGVkLnRvRml4ZWQoMil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCfk4ogUGF5bWVudCBTdGF0dXM6ICR7cGFpZFRvdGFsLnRvRml4ZWQoMil9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvICR7cGF5bWVudE5lZWRlZC50b0ZpeGVkKDIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IXBheW1lbnRTdGF0dXMgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNkYzM1NDVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiNTAwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6IFwiMC4yNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDimqDvuI8gTmVlZCAkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyhwYXltZW50TmVlZGVkIC0gcGFpZFRvdGFsKS50b0ZpeGVkKDIpfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3JlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFpZFRvdGFsID4gMCAmJiBjcmVkaXRCYWxhbmNlID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZThmNWU4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgIzI4YTc0NVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuOXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPkF1dG8tQ2FsY3VsYXRlIE1vZGU6PC9zdHJvbmc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtwYWlkQ2FzaCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PvCfkrUgQ2FzaDogJHtwYWlkQ2FzaC50b0ZpeGVkKDIpfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtwYWlkQ2FyZCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PvCfkrMgQ2FyZDogJHtwYWlkQ2FyZC50b0ZpeGVkKDIpfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIjZGMzNTQ1XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCI1MDBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+TnSBDcmVkaXQgQmFsYW5jZTogJFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3JlZGl0QmFsYW5jZS50b0ZpeGVkKDIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhaWRUb3RhbCA+PSBmaW5hbFRvdGFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNlOGY1ZThcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjMjhhNzQ1XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC45cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pyFe1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRnVsbHkgUGFpZCAtIE5vIENyZWRpdCBCYWxhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmOGQ3ZGFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjZGMzNTQ1XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC45cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+TnXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZ1bGwgQ3JlZGl0OiAke2NyZWRpdEJhbGFuY2UudG9GaXhlZCgyKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Ryb25nPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgIHsvKiBQYXltZW50IElucHV0IEZpZWxkcyAtIEFsd2F5cyBWaXNpYmxlICovfVxuICAgICAgICAgICAgICAgICAgICAgIHshaXNDcmVkaXRTYWxlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYXA6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzcGFjZS1iZXR3ZWVuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhcDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2F1dG9GaWxsT3RoZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEF1dG9GaWxsT3RoZXIoISFlLnRhcmdldC5jaGVja2VkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgZm9udFNpemU6IFwiMC45cmVtXCIgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRvLWZpbGwgb3RoZXIgcGF5bWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBcIjAuODVyZW1cIiwgY29sb3I6IFwiIzdmOGM4ZFwiIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUb2dnbGUgdG8gYXV0b21hdGljYWxseSBmaWxsIHRoZSBvdGhlciBmaWVsZFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FwOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5XaWR0aDogXCI4MHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoTnVtYmVyKGNhc2hiYWNrQW1vdW50KSB8fCAwKSA+IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIiM5NWE1YTZcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiaW5oZXJpdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBDYXNoOlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9e2Nhc2hBbW91bnRSZWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRNb2RlPVwiZGVjaW1hbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjAxXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWluPVwiMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtjYXNoQW1vdW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17KE51bWJlcihjYXNoYmFja0Ftb3VudCkgfHwgMCkgPiAwfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkZvY3VzPXsoKSA9PiBoYW5kbGVJbnB1dEZvY3VzKGNhc2hBbW91bnRSZWYsIHRydWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldExhc3RFZGl0ZWQoXCJjYXNoXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFVzZXJJc1R5cGluZyh0cnVlKTsgLy8gUHJldmVudCBhdXRvLXVwZGF0ZXMgd2hpbGUgdHlwaW5nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBbHdheXMgc2V0IHRoZSByYXcgdmFsdWUgZmlyc3QgdG8gYWxsb3cgcHJvcGVyIHR5cGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldENhc2hBbW91bnQodmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25seSBkbyB2YWxpZGF0aW9uIGFuZCBhdXRvLWZpbGwgaWYgdmFsdWUgaXMgbm90IGVtcHR5IGFuZCBub3QgY3VycmVudGx5IGJlaW5nIHR5cGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBOdW1iZXIodmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNDcmVkaXRTYWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgYSBiYWxhbmNlIHBheW1lbnQgKG5vIGl0ZW1zIGluIGNhcnQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQmFsYW5jZVBheW1lbnQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcnQubGVuZ3RoID09PSAwICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRDdXN0b21lciAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbWVyQmFsYW5jZSA+IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQmFsYW5jZVBheW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3IgYmFsYW5jZSBwYXltZW50cywgYWxsb3cgYW55IGFtb3VudCB1cCB0byB0aGUgY3VzdG9tZXIncyBiYWxhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsaWRDYXNoQW1vdW50ID0gTWF0aC5taW4oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lckJhbGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWQgPiBjdXN0b21lckJhbGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldENhc2hBbW91bnQoU3RyaW5nKHZhbGlkQ2FzaEFtb3VudCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDbGVhciBjYXJkIHdoZW4gY2FzaCBpcyBlbnRlcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkQ2FzaEFtb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldENhcmRBbW91bnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvciByZWd1bGFyIGNyZWRpdCBzYWxlcyB3aXRoIGl0ZW1zIGluIGNhcnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3VidG90YWwgPSBjYWxjdWxhdGVUb3RhbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXggPSBjYWxjdWxhdGVUYXgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG90YWwgPSArKHN1YnRvdGFsICsgdGF4KS50b0ZpeGVkKDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXNoYmFjayA9IE51bWJlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KGNhc2hiYWNrQW1vdW50KSB8fCAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvdHRvID0gTnVtYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQobG90dG9XaW5uaW5ncykgfHwgMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaW5hbFRvdGFsID0gdG90YWwgKyBjYXNoYmFjayAtIGxvdHRvO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50Q3JlZGl0ID0gTnVtYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQoY3JlZGl0QW1vdW50KSB8fCAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbWFpbmluZ0Ftb3VudCA9IE1hdGgubWF4KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxUb3RhbCAtIGN1cnJlbnRDcmVkaXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBjdXN0b21lciBoYXMgZXhpc3RpbmcgYmFsYW5jZSwgYWxsb3cgcGF5bWVudCB1cCB0byB0cmFuc2FjdGlvbiB0b3RhbCArIGV4aXN0aW5nIGJhbGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1heEFsbG93ZWRQYXltZW50ID0gcmVtYWluaW5nQW1vdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRDdXN0b21lciAmJiBjdXN0b21lckJhbGFuY2UgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4QWxsb3dlZFBheW1lbnQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxUb3RhbCArIGN1c3RvbWVyQmFsYW5jZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFsbG93IGNhc2ggdXAgdG8gbWF4IGFsbG93ZWQgcGF5bWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWxpZENhc2hBbW91bnQgPSBNYXRoLm1pbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4QWxsb3dlZFBheW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZCA+IG1heEFsbG93ZWRQYXltZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2FzaEFtb3VudChTdHJpbmcodmFsaWRDYXNoQW1vdW50KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB1c2VyIGVudGVycyBjYXNoLCBjbGVhciBjYXJkIChvbmx5IG9uZSBwYXltZW50IG1ldGhvZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkQ2FzaEFtb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDYXJkQW1vdW50KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF1dG9GaWxsT3RoZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVndWxhciBtb2RlIGF1dG8tZmlsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdWJ0b3RhbCA9IGNhbGN1bGF0ZVRvdGFsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRheCA9IGNhbGN1bGF0ZVRheCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b3RhbCA9ICsoc3VidG90YWwgKyB0YXgpLnRvRml4ZWQoMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0NhcmQgPSBNYXRoLm1heChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsodG90YWwgLSBwYXJzZWQpLnRvRml4ZWQoMilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2FyZEFtb3VudChTdHJpbmcobmV3Q2FyZCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNHJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsZXg6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBpc0NyZWRpdFNhbGUgPyBcIiNmOGY5ZmFcIiA6IFwid2hpdGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQ3JlZGl0U2FsZSA/IFwiRW50ZXIgcGFydGlhbCBwYXltZW50XCIgOiBcIjAuMDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGdhcDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgey8qIFN3YXAgQnV0dG9uIC0gQWJzb2x1dGVseSBwb3NpdGlvbmVkIGJldHdlZW4gQ2FzaCBhbmQgQ2FyZCAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17c3dhcFBheW1lbnRzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNDcmVkaXRTYWxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogXCI0MHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiBcIi0xNXB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogaXNDcmVkaXRTYWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiI2Y4ZjlmYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwibGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzM0OThkYiwgIzI5ODBiOSlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI1MCVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIyMHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjIwcHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IGlzQ3JlZGl0U2FsZSA/IFwibm90LWFsbG93ZWRcIiA6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIndoaXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMTBweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiYm9sZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm94U2hhZG93OiBpc0NyZWRpdFNhbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJub25lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCIwIDFweCA0cHggcmdiYSg1MiwgMTUyLCAyMTksIDAuMylcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBcImFsbCAwLjJzIGVhc2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiBpc0NyZWRpdFNhbGUgPyAwLjQgOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpJbmRleDogMTAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VFbnRlcj17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzQ3JlZGl0U2FsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUudHJhbnNmb3JtID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJyb3RhdGUoMTgwZGVnKSBzY2FsZSgxLjIpXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC5zdHlsZS5ib3hTaGFkb3cgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjAgMnB4IDZweCByZ2JhKDUyLCAxNTIsIDIxOSwgMC40KVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNDcmVkaXRTYWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC5zdHlsZS50cmFuc2Zvcm0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInJvdGF0ZSgwZGVnKSBzY2FsZSgxKVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUuYm94U2hhZG93ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIwIDFweCA0cHggcmdiYSg1MiwgMTUyLCAyMTksIDAuMylcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0NyZWRpdFNhbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTd2FwIGRpc2FibGVkIGluIGNyZWRpdCBtb2RlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJTd2FwIGNhc2ggYW5kIGNhcmQgYW1vdW50c1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAg4oeFXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBzdHlsZT17eyBtaW5XaWR0aDogXCI4MHB4XCIgfX0+Q2FyZDo8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17Y2FyZEFtb3VudFJlZn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dE1vZGU9XCJkZWNpbWFsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3RlcD1cIjAuMDFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBtaW49XCIwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2NhcmRBbW91bnR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uRm9jdXM9eygpID0+IGhhbmRsZUlucHV0Rm9jdXMoY2FyZEFtb3VudFJlZiwgdHJ1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0TGFzdEVkaXRlZChcImNhcmRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VXNlcklzVHlwaW5nKHRydWUpOyAvLyBQcmV2ZW50IGF1dG8tdXBkYXRlcyB3aGlsZSB0eXBpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFsd2F5cyBzZXQgdGhlIHJhdyB2YWx1ZSBmaXJzdCB0byBhbGxvdyBwcm9wZXIgdHlwaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2FyZEFtb3VudCh2YWx1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IGRvIHZhbGlkYXRpb24gYW5kIGF1dG8tZmlsbCBpZiB2YWx1ZSBpcyBub3QgZW1wdHkgYW5kIG5vdCBjdXJyZW50bHkgYmVpbmcgdHlwZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IE51bWJlcih2YWx1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0NyZWRpdFNhbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBpcyBhIGJhbGFuY2UgcGF5bWVudCAobm8gaXRlbXMgaW4gY2FydClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNCYWxhbmNlUGF5bWVudCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FydC5sZW5ndGggPT09IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEN1c3RvbWVyICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXJCYWxhbmNlID4gMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNCYWxhbmNlUGF5bWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvciBiYWxhbmNlIHBheW1lbnRzLCBhbGxvdyBhbnkgYW1vdW50IHVwIHRvIHRoZSBjdXN0b21lcidzIGJhbGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWxpZENhcmRBbW91bnQgPSBNYXRoLm1pbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbWVyQmFsYW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZCA+IGN1c3RvbWVyQmFsYW5jZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2FyZEFtb3VudChTdHJpbmcodmFsaWRDYXJkQW1vdW50KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENsZWFyIGNhc2ggd2hlbiBjYXJkIGlzIGVudGVyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRDYXJkQW1vdW50ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2FzaEFtb3VudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9yIHJlZ3VsYXIgY3JlZGl0IHNhbGVzIHdpdGggaXRlbXMgaW4gY2FydFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdWJ0b3RhbCA9IGNhbGN1bGF0ZVRvdGFsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRheCA9IGNhbGN1bGF0ZVRheCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b3RhbCA9ICsoc3VidG90YWwgKyB0YXgpLnRvRml4ZWQoMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhc2hiYWNrID0gTnVtYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQoY2FzaGJhY2tBbW91bnQpIHx8IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbG90dG8gPSBOdW1iZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChsb3R0b1dpbm5pbmdzKSB8fCAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsVG90YWwgPSB0b3RhbCArIGNhc2hiYWNrIC0gbG90dG87XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRDcmVkaXQgPSBOdW1iZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChjcmVkaXRBbW91bnQpIHx8IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nQW1vdW50ID0gTWF0aC5tYXgoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbFRvdGFsIC0gY3VycmVudENyZWRpdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIGN1c3RvbWVyIGhhcyBleGlzdGluZyBiYWxhbmNlLCBhbGxvdyBwYXltZW50IHVwIHRvIHRyYW5zYWN0aW9uIHRvdGFsICsgZXhpc3RpbmcgYmFsYW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWF4QWxsb3dlZFBheW1lbnQgPSByZW1haW5pbmdBbW91bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZEN1c3RvbWVyICYmIGN1c3RvbWVyQmFsYW5jZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhBbGxvd2VkUGF5bWVudCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbFRvdGFsICsgY3VzdG9tZXJCYWxhbmNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWxsb3cgY2FyZCB1cCB0byBtYXggYWxsb3dlZCBwYXltZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbGlkQ2FyZEFtb3VudCA9IE1hdGgubWluKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhBbGxvd2VkUGF5bWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VkID4gbWF4QWxsb3dlZFBheW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDYXJkQW1vdW50KFN0cmluZyh2YWxpZENhcmRBbW91bnQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHVzZXIgZW50ZXJzIGNhcmQsIGNsZWFyIGNhc2ggKG9ubHkgb25lIHBheW1lbnQgbWV0aG9kKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRDYXJkQW1vdW50ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldENhc2hBbW91bnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXV0b0ZpbGxPdGhlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWd1bGFyIG1vZGUgYXV0by1maWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1YnRvdGFsID0gY2FsY3VsYXRlVG90YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGF4ID0gY2FsY3VsYXRlVGF4KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsID0gKyhzdWJ0b3RhbCArIHRheCkudG9GaXhlZCgyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3Q2FzaCA9IE1hdGgubWF4KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyh0b3RhbCAtIHBhcnNlZCkudG9GaXhlZCgyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDYXNoQW1vdW50KFN0cmluZyhuZXdDYXNoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC40cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGlzQ3JlZGl0U2FsZSA/IFwiI2Y4ZjlmYVwiIDogXCJ3aGl0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNDcmVkaXRTYWxlID8gXCJFbnRlciBwYXJ0aWFsIHBheW1lbnRcIiA6IFwiMC4wMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogUGF5bWVudCBUZXJtaW5hbCBCdXR0b24gKi99XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgdG90YWwgZm9yIHRlcm1pbmFsIHBheW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdWJ0b3RhbCA9IGNhbGN1bGF0ZVRvdGFsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGF4ID0gY2FsY3VsYXRlVGF4KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG90YWwgPSArKHN1YnRvdGFsICsgdGF4KS50b0ZpeGVkKDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhc2hiYWNrID0gTnVtYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChjYXNoYmFja0Ftb3VudCkgfHwgMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbG90dG8gPSBOdW1iZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KGxvdHRvV2lubmluZ3MpIHx8IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vdGU6IHRvdGFsIGFscmVhZHkgaW5jbHVkZXMgY3JlZGl0IGNhcmQgY2hhcmdlIGZyb20gY2FsY3VsYXRlVG90YWwoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsVG90YWwgPSB0b3RhbCArIGNhc2hiYWNrIC0gbG90dG87XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQcm9jZXNzIHRlcm1pbmFsIHBheW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVUZXJtaW5hbFBheW1lbnQoZmluYWxUb3RhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc0NyZWRpdFNhbGUgfHwgY2FydC5sZW5ndGggPT09IDB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjRyZW0gMC44cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNDcmVkaXRTYWxlIHx8IGNhcnQubGVuZ3RoID09PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCIjZjhmOWZhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIiM2ZjQyYzFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQ3JlZGl0U2FsZSB8fCBjYXJ0Lmxlbmd0aCA9PT0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiIzZjNzU3ZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJ3aGl0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjZweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQ3JlZGl0U2FsZSB8fCBjYXJ0Lmxlbmd0aCA9PT0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwibm90LWFsbG93ZWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuODVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIjYwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbkxlZnQ6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogXCJhbGwgMC4ycyBlYXNlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQ3JlZGl0U2FsZSB8fCBjYXJ0Lmxlbmd0aCA9PT0gMCA/IDAuNiA6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0NyZWRpdFNhbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJUZXJtaW5hbCBkaXNhYmxlZCBpbiBjcmVkaXQgbW9kZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGNhcnQubGVuZ3RoID09PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiQWRkIGl0ZW1zIHRvIGNhcnQgZmlyc3RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlByb2Nlc3MgcGF5bWVudCB2aWEgdGVybWluYWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIPCfkrMgVGVybWluYWxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgey8qIENhc2hiYWNrIENhcmQtT25seSBOb3RpY2UgKi99XG4gICAgICAgICAgICAgICAgICAgICAgeyhOdW1iZXIoY2FzaGJhY2tBbW91bnQpIHx8IDApID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2U4ZjRmZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgIzg1YzFlOVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjg1cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiIzJlODZjMVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIjUwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblRvcDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAg8J+aq3tcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYXNoIHBheW1lbnQgZGlzYWJsZWQgZm9yIGNhc2hiYWNrIHRyYW5zYWN0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjhyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblRvcDogXCIwLjI1cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEN1c3RvbWVyIG11c3QgcGF5IGJ5IGNhcmQg4oCiIENhc2ggcmVnaXN0ZXI6IC1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KE51bWJlcihjYXNoYmFja0Ftb3VudCkgfHwgMCkudG9GaXhlZCgyKX0gK3tcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KE51bWJlcihjYXNoYmFja0ZlZSkgfHwgMCkudG9GaXhlZCgyKX0gcHJvZml0XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICAgIHshaXNDcmVkaXRTYWxlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtjYXNoYmFjayA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZmZmM2NkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgI2ZmZWFhN1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblRvcDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz5DYXNoYmFjazogJHtjYXNoYmFjay50b0ZpeGVkKDIpfTwvc3Ryb25nPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuODVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIjODU2NDA0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVpcmVzIGNhcmQgcGF5bWVudDogJFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KHRvdGFsICsgY2FzaGJhY2spLnRvRml4ZWQoMil9IChQdXJjaGFzZTogJFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dG90YWwudG9GaXhlZCgyKX0gKyBDYXNoYmFjazogJFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2FzaGJhY2sudG9GaXhlZCgyKX0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjhyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIjZDY4OTEwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiBcIjAuMjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIjUwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn5KzIEN1c3RvbWVyIHBheXMgYnkgY2FyZCDigKIg8J+StSBZb3UgZ2l2ZSAkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjYXNoYmFjay50b0ZpeGVkKDIpfSBjYXNoIGZyb20gcmVnaXN0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IGlzU3VmZmljaWVudCA/IFwiIzJlY2M3MVwiIDogXCIjZTc0YzNjXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIjYwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXNTdWZmaWNpZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGBDYXJkIFBheW1lbnQ6ICQke3BhaWRDYXJkLnRvRml4ZWQoMil9JHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2UgPiAwICYmIGNhc2hiYWNrID09PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGAg4oCUIENoYW5nZTogJCR7Y2hhbmdlLnRvRml4ZWQoMil9YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2hiYWNrID4gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBgIOKAlCBDYXNoYmFjayBHaXZlbjogJCR7Y2FzaGJhY2sudG9GaXhlZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGNhc2hiYWNrID4gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBgQ2FyZCBwYXltZW50IG5lZWRlZDogJCR7KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsICsgY2FzaGJhY2tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKS50b0ZpeGVkKDIpfSAoQ3VycmVudDogJCR7cGFpZENhcmQudG9GaXhlZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9KWBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogYEFtb3VudCBkdWU6ICQkeyh0b3RhbCAtIHBhaWRUb3RhbCkudG9GaXhlZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge3BheW1lbnRFcnJvciAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogXCIjZTc0YzNjXCIgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cGF5bWVudEVycm9yfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICAgIDxDaGVja291dEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17cHJvY2Vzc0NoZWNrb3V0fVxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzQ3JlZGl0U2FsZSA/IGZhbHNlIDogIWlzU3VmZmljaWVudH1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBpcyBhIGJhbGFuY2UgcGF5bWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNCYWxhbmNlUGF5bWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhaWRDYXNoID0gTnVtYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChjYXNoQW1vdW50KSB8fCAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWlkQ2FyZCA9IE51bWJlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQoY2FyZEFtb3VudCkgfHwgMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF5bWVudFRvdGFsID0gcGFpZENhc2ggKyBwYWlkQ2FyZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXN0b21lckJhbGFuY2UgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRDdXN0b21lcj8uYmFsYW5jZSB8fCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbWFpbmluZ0JhbGFuY2UgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXJCYWxhbmNlIC0gcGF5bWVudFRvdGFsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBheW1lbnRUb3RhbCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiRW50ZXIgUGF5bWVudCBBbW91bnRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlbWFpbmluZ0JhbGFuY2UgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFBheSAkJHtwYXltZW50VG90YWwudG9GaXhlZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX0gKEJhbGFuY2UgUmVtYWluaW5nOiAkJHtyZW1haW5pbmdCYWxhbmNlLnRvRml4ZWQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9KWA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgUGF5ICQke3BheW1lbnRUb3RhbC50b0ZpeGVkKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfSAoQmFsYW5jZSBQYWlkKWA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0NyZWRpdFNhbGUpIHJldHVybiBcIlByb2Nlc3MgUGF5bWVudFwiO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1YnRvdGFsID0gY2FsY3VsYXRlVG90YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGF4ID0gY2FsY3VsYXRlVGF4KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsID0gKyhzdWJ0b3RhbCArIHRheCkudG9GaXhlZCgyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FzaGJhY2sgPSBOdW1iZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChjYXNoYmFja0Ftb3VudCkgfHwgMFxuICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsb3R0byA9IE51bWJlcihwYXJzZUZsb2F0KGxvdHRvV2lubmluZ3MpIHx8IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaW5hbFRvdGFsID0gdG90YWwgKyBjYXNoYmFjayAtIGxvdHRvO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWlkQ2FzaCA9IE51bWJlcihwYXJzZUZsb2F0KGNhc2hBbW91bnQpIHx8IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWlkQ2FyZCA9IE51bWJlcihwYXJzZUZsb2F0KGNhcmRBbW91bnQpIHx8IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWlkVG90YWwgPSBwYWlkQ2FzaCArIHBhaWRDYXJkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzcGVjaWZpZWRDcmVkaXRBbW91bnQgPSBOdW1iZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChjcmVkaXRBbW91bnQpIHx8IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3BlY2lmaWVkQ3JlZGl0QW1vdW50ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBheW1lbnROZWVkZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxUb3RhbCAtIHNwZWNpZmllZENyZWRpdEFtb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFByb2Nlc3MgU2FsZSAoUGF5bWVudDogJCR7cGF5bWVudE5lZWRlZC50b0ZpeGVkKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9LCBDcmVkaXQ6ICQke3NwZWNpZmllZENyZWRpdEFtb3VudC50b0ZpeGVkKDIpfSlgO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNyZWRpdEJhbGFuY2UgPSBNYXRoLm1heChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbFRvdGFsIC0gcGFpZFRvdGFsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFpZFRvdGFsID4gMCAmJiBjcmVkaXRCYWxhbmNlID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBQcm9jZXNzIFBhcnRpYWwgUGF5bWVudCAoQ3JlZGl0OiAkJHtjcmVkaXRCYWxhbmNlLnRvRml4ZWQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9KWA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYWlkVG90YWwgPj0gZmluYWxUb3RhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiUHJvY2VzcyBGdWxsIFBheW1lbnRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiQ3JlYXRlIEZ1bGwgQ3JlZGl0IFNhbGVcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKCl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9DaGVja291dEJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9KSgpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9DaGVja291dFBhbmVsPlxuICAgICAgICA8L1BPU0dyaWQ+XG4gICAgICA8L0NvbnRhaW5lcj5cbiAgICA8L1BPU1dyYXBwZXI+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBPU1BhZ2UoKSB7XG4gIHJldHVybiAoXG4gICAgPFN1c3BlbnNlXG4gICAgICBmYWxsYmFjaz17XG4gICAgICAgIDxkaXYgc3R5bGU9e3sgcGFkZGluZzogXCIycmVtXCIsIHRleHRBbGlnbjogXCJjZW50ZXJcIiB9fT5cbiAgICAgICAgICBMb2FkaW5nIFBPUyBzeXN0ZW0uLi5cbiAgICAgICAgPC9kaXY+XG4gICAgICB9XG4gICAgPlxuICAgICAgPFBPU0NvbnRlbnQgLz5cbiAgICA8L1N1c3BlbnNlPlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwiU3VzcGVuc2UiLCJ1c2VTZWFyY2hQYXJhbXMiLCJ1c2VJbnZlbnRvcnlNYW5hZ2VyIiwidXNlQXBwRGlzcGF0Y2giLCJ1c2VFbnN1cmVJbnZlbnRvcnkiLCJ1cGRhdGVJbnZlbnRvcnlBZnRlclRyYW5zYWN0aW9uIiwidXBkYXRlSXRlbVN0b2NrTG9jYWwiLCJsb2FkSW52ZW50b3J5IiwiQ29udGFpbmVyIiwiUE9TR3JpZCIsIlByb2R1Y3RzUGFuZWwiLCJDaGVja291dFBhbmVsIiwiUHJvZHVjdEl0ZW0iLCJDYXJ0SXRlbSIsIlNlYXJjaEJhciIsIkJ1dHRvbiIsIkNhdGVnb3J5RmlsdGVyIiwiVG90YWwiLCJDaGVja291dEJ1dHRvbiIsIlJlY2VpcHRTZWN0aW9uIiwiT25TY3JlZW5LZXlib2FyZCIsInN0eWxlZCIsIlBPU1dyYXBwZXIiLCJkaXYiLCJLZXlib2FyZEFyZWEiLCJpbml0aWFsSW52ZW50b3J5IiwiaWQiLCJuYW1lIiwiY2F0ZWdvcnkiLCJwcmljZSIsInN0b2NrIiwibG93U3RvY2tUaHJlc2hvbGQiLCJ0YXhhYmxlIiwiUE9TQ29udGVudCIsImRpc3BhdGNoIiwiaXRlbXMiLCJpbnZlbnRvcnkiLCJsb2FkaW5nIiwiaW52ZW50b3J5TG9hZGluZyIsImNhdGVnb3JpZXMiLCJnZXRGaWx0ZXJlZEludmVudG9yeSIsImludmVudG9yeUxvYWRlZCIsInNlYXJjaFBhcmFtcyIsImNhcnQiLCJzZXRDYXJ0Iiwic2VhcmNoVGVybSIsInNldFNlYXJjaFRlcm0iLCJjYXRlZ29yeUZpbHRlciIsInNldENhdGVnb3J5RmlsdGVyIiwic2VhcmNoSW5wdXRSZWYiLCJjYXNoQW1vdW50UmVmIiwiY2FyZEFtb3VudFJlZiIsImRpc2NvdW50UmVmIiwiY2FzaGJhY2tBbW91bnRSZWYiLCJjYXNoYmFja0ZlZVJlZiIsImxvdHRvV2lubmluZ3NSZWYiLCJjcmVkaXRDdXN0b21lck5hbWVSZWYiLCJiYXJjb2RlQnVmZmVyIiwic2V0QmFyY29kZUJ1ZmZlciIsImxhc3RLZXlUaW1lIiwic2V0TGFzdEtleVRpbWUiLCJzaG93UmVjZWlwdCIsInNldFNob3dSZWNlaXB0IiwibGFzdFRyYW5zYWN0aW9uIiwic2V0TGFzdFRyYW5zYWN0aW9uIiwiY2FzaEFtb3VudCIsInNldENhc2hBbW91bnQiLCJjYXJkQW1vdW50Iiwic2V0Q2FyZEFtb3VudCIsImNhc2hiYWNrQW1vdW50Iiwic2V0Q2FzaGJhY2tBbW91bnQiLCJjYXNoYmFja0ZlZSIsInNldENhc2hiYWNrRmVlIiwiY2FzaGJhY2tFbmFibGVkIiwic2V0Q2FzaGJhY2tFbmFibGVkIiwibG90dG9XaW5uaW5ncyIsInNldExvdHRvV2lubmluZ3MiLCJwYXltZW50RXJyb3IiLCJzZXRQYXltZW50RXJyb3IiLCJhdXRvRmlsbE90aGVyIiwic2V0QXV0b0ZpbGxPdGhlciIsImxhc3RFZGl0ZWQiLCJzZXRMYXN0RWRpdGVkIiwidXNlcklzVHlwaW5nIiwic2V0VXNlcklzVHlwaW5nIiwic2hvd0tleWJvYXJkIiwic2V0U2hvd0tleWJvYXJkIiwiYWN0aXZlSW5wdXRSZWYiLCJzZXRBY3RpdmVJbnB1dFJlZiIsImtleWJvYXJkTW9kZSIsInNldEtleWJvYXJkTW9kZSIsImhhbmRsZUlucHV0Rm9jdXMiLCJpbnB1dFJlZiIsImlzTnVtZXJpYyIsImNvbnNvbGUiLCJsb2ciLCJpbnB1dFJlZkN1cnJlbnQiLCJjdXJyZW50IiwiaW5wdXRSZWZDdXJyZW50VmFsdWUiLCJ2YWx1ZSIsImlzQ3JlZGl0U2FsZSIsInNldElzQ3JlZGl0U2FsZSIsImNyZWRpdEN1c3RvbWVyTmFtZSIsInNldENyZWRpdEN1c3RvbWVyTmFtZSIsImNyZWRpdEFtb3VudCIsInNldENyZWRpdEFtb3VudCIsImlzQXV0b0NhbGN1bGF0aW5nIiwic2V0SXNBdXRvQ2FsY3VsYXRpbmciLCJleGlzdGluZ0N1c3RvbWVycyIsInNldEV4aXN0aW5nQ3VzdG9tZXJzIiwic2hvd0N1c3RvbWVyU3VnZ2VzdGlvbnMiLCJzZXRTaG93Q3VzdG9tZXJTdWdnZXN0aW9ucyIsInNlbGVjdGVkQ3VzdG9tZXIiLCJzZXRTZWxlY3RlZEN1c3RvbWVyIiwiY3VzdG9tZXJCYWxhbmNlIiwic2V0Q3VzdG9tZXJCYWxhbmNlIiwic2hvd1BheW1lbnRPcHRpb25zIiwic2V0U2hvd1BheW1lbnRPcHRpb25zIiwiY2FyZFR5cGUiLCJzZXRDYXJkVHlwZSIsImNhcmRGZWVFbmFibGVkIiwic2V0Q2FyZEZlZUVuYWJsZWQiLCJDQVJEX0ZFRV9BTU9VTlQiLCJpc0JhbGFuY2VQYXltZW50IiwibGVuZ3RoIiwiZGlzY291bnRBbW91bnQiLCJzZXREaXNjb3VudEFtb3VudCIsInNob3dNYW51YWxFbnRyeSIsInNldFNob3dNYW51YWxFbnRyeSIsIm1hbnVhbEl0ZW0iLCJzZXRNYW51YWxJdGVtIiwicXVhbnRpdHkiLCJmaWx0ZXJlZEludmVudG9yeSIsImFkZFRvQ2FydCIsInByb2R1Y3QiLCJleGlzdGluZ0l0ZW0iLCJpc01hbnVhbCIsImZpbmQiLCJpdGVtIiwibWFwIiwiaXNNYXRjaCIsIm5ld1N0b2NrIiwiYXBwbHlUYXgiLCJoYW5kbGVWb2lkSXRlbSIsIml0ZW1JZCIsIml0ZW1OYW1lIiwiY29uZmlybVZvaWQiLCJjb25maXJtIiwiaXRlbVRvVm9pZCIsInAiLCJmaWx0ZXIiLCJoYW5kbGVEZWNyZWFzZVF1YW50aXR5IiwidXBkYXRlQ2FydFF1YW50aXR5IiwibmV3UXVhbnRpdHkiLCJjYXJ0SXRlbSIsInF1YW50aXR5RGlmZiIsInJlbW92ZUZyb21DYXJ0IiwiaXRlbVRvUmVtb3ZlIiwidG9nZ2xlSXRlbVRheCIsImhhbmRsZVNlYXJjaEVudGVyIiwidHJpbSIsInNlYXJjaFJlc3VsdHMiLCJwcmV2IiwiZm91bmRJdGVtIiwiZm9jdXMiLCJoYW5kbGVEZWJ1Z1JlZnJlc2giLCJpc0NhdGVnb3J5VGF4YWJsZSIsInRheGFibGVLZXl3b3JkcyIsIm5vblRheGFibGVLZXl3b3JkcyIsImNhdGVnb3J5TG93ZXIiLCJ0b0xvd2VyQ2FzZSIsInNvbWUiLCJrZXl3b3JkIiwiaW5jbHVkZXMiLCJhZGRNYW51YWxJdGVtIiwicGFyc2VGbG9hdCIsImFsZXJ0Iiwibm9ybWFsaXplZE5hbWUiLCJyZXBsYWNlIiwicHJpY2VTdHIiLCJ0b0ZpeGVkIiwibWFudWFsSWQiLCJuZXdJdGVtIiwiaSIsImNhbGN1bGF0ZVN1YnRvdGFsIiwicmVkdWNlIiwidG90YWwiLCJjYWxjdWxhdGVUb3RhbCIsInN1YnRvdGFsIiwiZGlzY291bnQiLCJOdW1iZXIiLCJjYkZlZSIsImNhcmRGZWVJblRvdGFsIiwiTWF0aCIsIm1heCIsImNhbGN1bGF0ZVRheCIsImRpc2NvdW50ZWRTdWJ0b3RhbCIsIm9yaWdpbmFsU3VidG90YWwiLCJ0YXhhYmxlT3JpZ2luYWwiLCJnZXRUYXhhYmxlVG90YWwiLCJ0YXhhYmxlRGlzY291bnRlZCIsImdldE5vblRheGFibGVUb3RhbCIsInByb2Nlc3NDdXN0b21lckJhbGFuY2VQYXltZW50IiwicGF5bWVudFRvdGFsIiwiY2FzaFBhaWQiLCJjYXJkUGFpZCIsInJlbWFpbmluZ0JhbGFuY2UiLCJjdXN0b21lck5hbWUiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWN0aW9uIiwiYW1vdW50Iiwib2siLCJlcnJvckRhdGEiLCJqc29uIiwiRXJyb3IiLCJlcnJvciIsInJlc3VsdCIsInBheW1lbnRUcmFuc2FjdGlvbiIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInRheGFibGVBbW91bnQiLCJub25UYXhhYmxlQW1vdW50IiwidGF4IiwiZmluYWxUb3RhbCIsImNhc2hiYWNrIiwicGF5bWVudEJyZWFrZG93biIsImNoYW5nZSIsImlzUGFydGlhbFBheW1lbnQiLCJjcmVkaXRCYWxhbmNlIiwicGFpZEFtb3VudCIsImNyZWRpdFN0YXR1cyIsInByZXZpb3VzQmFsYW5jZSIsIm5ld0JhbGFuY2UiLCJ0cmFuc2FjdGlvblJlc3BvbnNlIiwidHJhbnNhY3Rpb25EYXRhIiwiYmFsYW5jZSIsImMiLCJzZXRUaW1lb3V0IiwiZmV0Y2hFeGlzdGluZ0N1c3RvbWVycyIsIm1lc3NhZ2UiLCJoYW5kbGVUZXJtaW5hbFBheW1lbnQiLCJwcm9jZXNzb3IiLCJ0ZXJtaW5hbElkIiwidGVybWluYWxSZXN1bHQiLCJzdWNjZXNzIiwiU3RyaW5nIiwidHJhbnNhY3Rpb25JZCIsImxhc3Q0IiwicHJvY2Vzc0NoZWNrb3V0Iiwic3VidG90YWxXaXRoRmVlcyIsInBhaWRDYXNoIiwicGFpZENhcmQiLCJwYWlkVG90YWwiLCJ0ZW1wTG90dG9BbW91bnQiLCJsb3R0b0Ftb3VudCIsInRvdGFsV2l0aENhc2hiYWNrIiwiaXNOYU4iLCJjYXJkRmVlRm9yQ2FsYyIsInRvdGFsQ2FyZEZlZSIsInNwZWNpZmllZENyZWRpdEFtb3VudCIsInJlcXVpcmVkUGF5bWVudCIsImZpbmFsQ2FzaEFtb3VudCIsImZpbmFsQ2FyZEFtb3VudCIsInRvdGFsT3dlZCIsIm1pbiIsInJlbWFpbmluZ1RvdGFsIiwiY2FzaFJhdGlvIiwiY2FyZFJhdGlvIiwicHVzaCIsInRyYW5zYWN0aW9uSXRlbXMiLCJjYXJkRmVlRm9ySXRlbSIsImNjQ2hhcmdlRm9yTGluZUl0ZW0iLCJuZXdTdWJ0b3RhbCIsIm5ld1RheGFibGVUb3RhbCIsIm5ld05vblRheGFibGVUb3RhbCIsIm5ld1RheCIsIm5ld1RvdGFsIiwidHJhbnNhY3Rpb24iLCJ0aGVuIiwiciIsImRhdGEiLCJjcmVkaXRBY2NvdW50UmVzcG9uc2UiLCJ3YXJuIiwidGV4dCIsInVwZGF0ZWRDdXN0b21lclJlc3BvbnNlIiwidXBkYXRlZEFjY291bnQiLCJhY2NvdW50IiwiZXJyIiwiY2F0Y2giLCJzdGFydE5ld1NhbGUiLCJjdXN0b21lcnMiLCJhY2NvdW50cyIsImhhbmRsZUN1c3RvbWVyTmFtZUNoYW5nZSIsIkFycmF5IiwiaXNBcnJheSIsIm1hdGNoaW5nQ3VzdG9tZXJzIiwiY3VzdG9tZXIiLCJleGFjdE1hdGNoIiwiaGFuZGxlQ3VzdG9tZXJTZWxlY3Rpb24iLCJwcm9jZXNzQ3VzdG9tZXJQYXltZW50IiwicGF5bWVudEFtb3VudCIsInVwZGF0ZWRDdXN0b21lciIsImNyZWRpdFBheW1lbnRQYXJhbSIsImdldCIsInRhcmdldEN1c3RvbWVyIiwibmV3U2FsZVBhcmFtIiwidXJsIiwiVVJMIiwid2luZG93IiwibG9jYXRpb24iLCJkZWxldGUiLCJoaXN0b3J5IiwicmVwbGFjZVN0YXRlIiwic3dhcFBheW1lbnRzIiwiY3VycmVudENhc2giLCJjdXJyZW50Q2FyZCIsInByaW50UmVjZWlwdCIsInByaW50V2luZG93Iiwib3BlbiIsInJlY2VpcHRDb250ZW50IiwidG9TdHJpbmciLCJzbGljZSIsInRvTG9jYWxlU3RyaW5nIiwiam9pbiIsImluY2x1ZGVUYXgiLCJ0b1VwcGVyQ2FzZSIsImRvY3VtZW50Iiwid3JpdGUiLCJjbG9zZSIsImxvdHRvIiwibmV3Q2FyZCIsIm5ld0Nhc2giLCJ0aW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiaGFuZGxlVmlydHVhbEtleWJvYXJkSW5wdXQiLCJldmVudCIsImRldGFpbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGFuZGxlS2V5RG93biIsImFjdGl2ZUVsZW1lbnQiLCJpc1R5cGluZ0luSW5wdXQiLCJ0YWdOYW1lIiwiY29udGVudEVkaXRhYmxlIiwiY3VycmVudFRpbWUiLCJub3ciLCJ0aW1lRGlmZiIsImlzU2Nhbm5lcklucHV0Iiwia2V5IiwiaGFuZGxlQmFyY29kZVNjYW5uZWQiLCJoYW5kbGVGb2N1c0FueXdoZXJlIiwiY2xpY2tlZEVsZW1lbnQiLCJ0YXJnZXQiLCJpc0Zvcm1FbGVtZW50IiwiaXNDYXRlZ29yeUZpbHRlciIsImNsb3Nlc3QiLCJiYXJjb2RlIiwiZm91bmRQcm9kdWN0IiwiaDIiLCJjbGFzc05hbWUiLCJoMyIsImhyIiwic3BhbiIsInN0eWxlIiwiZm9udFdlaWdodCIsImNvbG9yIiwic3Ryb25nIiwiaWR4IiwiZGlzcGxheSIsImdhcCIsIm1hcmdpblRvcCIsIm9uQ2xpY2siLCJiYWNrZ3JvdW5kQ29sb3IiLCJqdXN0aWZ5Q29udGVudCIsImFsaWduSXRlbXMiLCJtYXJnaW5Cb3R0b20iLCJmb250U2l6ZSIsInBhZGRpbmciLCJiYWNrZ3JvdW5kIiwiYm9yZGVyUmFkaXVzIiwibWFyZ2luTGVmdCIsInBvc2l0aW9uIiwiZmxleCIsInJlZiIsInR5cGUiLCJwbGFjZWhvbGRlciIsIm9uQ2hhbmdlIiwiZSIsIm9uRm9jdXMiLCJvbktleURvd24iLCJtaW5XaWR0aCIsInRpdGxlIiwidG9wIiwicmlnaHQiLCJidXR0b24iLCJib3JkZXIiLCJjdXJzb3IiLCJ3aGl0ZVNwYWNlIiwib25CbHVyIiwib3B0aW9uIiwiZ3JpZFRlbXBsYXRlQ29sdW1ucyIsIm1heEhlaWdodCIsIm1pbkhlaWdodCIsIm92ZXJmbG93WCIsImljb24iLCJkZXNjcmlwdGlvbiIsImRhdGEtY2F0ZWdvcnkiLCJpbnB1dFZhbHVlIiwiaW5wdXRzIiwibnVtZXJpY1ZhbHVlIiwiRXZlbnQiLCJidWJibGVzIiwiZGlzcGF0Y2hFdmVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ0cmFuc2Zvcm0iLCJ0ZXh0QWxpZ24iLCJ0cmFuc2l0aW9uIiwiYm94U2hhZG93Iiwib25Nb3VzZUVudGVyIiwib25Nb3VzZUxlYXZlIiwib3BhY2l0eSIsImxlZnQiLCJib3R0b20iLCJ6SW5kZXgiLCJtYXhXaWR0aCIsImxhYmVsIiwiaW5wdXQiLCJ3aWR0aCIsImF1dG9Gb2N1cyIsImlucHV0TW9kZSIsInN0ZXAiLCJzZWxlY3QiLCJwYXJzZUludCIsInNob3ciLCJtb2RlIiwib25DbG9zZSIsIm9uS2V5UHJlc3MiLCJhY3RpdmVJbnB1dFJlZkN1cnJlbnQiLCJhY3RpdmVJbnB1dFJlZkN1cnJlbnRWYWx1ZSIsImg0IiwibWFyZ2luIiwiYWJzIiwiZGlzYWJsZWQiLCJjaGVja2VkIiwiZm9udFN0eWxlIiwiaXNFbmFibGVkIiwiY3VycmVudENhcmRBbW91bnQiLCJjdXJyZW50Q2FzaEFtb3VudCIsInRvdGFsQW1vdW50IiwibmV3Q2FyZEFtb3VudCIsIm1hcmdpblJpZ2h0IiwiaXNTdWZmaWNpZW50IiwidG90YWxOZWVkZWQiLCJmbGV4RGlyZWN0aW9uIiwib3ZlcmZsb3dZIiwiZmlsdGVyZWRDdXN0b21lcnMiLCJpbmRleCIsImJvcmRlckJvdHRvbSIsIm5ld0N1c3RvbWVyIiwiaXNOZXdDdXN0b21lciIsImJvcmRlclRvcCIsInVwZGF0ZWRBdCIsInRvTG9jYWxlVGltZVN0cmluZyIsInBheW1lbnROZWVkZWQiLCJwYXltZW50U3RhdHVzIiwicGFyc2VkIiwidmFsaWRDYXNoQW1vdW50IiwiY3VycmVudENyZWRpdCIsInJlbWFpbmluZ0Ftb3VudCIsIm1heEFsbG93ZWRQYXltZW50IiwiaGVpZ2h0IiwidmFsaWRDYXJkQW1vdW50IiwiUE9TUGFnZSIsImZhbGxiYWNrIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/pos/page.js\n"));

/***/ })

});