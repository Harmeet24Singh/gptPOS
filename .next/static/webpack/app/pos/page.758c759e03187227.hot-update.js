"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/pos/page",{

/***/ "(app-pages-browser)/./app/pos/page.js":
/*!*************************!*\
  !*** ./app/pos/page.js ***!
  \*************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ POSPage; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _lib_hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/hooks */ \"(app-pages-browser)/./app/lib/hooks.js\");\n/* harmony import */ var _lib_withInventory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/withInventory */ \"(app-pages-browser)/./app/lib/withInventory.js\");\n/* harmony import */ var _lib_slices_inventorySlice__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/slices/inventorySlice */ \"(app-pages-browser)/./app/lib/slices/inventorySlice.js\");\n/* harmony import */ var _styles_posStyles__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../styles/posStyles */ \"(app-pages-browser)/./app/styles/posStyles.js\");\n/* harmony import */ var _components_OnScreenKeyboard__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/OnScreenKeyboard */ \"(app-pages-browser)/./app/components/OnScreenKeyboard.js\");\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! styled-components */ \"(app-pages-browser)/./node_modules/styled-components/dist/styled-components.browser.esm.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n// Wrapper to handle keyboard spacing\nconst POSWrapper = styled_components__WEBPACK_IMPORTED_MODULE_8__[\"default\"].div.withConfig({\n    displayName: \"page__POSWrapper\",\n    componentId: \"sc-494036d3-0\"\n})([\n    \"display:flex;flex-direction:column;min-height:100vh;max-height:100vh;overflow:hidden;\"\n]);\n_c = POSWrapper;\nconst KeyboardArea = styled_components__WEBPACK_IMPORTED_MODULE_8__[\"default\"].div.withConfig({\n    displayName: \"page__KeyboardArea\",\n    componentId: \"sc-494036d3-1\"\n})([\n    \"height:180px;background:#f8f9fa;border:1px solid #dee2e6;border-radius:8px;margin:0.5rem 0;display:flex;flex-direction:column;flex-shrink:0;\"\n]);\n_c1 = KeyboardArea;\n// Initial inventory data as fallback\nconst initialInventory = [\n    {\n        id: 1,\n        name: \"Coca Cola 355ml\",\n        category: \"Beverages\",\n        price: 1.5,\n        stock: 24,\n        lowStockThreshold: 10,\n        taxable: true\n    },\n    {\n        id: 2,\n        name: \"Lays Classic Chips\",\n        category: \"Snacks\",\n        price: 2.99,\n        stock: 8,\n        lowStockThreshold: 15,\n        taxable: true\n    },\n    {\n        id: 3,\n        name: \"Wonder Bread\",\n        category: \"Bakery\",\n        price: 3.49,\n        stock: 12,\n        lowStockThreshold: 5,\n        taxable: false\n    },\n    {\n        id: 4,\n        name: \"Marlboro Gold\",\n        category: \"Tobacco\",\n        price: 12.99,\n        stock: 3,\n        lowStockThreshold: 5,\n        taxable: true\n    },\n    {\n        id: 5,\n        name: \"Marlboro Red\",\n        category: \"Tobacco\",\n        price: 12.99,\n        stock: 5,\n        lowStockThreshold: 5,\n        taxable: true\n    },\n    {\n        id: 6,\n        name: \"Camel Blue\",\n        category: \"Tobacco\",\n        price: 13.49,\n        stock: 4,\n        lowStockThreshold: 5,\n        taxable: true\n    },\n    {\n        id: 7,\n        name: \"Newport Menthol\",\n        category: \"Tobacco\",\n        price: 13.99,\n        stock: 6,\n        lowStockThreshold: 5,\n        taxable: true\n    },\n    {\n        id: 8,\n        name: \"Red Bull 250ml\",\n        category: \"Beverages\",\n        price: 3.99,\n        stock: 18,\n        lowStockThreshold: 8,\n        taxable: true\n    },\n    {\n        id: 9,\n        name: \"Milk 1L\",\n        category: \"Dairy\",\n        price: 2.79,\n        stock: 15,\n        lowStockThreshold: 5,\n        taxable: false\n    },\n    {\n        id: 10,\n        name: \"Banana (each)\",\n        category: \"Fresh Produce\",\n        price: 0.89,\n        stock: 25,\n        lowStockThreshold: 10,\n        taxable: false\n    },\n    {\n        id: 11,\n        name: \"Coffee Cup 12oz\",\n        category: \"Beverages\",\n        price: 1.99,\n        stock: 30,\n        lowStockThreshold: 10,\n        taxable: true\n    }\n];\nfunction POSContent() {\n    _s();\n    const dispatch = (0,_lib_hooks__WEBPACK_IMPORTED_MODULE_3__.useAppDispatch)();\n    const { items: inventory, loading: inventoryLoading, categories, getFilteredInventory } = (0,_lib_hooks__WEBPACK_IMPORTED_MODULE_3__.useInventoryManager)();\n    const { inventoryLoaded } = (0,_lib_withInventory__WEBPACK_IMPORTED_MODULE_4__.useEnsureInventory)();\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)();\n    const [cart, setCart] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [searchTerm, setSearchTerm] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [categoryFilter, setCategoryFilter] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const searchInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const cashAmountRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const cardAmountRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const discountRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const cashbackAmountRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const cashbackFeeRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const lottoWinningsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const creditCustomerNameRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [barcodeBuffer, setBarcodeBuffer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [lastKeyTime, setLastKeyTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [showReceipt, setShowReceipt] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [lastTransaction, setLastTransaction] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [cashAmount, setCashAmount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [cardAmount, setCardAmount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [cashbackAmount, setCashbackAmount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [cashbackFee, setCashbackFee] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [cashbackEnabled, setCashbackEnabled] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [lottoWinnings, setLottoWinnings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [paymentError, setPaymentError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [autoFillOther, setAutoFillOther] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [lastEdited, setLastEdited] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null); // 'cash' | 'card' | null\n    // Virtual keyboard states\n    const [showKeyboard, setShowKeyboard] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [activeInputRef, setActiveInputRef] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [keyboardMode, setKeyboardMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"numeric\"); // 'full' or 'numeric'\n    // Helper function to handle input focus and show appropriate keyboard\n    const handleInputFocus = function(inputRef) {\n        let isNumeric = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n        setActiveInputRef(inputRef);\n        // Only change keyboard mode if it's not already active for this input\n        // This preserves manual mode changes made by the user\n        if (activeInputRef !== inputRef) {\n            setKeyboardMode(isNumeric ? \"numeric\" : \"full\");\n        }\n        setShowKeyboard(true);\n    };\n    // Function to show keyboard for already active input without changing mode\n    const showKeyboardForInput = (inputRef)=>{\n        setActiveInputRef(inputRef);\n        setShowKeyboard(true);\n    // Don't change keyboard mode - preserve user's choice\n    };\n    // Credit sale states\n    const [isCreditSale, setIsCreditSale] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [creditCustomerName, setCreditCustomerName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [creditAmount, setCreditAmount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0); // Specific credit amount\n    const [isAutoCalculating, setIsAutoCalculating] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false); // Prevent circular updates\n    // Credit customer management states\n    const [existingCustomers, setExistingCustomers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [showCustomerSuggestions, setShowCustomerSuggestions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [selectedCustomer, setSelectedCustomer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [customerBalance, setCustomerBalance] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [showPaymentOptions, setShowPaymentOptions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Card fee states\n    const [cardType, setCardType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"debit\"); // 'debit' | 'credit'\n    const [cardFeeEnabled, setCardFeeEnabled] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const CARD_FEE_AMOUNT = 0.25; // $0.25 fee for credit cards\n    // Check if this is a balance payment (customer selected and no cart items)\n    const isBalancePayment = selectedCustomer && cart.length === 0;\n    // Discount states\n    const [discountAmount, setDiscountAmount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    // Manual item entry states\n    const [showManualEntry, setShowManualEntry] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [manualItem, setManualItem] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        name: \"\",\n        price: \"\",\n        category: categories.length > 0 ? categories[0] : \"grocery-taxable\",\n        quantity: 1\n    });\n    // Use Redux-managed inventory with smart filtering\n    const filteredInventory = getFilteredInventory(searchTerm, categoryFilter);\n    const addToCart = (product)=>{\n        // For manual items, find existing item by name, price, and category instead of ID\n        let existingItem;\n        if (product.isManual) {\n            existingItem = cart.find((item)=>item.isManual && item.name === product.name && item.price === product.price && item.category === product.category);\n        } else {\n            existingItem = cart.find((item)=>item.id === product.id);\n        }\n        if (existingItem) {\n            setCart(cart.map((item)=>{\n                // For manual items, match by name, price, and category\n                const isMatch = product.isManual ? item.isManual && item.name === product.name && item.price === product.price && item.category === product.category : item.id === product.id;\n                return isMatch ? {\n                    ...item,\n                    quantity: item.quantity + 1\n                } : item;\n            }));\n            // Update inventory stock immediately (optimistic update)\n            if (!product.isManual && product.id) {\n                dispatch((0,_lib_slices_inventorySlice__WEBPACK_IMPORTED_MODULE_5__.updateItemStockLocal)({\n                    id: product.id,\n                    newStock: product.stock - 1\n                }));\n            }\n        } else {\n            setCart([\n                ...cart,\n                {\n                    ...product,\n                    quantity: 1,\n                    applyTax: product.taxable === true\n                }\n            ]);\n            // Update inventory stock immediately (optimistic update)\n            if (!product.isManual && product.id) {\n                dispatch((0,_lib_slices_inventorySlice__WEBPACK_IMPORTED_MODULE_5__.updateItemStockLocal)({\n                    id: product.id,\n                    newStock: product.stock - 1\n                }));\n            }\n        }\n    };\n    const handleVoidItem = (itemId, itemName)=>{\n        const confirmVoid = confirm('Void item: \"'.concat(itemName, '\"?\\n\\nThis will remove the item completely from the cart.'));\n        if (confirmVoid) {\n            // Find the item being voided to restore stock\n            const itemToVoid = cart.find((item)=>item.id === itemId);\n            if (itemToVoid && !itemToVoid.isManual) {\n                // Find the corresponding product in inventory\n                const product = inventory.find((p)=>p.id === itemId);\n                if (product) {\n                    // Restore stock by adding back the quantity being voided\n                    dispatch((0,_lib_slices_inventorySlice__WEBPACK_IMPORTED_MODULE_5__.updateItemStockLocal)({\n                        id: product.id,\n                        newStock: product.stock + itemToVoid.quantity\n                    }));\n                }\n            }\n            setCart(cart.filter((item)=>item.id !== itemId));\n        }\n    };\n    const handleDecreaseQuantity = (itemId)=>{\n        const item = cart.find((item)=>item.id === itemId);\n        if (!item || item.quantity <= 1) return; // Don't allow decrease below 1\n        // Decrease quantity normally\n        updateCartQuantity(itemId, item.quantity - 1);\n    };\n    const updateCartQuantity = (id, newQuantity)=>{\n        if (newQuantity === 0) {\n            // When quantity would become 0, prompt for void confirmation\n            const item = cart.find((item)=>item.id === id);\n            if (item) {\n                handleVoidItem(id, item.name);\n            }\n        } else {\n            // Find the item in cart to check if it's manual\n            const cartItem = cart.find((item)=>item.id === id);\n            if (cartItem && cartItem.isManual) {\n                // Manual items have unlimited stock\n                setCart(cart.map((item)=>item.id === id ? {\n                        ...item,\n                        quantity: newQuantity\n                    } : item));\n            } else {\n                // Regular inventory items - check stock and update inventory\n                const product = inventory.find((p)=>p.id === id);\n                const cartItem = cart.find((item)=>item.id === id);\n                if (product && cartItem) {\n                    const quantityDiff = newQuantity - cartItem.quantity;\n                    const newStock = product.stock - quantityDiff;\n                    setCart(cart.map((item)=>item.id === id ? {\n                            ...item,\n                            quantity: newQuantity\n                        } : item));\n                    // Update inventory stock immediately\n                    dispatch((0,_lib_slices_inventorySlice__WEBPACK_IMPORTED_MODULE_5__.updateItemStockLocal)({\n                        id: product.id,\n                        newStock: newStock\n                    }));\n                }\n            }\n        }\n    };\n    const removeFromCart = (id)=>{\n        // Find the item being removed to restore stock\n        const itemToRemove = cart.find((item)=>item.id === id);\n        if (itemToRemove && !itemToRemove.isManual) {\n            // Find the corresponding product in inventory\n            const product = inventory.find((p)=>p.id === id);\n            if (product) {\n                // Restore stock by adding back the quantity being removed\n                dispatch((0,_lib_slices_inventorySlice__WEBPACK_IMPORTED_MODULE_5__.updateItemStockLocal)({\n                    id: product.id,\n                    newStock: product.stock + itemToRemove.quantity\n                }));\n            }\n        }\n        setCart(cart.filter((item)=>item.id !== id));\n    };\n    const toggleItemTax = (id)=>{\n        setCart(cart.map((item)=>item.id === id ? {\n                ...item,\n                applyTax: !item.applyTax\n            } : item));\n    };\n    // Function to handle search when Enter is pressed\n    const handleSearchEnter = ()=>{\n        if (!searchTerm.trim()) return;\n        // Check if any products match the search term\n        const searchResults = filteredInventory;\n        if (searchResults.length === 0) {\n            // No products found, prompt for manual entry\n            const itemName = searchTerm.trim();\n            setManualItem((prev)=>({\n                    ...prev,\n                    name: itemName\n                }));\n            setShowManualEntry(true);\n        } else if (searchResults.length === 1) {\n            // Exactly one product found - automatically add to cart\n            const foundItem = searchResults[0];\n            addToCart(foundItem);\n            setSearchTerm(\"\"); // Clear search after adding\n            // Focus back on search input for next scan\n            if (searchInputRef.current) {\n                searchInputRef.current.focus();\n            }\n        }\n    // If multiple results, do nothing - let user see the results and click manually\n    };\n    // Debug function to force refresh inventory from database\n    const handleDebugRefresh = async ()=>{\n        console.log(\"=== DEBUG REFRESH TRIGGERED ===\");\n        console.log(\"Current inventory count:\", inventory.length);\n        // Clear search and filters\n        setSearchTerm(\"\");\n        setCategoryFilter(\"\");\n        // Force refresh inventory by bypassing cache\n        await dispatch((0,_lib_slices_inventorySlice__WEBPACK_IMPORTED_MODULE_5__.loadInventory)(true));\n        console.log(\"=== DEBUG REFRESH COMPLETED ===\");\n        console.log(\"New inventory count:\", inventory.length);\n        // Focus back on search input\n        if (searchInputRef.current) {\n            searchInputRef.current.focus();\n        }\n    };\n    // Helper function to determine if a category should be taxable\n    const isCategoryTaxable = (category)=>{\n        // Check if category name contains indicators of taxable items\n        const taxableKeywords = [\n            \"taxable\",\n            \"lotto\",\n            \"lottery\",\n            \"tobacco\",\n            \"alcohol\"\n        ];\n        const nonTaxableKeywords = [\n            \"non-taxable\",\n            \"untaxable\",\n            \"basic\",\n            \"essential\"\n        ];\n        const categoryLower = category.toLowerCase();\n        // First check for explicit non-taxable indicators\n        if (nonTaxableKeywords.some((keyword)=>categoryLower.includes(keyword))) {\n            return false;\n        }\n        // Then check for explicit taxable indicators\n        if (taxableKeywords.some((keyword)=>categoryLower.includes(keyword))) {\n            return true;\n        }\n        // Default to taxable for unknown categories (safer for tax compliance)\n        return true;\n    };\n    // Function to add manual item to cart\n    const addManualItem = ()=>{\n        if (!manualItem.name.trim() || !manualItem.price || parseFloat(manualItem.price) <= 0) {\n            alert(\"Please enter item name and valid price\");\n            return;\n        }\n        // Create a consistent ID based on name, price, and category for manual items\n        const normalizedName = manualItem.name.trim().toLowerCase().replace(/\\s+/g, \"-\");\n        const priceStr = parseFloat(manualItem.price).toFixed(2);\n        const manualId = \"manual-\".concat(normalizedName, \"-\").concat(priceStr, \"-\").concat(manualItem.category);\n        const newItem = {\n            id: manualId,\n            name: manualItem.name.trim(),\n            price: parseFloat(manualItem.price),\n            category: manualItem.category,\n            applyTax: isCategoryTaxable(manualItem.category),\n            stock: 999,\n            isManual: true\n        };\n        // Add to cart with specified quantity\n        for(let i = 0; i < manualItem.quantity; i++){\n            addToCart(newItem);\n        }\n        // Reset manual item form and clear search\n        setManualItem({\n            name: \"\",\n            price: \"\",\n            category: categories.length > 0 ? categories[0] : \"grocery-taxable\",\n            quantity: 1\n        });\n        setShowManualEntry(false);\n        setSearchTerm(\"\"); // Clear search term after adding item\n    };\n    const calculateSubtotal = ()=>{\n        return cart.reduce((total, item)=>total + item.price * item.quantity, 0);\n    };\n    const calculateTotal = ()=>{\n        const subtotal = calculateSubtotal();\n        const discount = Number(parseFloat(discountAmount) || 0);\n        const cbFee = Number(parseFloat(cashbackFee) || 0); // Add cashback fee if present\n        // Card fee logic - apply fee when enabled\n        const cardFeeInTotal = cardFeeEnabled ? CARD_FEE_AMOUNT : 0;\n        return Math.max(0, subtotal - discount + cbFee + cardFeeInTotal); // Ensure total doesn't go negative\n    };\n    const calculateTax = ()=>{\n        // Calculate tax on discounted amount for taxable items\n        const discountedSubtotal = calculateTotal(); // This already has discount applied\n        const originalSubtotal = calculateSubtotal();\n        const taxableOriginal = getTaxableTotal();\n        if (originalSubtotal === 0) return 0;\n        // Calculate proportional discount on taxable items\n        const taxableDiscounted = taxableOriginal * (discountedSubtotal / originalSubtotal);\n        return taxableDiscounted * 0.13; // 13% HST for Ontario, Canada\n    };\n    const getTaxableTotal = ()=>{\n        return cart.reduce((total, item)=>{\n            if (item.applyTax === true) {\n                return total + item.price * item.quantity;\n            }\n            return total;\n        }, 0);\n    };\n    const getNonTaxableTotal = ()=>{\n        return cart.reduce((total, item)=>{\n            if (item.applyTax !== true) {\n                return total + item.price * item.quantity;\n            }\n            return total;\n        }, 0);\n    };\n    // Process payment for existing customer balance\n    const processCustomerBalancePayment = async (paymentTotal, cashPaid, cardPaid)=>{\n        if (!selectedCustomer || customerBalance <= 0) {\n            alert(\"No customer selected or customer has no outstanding balance\");\n            return;\n        }\n        if (paymentTotal <= 0) {\n            alert(\"Please enter a payment amount in cash or card\");\n            return;\n        }\n        // Calculate remaining balance after payment\n        const remainingBalance = Math.max(0, customerBalance - paymentTotal);\n        try {\n            // Process the payment against customer's account\n            const response = await fetch(\"/api/credit/accounts\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    action: \"payment\",\n                    customerName: selectedCustomer.customerName,\n                    amount: paymentTotal\n                })\n            });\n            if (!response.ok) {\n                const errorData = await response.json();\n                throw new Error(errorData.error || \"Payment processing failed\");\n            }\n            const result = await response.json();\n            // Create a payment transaction record\n            const paymentTransaction = {\n                timestamp: new Date().toISOString(),\n                items: [\n                    {\n                        id: \"balance-payment\",\n                        name: \"Balance Payment - \".concat(selectedCustomer.customerName),\n                        quantity: 1,\n                        price: paymentTotal,\n                        applyTax: false,\n                        category: \"Payment\"\n                    }\n                ],\n                originalSubtotal: paymentTotal,\n                discount: 0,\n                subtotal: paymentTotal,\n                taxableAmount: 0,\n                nonTaxableAmount: paymentTotal,\n                tax: 0,\n                total: paymentTotal,\n                finalTotal: paymentTotal,\n                cashback: 0,\n                paymentBreakdown: [\n                    ...cashPaid > 0 ? [\n                        {\n                            method: \"cash\",\n                            amount: cashPaid\n                        }\n                    ] : [],\n                    ...cardPaid > 0 ? [\n                        {\n                            method: \"card\",\n                            amount: cardPaid\n                        }\n                    ] : []\n                ],\n                change: 0,\n                isCreditSale: false,\n                isPartialPayment: false,\n                creditBalance: 0,\n                paidAmount: paymentTotal,\n                creditCustomerName: selectedCustomer.customerName,\n                creditStatus: \"payment\",\n                lottoWinnings: 0,\n                isBalancePayment: true,\n                previousBalance: customerBalance,\n                newBalance: remainingBalance\n            };\n            // Save the payment transaction\n            const transactionResponse = await fetch(\"/api/transaction\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"x-api-key\": \"dev-secret\"\n                },\n                body: JSON.stringify(paymentTransaction)\n            });\n            if (transactionResponse.ok) {\n                const transactionData = await transactionResponse.json();\n                // Show success message and receipt\n                setLastTransaction({\n                    id: transactionData.id,\n                    ...paymentTransaction\n                });\n                setShowReceipt(true);\n                // Update local state\n                setCustomerBalance(remainingBalance);\n                setSelectedCustomer({\n                    ...selectedCustomer,\n                    balance: remainingBalance\n                });\n                setExistingCustomers((prev)=>prev.map((c)=>c.customerName === selectedCustomer.customerName ? {\n                            ...c,\n                            balance: remainingBalance\n                        } : c));\n                // Reset payment fields\n                setCashAmount(\"\");\n                setCardAmount(\"\");\n                setPaymentError(\"\");\n                console.log(\"Payment processed: $\".concat(paymentTotal.toFixed(2), \" paid, remaining balance: $\").concat(remainingBalance.toFixed(2)));\n            } else {\n                throw new Error(\"Failed to record payment transaction\");\n            }\n        } catch (error) {\n            console.error(\"Error processing customer payment:\", error);\n            setPaymentError(error.message || \"Failed to process payment\");\n        }\n    };\n    // Terminal Payment Handler\n    const handleTerminalPayment = async (amount)=>{\n        try {\n            // Show processing indicator\n            setPaymentError(\"Processing payment via terminal... Please present card.\");\n            // Call terminal API\n            const response = await fetch(\"/api/terminal\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    amount: amount,\n                    processor: \"chase\",\n                    terminalId: null\n                })\n            });\n            const terminalResult = await response.json();\n            if (!response.ok) {\n                throw new Error(terminalResult.error || \"Terminal request failed\");\n            }\n            if (terminalResult.success) {\n                // Set payment amounts for successful terminal payment\n                setCashAmount(\"0\");\n                setCardAmount(String(amount.toFixed(2)));\n                setLastEdited(\"card\");\n                // Auto-process checkout after successful terminal payment\n                alert(\"✅ Payment Approved!\\n\\nTransaction ID: \".concat(terminalResult.transactionId, \"\\nCard: \").concat(terminalResult.cardType, \" ****\").concat(terminalResult.last4, \"\\nAmount: $\").concat(amount.toFixed(2), \"\\n\\nProcessing sale...\"));\n                // Trigger checkout after short delay\n                setTimeout(()=>{\n                    processCheckout();\n                }, 500);\n            }\n        } catch (error) {\n            console.error(\"Terminal payment failed:\", error);\n            alert(\"❌ Payment Failed\\n\\n\".concat(error.message, \"\\n\\nPlease try again or use manual payment entry.\"));\n            setPaymentError(error.message);\n        }\n    };\n    const processCheckout = ()=>{\n        const originalSubtotal = calculateSubtotal(); // Items total before discount\n        const discount = Number(parseFloat(discountAmount) || 0);\n        const subtotalWithFees = calculateTotal(); // Use calculateTotal() which includes discount and card fees\n        const tax = calculateTax();\n        const total = subtotalWithFees + tax;\n        const cashback = Number(parseFloat(cashbackAmount) || 0);\n        const cbFee = Number(parseFloat(cashbackFee) || 0);\n        // Get payment amounts\n        const paidCash = Number(parseFloat(cashAmount) || 0);\n        const paidCard = Number(parseFloat(cardAmount) || 0);\n        const paidTotal = paidCash + paidCard;\n        const tempLottoAmount = Number(parseFloat(lottoWinnings) || 0);\n        // Special case: Customer balance payment (no items in cart, just paying existing debt)\n        if (selectedCustomer && customerBalance > 0 && cart.length === 0 && paidTotal > 0) {\n            processCustomerBalancePayment(paidTotal, paidCash, paidCard);\n            return;\n        }\n        // Check if there's anything to process (items, cashback, or lotto winnings)\n        if (cart.length === 0 && cashback === 0 && tempLottoAmount === 0) {\n            alert(\"No items in cart, no cashback amount, and no lotto winnings entered\");\n            return;\n        }\n        // Validate credit sale\n        if (isCreditSale && !creditCustomerName.trim()) {\n            alert(\"Please enter customer name for credit sale\");\n            return;\n        }\n        // Initialize payment variables (reuse the ones already declared above)\n        const lottoAmount = Number(parseFloat(lottoWinnings) || 0);\n        let totalWithCashback = total + cashback;\n        let change = 0;\n        let creditBalance = 0;\n        let isPartialPayment = false;\n        if (isNaN(paidCash) || isNaN(paidCard) || isNaN(cashback) || isNaN(lottoAmount) || paidCash < 0 || paidCard < 0 || cashback < 0 || lottoAmount < 0) {\n            setPaymentError(\"Invalid payment amounts\");\n            return;\n        }\n        // Calculate total including cashback as line item, minus lotto winnings\n        // Note: card fee is already included in total from calculateTotal()\n        const cardFeeForCalc = cardFeeEnabled ? CARD_FEE_AMOUNT : 0;\n        const totalCardFee = cardFeeForCalc;\n        totalWithCashback = total + cashback - lottoAmount;\n        if (isCreditSale) {\n            // Use specific credit amount if provided, otherwise calculate from payment difference\n            const specifiedCreditAmount = Number(parseFloat(creditAmount) || 0);\n            if (specifiedCreditAmount > 0) {\n                // Customer specified exact credit amount\n                creditBalance = specifiedCreditAmount;\n                const requiredPayment = totalWithCashback - creditBalance;\n                if (requiredPayment > paidTotal + 0.001) {\n                    setPaymentError(\"Need $\".concat(requiredPayment.toFixed(2), \" payment for $\").concat(creditBalance.toFixed(2), \" credit (Currently paid: $\").concat(paidTotal.toFixed(2), \")\"));\n                    return;\n                }\n                isPartialPayment = creditBalance > 0 && paidTotal > 0;\n            } else {\n                // Traditional mode: credit = remaining balance after payment\n                creditBalance = Math.max(0, totalWithCashback - paidTotal);\n                isPartialPayment = paidTotal > 0 && creditBalance > 0;\n            }\n            // Validate customer name for any credit amount\n            if (creditBalance > 0 && !creditCustomerName.trim()) {\n                alert(\"Please enter customer name for credit amount\");\n                return;\n            }\n            // If no payment and no credit amount specified, require customer name\n            if (paidTotal === 0 && creditBalance === 0 && !creditCustomerName.trim()) {\n                alert(\"Please enter customer name or specify payment/credit amounts\");\n                return;\n            }\n        } else {\n            // For non-credit sales, require full payment\n            // For cashback transactions, require card payment to cover total including cashback\n            if (cashback > 0) {\n                if (paidCard < totalWithCashback - 0.001) {\n                    setPaymentError(\"Cashback requires card payment of $\".concat(totalWithCashback.toFixed(2), \" (Total with Cashback: $\").concat(totalWithCashback.toFixed(2), \")\"));\n                    return;\n                }\n            } else {\n                // Regular transaction without cashback\n                if (paidTotal < totalWithCashback - 0.001) {\n                    setPaymentError(\"Payment is insufficient. Need $\".concat(totalWithCashback.toFixed(2), \" for purchase\"));\n                    return;\n                }\n            }\n            change = cashback > 0 ? 0 : Math.max(0, +(paidTotal - totalWithCashback).toFixed(2));\n        }\n        // Payment breakdown for different transaction types\n        let finalCashAmount = 0;\n        let finalCardAmount = 0;\n        if (isCreditSale) {\n            // Credit sale - no immediate payment\n            finalCashAmount = 0;\n            finalCardAmount = 0;\n        } else {\n            // Regular payment handling - record only the actual sale amount, not overpayment\n            // Cash amount should be the portion of the total that was paid in cash (up to total owed)\n            const totalOwed = totalWithCashback;\n            finalCashAmount = Math.min(paidCash, Math.max(0, totalOwed));\n            finalCardAmount = Math.min(paidCard, Math.max(0, totalOwed - finalCashAmount));\n            if (cashback > 0) {\n                // Cashback transactions: record cash going out and card payment\n                finalCashAmount = -cashback; // Cash reduced from register\n                finalCardAmount = paidCard; // Card payment covers purchase + cashback\n            }\n            // Handle lotto winnings - customer gets cash back if total is negative\n            if (lottoAmount > 0 && totalWithCashback < 0) {\n                // Customer owes nothing and gets money back (lotto winnings exceed purchase total)\n                finalCashAmount = totalWithCashback; // Negative cash amount = cash going out of register\n                finalCardAmount = 0; // No card payment needed\n            } else if (lottoAmount > 0) {\n                // Lotto winnings reduce the amount customer needs to pay\n                // Adjust payment amounts proportionally\n                const remainingTotal = totalWithCashback;\n                if (remainingTotal > 0) {\n                    const cashRatio = paidCash / paidTotal;\n                    const cardRatio = paidCard / paidTotal;\n                    finalCashAmount = remainingTotal * cashRatio;\n                    finalCardAmount = remainingTotal * cardRatio;\n                }\n            }\n        }\n        const paymentBreakdown = [];\n        if (isCreditSale) {\n            // For partial payments, record both payment and credit\n            if (isPartialPayment) {\n                if (paidCash > 0) paymentBreakdown.push({\n                    method: \"cash\",\n                    amount: +paidCash.toFixed(2)\n                });\n                if (paidCard > 0) paymentBreakdown.push({\n                    method: \"card\",\n                    amount: +paidCard.toFixed(2)\n                });\n                paymentBreakdown.push({\n                    method: \"credit\",\n                    amount: +creditBalance.toFixed(2),\n                    customerName: creditCustomerName.trim()\n                });\n            } else {\n                // Full credit sale (no payment)\n                paymentBreakdown.push({\n                    method: \"credit\",\n                    amount: +totalWithCashback.toFixed(2),\n                    customerName: creditCustomerName.trim()\n                });\n            }\n        } else {\n            if (finalCashAmount !== 0) paymentBreakdown.push({\n                method: \"cash\",\n                amount: +finalCashAmount.toFixed(2)\n            });\n            if (finalCardAmount > 0) paymentBreakdown.push({\n                method: \"card\",\n                amount: +finalCardAmount.toFixed(2)\n            });\n        }\n        // Add lotto winnings to payment breakdown for tracking\n        if (lottoAmount > 0) paymentBreakdown.push({\n            method: \"lotto\",\n            amount: +lottoAmount.toFixed(2)\n        });\n        // Include cashback as an item if present\n        const transactionItems = cart.map((c)=>({\n                id: c.id,\n                name: c.name,\n                quantity: c.quantity,\n                price: c.price,\n                applyTax: c.applyTax,\n                category: c.category\n            }));\n        // Add cashback as a line item if present\n        if (cashback > 0) {\n            transactionItems.push({\n                id: \"cashback-item\",\n                name: \"Cashback\",\n                quantity: 1,\n                price: cashback,\n                applyTax: false,\n                category: \"Cashback\"\n            });\n        }\n        // Add cashback fee as a line item if present\n        if (cbFee > 0) {\n            transactionItems.push({\n                id: \"cashback-fee-item\",\n                name: \"Cashback Fee\",\n                quantity: 1,\n                price: cbFee,\n                applyTax: true,\n                category: \"Fees\"\n            });\n        }\n        // Add card fee as a line item if present\n        const cardFeeForItem = cardFeeEnabled ? CARD_FEE_AMOUNT : 0;\n        const ccChargeForLineItem = cardFeeForItem;\n        if (ccChargeForLineItem > 0) {\n            transactionItems.push({\n                id: \"card-processing-fee-item\",\n                name: \"Card Processing Fee\",\n                quantity: 1,\n                price: ccChargeForLineItem,\n                applyTax: false,\n                category: \"Fees\"\n            });\n        }\n        // Add lotto winnings as a line item if present (negative price = discount)\n        if (lottoAmount > 0) {\n            transactionItems.push({\n                id: \"lotto-winnings\",\n                name: \"Lotto Winnings\",\n                quantity: 1,\n                price: -lottoAmount,\n                applyTax: false,\n                category: \"Lotto\"\n            });\n        }\n        // Add discount as a line item if present (negative price = discount)\n        if (discount > 0) {\n            transactionItems.push({\n                id: \"discount-item\",\n                name: \"Discount\",\n                quantity: 1,\n                price: -discount,\n                applyTax: false,\n                category: \"Discount\"\n            });\n        }\n        // Recalculate totals with cashback, lotto winnings, discount, and cashback fee included as items\n        const newSubtotal = originalSubtotal + cashback - lottoAmount - discount + cbFee;\n        const newTaxableTotal = getTaxableTotal() + cbFee; // cashback fee is taxable, discount/cashback/lotto are non-taxable\n        const newNonTaxableTotal = getNonTaxableTotal() + cashback - lottoAmount - discount;\n        const newTax = tax; // tax already calculated on discounted amount\n        const newTotal = total + cashback - lottoAmount + ccChargeForLineItem;\n        const transaction = {\n            timestamp: new Date().toISOString(),\n            items: transactionItems,\n            originalSubtotal: originalSubtotal,\n            discount: discount,\n            subtotal: newSubtotal,\n            taxableAmount: newTaxableTotal,\n            nonTaxableAmount: newNonTaxableTotal,\n            tax: newTax,\n            total: newTotal,\n            finalTotal: totalWithCashback,\n            cashback: cashback,\n            paymentBreakdown,\n            change,\n            isCreditSale: isCreditSale,\n            isPartialPayment: isPartialPayment,\n            creditBalance: creditBalance,\n            paidAmount: paidTotal,\n            creditCustomerName: isCreditSale ? creditCustomerName.trim() : null,\n            creditStatus: isCreditSale ? creditBalance > 0 ? \"unpaid\" : \"paid\" : null,\n            lottoWinnings: lottoAmount,\n            // Enhanced card fee tracking\n            cardType: cardType,\n            cardFeeEnabled: cardFeeEnabled\n        };\n        // send to server\n        fetch(\"/api/transaction\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"x-api-key\": \"dev-secret\"\n            },\n            body: JSON.stringify(transaction)\n        }).then((r)=>r.json()).then(async (data)=>{\n            if (data && data.transaction) {\n                setLastTransaction({\n                    id: data.id,\n                    ...data.transaction\n                });\n                setShowReceipt(true);\n                setCart([]);\n                setCashAmount(\"\");\n                setCardAmount(\"\");\n                setCashbackAmount(\"\");\n                setLottoWinnings(\"\");\n                setDiscountAmount(\"\");\n                setIsCreditSale(false);\n                setCreditCustomerName(\"\");\n                setCreditAmount(0);\n                setPaymentError(\"\");\n                // Reset card fee states\n                setCardType(\"debit\");\n                setCardFeeEnabled(false);\n                // Update inventory for all sales except full credit sales (no payment)\n                // Partial payments should update inventory since goods are delivered\n                if (!isCreditSale || isPartialPayment) {\n                    dispatch((0,_lib_slices_inventorySlice__WEBPACK_IMPORTED_MODULE_5__.updateInventoryAfterTransaction)(cart));\n                }\n                // Update credit account if this is a credit sale\n                if (isCreditSale && creditCustomerName.trim()) {\n                    try {\n                        const creditAccountResponse = await fetch(\"/api/credit/accounts\", {\n                            method: \"POST\",\n                            headers: {\n                                \"Content-Type\": \"application/json\"\n                            },\n                            body: JSON.stringify({\n                                action: \"addCredit\",\n                                customerName: creditCustomerName.trim(),\n                                amount: creditBalance,\n                                transactionId: data.id\n                            })\n                        });\n                        if (!creditAccountResponse.ok) {\n                            console.warn(\"Failed to update credit account:\", await creditAccountResponse.text());\n                        } else {\n                            const updatedCustomerResponse = await creditAccountResponse.json();\n                            const updatedAccount = updatedCustomerResponse.account;\n                            console.log(\"Credit account updated successfully for customer:\", creditCustomerName.trim(), \"New balance:\", updatedAccount.balance);\n                            // Update local state if this customer was selected\n                            if (selectedCustomer && selectedCustomer.customerName === creditCustomerName.trim()) {\n                                setCustomerBalance(updatedAccount.balance);\n                                setSelectedCustomer(updatedAccount);\n                                // Update the customers list\n                                setExistingCustomers((prev)=>prev.map((c)=>c.customerName === creditCustomerName.trim() ? updatedAccount : c));\n                            } else {\n                                // If no customer selected, refresh the entire list\n                                fetchExistingCustomers();\n                            }\n                        }\n                    } catch (err) {\n                        console.warn(\"Error updating credit account:\", err);\n                    }\n                }\n            } else {\n                console.error(\"Unexpected response from transaction API\", data);\n                setPaymentError(\"Failed to complete transaction\");\n            }\n        }).catch((err)=>{\n            console.error(\"Transaction API error\", err);\n            setPaymentError(\"Failed to complete transaction\");\n        });\n    };\n    const startNewSale = ()=>{\n        setShowReceipt(false);\n        setLastTransaction(null);\n        setCart([]);\n        setCashAmount(\"\");\n        setCardAmount(\"\");\n        setCashbackAmount(\"\");\n        setCashbackFee(\"\");\n        setCashbackEnabled(false);\n        setLottoWinnings(\"\");\n        setDiscountAmount(\"\");\n        setIsCreditSale(false);\n        setCreditCustomerName(\"\");\n        setCreditAmount(0);\n        setPaymentError(\"\");\n        // Reset card fee states\n        setCardType(\"debit\");\n        setCardFeeEnabled(false);\n    };\n    // Credit customer management functions\n    const fetchExistingCustomers = async ()=>{\n        try {\n            const response = await fetch(\"/api/credit/accounts\");\n            if (response.ok) {\n                const data = await response.json();\n                // The API returns accounts in an 'accounts' property\n                const customers = data.accounts || [];\n                console.log(\"Fetched existing customers:\", customers);\n                setExistingCustomers(customers);\n            } else {\n                console.error(\"Failed to fetch existing customers\");\n            }\n        } catch (err) {\n            console.error(\"Error fetching customers:\", err);\n        }\n    };\n    const handleCustomerNameChange = (value)=>{\n        setCreditCustomerName(value);\n        if (value.length > 0 && Array.isArray(existingCustomers)) {\n            const matchingCustomers = existingCustomers.filter((customer)=>customer && customer.customerName && customer.customerName.toLowerCase().includes(value.toLowerCase()));\n            // Always show suggestions when typing (for existing customers or new customer option)\n            setShowCustomerSuggestions(true);\n            // Auto-select if exact match\n            const exactMatch = existingCustomers.find((customer)=>customer && customer.customerName && customer.customerName.toLowerCase() === value.toLowerCase());\n            if (exactMatch) {\n                setSelectedCustomer(exactMatch);\n                setCustomerBalance(exactMatch.balance || 0);\n                setShowPaymentOptions(true);\n            } else {\n                setSelectedCustomer(null);\n                setCustomerBalance(0);\n                setShowPaymentOptions(false);\n            }\n        } else {\n            setShowCustomerSuggestions(false);\n            setSelectedCustomer(null);\n            setCustomerBalance(0);\n            setShowPaymentOptions(false);\n        }\n    };\n    const handleCustomerSelection = (customer)=>{\n        setCreditCustomerName(customer.customerName);\n        setSelectedCustomer(customer);\n        setCustomerBalance(customer.balance || 0);\n        setShowCustomerSuggestions(false);\n        setShowPaymentOptions(true);\n    };\n    const processCustomerPayment = async (paymentAmount)=>{\n        if (!selectedCustomer) return;\n        try {\n            const response = await fetch(\"/api/credit/accounts\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    action: \"payment\",\n                    customerName: selectedCustomer.customerName,\n                    amount: paymentAmount\n                })\n            });\n            if (response.ok) {\n                const updatedCustomer = await response.json();\n                setCustomerBalance(updatedCustomer.balance);\n                setSelectedCustomer(updatedCustomer);\n                // Update the customers list\n                setExistingCustomers((prev)=>prev.map((c)=>c.customerName === updatedCustomer.customerName ? updatedCustomer : c));\n            }\n        } catch (err) {\n            console.error(\"Error processing payment:\", err);\n        }\n    };\n    // Load existing customers when credit sale mode is activated\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isCreditSale && existingCustomers.length === 0) {\n            fetchExistingCustomers();\n        }\n    }, [\n        isCreditSale\n    ]);\n    // Handle creditPayment URL parameter from credit management page\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const creditPaymentParam = searchParams === null || searchParams === void 0 ? void 0 : searchParams.get(\"creditPayment\");\n        if (creditPaymentParam) {\n            console.log(\"Credit payment parameter detected:\", creditPaymentParam);\n            // Enable credit sale mode\n            setIsCreditSale(true);\n            // Set the customer name\n            setCreditCustomerName(creditPaymentParam);\n            // Fetch existing customers to find this specific customer\n            fetchExistingCustomers().then(()=>{\n            // This will be handled by the next useEffect when existingCustomers updates\n            });\n        }\n    }, [\n        searchParams\n    ]);\n    // Auto-select customer when creditPayment parameter is used\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const creditPaymentParam = searchParams === null || searchParams === void 0 ? void 0 : searchParams.get(\"creditPayment\");\n        if (creditPaymentParam && existingCustomers.length > 0) {\n            const targetCustomer = existingCustomers.find((customer)=>customer.customerName.toLowerCase() === creditPaymentParam.toLowerCase());\n            if (targetCustomer) {\n                console.log(\"Auto-selecting customer:\", targetCustomer);\n                setSelectedCustomer(targetCustomer);\n                setCustomerBalance(targetCustomer.balance || 0);\n                setShowPaymentOptions(true);\n                setShowCustomerSuggestions(false);\n            }\n        }\n    }, [\n        existingCustomers,\n        searchParams\n    ]);\n    // Reset to new sale when navigating to POS (e.g., from header navigation)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const newSaleParam = searchParams === null || searchParams === void 0 ? void 0 : searchParams.get(\"newSale\");\n        if (newSaleParam === \"true\") {\n            // Auto-start new sale when newSale=true parameter is present\n            startNewSale();\n            // Clear the newSale parameter from URL without page reload\n            const url = new URL(window.location);\n            url.searchParams.delete(\"newSale\");\n            window.history.replaceState({}, \"\", url);\n        }\n    }, [\n        searchParams\n    ]);\n    const swapPayments = ()=>{\n        const currentCash = cashAmount;\n        const currentCard = cardAmount;\n        setCashAmount(currentCard);\n        setCardAmount(currentCash);\n        // Update last edited to reflect the swap\n        if ((Number(currentCard) || 0) > 0) {\n            setLastEdited(\"cash\");\n        } else if ((Number(currentCash) || 0) > 0) {\n            setLastEdited(\"card\");\n        }\n    };\n    const printReceipt = ()=>{\n        if (!lastTransaction) return;\n        const printWindow = window.open(\"\", \"_blank\");\n        const receiptContent = \"\\n      <!DOCTYPE html>\\n      <html>\\n        <head>\\n          <title>Receipt - Transaction #\".concat((lastTransaction.id || \"N/A\").toString().slice(-8), '</title>\\n          <style>\\n            body {\\n              font-family: \\'Courier New\\', monospace;\\n              font-size: 12px;\\n              margin: 0;\\n              padding: 20px;\\n              max-width: 300px;\\n            }\\n            .header {\\n              text-align: center;\\n              margin-bottom: 20px;\\n            }\\n            .store-name {\\n              font-size: 16px;\\n              font-weight: bold;\\n              margin-bottom: 5px;\\n            }\\n            .receipt-item {\\n              display: flex;\\n              justify-content: space-between;\\n              margin: 2px 0;\\n            }\\n            .receipt-totals {\\n              margin-top: 10px;\\n            }\\n            .total {\\n              font-weight: bold;\\n              border-top: 1px solid #000;\\n              padding-top: 5px;\\n              margin-top: 5px;\\n            }\\n            hr {\\n              border: none;\\n              border-top: 1px solid #000;\\n              margin: 10px 0;\\n            }\\n            .center {\\n              text-align: center;\\n            }\\n            @media print {\\n              body { margin: 0; padding: 10px; }\\n            }\\n          </style>\\n        </head>\\n        <body>\\n          <div class=\"header\">\\n            <div class=\"store-name\">CONVENIENCE STORE</div>\\n            <div>Scarborough, Ontario</div>\\n            <div>Transaction #').concat((lastTransaction.id || \"N/A\").toString().slice(-8), \"</div>\\n            <div>\").concat(new Date(lastTransaction.timestamp).toLocaleString(), \"</div>\\n          </div>\\n          \\n          <hr>\\n          \\n          \").concat(lastTransaction.items.map((item)=>'\\n            <div class=\"receipt-item\">\\n              <div>'.concat(item.name, \" \").concat(!item.taxable ? \"(No HST)\" : \"\", '</div>\\n            </div>\\n            <div class=\"receipt-item\">\\n              <div>').concat(item.quantity, \" x $\").concat(item.price.toFixed(2), \"</div>\\n              <div>$\").concat((item.quantity * item.price).toFixed(2), \"</div>\\n            </div>\\n          \")).join(\"\"), '\\n          \\n          <hr>\\n          \\n          <div class=\"receipt-totals\">\\n            ').concat(lastTransaction.taxableAmount > 0 && lastTransaction.nonTaxableAmount > 0 ? '\\n              <div class=\"receipt-item\">\\n                <span>Taxable Items:</span>\\n                <span>$'.concat(lastTransaction.taxableAmount.toFixed(2), '</span>\\n              </div>\\n              <div class=\"receipt-item\">\\n                <span>Non-Taxable Items:</span>\\n                <span>$').concat(lastTransaction.nonTaxableAmount.toFixed(2), \"</span>\\n              </div>\\n            \") : \"\", \"\\n            \\n            \").concat(lastTransaction.discount > 0 ? '\\n              <div class=\"receipt-item\">\\n                <span>Items Subtotal:</span>\\n                <span>$'.concat(lastTransaction.originalSubtotal.toFixed(2), '</span>\\n              </div>\\n              <div class=\"receipt-item\" style=\"font-weight: bold; color: #e65100;\">\\n                <span>Discount:</span>\\n                <span>-$').concat(lastTransaction.discount.toFixed(2), '</span>\\n              </div>\\n              <div class=\"receipt-item\">\\n                <span>Subtotal:</span>\\n                <span>$').concat(lastTransaction.subtotal.toFixed(2), \"</span>\\n              </div>\\n            \") : '\\n              <div class=\"receipt-item\">\\n                <span>Subtotal:</span>\\n                <span>$'.concat(lastTransaction.subtotal.toFixed(2), \"</span>\\n              </div>\\n            \"), \"\\n            \\n            \").concat(lastTransaction.includeTax && lastTransaction.tax > 0 ? '\\n              <div class=\"receipt-item\">\\n                <span>HST (13%):</span>\\n                <span>$'.concat(lastTransaction.tax.toFixed(2), \"</span>\\n              </div>\\n            \") : \"\", '\\n            \\n            <div class=\"receipt-item total\">\\n              <span>Total:</span>\\n              <span>$').concat(lastTransaction.total.toFixed(2), \"</span>\\n            </div>\\n            \\n            \").concat(lastTransaction.cashback > 0 ? '\\n              <div class=\"receipt-item\" style=\"font-weight: bold; color: #e67e22;\">\\n                <span>Cashback:</span>\\n                <span>$'.concat(lastTransaction.cashback.toFixed(2), \"</span>\\n              </div>\\n            \") : \"\", \"\\n            \\n            \").concat(lastTransaction.paymentBreakdown && lastTransaction.paymentBreakdown.length > 0 ? '\\n              <hr>\\n              <div style=\"font-weight: bold; margin-bottom: 5px;\">Payments</div>\\n              '.concat(lastTransaction.paymentBreakdown.map((p)=>'\\n                <div class=\"receipt-item\">\\n                  <span>'.concat(p.method.toUpperCase(), \":</span>\\n                  <span>$\").concat(p.amount.toFixed(2), \"</span>\\n                </div>\\n              \")).join(\"\"), \"\\n              \").concat(lastTransaction.change > 0 ? '\\n                <div class=\"receipt-item\">\\n                  <span>Change:</span>\\n                  <span>$'.concat(lastTransaction.change.toFixed(2), \"</span>\\n                </div>\\n              \") : \"\", \"\\n            \") : \"\", '\\n          </div>\\n          \\n          <hr>\\n          <div class=\"center\">Thank you for your business!</div>\\n          \\n          <script>\\n            window.onload = function() {\\n              window.print();\\n            }\\n          </script>\\n        </body>\\n      </html>\\n    ');\n        printWindow.document.write(receiptContent);\n        printWindow.document.close();\n    };\n    // When cart changes, reset payment amounts (default card for cashback, otherwise cash)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Don't auto-reset payment amounts when in credit sale mode - let user control them\n        if (isCreditSale) {\n            setPaymentError(\"\");\n            return;\n        }\n        const subtotal = calculateTotal();\n        const tax = calculateTax();\n        const total = +(subtotal + tax).toFixed(2);\n        const cashback = Number(parseFloat(cashbackAmount) || 0);\n        const lotto = Number(parseFloat(lottoWinnings) || 0);\n        const totalWithCashback = total + cashback - lotto;\n        // For cashback transactions, force card payment only\n        if (cashback > 0) {\n            setCashAmount(\"\");\n            setCardAmount(Math.max(0, totalWithCashback));\n            setLastEdited(\"card\");\n        } else {\n            // Default: cash covers the total minus lotto winnings\n            setCashAmount(Math.max(0, totalWithCashback));\n            setCardAmount(0);\n            setLastEdited(\"cash\");\n        }\n        setPaymentError(\"\");\n    }, [\n        cart,\n        cashbackAmount,\n        cashbackFee,\n        lottoWinnings,\n        discountAmount,\n        isCreditSale,\n        cardFeeEnabled\n    ]);\n    // If auto-fill is enabled and lastEdited is set, update the other amount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!autoFillOther || !lastEdited || isCreditSale) return; // Don't auto-fill in credit sale mode\n        const subtotal = calculateTotal();\n        const tax = calculateTax();\n        const total = +(subtotal + tax).toFixed(2);\n        const cashback = Number(parseFloat(cashbackAmount) || 0);\n        const lotto = Number(parseFloat(lottoWinnings) || 0);\n        const totalWithCashback = total + cashback - lotto;\n        // For cashback transactions, only allow card payment\n        if (cashback > 0) {\n            setCashAmount(\"\");\n            setCardAmount(Math.max(0, totalWithCashback));\n            return;\n        }\n        if (lastEdited === \"cash\") {\n            const paidCash = Number(parseFloat(cashAmount) || 0);\n            const newCard = Math.max(0, +(totalWithCashback - paidCash).toFixed(2));\n            setCardAmount(newCard);\n        } else if (lastEdited === \"card\") {\n            const paidCard = Number(parseFloat(cardAmount) || 0);\n            const newCash = Math.max(0, +(totalWithCashback - paidCard).toFixed(2));\n            setCashAmount(newCash);\n        }\n    }, [\n        autoFillOther,\n        lastEdited,\n        cashAmount,\n        cardAmount,\n        cart,\n        cashbackAmount,\n        cashbackFee,\n        lottoWinnings,\n        discountAmount,\n        isCreditSale,\n        cardFeeEnabled\n    ]);\n    // Barcode Scanner Functionality\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Auto-focus search input when component mounts\n        if (searchInputRef.current) {\n            searchInputRef.current.focus();\n        }\n        const handleKeyDown = (event)=>{\n            // Don't interfere with barcode scanner when manual entry modal is open\n            if (showManualEntry) {\n                return;\n            }\n            // Don't interfere if user is typing in input fields or form elements\n            const activeElement = document.activeElement;\n            const isTypingInInput = activeElement && (activeElement.tagName === \"INPUT\" || activeElement.tagName === \"TEXTAREA\" || activeElement.tagName === \"SELECT\" || activeElement.contentEditable === \"true\");\n            if (isTypingInInput) {\n                return;\n            }\n            const currentTime = Date.now();\n            const timeDiff = currentTime - lastKeyTime;\n            // If time between keystrokes is less than 50ms, it's likely a barcode scanner\n            // Barcode scanners type very fast (typically 10-30ms between characters)\n            const isScannerInput = timeDiff < 50 && timeDiff > 0;\n            // Only focus search input if user is not typing in any input field and it's not already focused\n            if (document.activeElement !== searchInputRef.current && !isTypingInInput && ![\n                \"Tab\",\n                \"Escape\",\n                \"F1\",\n                \"F2\",\n                \"F3\",\n                \"F4\",\n                \"F5\",\n                \"F6\",\n                \"F7\",\n                \"F8\",\n                \"F9\",\n                \"F10\",\n                \"F11\",\n                \"F12\"\n            ].includes(event.key)) {\n                var _searchInputRef_current;\n                (_searchInputRef_current = searchInputRef.current) === null || _searchInputRef_current === void 0 ? void 0 : _searchInputRef_current.focus();\n            }\n            // Handle barcode scanning (only if not typing in input fields)\n            if (!isTypingInInput) {\n                if (event.key === \"Enter\") {\n                    // End of barcode scan - process the buffer\n                    if (barcodeBuffer.trim().length > 0) {\n                        handleBarcodeScanned(barcodeBuffer.trim());\n                        setBarcodeBuffer(\"\");\n                    }\n                } else if (isScannerInput && event.key.length === 1) {\n                    // Add character to barcode buffer\n                    setBarcodeBuffer((prev)=>prev + event.key);\n                } else if (!isScannerInput) {\n                    // Reset buffer if typing is too slow (manual typing)\n                    setBarcodeBuffer(\"\");\n                }\n            }\n            setLastKeyTime(currentTime);\n        };\n        const handleFocusAnywhere = (event)=>{\n            // Don't interfere when manual entry modal is open\n            if (showManualEntry) {\n                return;\n            }\n            // Don't refocus if clicking on form elements that need focus\n            const clickedElement = event.target;\n            const isFormElement = clickedElement.tagName === \"SELECT\" || clickedElement.tagName === \"OPTION\" || clickedElement.tagName === \"INPUT\" || clickedElement.tagName === \"BUTTON\" || clickedElement.tagName === \"TEXTAREA\";\n            // Don't refocus if clicking on the category filter or its options\n            const isCategoryFilter = clickedElement.closest(\"select\") || clickedElement.tagName === \"SELECT\";\n            if (isFormElement || isCategoryFilter) {\n                return; // Let the form element handle its own focus\n            }\n            // Ensure search input stays focused when clicking elsewhere on the page\n            setTimeout(()=>{\n                if (searchInputRef.current && document.activeElement !== searchInputRef.current && !document.activeElement.closest(\"select\")) {\n                    searchInputRef.current.focus();\n                }\n            }, 100);\n        };\n        // Add event listeners\n        document.addEventListener(\"keydown\", handleKeyDown);\n        document.addEventListener(\"click\", handleFocusAnywhere);\n        // Cleanup function\n        return ()=>{\n            document.removeEventListener(\"keydown\", handleKeyDown);\n            document.removeEventListener(\"click\", handleFocusAnywhere);\n        };\n    }, [\n        barcodeBuffer,\n        lastKeyTime,\n        showManualEntry\n    ]);\n    // Handle barcode scanned\n    const handleBarcodeScanned = (barcode)=>{\n        console.log(\"Barcode scanned:\", barcode);\n        // Use the enhanced search functionality to find products\n        // This will search by barcode, productId, id, name, and category\n        const searchResults = getFilteredInventory(barcode);\n        if (searchResults.length === 1) {\n            // Exactly one product found - automatically add to cart\n            const foundProduct = searchResults[0];\n            addToCart(foundProduct);\n            console.log(\"Product added to cart via barcode:\", foundProduct.name);\n        } else if (searchResults.length > 1) {\n            // Multiple matches - show in search results for user to choose\n            setSearchTerm(barcode);\n            console.log(\"Multiple products found for barcode \".concat(barcode, \":\"), searchResults.map((p)=>p.name));\n        } else {\n            // No product found - automatically prompt for manual entry\n            setSearchTerm(barcode);\n            setManualItem((prev)=>({\n                    ...prev,\n                    name: barcode\n                }));\n            setShowManualEntry(true);\n            console.log(\"Product not found for barcode:\", barcode, \"- opening manual entry\");\n        }\n    };\n    if (showReceipt && lastTransaction) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(POSWrapper, {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.Container, {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.ReceiptSection, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            children: \"Transaction Complete!\"\n                        }, void 0, false, {\n                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                            lineNumber: 1846,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"receipt\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    children: \"CONVENIENCE STORE\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 1848,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: \"Scarborough, Ontario\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 1849,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: [\n                                        \"Transaction #\",\n                                        (lastTransaction.id || \"N/A\").toString().slice(-8)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 1850,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: new Date(lastTransaction.timestamp).toLocaleString()\n                                }, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 1853,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {}, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 1854,\n                                    columnNumber: 13\n                                }, this),\n                                lastTransaction.items.map((item)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"receipt-item\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: [\n                                                    item.name,\n                                                    \" \",\n                                                    !item.taxable && \"(No HST)\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 1857,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: [\n                                                    item.quantity,\n                                                    \" x $\",\n                                                    item.price.toFixed(2),\n                                                    \" = $\",\n                                                    (item.quantity * item.price).toFixed(2)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 1860,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, item.id, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 1856,\n                                        columnNumber: 15\n                                    }, this)),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {}, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 1866,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"receipt-totals\",\n                                    children: [\n                                        lastTransaction.taxableAmount > 0 && lastTransaction.nonTaxableAmount > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        \"Taxable Items: $\",\n                                                        lastTransaction.taxableAmount.toFixed(2)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 1871,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        \"Non-Taxable Items: $\",\n                                                        lastTransaction.nonTaxableAmount.toFixed(2)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 1874,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true),\n                                        lastTransaction.discount > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        \"Items Subtotal: $\",\n                                                        lastTransaction.originalSubtotal.toFixed(2)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 1882,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        fontWeight: \"600\",\n                                                        color: \"#e65100\"\n                                                    },\n                                                    children: [\n                                                        \"Discount: -$\",\n                                                        lastTransaction.discount.toFixed(2)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 1886,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        \"Subtotal: $\",\n                                                        lastTransaction.subtotal.toFixed(2)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 1889,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                \"Subtotal: $\",\n                                                lastTransaction.subtotal.toFixed(2)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 1892,\n                                            columnNumber: 17\n                                        }, this),\n                                        lastTransaction.includeTax && lastTransaction.tax > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                \"HST (13%): $\",\n                                                lastTransaction.tax.toFixed(2)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 1895,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"total\",\n                                            children: [\n                                                \"Total: $\",\n                                                lastTransaction.total.toFixed(2)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 1897,\n                                            columnNumber: 15\n                                        }, this),\n                                        lastTransaction.cashback > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                fontWeight: \"600\",\n                                                color: \"#e67e22\"\n                                            },\n                                            children: [\n                                                \"Cashback: $\",\n                                                lastTransaction.cashback.toFixed(2)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 1901,\n                                            columnNumber: 17\n                                        }, this),\n                                        lastTransaction.paymentBreakdown && lastTransaction.paymentBreakdown.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {}, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 1908,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                        children: \"Payments\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 1910,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 1909,\n                                                    columnNumber: 21\n                                                }, this),\n                                                lastTransaction.paymentBreakdown.map((p, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: [\n                                                            p.method.toUpperCase(),\n                                                            \": $\",\n                                                            p.amount.toFixed(2)\n                                                        ]\n                                                    }, \"payment-\".concat(p.method, \"-\").concat(idx), true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 1913,\n                                                        columnNumber: 23\n                                                    }, this)),\n                                                lastTransaction.change > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        \"Change: $\",\n                                                        lastTransaction.change.toFixed(2)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 1918,\n                                                    columnNumber: 23\n                                                }, this)\n                                            ]\n                                        }, void 0, true)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 1867,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {}, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 1923,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: \"Thank you for your business!\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 1924,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                            lineNumber: 1847,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                display: \"flex\",\n                                gap: \"1rem\",\n                                marginTop: \"2rem\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.Button, {\n                                    onClick: printReceipt,\n                                    style: {\n                                        backgroundColor: \"#27ae60\",\n                                        color: \"white\"\n                                    },\n                                    children: \"\\uD83D\\uDDA8️ Print Receipt\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 1927,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.Button, {\n                                    onClick: startNewSale,\n                                    children: \"New Sale\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 1933,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                            lineNumber: 1926,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                    lineNumber: 1845,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                lineNumber: 1844,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n            lineNumber: 1843,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(POSWrapper, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.Container, {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.POSGrid, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.ProductsPanel, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"flex\",\n                                    justifyContent: \"space-between\",\n                                    alignItems: \"center\",\n                                    marginBottom: \"1rem\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        children: \"Products\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 1954,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            fontSize: \"0.75rem\",\n                                            color: \"#7f8c8d\",\n                                            padding: \"0.25rem 0.5rem\",\n                                            background: \"#f8f9fa\",\n                                            borderRadius: \"4px\"\n                                        },\n                                        children: [\n                                            inventory.length,\n                                            \" items loaded\",\n                                            inventoryLoaded && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                style: {\n                                                    marginLeft: \"0.5rem\",\n                                                    color: inventoryLoading ? \"#f39c12\" : \"#27ae60\"\n                                                },\n                                                children: [\n                                                    \"• \",\n                                                    inventoryLoading ? \"syncing...\" : \"ready\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 1966,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 1955,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 1946,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"flex\",\n                                    gap: \"1rem\",\n                                    marginBottom: \"1rem\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            position: \"relative\",\n                                            flex: 1,\n                                            display: \"flex\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.SearchBar, {\n                                                ref: searchInputRef,\n                                                type: \"text\",\n                                                placeholder: \"Search products... (Barcode Scanner Ready)\",\n                                                value: searchTerm,\n                                                onChange: (e)=>setSearchTerm(e.target.value),\n                                                onFocus: ()=>handleInputFocus(searchInputRef),\n                                                onKeyDown: (e)=>{\n                                                    if (e.key === \"Enter\") {\n                                                        handleSearchEnter();\n                                                    }\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 1979,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.Button, {\n                                                onClick: ()=>{\n                                                    if (showKeyboard && activeInputRef === searchInputRef) {\n                                                        setShowKeyboard(false);\n                                                    } else if (activeInputRef === searchInputRef) {\n                                                        // Keyboard was hidden but search input was the last active - preserve mode\n                                                        showKeyboardForInput(searchInputRef);\n                                                    } else {\n                                                        // First time focusing search input - use numeric keyboard for barcodes\n                                                        handleInputFocus(searchInputRef);\n                                                    }\n                                                },\n                                                style: {\n                                                    marginLeft: \"0.5rem\",\n                                                    padding: \"0.75rem\",\n                                                    background: showKeyboard && activeInputRef === searchInputRef ? \"#27ae60\" : \"#3498db\",\n                                                    minWidth: \"auto\"\n                                                },\n                                                title: \"Toggle Virtual Keyboard\",\n                                                children: \"⌨️\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 1992,\n                                                columnNumber: 15\n                                            }, this),\n                                            barcodeBuffer && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    position: \"absolute\",\n                                                    top: \"-25px\",\n                                                    right: \"0\",\n                                                    background: \"#27ae60\",\n                                                    color: \"white\",\n                                                    padding: \"2px 8px\",\n                                                    borderRadius: \"4px\",\n                                                    fontSize: \"0.8rem\",\n                                                    fontWeight: \"bold\"\n                                                },\n                                                children: \"\\uD83D\\uDCF7 Scanning...\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2015,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 1978,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: handleDebugRefresh,\n                                        style: {\n                                            padding: \"0.5rem 1rem\",\n                                            background: \"#e74c3c\",\n                                            color: \"white\",\n                                            border: \"none\",\n                                            borderRadius: \"4px\",\n                                            cursor: \"pointer\",\n                                            fontSize: \"0.9rem\",\n                                            whiteSpace: \"nowrap\"\n                                        },\n                                        title: \"Force refresh inventory from database (Debug)\",\n                                        children: \"\\uD83D\\uDD04 Refresh\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2032,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.CategoryFilter, {\n                                        value: categoryFilter,\n                                        onChange: (e)=>{\n                                            setCategoryFilter(e.target.value);\n                                            // After selection, return focus to search bar\n                                            setTimeout(()=>{\n                                                if (searchInputRef.current) {\n                                                    searchInputRef.current.focus();\n                                                }\n                                            }, 100);\n                                        },\n                                        onBlur: (e)=>{\n                                            // When dropdown loses focus (after selection or clicking away), return to search\n                                            setTimeout(()=>{\n                                                if (searchInputRef.current && document.activeElement !== searchInputRef.current) {\n                                                    searchInputRef.current.focus();\n                                                }\n                                            }, 100);\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"\",\n                                                children: \"All Categories\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2071,\n                                                columnNumber: 15\n                                            }, this),\n                                            categories.map((category)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: category,\n                                                    children: category\n                                                }, category, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2073,\n                                                    columnNumber: 17\n                                                }, this))\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2048,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setShowManualEntry(true),\n                                        style: {\n                                            marginLeft: \"0.5rem\",\n                                            padding: \"0.5rem 1rem\",\n                                            backgroundColor: \"#3498db\",\n                                            color: \"white\",\n                                            border: \"none\",\n                                            borderRadius: \"4px\",\n                                            cursor: \"pointer\",\n                                            fontWeight: \"bold\"\n                                        },\n                                        children: \"+ Manual Item\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2079,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 1977,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"grid\",\n                                    gridTemplateColumns: \"repeat(auto-fit, minmax(160px, 1fr))\",\n                                    gap: \"0.8rem\",\n                                    marginBottom: \"1.5rem\",\n                                    maxHeight: \"200px\",\n                                    overflowX: \"auto\"\n                                },\n                                children: [\n                                    [\n                                        {\n                                            name: \"Lotto\",\n                                            key: \"Lotto\",\n                                            icon: \"\\uD83C\\uDFB2\",\n                                            color: \"#e74c3c\",\n                                            description: \"Type amount & click to add\"\n                                        },\n                                        {\n                                            name: \"Grocery\",\n                                            key: \"Grocery\",\n                                            icon: \"\\uD83D\\uDED2\",\n                                            color: \"#27ae60\",\n                                            description: \"Type amount & click to add\"\n                                        },\n                                        {\n                                            name: \"Western Union\",\n                                            key: \"WesternUnion\",\n                                            icon: \"\\uD83D\\uDCB8\",\n                                            color: \"#8e44ad\",\n                                            description: \"Type amount & click to add\"\n                                        },\n                                        {\n                                            name: \"Tea\",\n                                            key: \"Tea\",\n                                            icon: \"\\uD83C\\uDF75\",\n                                            color: \"#d35400\",\n                                            description: \"Type amount & click to add\"\n                                        },\n                                        {\n                                            name: \"Bakery\",\n                                            key: \"Bakery\",\n                                            icon: \"\\uD83C\\uDF5E\",\n                                            color: \"#f39c12\",\n                                            description: \"Bread & Baked Goods\"\n                                        },\n                                        {\n                                            name: \"Dairy\",\n                                            key: \"Dairy\",\n                                            icon: \"\\uD83E\\uDD5B\",\n                                            color: \"#16a085\",\n                                            description: \"Milk & Dairy Products\"\n                                        },\n                                        {\n                                            name: \"Beverages\",\n                                            key: \"Beverages\",\n                                            icon: \"\\uD83E\\uDD64\",\n                                            color: \"#3498db\",\n                                            description: \"Drinks & Refreshments\"\n                                        },\n                                        {\n                                            name: \"Tobacco\",\n                                            key: \"Tobacco\",\n                                            icon: \"\\uD83D\\uDEAC\",\n                                            color: \"#95a5a6\",\n                                            description: \"Cigarettes & Cigars\"\n                                        },\n                                        {\n                                            name: \"Snacks\",\n                                            key: \"Snacks\",\n                                            icon: \"\\uD83C\\uDF7F\",\n                                            color: \"#e67e22\",\n                                            description: \"Chips & Snacks\"\n                                        }\n                                    ].map((category)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            \"data-category\": category.key,\n                                            onClick: ()=>{\n                                                // Special handling for Lotto, Grocery, Western Union, and Tea categories\n                                                if (category.key === \"Lotto\" || category.key === \"Grocery\" || category.key === \"WesternUnion\" || category.key === \"Tea\") {\n                                                    // Check search term first, then currently focused input field\n                                                    let inputValue = searchTerm.trim();\n                                                    // If search is empty, check the currently active input field\n                                                    if (!inputValue && activeInputRef && activeInputRef.current) {\n                                                        inputValue = activeInputRef.current.value;\n                                                    }\n                                                    // If still no value, check other input fields that might have values\n                                                    if (!inputValue) {\n                                                        const inputs = [\n                                                            discountRef,\n                                                            cashAmountRef,\n                                                            cardAmountRef,\n                                                            cashbackAmountRef,\n                                                            lottoWinningsRef\n                                                        ];\n                                                        for (const inputRef of inputs){\n                                                            if (inputRef.current && inputRef.current.value) {\n                                                                inputValue = inputRef.current.value;\n                                                                break;\n                                                            }\n                                                        }\n                                                    }\n                                                    const numericValue = parseFloat(inputValue);\n                                                    // Check if search term is a valid number\n                                                    if (!isNaN(numericValue) && numericValue > 0) {\n                                                        // Create item with the specified amount based on category\n                                                        let newItem;\n                                                        if (category.key === \"Lotto\") {\n                                                            newItem = {\n                                                                id: \"lotto-\".concat(Date.now()),\n                                                                name: \"Lotto $\".concat(numericValue.toFixed(2)),\n                                                                category: \"Lotto\",\n                                                                price: numericValue,\n                                                                stock: 999,\n                                                                lowStockThreshold: 0,\n                                                                applyTax: true,\n                                                                isManual: true\n                                                            };\n                                                        } else if (category.key === \"Grocery\") {\n                                                            newItem = {\n                                                                id: \"grocery-\".concat(Date.now()),\n                                                                name: \"Grocery Item $\".concat(numericValue.toFixed(2)),\n                                                                category: \"Grocery\",\n                                                                price: numericValue,\n                                                                stock: 999,\n                                                                lowStockThreshold: 0,\n                                                                applyTax: true,\n                                                                isManual: true\n                                                            };\n                                                        } else if (category.key === \"WesternUnion\") {\n                                                            newItem = {\n                                                                id: \"western-union-\".concat(Date.now()),\n                                                                name: \"Western Union $\".concat(numericValue.toFixed(2)),\n                                                                category: \"Western Union\",\n                                                                price: numericValue,\n                                                                stock: 999,\n                                                                lowStockThreshold: 0,\n                                                                applyTax: true,\n                                                                isManual: true\n                                                            };\n                                                        } else if (category.key === \"Tea\") {\n                                                            newItem = {\n                                                                id: \"tea-\".concat(Date.now()),\n                                                                name: \"Tea $\".concat(numericValue.toFixed(2)),\n                                                                category: \"Tea\",\n                                                                price: numericValue,\n                                                                stock: 999,\n                                                                lowStockThreshold: 0,\n                                                                applyTax: true,\n                                                                isManual: true\n                                                            };\n                                                        }\n                                                        // Add to cart\n                                                        addToCart(newItem);\n                                                        // Clear the input field that was used\n                                                        if (searchTerm.trim()) {\n                                                            setSearchTerm(\"\");\n                                                        } else if (activeInputRef && activeInputRef.current) {\n                                                            // Clear the currently active input field\n                                                            activeInputRef.current.value = \"\";\n                                                            // Trigger onChange event to update state\n                                                            const event = new Event(\"input\", {\n                                                                bubbles: true\n                                                            });\n                                                            activeInputRef.current.dispatchEvent(event);\n                                                        }\n                                                        // Show success feedback\n                                                        console.log(\"Added \".concat(newItem.name, \" to cart\"));\n                                                        // Brief visual feedback by temporarily highlighting the card\n                                                        const currentCard = document.querySelector('[data-category=\"'.concat(category.key, '\"]'));\n                                                        if (currentCard) {\n                                                            currentCard.style.transform = \"scale(1.05)\";\n                                                            setTimeout(()=>{\n                                                                currentCard.style.transform = \"scale(1)\";\n                                                            }, 200);\n                                                        }\n                                                        // Return focus to search bar\n                                                        setTimeout(()=>{\n                                                            if (searchInputRef.current) {\n                                                                searchInputRef.current.focus();\n                                                            }\n                                                        }, 100);\n                                                        return; // Don't set category filter, just add the item\n                                                    }\n                                                }\n                                                // Default behavior: set category filter\n                                                setCategoryFilter(category.key);\n                                                // Return focus to search bar after category selection\n                                                setTimeout(()=>{\n                                                    if (searchInputRef.current) {\n                                                        searchInputRef.current.focus();\n                                                    }\n                                                }, 100);\n                                            },\n                                            style: {\n                                                background: \"linear-gradient(135deg, \".concat(category.color, \", \").concat(category.color, \"dd)\"),\n                                                color: \"white\",\n                                                padding: \"0.8rem\",\n                                                borderRadius: \"10px\",\n                                                cursor: \"pointer\",\n                                                textAlign: \"center\",\n                                                transition: \"all 0.2s ease\",\n                                                boxShadow: categoryFilter === category.key ? \"0 8px 25px \".concat(category.color, \"40\") : \"0 4px 15px rgba(0,0,0,0.1)\",\n                                                transform: categoryFilter === category.key ? \"translateY(-2px)\" : \"translateY(0)\",\n                                                border: categoryFilter === category.key ? \"3px solid \".concat(category.color) : \"3px solid transparent\"\n                                            },\n                                            onMouseEnter: (e)=>{\n                                                if (categoryFilter !== category.key) {\n                                                    e.target.style.transform = \"translateY(-1px)\";\n                                                    e.target.style.boxShadow = \"0 6px 20px \".concat(category.color, \"30\");\n                                                }\n                                            },\n                                            onMouseLeave: (e)=>{\n                                                if (categoryFilter !== category.key) {\n                                                    e.target.style.transform = \"translateY(0)\";\n                                                    e.target.style.boxShadow = \"0 4px 15px rgba(0,0,0,0.1)\";\n                                                }\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        fontSize: \"2rem\",\n                                                        marginBottom: \"0.5rem\"\n                                                    },\n                                                    children: category.icon\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2337,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        fontSize: \"1rem\",\n                                                        fontWeight: \"600\",\n                                                        marginBottom: \"0.25rem\"\n                                                    },\n                                                    children: category.name\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2340,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        fontSize: \"0.8rem\",\n                                                        opacity: 0.9\n                                                    },\n                                                    children: category.description\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2349,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, category.key, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2172,\n                                            columnNumber: 15\n                                        }, this)),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        onClick: ()=>{\n                                            setCategoryFilter(\"\");\n                                            setTimeout(()=>{\n                                                if (searchInputRef.current) {\n                                                    searchInputRef.current.focus();\n                                                }\n                                            }, 100);\n                                        },\n                                        style: {\n                                            background: categoryFilter === \"\" ? \"linear-gradient(135deg, #2c3e50, #34495e)\" : \"linear-gradient(135deg, #ecf0f1, #bdc3c7)\",\n                                            color: categoryFilter === \"\" ? \"white\" : \"#2c3e50\",\n                                            padding: \"0.8rem\",\n                                            borderRadius: \"10px\",\n                                            cursor: \"pointer\",\n                                            textAlign: \"center\",\n                                            transition: \"all 0.2s ease\",\n                                            boxShadow: categoryFilter === \"\" ? \"0 8px 25px rgba(44,62,80,0.3)\" : \"0 4px 15px rgba(0,0,0,0.1)\",\n                                            transform: categoryFilter === \"\" ? \"translateY(-2px)\" : \"translateY(0)\",\n                                            border: categoryFilter === \"\" ? \"3px solid #2c3e50\" : \"3px solid transparent\"\n                                        },\n                                        onMouseEnter: (e)=>{\n                                            if (categoryFilter !== \"\") {\n                                                e.target.style.transform = \"translateY(-1px)\";\n                                                e.target.style.boxShadow = \"0 6px  20px rgba(44,62,80,0.2)\";\n                                            }\n                                        },\n                                        onMouseLeave: (e)=>{\n                                            if (categoryFilter !== \"\") {\n                                                e.target.style.transform = \"translateY(0)\";\n                                                e.target.style.boxShadow = \"0 4px 15px rgba(0,0,0,0.1)\";\n                                            }\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    fontSize: \"2rem\",\n                                                    marginBottom: \"0.5rem\"\n                                                },\n                                                children: \"\\uD83C\\uDFEA\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2400,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    fontSize: \"1rem\",\n                                                    fontWeight: \"600\",\n                                                    marginBottom: \"0.25rem\"\n                                                },\n                                                children: \"All Categories\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2401,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    fontSize: \"0.8rem\",\n                                                    opacity: 0.9\n                                                },\n                                                children: \"View All Products\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2410,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2356,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 2097,\n                                columnNumber: 11\n                            }, this),\n                            showManualEntry && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    position: \"fixed\",\n                                    top: \"0\",\n                                    left: \"0\",\n                                    right: \"0\",\n                                    bottom: \"0\",\n                                    backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n                                    display: \"flex\",\n                                    alignItems: \"center\",\n                                    justifyContent: \"center\",\n                                    zIndex: 1000\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        backgroundColor: \"white\",\n                                        padding: \"2rem\",\n                                        borderRadius: \"8px\",\n                                        minWidth: \"400px\",\n                                        maxWidth: \"500px\"\n                                    },\n                                    onKeyDown: (e)=>{\n                                        if (e.key === \"Escape\") {\n                                            setShowManualEntry(false);\n                                            setManualItem({\n                                                name: \"\",\n                                                price: \"\",\n                                                category: categories.length > 0 ? categories[0] : \"grocery-taxable\",\n                                                quantity: 1\n                                            });\n                                        }\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            style: {\n                                                marginBottom: \"1rem\",\n                                                color: \"#2c3e50\"\n                                            },\n                                            children: \"Add Manual Item\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2455,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                marginBottom: \"1rem\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    style: {\n                                                        display: \"block\",\n                                                        marginBottom: \"0.5rem\",\n                                                        fontWeight: \"bold\"\n                                                    },\n                                                    children: \"Item Name:\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2460,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"text\",\n                                                    value: manualItem.name,\n                                                    onChange: (e)=>setManualItem((prev)=>({\n                                                                ...prev,\n                                                                name: e.target.value\n                                                            })),\n                                                    placeholder: \"Enter item name or description\",\n                                                    style: {\n                                                        width: \"100%\",\n                                                        padding: \"0.5rem\",\n                                                        border: \"1px solid #ddd\",\n                                                        borderRadius: \"4px\"\n                                                    },\n                                                    autoFocus: true\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2469,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2459,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                marginBottom: \"1rem\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    style: {\n                                                        display: \"block\",\n                                                        marginBottom: \"0.5rem\",\n                                                        fontWeight: \"bold\"\n                                                    },\n                                                    children: \"Price:\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2490,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"number\",\n                                                    step: \"0.01\",\n                                                    min: \"0\",\n                                                    value: manualItem.price,\n                                                    onChange: (e)=>setManualItem((prev)=>({\n                                                                ...prev,\n                                                                price: e.target.value\n                                                            })),\n                                                    placeholder: \"0.00\",\n                                                    style: {\n                                                        width: \"100%\",\n                                                        padding: \"0.5rem\",\n                                                        border: \"1px solid #ddd\",\n                                                        borderRadius: \"4px\"\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2499,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2489,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                marginBottom: \"1rem\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    style: {\n                                                        display: \"block\",\n                                                        marginBottom: \"0.5rem\",\n                                                        fontWeight: \"bold\"\n                                                    },\n                                                    children: \"Category:\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2521,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                    value: manualItem.category,\n                                                    onChange: (e)=>setManualItem((prev)=>({\n                                                                ...prev,\n                                                                category: e.target.value\n                                                            })),\n                                                    style: {\n                                                        width: \"100%\",\n                                                        padding: \"0.5rem\",\n                                                        border: \"1px solid #ddd\",\n                                                        borderRadius: \"4px\"\n                                                    },\n                                                    children: categories.length > 0 ? // Use categories from Redux/database\n                                                    categories.map((category)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            value: category,\n                                                            children: category\n                                                        }, category, false, {\n                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                            lineNumber: 2548,\n                                                            columnNumber: 25\n                                                        }, this)) : // Fallback to hardcoded options if no categories loaded\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                value: \"grocery-taxable\",\n                                                                children: \"Grocery (Taxable)\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 2555,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                value: \"grocery-non-taxable\",\n                                                                children: \"Grocery (Non-Taxable)\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 2558,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                value: \"lotto\",\n                                                                children: \"Lotto (Taxable)\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 2561,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2530,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2520,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                marginBottom: \"1.5rem\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    style: {\n                                                        display: \"block\",\n                                                        marginBottom: \"0.5rem\",\n                                                        fontWeight: \"bold\"\n                                                    },\n                                                    children: \"Quantity:\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2568,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"number\",\n                                                    min: \"1\",\n                                                    value: manualItem.quantity,\n                                                    onChange: (e)=>setManualItem((prev)=>({\n                                                                ...prev,\n                                                                quantity: parseInt(e.target.value) || 1\n                                                            })),\n                                                    style: {\n                                                        width: \"100%\",\n                                                        padding: \"0.5rem\",\n                                                        border: \"1px solid #ddd\",\n                                                        borderRadius: \"4px\"\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2577,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2567,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                display: \"flex\",\n                                                gap: \"0.5rem\",\n                                                justifyContent: \"flex-end\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>{\n                                                        setShowManualEntry(false);\n                                                        setManualItem({\n                                                            name: \"\",\n                                                            price: \"\",\n                                                            category: categories.length > 0 ? categories[0] : \"grocery-taxable\",\n                                                            quantity: 1\n                                                        });\n                                                    },\n                                                    style: {\n                                                        padding: \"0.5rem 1rem\",\n                                                        backgroundColor: \"#95a5a6\",\n                                                        color: \"white\",\n                                                        border: \"none\",\n                                                        borderRadius: \"4px\",\n                                                        cursor: \"pointer\"\n                                                    },\n                                                    children: \"Cancel\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2603,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: addManualItem,\n                                                    style: {\n                                                        padding: \"0.5rem 1rem\",\n                                                        backgroundColor: \"#27ae60\",\n                                                        color: \"white\",\n                                                        border: \"none\",\n                                                        borderRadius: \"4px\",\n                                                        cursor: \"pointer\",\n                                                        fontWeight: \"bold\"\n                                                    },\n                                                    children: \"Add to Cart\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2627,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2596,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 2432,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 2418,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(KeyboardArea, {\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_OnScreenKeyboard__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                    show: true,\n                                    mode: keyboardMode,\n                                    onClose: ()=>setShowKeyboard(false),\n                                    inputRef: activeInputRef,\n                                    onKeyPress: (key)=>{\n                                        console.log(\"Virtual key pressed:\", key);\n                                    },\n                                    onModeToggle: (newMode)=>setKeyboardMode(newMode)\n                                }, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 2648,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 2647,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"products-grid\",\n                                children: [\n                                    filteredInventory.length === 0 && inventory.length > 0 && searchTerm && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            padding: \"2rem\",\n                                            textAlign: \"center\",\n                                            color: \"#f39c12\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                children: \"No products match your search\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2671,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                children: [\n                                                    'Search: \"',\n                                                    searchTerm,\n                                                    '\"',\n                                                    \" \",\n                                                    categoryFilter && '| Category: \"'.concat(categoryFilter, '\"')\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2672,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    marginTop: \"1rem\",\n                                                    padding: \"0.75rem\",\n                                                    backgroundColor: \"#fff3cd\",\n                                                    border: \"1px solid #ffeaa7\",\n                                                    borderRadius: \"4px\",\n                                                    color: \"#856404\"\n                                                },\n                                                children: [\n                                                    \"\\uD83D\\uDCA1 \",\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                        children: \"Press Enter\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 2686,\n                                                        columnNumber: 24\n                                                    }, this),\n                                                    ' to add \"',\n                                                    searchTerm,\n                                                    '\" as a manual item with custom price'\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2676,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2664,\n                                        columnNumber: 17\n                                    }, this),\n                                    inventoryLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            padding: \"2rem\",\n                                            textAlign: \"center\",\n                                            color: \"#3498db\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                children: \"Loading products...\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2699,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                children: \"Please wait while we load the inventory from database\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2700,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2692,\n                                        columnNumber: 15\n                                    }, this),\n                                    inventory.length === 0 && !inventoryLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            padding: \"2rem\",\n                                            textAlign: \"center\",\n                                            color: \"#e74c3c\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                children: \"No products available\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2711,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                children: \"No inventory items found. Please check your connection or contact support.\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2712,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2704,\n                                        columnNumber: 15\n                                    }, this),\n                                    filteredInventory.map((product)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.ProductItem, {\n                                            onClick: ()=>addToCart(product),\n                                            style: {\n                                                opacity: product.stock <= 0 ? 0.7 : 1,\n                                                cursor: \"pointer\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                    children: product.name\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2727,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"price-row\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"price\",\n                                                            children: [\n                                                                \"$\",\n                                                                product.price.toFixed(2)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                            lineNumber: 2729,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            style: {\n                                                                fontSize: \"0.8rem\",\n                                                                color: \"#7f8c8d\"\n                                                            },\n                                                            children: product.taxable ? \"HST\" : \"No HST\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                            lineNumber: 2730,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2728,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"stock\",\n                                                    style: {\n                                                        color: product.stock < 0 ? \"#e74c3c\" : product.stock === 0 ? \"#f39c12\" : product.stock <= product.lowStockThreshold ? \"#f39c12\" : \"#27ae60\"\n                                                    },\n                                                    children: [\n                                                        \"Stock: \",\n                                                        product.stock,\n                                                        \" \",\n                                                        product.stock < 0 ? \"(Negative Stock)\" : product.stock === 0 ? \"(Out of Stock)\" : product.stock <= product.lowStockThreshold ? \"(Low Stock)\" : \"\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2734,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, product.id, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2719,\n                                            columnNumber: 15\n                                        }, this))\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 2660,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                        lineNumber: 1945,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.CheckoutPanel, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"flex\",\n                                    justifyContent: \"space-between\",\n                                    alignItems: \"center\",\n                                    marginBottom: \"0.5rem\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        style: {\n                                            margin: 0\n                                        },\n                                        children: \"Current Sale\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2770,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            display: \"flex\",\n                                            gap: \"0.5rem\"\n                                        },\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.Button, {\n                                            onClick: ()=>{\n                                                setIsCreditSale(!isCreditSale);\n                                                if (isCreditSale) {\n                                                    setCreditCustomerName(\"\");\n                                                    setCreditAmount(0);\n                                                    setSelectedCustomer(null);\n                                                    setCustomerBalance(0);\n                                                }\n                                            },\n                                            style: {\n                                                background: isCreditSale ? \"#28a745\" : \"#6c757d\",\n                                                color: \"white\",\n                                                padding: \"0.5rem 0.75rem\",\n                                                fontSize: \"0.8rem\",\n                                                fontWeight: \"600\"\n                                            },\n                                            children: \"\\uD83D\\uDCB3 Credit\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2772,\n                                            columnNumber: 15\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2771,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 2762,\n                                columnNumber: 11\n                            }, this),\n                            isCreditSale && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    padding: \"0.5rem\",\n                                    backgroundColor: \"#fff3cd\",\n                                    border: \"2px solid #ffc107\",\n                                    borderRadius: \"8px\",\n                                    marginBottom: \"0.75rem\",\n                                    textAlign: \"center\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            fontWeight: \"600\",\n                                            color: \"#856404\",\n                                            fontSize: \"0.9rem\"\n                                        },\n                                        children: \"\\uD83D\\uDCB3 CREDIT SALE MODE ACTIVE\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2807,\n                                        columnNumber: 15\n                                    }, this),\n                                    creditCustomerName && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            fontSize: \"0.8rem\",\n                                            color: \"#856404\",\n                                            marginTop: \"0.25rem\"\n                                        },\n                                        children: [\n                                            \"Customer: \",\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                children: creditCustomerName\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2824,\n                                                columnNumber: 29\n                                            }, this),\n                                            selectedCustomer && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                style: {\n                                                    marginLeft: \"0.5rem\"\n                                                },\n                                                children: [\n                                                    \"(Balance: $\",\n                                                    Math.abs(customerBalance).toFixed(2),\n                                                    \" \",\n                                                    customerBalance > 0 ? \"owed\" : \"credit\",\n                                                    \")\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2826,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2817,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 2797,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"cart-items\",\n                                children: cart.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    style: {\n                                        textAlign: \"center\",\n                                        color: \"#7f8c8d\",\n                                        marginTop: \"2rem\"\n                                    },\n                                    children: \"No items in cart — add products from the left panel\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 2837,\n                                    columnNumber: 15\n                                }, this) : cart.map((item)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.CartItem, {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"item-details\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                        children: item.name\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 2850,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        children: [\n                                                            \"$\",\n                                                            item.price.toFixed(2),\n                                                            \" each\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 2851,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>toggleItemTax(item.id),\n                                                        style: {\n                                                            fontSize: \"0.75rem\",\n                                                            padding: \"0.25rem 0.5rem\",\n                                                            borderRadius: \"12px\",\n                                                            border: \"none\",\n                                                            background: item.applyTax === true ? \"#27ae60\" : \"#95a5a6\",\n                                                            color: \"white\",\n                                                            cursor: \"pointer\",\n                                                            marginTop: \"0.25rem\"\n                                                        },\n                                                        children: item.applyTax === true ? \"HST ON\" : \"HST OFF\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 2852,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2849,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"quantity-controls\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>handleDecreaseQuantity(item.id),\n                                                        disabled: item.quantity <= 1,\n                                                        style: {\n                                                            opacity: item.quantity <= 1 ? 0.5 : 1,\n                                                            cursor: item.quantity <= 1 ? \"not-allowed\" : \"pointer\"\n                                                        },\n                                                        children: \"-\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 2870,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: item.quantity\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 2880,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>updateCartQuantity(item.id, item.quantity + 1),\n                                                        children: \"+\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 2881,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2869,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"item-total\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: [\n                                                            \"$\",\n                                                            (item.price * item.quantity).toFixed(2)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 2890,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    item.applyTax === true && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            fontSize: \"0.75rem\",\n                                                            color: \"#7f8c8d\"\n                                                        },\n                                                        children: [\n                                                            \"+$\",\n                                                            (item.price * item.quantity * 0.13).toFixed(2),\n                                                            \" HST\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 2892,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2889,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                className: \"remove-btn\",\n                                                onClick: ()=>removeFromCart(item.id),\n                                                children: \"\\xd7\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2897,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, item.id, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2848,\n                                        columnNumber: 17\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 2835,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"checkout-sections\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            margin: \"0.5rem 0\",\n                                            padding: \"0.5rem\",\n                                            backgroundColor: \"#f8f9fa\",\n                                            border: \"1px solid #e9ecef\",\n                                            borderRadius: \"6px\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                style: {\n                                                    display: \"flex\",\n                                                    alignItems: \"center\",\n                                                    gap: \"0.5rem\",\n                                                    cursor: \"pointer\",\n                                                    fontWeight: \"500\"\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: \"checkbox\",\n                                                        checked: cashbackEnabled,\n                                                        onChange: (e)=>{\n                                                            setCashbackEnabled(e.target.checked);\n                                                            if (!e.target.checked) {\n                                                                setCashbackAmount(\"\");\n                                                                setCashbackFee(\"\");\n                                                            }\n                                                        },\n                                                        style: {\n                                                            transform: \"scale(1.2)\"\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 2929,\n                                                        columnNumber: 15\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: \"Add Cashback\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 2941,\n                                                        columnNumber: 15\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2920,\n                                                columnNumber: 13\n                                            }, this),\n                                            cashbackEnabled && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            marginTop: \"0.5rem\",\n                                                            display: \"flex\",\n                                                            alignItems: \"center\",\n                                                            gap: \"0.5rem\"\n                                                        },\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                style: {\n                                                                    minWidth: \"70px\",\n                                                                    fontSize: \"0.9rem\"\n                                                                },\n                                                                children: \"Amount:\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 2954,\n                                                                columnNumber: 19\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                ref: cashbackAmountRef,\n                                                                type: \"number\",\n                                                                step: \"0.01\",\n                                                                min: \"0\",\n                                                                value: cashbackAmount,\n                                                                onFocus: ()=>handleInputFocus(cashbackAmountRef),\n                                                                onChange: (e)=>{\n                                                                    const value = e.target.value;\n                                                                    setCashbackAmount(value === \"\" ? \"\" : Number(value));\n                                                                },\n                                                                style: {\n                                                                    padding: \"0.4rem\",\n                                                                    flex: 1,\n                                                                    borderRadius: \"4px\",\n                                                                    border: \"1px solid #ddd\"\n                                                                },\n                                                                placeholder: \"0.00\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 2957,\n                                                                columnNumber: 19\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 2946,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            marginTop: \"0.5rem\",\n                                                            display: \"flex\",\n                                                            alignItems: \"center\",\n                                                            gap: \"0.5rem\"\n                                                        },\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                style: {\n                                                                    minWidth: \"70px\",\n                                                                    fontSize: \"0.9rem\",\n                                                                    color: \"#e67e22\"\n                                                                },\n                                                                children: \"Fee:\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 2986,\n                                                                columnNumber: 19\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                ref: cashbackFeeRef,\n                                                                type: \"number\",\n                                                                step: \"0.01\",\n                                                                min: \"0\",\n                                                                value: cashbackFee,\n                                                                onFocus: ()=>handleInputFocus(cashbackFeeRef),\n                                                                onChange: (e)=>{\n                                                                    const value = e.target.value;\n                                                                    setCashbackFee(value === \"\" ? \"\" : Number(value));\n                                                                },\n                                                                style: {\n                                                                    padding: \"0.4rem\",\n                                                                    flex: 1,\n                                                                    borderRadius: \"4px\",\n                                                                    border: \"1px solid #e67e22\",\n                                                                    backgroundColor: \"#fef5e7\"\n                                                                },\n                                                                placeholder: \"0.00\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 2995,\n                                                                columnNumber: 19\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 2978,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    (Number(cashbackFee) || 0) > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            marginTop: \"0.5rem\",\n                                                            fontSize: \"0.8rem\",\n                                                            color: \"#e67e22\",\n                                                            fontStyle: \"italic\",\n                                                            backgroundColor: \"#fef5e7\",\n                                                            padding: \"0.25rem 0.5rem\",\n                                                            borderRadius: \"4px\",\n                                                            border: \"1px solid #f4d03f\"\n                                                        },\n                                                        children: [\n                                                            \"\\uD83D\\uDCB0 Cashback fee: $\",\n                                                            (Number(cashbackFee) || 0).toFixed(2),\n                                                            \" \",\n                                                            \"added to total\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3018,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2911,\n                                        columnNumber: 11\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            margin: \"0.5rem 0\",\n                                            padding: \"0.5rem\",\n                                            backgroundColor: \"#fff3e0\",\n                                            border: \"1px solid #ffcc80\",\n                                            borderRadius: \"6px\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    display: \"flex\",\n                                                    alignItems: \"center\",\n                                                    gap: \"0.5rem\",\n                                                    fontWeight: \"500\",\n                                                    marginBottom: \"0.5rem\"\n                                                },\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"\\uD83D\\uDCB0 Discount\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 3057,\n                                                    columnNumber: 15\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 3048,\n                                                columnNumber: 13\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    display: \"flex\",\n                                                    alignItems: \"center\",\n                                                    gap: \"0.5rem\"\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        style: {\n                                                            minWidth: \"70px\",\n                                                            fontSize: \"0.9rem\"\n                                                        },\n                                                        children: \"Amount:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3066,\n                                                        columnNumber: 15\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        ref: discountRef,\n                                                        type: \"number\",\n                                                        step: \"0.01\",\n                                                        min: \"0\",\n                                                        value: discountAmount,\n                                                        onFocus: ()=>handleInputFocus(discountRef),\n                                                        onChange: (e)=>{\n                                                            const value = e.target.value;\n                                                            setDiscountAmount(value === \"\" ? \"\" : Number(value));\n                                                        },\n                                                        style: {\n                                                            padding: \"0.4rem\",\n                                                            flex: 1,\n                                                            borderRadius: \"4px\",\n                                                            border: \"1px solid #ddd\"\n                                                        },\n                                                        placeholder: \"0.00\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3069,\n                                                        columnNumber: 15\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 3059,\n                                                columnNumber: 13\n                                            }, this),\n                                            (Number(discountAmount) || 0) > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    marginTop: \"0.5rem\",\n                                                    fontSize: \"0.8rem\",\n                                                    color: \"#e65100\",\n                                                    fontStyle: \"italic\"\n                                                },\n                                                children: [\n                                                    \"\\uD83D\\uDCB8 Customer saves $\",\n                                                    (Number(discountAmount) || 0).toFixed(2)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 3090,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 3039,\n                                        columnNumber: 11\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            margin: \"0.5rem 0\",\n                                            padding: \"0.5rem\",\n                                            backgroundColor: \"#f8f4ff\",\n                                            border: \"1px solid #d4c5f9\",\n                                            borderRadius: \"6px\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    display: \"flex\",\n                                                    alignItems: \"center\",\n                                                    gap: \"0.5rem\",\n                                                    marginBottom: \"0.5rem\",\n                                                    fontWeight: \"500\"\n                                                },\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"\\uD83D\\uDCB3 Card Fees\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 3122,\n                                                    columnNumber: 15\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 3113,\n                                                columnNumber: 13\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    display: \"flex\",\n                                                    alignItems: \"center\",\n                                                    gap: \"0.5rem\",\n                                                    marginBottom: cardFeeEnabled ? \"0.5rem\" : \"0\"\n                                                },\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    style: {\n                                                        display: \"flex\",\n                                                        alignItems: \"center\",\n                                                        gap: \"0.5rem\",\n                                                        cursor: \"pointer\",\n                                                        fontSize: \"0.9rem\"\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                            type: \"checkbox\",\n                                                            checked: cardFeeEnabled,\n                                                            onChange: (e)=>{\n                                                                const isEnabled = e.target.checked;\n                                                                setCardFeeEnabled(isEnabled);\n                                                                const currentCardAmount = Number(parseFloat(cardAmount) || 0);\n                                                                const currentCashAmount = Number(parseFloat(cashAmount) || 0);\n                                                                if (isEnabled) {\n                                                                    // When enabling, add card fee to total\n                                                                    const totalAmount = currentCardAmount + currentCashAmount + CARD_FEE_AMOUNT;\n                                                                    setCardAmount(String(totalAmount.toFixed(2)));\n                                                                    setCashAmount(\"0\");\n                                                                    setLastEdited(\"card\");\n                                                                } else {\n                                                                    // When disabling, remove card fee from total\n                                                                    if (currentCardAmount >= CARD_FEE_AMOUNT) {\n                                                                        const newCardAmount = Math.max(0, currentCardAmount - CARD_FEE_AMOUNT);\n                                                                        setCardAmount(String(newCardAmount.toFixed(2)));\n                                                                    }\n                                                                }\n                                                            },\n                                                            style: {\n                                                                marginRight: \"0.25rem\",\n                                                                transform: \"scale(1.1)\"\n                                                            }\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                            lineNumber: 3143,\n                                                            columnNumber: 17\n                                                        }, this),\n                                                        \"Apply card fee (+$\",\n                                                        CARD_FEE_AMOUNT.toFixed(2),\n                                                        \")\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 3134,\n                                                    columnNumber: 15\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 3126,\n                                                columnNumber: 13\n                                            }, this),\n                                            cardFeeEnabled && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    marginTop: \"0.5rem\",\n                                                    padding: \"0.25rem 0.5rem\",\n                                                    backgroundColor: \"#fff3cd\",\n                                                    border: \"1px solid #ffeaa7\",\n                                                    borderRadius: \"4px\",\n                                                    fontSize: \"0.8rem\",\n                                                    color: \"#856404\"\n                                                },\n                                                children: [\n                                                    \"\\uD83D\\uDCB0 Card processing fee: $\",\n                                                    CARD_FEE_AMOUNT.toFixed(2),\n                                                    \" added to total\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 3186,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 3104,\n                                        columnNumber: 11\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            margin: \"0.5rem 0\",\n                                            padding: \"0.5rem\",\n                                            backgroundColor: \"#e8f5e8\",\n                                            border: \"1px solid #c3e6c3\",\n                                            borderRadius: \"6px\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    display: \"flex\",\n                                                    alignItems: \"center\",\n                                                    gap: \"0.5rem\",\n                                                    fontWeight: \"500\",\n                                                    marginBottom: \"0.5rem\"\n                                                },\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"\\uD83C\\uDFB0 Lotto Winnings\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 3222,\n                                                    columnNumber: 15\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 3213,\n                                                columnNumber: 13\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    display: \"flex\",\n                                                    alignItems: \"center\",\n                                                    gap: \"0.5rem\"\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        style: {\n                                                            minWidth: \"70px\",\n                                                            fontSize: \"0.9rem\"\n                                                        },\n                                                        children: \"Amount:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3232,\n                                                        columnNumber: 15\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        ref: lottoWinningsRef,\n                                                        type: \"number\",\n                                                        step: \"0.01\",\n                                                        min: \"0\",\n                                                        value: lottoWinnings,\n                                                        onFocus: ()=>handleInputFocus(lottoWinningsRef),\n                                                        onChange: (e)=>{\n                                                            const value = e.target.value;\n                                                            setLottoWinnings(value === \"\" ? \"\" : Number(value));\n                                                        },\n                                                        style: {\n                                                            padding: \"0.4rem\",\n                                                            flex: 1,\n                                                            borderRadius: \"4px\",\n                                                            border: \"1px solid #ddd\"\n                                                        },\n                                                        placeholder: \"0.00\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3235,\n                                                        columnNumber: 15\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 3225,\n                                                columnNumber: 13\n                                            }, this),\n                                            (Number(lottoWinnings) || 0) > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    marginTop: \"0.5rem\",\n                                                    fontSize: \"0.8rem\",\n                                                    color: \"#28a745\",\n                                                    fontStyle: \"italic\"\n                                                },\n                                                children: [\n                                                    \"\\uD83D\\uDCB0 Customer won $\",\n                                                    (Number(lottoWinnings) || 0).toFixed(2),\n                                                    \" in lottery\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 3257,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 3204,\n                                        columnNumber: 11\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 2909,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"checkout-summary\",\n                                children: (()=>{\n                                    var _selectedCustomer_balance;\n                                    const originalSubtotal = calculateSubtotal(); // Items total before discount\n                                    const discount = Number(parseFloat(discountAmount) || 0);\n                                    const subtotal = calculateTotal(); // After discount\n                                    const tax = calculateTax();\n                                    const total = +(subtotal + tax).toFixed(2);\n                                    const cashback = Number(parseFloat(cashbackAmount) || 0);\n                                    const lotto = Number(parseFloat(lottoWinnings) || 0);\n                                    const paidCash = Number(parseFloat(cashAmount) || 0);\n                                    const paidCard = Number(parseFloat(cardAmount) || 0);\n                                    const paidTotal = +(paidCash + paidCard).toFixed(2);\n                                    // Calculate final total with cashback and lotto winnings\n                                    const finalTotal = total + cashback - lotto;\n                                    // For cashback transactions, require card payment to cover total + cashback\n                                    let isSufficient;\n                                    if (cashback > 0 && lotto === 0) {\n                                        const totalNeeded = total + cashback;\n                                        isSufficient = paidCard + 0.0001 >= totalNeeded;\n                                    } else if (lotto > 0) {\n                                        // With lotto winnings, customer may owe less or even get money back\n                                        isSufficient = finalTotal <= 0 || paidTotal + 0.0001 >= finalTotal;\n                                    } else {\n                                        isSufficient = paidTotal + 0.0001 >= total;\n                                    }\n                                    const change = cashback > 0 && lotto === 0 ? 0 : Math.max(0, +(paidTotal - finalTotal).toFixed(2));\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.Total, {\n                                                children: [\n                                                    getTaxableTotal() > 0 && getNonTaxableTotal() > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                children: [\n                                                                    \"Taxable: $\",\n                                                                    getTaxableTotal().toFixed(2)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 3311,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                children: [\n                                                                    \"Non-Taxable: $\",\n                                                                    getNonTaxableTotal().toFixed(2)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 3312,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true),\n                                                    discount > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                children: [\n                                                                    \"Items Subtotal: $\",\n                                                                    originalSubtotal.toFixed(2)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 3319,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                style: {\n                                                                    color: \"#e65100\",\n                                                                    fontWeight: \"500\"\n                                                                },\n                                                                children: [\n                                                                    \"Discount: -$\",\n                                                                    discount.toFixed(2)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 3322,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                children: [\n                                                                    \"Subtotal: $\",\n                                                                    subtotal.toFixed(2)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 3325,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: [\n                                                            \"Subtotal: $\",\n                                                            subtotal.toFixed(2)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3328,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    tax > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: [\n                                                            \"HST (13%): $\",\n                                                            tax.toFixed(2)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3330,\n                                                        columnNumber: 33\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: [\n                                                            \"Purchase Total: $\",\n                                                            total.toFixed(2)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3331,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    cashback > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            color: \"#e67e22\",\n                                                            fontWeight: \"500\"\n                                                        },\n                                                        children: [\n                                                            \"Cashback: $\",\n                                                            cashback.toFixed(2)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3333,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    Number(parseFloat(cashbackFee) || 0) > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            color: \"#d35400\",\n                                                            fontWeight: \"500\"\n                                                        },\n                                                        children: [\n                                                            \"Cashback Fee: $\",\n                                                            Number(parseFloat(cashbackFee) || 0).toFixed(2)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3338,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    lotto > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            color: \"#28a745\",\n                                                            fontWeight: \"500\"\n                                                        },\n                                                        children: [\n                                                            \"Lotto Winnings: -$\",\n                                                            lotto.toFixed(2)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3344,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"final-total\",\n                                                        children: isBalancePayment ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    style: {\n                                                                        color: \"#17a2b8\",\n                                                                        fontWeight: \"600\",\n                                                                        marginBottom: \"5px\"\n                                                                    },\n                                                                    children: \"\\uD83C\\uDFE6 Customer Balance Payment\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                    lineNumber: 3351,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    children: [\n                                                                        \"Paying for:\",\n                                                                        \" \",\n                                                                        (selectedCustomer === null || selectedCustomer === void 0 ? void 0 : selectedCustomer.name) || \"Selected Customer\"\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                    lineNumber: 3360,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    children: [\n                                                                        \"Current Balance: $\",\n                                                                        (selectedCustomer === null || selectedCustomer === void 0 ? void 0 : (_selectedCustomer_balance = selectedCustomer.balance) === null || _selectedCustomer_balance === void 0 ? void 0 : _selectedCustomer_balance.toFixed(2)) || \"0.00\"\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                    lineNumber: 3364,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                            children: [\n                                                                \"Total Amount Due: $\",\n                                                                finalTotal >= 0 ? finalTotal.toFixed(2) : \"(\".concat(Math.abs(finalTotal).toFixed(2), \") Credit\")\n                                                            ]\n                                                        }, void 0, true)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3348,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 3308,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    marginTop: \"1rem\",\n                                                    display: \"flex\",\n                                                    flexDirection: \"column\",\n                                                    gap: \"0.5rem\"\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            padding: \"1rem\",\n                                                            backgroundColor: \"#fff3cd\",\n                                                            border: \"2px solid #ffc107\",\n                                                            borderRadius: \"8px\"\n                                                        },\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                style: {\n                                                                    display: \"flex\",\n                                                                    alignItems: \"center\",\n                                                                    gap: \"0.5rem\",\n                                                                    cursor: \"pointer\",\n                                                                    fontWeight: \"600\",\n                                                                    fontSize: \"1.1rem\",\n                                                                    color: \"#856404\",\n                                                                    marginBottom: isCreditSale ? \"0.75rem\" : \"0\",\n                                                                    justifyContent: \"center\"\n                                                                },\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                        type: \"checkbox\",\n                                                                        checked: isCreditSale,\n                                                                        onChange: (e)=>{\n                                                                            setIsCreditSale(e.target.checked);\n                                                                            if (!e.target.checked) {\n                                                                                setCreditCustomerName(\"\");\n                                                                                setCreditAmount(0);\n                                                                            } else {\n                                                                                // Clear existing payments when entering credit mode\n                                                                                setCashAmount(\"\");\n                                                                                setCardAmount(\"\");\n                                                                                setCreditAmount(0);\n                                                                            }\n                                                                        },\n                                                                        style: {\n                                                                            transform: \"scale(1.2)\"\n                                                                        }\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                        lineNumber: 3411,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        children: \"\\uD83D\\uDCB3 Credit Sale Mode\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                        lineNumber: 3428,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 3398,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            isCreditSale && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        style: {\n                                                                            marginBottom: \"0.75rem\"\n                                                                        },\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                style: {\n                                                                                    display: \"flex\",\n                                                                                    alignItems: \"center\",\n                                                                                    gap: \"0.5rem\",\n                                                                                    marginBottom: \"0.5rem\",\n                                                                                    position: \"relative\"\n                                                                                },\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                                        style: {\n                                                                                            minWidth: \"80px\",\n                                                                                            fontSize: \"0.9rem\",\n                                                                                            color: \"#856404\",\n                                                                                            fontWeight: \"500\"\n                                                                                        },\n                                                                                        children: \"Customer:\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3444,\n                                                                                        columnNumber: 31\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        style: {\n                                                                                            flex: 1,\n                                                                                            position: \"relative\",\n                                                                                            display: \"flex\",\n                                                                                            gap: \"0.25rem\"\n                                                                                        },\n                                                                                        children: [\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                                                ref: creditCustomerNameRef,\n                                                                                                type: \"text\",\n                                                                                                value: creditCustomerName,\n                                                                                                onFocus: ()=>handleInputFocus(creditCustomerNameRef, false),\n                                                                                                onChange: (e)=>handleCustomerNameChange(e.target.value),\n                                                                                                style: {\n                                                                                                    padding: \"0.4rem\",\n                                                                                                    flex: 1,\n                                                                                                    borderRadius: \"4px\",\n                                                                                                    border: \"1px solid #ddd\"\n                                                                                                },\n                                                                                                placeholder: \"Enter customer name\"\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                                lineNumber: 3462,\n                                                                                                columnNumber: 33\n                                                                                            }, this),\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                                onClick: fetchExistingCustomers,\n                                                                                                style: {\n                                                                                                    padding: \"0.4rem\",\n                                                                                                    backgroundColor: \"#6c757d\",\n                                                                                                    color: \"white\",\n                                                                                                    border: \"none\",\n                                                                                                    borderRadius: \"4px\",\n                                                                                                    cursor: \"pointer\",\n                                                                                                    fontSize: \"0.8rem\"\n                                                                                                },\n                                                                                                title: \"Refresh customer list\",\n                                                                                                children: \"\\uD83D\\uDD04\"\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                                lineNumber: 3478,\n                                                                                                columnNumber: 33\n                                                                                            }, this),\n                                                                                            showCustomerSuggestions && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                style: {\n                                                                                                    position: \"absolute\",\n                                                                                                    top: \"100%\",\n                                                                                                    left: 0,\n                                                                                                    right: 0,\n                                                                                                    backgroundColor: \"white\",\n                                                                                                    border: \"1px solid #ddd\",\n                                                                                                    borderRadius: \"4px\",\n                                                                                                    boxShadow: \"0 2px 8px rgba(0,0,0,0.1)\",\n                                                                                                    zIndex: 1000,\n                                                                                                    maxHeight: \"150px\",\n                                                                                                    overflowY: \"auto\"\n                                                                                                },\n                                                                                                children: (()=>{\n                                                                                                    const filteredCustomers = Array.isArray(existingCustomers) ? existingCustomers.filter((customer)=>customer && customer.customerName && customer.customerName.toLowerCase().includes(creditCustomerName.toLowerCase())) : [];\n                                                                                                    const exactMatch = filteredCustomers.find((customer)=>customer.customerName.toLowerCase() === creditCustomerName.toLowerCase());\n                                                                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                                                                        children: [\n                                                                                                            filteredCustomers.map((customer, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                                    onClick: ()=>handleCustomerSelection(customer),\n                                                                                                                    style: {\n                                                                                                                        padding: \"0.5rem\",\n                                                                                                                        cursor: \"pointer\",\n                                                                                                                        borderBottom: \"1px solid #eee\",\n                                                                                                                        display: \"flex\",\n                                                                                                                        justifyContent: \"space-between\",\n                                                                                                                        alignItems: \"center\"\n                                                                                                                    },\n                                                                                                                    onMouseEnter: (e)=>e.target.style.backgroundColor = \"#f5f5f5\",\n                                                                                                                    onMouseLeave: (e)=>e.target.style.backgroundColor = \"white\",\n                                                                                                                    children: [\n                                                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                                            children: customer.customerName\n                                                                                                                        }, void 0, false, {\n                                                                                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                                                            lineNumber: 3563,\n                                                                                                                            columnNumber: 49\n                                                                                                                        }, this),\n                                                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                                            style: {\n                                                                                                                                fontSize: \"0.8rem\",\n                                                                                                                                color: customer.balance > 0 ? \"#dc3545\" : \"#28a745\",\n                                                                                                                                fontWeight: \"500\"\n                                                                                                                            },\n                                                                                                                            children: [\n                                                                                                                                \"$\",\n                                                                                                                                Math.abs(customer.balance || 0).toFixed(2),\n                                                                                                                                \" \",\n                                                                                                                                customer.balance > 0 ? \"owed\" : \"credit\"\n                                                                                                                            ]\n                                                                                                                        }, void 0, true, {\n                                                                                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                                                            lineNumber: 3566,\n                                                                                                                            columnNumber: 49\n                                                                                                                        }, this)\n                                                                                                                    ]\n                                                                                                                }, index, true, {\n                                                                                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                                                    lineNumber: 3537,\n                                                                                                                    columnNumber: 47\n                                                                                                                }, this)),\n                                                                                                            creditCustomerName.trim().length > 0 && !exactMatch && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                                onClick: ()=>{\n                                                                                                                    // Create new customer with entered name\n                                                                                                                    const newCustomer = {\n                                                                                                                        customerName: creditCustomerName.trim(),\n                                                                                                                        balance: 0,\n                                                                                                                        isNewCustomer: true\n                                                                                                                    };\n                                                                                                                    handleCustomerSelection(newCustomer);\n                                                                                                                },\n                                                                                                                style: {\n                                                                                                                    padding: \"0.5rem\",\n                                                                                                                    cursor: \"pointer\",\n                                                                                                                    borderTop: filteredCustomers.length > 0 ? \"2px solid #e9ecef\" : \"none\",\n                                                                                                                    backgroundColor: \"#e8f5e8\",\n                                                                                                                    display: \"flex\",\n                                                                                                                    alignItems: \"center\",\n                                                                                                                    gap: \"0.5rem\",\n                                                                                                                    fontWeight: \"500\",\n                                                                                                                    color: \"#155724\"\n                                                                                                                },\n                                                                                                                onMouseEnter: (e)=>e.target.style.backgroundColor = \"#d4edda\",\n                                                                                                                onMouseLeave: (e)=>e.target.style.backgroundColor = \"#e8f5e8\",\n                                                                                                                children: [\n                                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                                        children: \"➕\"\n                                                                                                                    }, void 0, false, {\n                                                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                                                        lineNumber: 3628,\n                                                                                                                        columnNumber: 49\n                                                                                                                    }, this),\n                                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                                        children: [\n                                                                                                                            'Add \"',\n                                                                                                                            creditCustomerName.trim(),\n                                                                                                                            '\" as new credit customer'\n                                                                                                                        ]\n                                                                                                                    }, void 0, true, {\n                                                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                                                        lineNumber: 3629,\n                                                                                                                        columnNumber: 49\n                                                                                                                    }, this)\n                                                                                                                ]\n                                                                                                            }, void 0, true, {\n                                                                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                                                lineNumber: 3592,\n                                                                                                                columnNumber: 47\n                                                                                                            }, this)\n                                                                                                        ]\n                                                                                                    }, void 0, true);\n                                                                                                })()\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                                lineNumber: 3496,\n                                                                                                columnNumber: 35\n                                                                                            }, this)\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3454,\n                                                                                        columnNumber: 31\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                lineNumber: 3435,\n                                                                                columnNumber: 29\n                                                                            }, this),\n                                                                            existingCustomers.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                style: {\n                                                                                    fontSize: \"0.8rem\",\n                                                                                    color: \"#6c757d\",\n                                                                                    marginBottom: \"0.5rem\",\n                                                                                    padding: \"0.25rem\",\n                                                                                    backgroundColor: \"#f8f9fa\",\n                                                                                    borderRadius: \"4px\"\n                                                                                },\n                                                                                children: [\n                                                                                    \"Loaded \",\n                                                                                    existingCustomers.length,\n                                                                                    \" customers.\",\n                                                                                    \" \",\n                                                                                    creditCustomerName && 'Searching for: \"'.concat(creditCustomerName, '\"')\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                lineNumber: 3646,\n                                                                                columnNumber: 31\n                                                                            }, this),\n                                                                            selectedCustomer && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                style: {\n                                                                                    padding: \"0.5rem\",\n                                                                                    backgroundColor: customerBalance > 0 ? \"#f8d7da\" : \"#d4edda\",\n                                                                                    border: \"1px solid \".concat(customerBalance > 0 ? \"#f5c6cb\" : \"#c3e6cb\"),\n                                                                                    borderRadius: \"4px\",\n                                                                                    marginBottom: \"0.5rem\",\n                                                                                    fontSize: \"0.9rem\"\n                                                                                },\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                                        children: selectedCustomer.customerName\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3677,\n                                                                                        columnNumber: 33\n                                                                                    }, this),\n                                                                                    \" \",\n                                                                                    \"- Current Balance:\",\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                        style: {\n                                                                                            color: customerBalance > 0 ? \"#721c24\" : \"#155724\",\n                                                                                            fontWeight: \"600\",\n                                                                                            marginLeft: \"0.25rem\"\n                                                                                        },\n                                                                                        children: [\n                                                                                            \"$\",\n                                                                                            Math.abs(customerBalance).toFixed(2),\n                                                                                            \" \",\n                                                                                            customerBalance > 0 ? \"owed\" : \"credit\"\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3679,\n                                                                                        columnNumber: 33\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        style: {\n                                                                                            fontSize: \"0.7rem\",\n                                                                                            color: \"#6c757d\",\n                                                                                            marginTop: \"0.25rem\"\n                                                                                        },\n                                                                                        children: [\n                                                                                            \"ID: \",\n                                                                                            selectedCustomer.id,\n                                                                                            \" | Last updated:\",\n                                                                                            \" \",\n                                                                                            new Date(selectedCustomer.updatedAt).toLocaleTimeString()\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3692,\n                                                                                        columnNumber: 33\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                lineNumber: 3664,\n                                                                                columnNumber: 31\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                        lineNumber: 3434,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    \" \",\n                                                                    (()=>{\n                                                                        const subtotal = calculateTotal();\n                                                                        const tax = calculateTax();\n                                                                        const total = +(subtotal + tax).toFixed(2);\n                                                                        const cashback = Number(parseFloat(cashbackAmount) || 0);\n                                                                        const lotto = Number(parseFloat(lottoWinnings) || 0);\n                                                                        const finalTotal = total + cashback - lotto;\n                                                                        const paidCash = Number(parseFloat(cashAmount) || 0);\n                                                                        const paidCard = Number(parseFloat(cardAmount) || 0);\n                                                                        const paidTotal = paidCash + paidCard;\n                                                                        const specifiedCreditAmount = Number(parseFloat(creditAmount) || 0);\n                                                                        // Use specified credit amount or calculate from payment difference\n                                                                        const creditBalance = specifiedCreditAmount > 0 ? specifiedCreditAmount : Math.max(0, finalTotal - paidTotal);\n                                                                        const requiredPayment = specifiedCreditAmount > 0 ? finalTotal - specifiedCreditAmount : paidTotal;\n                                                                        if (specifiedCreditAmount > 0) {\n                                                                            // Specified credit amount mode\n                                                                            const paymentNeeded = finalTotal - specifiedCreditAmount;\n                                                                            const paymentStatus = paidTotal >= paymentNeeded - 0.001;\n                                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                style: {\n                                                                                    backgroundColor: paymentStatus ? \"#e8f5e8\" : \"#fff3cd\",\n                                                                                    border: \"1px solid \".concat(paymentStatus ? \"#28a745\" : \"#ffc107\"),\n                                                                                    borderRadius: \"4px\",\n                                                                                    padding: \"0.5rem\",\n                                                                                    fontSize: \"0.9rem\"\n                                                                                },\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                                            children: \"Specified Credit Mode:\"\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                            lineNumber: 3761,\n                                                                                            columnNumber: 37\n                                                                                        }, this)\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3760,\n                                                                                        columnNumber: 35\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        children: [\n                                                                                            \"� Unpaid Balance: $\",\n                                                                                            specifiedCreditAmount.toFixed(2)\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3763,\n                                                                                        columnNumber: 35\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        children: [\n                                                                                            \"\\uD83D\\uDCB0 Payment Needed: $\",\n                                                                                            paymentNeeded.toFixed(2)\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3767,\n                                                                                        columnNumber: 35\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        children: [\n                                                                                            \"\\uD83D\\uDCCA Payment Status: $\",\n                                                                                            paidTotal.toFixed(2),\n                                                                                            \" / $\",\n                                                                                            paymentNeeded.toFixed(2)\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3771,\n                                                                                        columnNumber: 35\n                                                                                    }, this),\n                                                                                    !paymentStatus && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        style: {\n                                                                                            color: \"#dc3545\",\n                                                                                            fontWeight: \"500\",\n                                                                                            marginTop: \"0.25rem\"\n                                                                                        },\n                                                                                        children: [\n                                                                                            \"⚠️ Need $\",\n                                                                                            (paymentNeeded - paidTotal).toFixed(2),\n                                                                                            \" \",\n                                                                                            \"more\"\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3776,\n                                                                                        columnNumber: 37\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                lineNumber: 3747,\n                                                                                columnNumber: 33\n                                                                            }, this);\n                                                                        } else if (paidTotal > 0 && creditBalance > 0) {\n                                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                style: {\n                                                                                    backgroundColor: \"#e8f5e8\",\n                                                                                    border: \"1px solid #28a745\",\n                                                                                    borderRadius: \"4px\",\n                                                                                    padding: \"0.5rem\",\n                                                                                    fontSize: \"0.9rem\"\n                                                                                },\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                                            children: \"Auto-Calculate Mode:\"\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                            lineNumber: 3802,\n                                                                                            columnNumber: 37\n                                                                                        }, this)\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3801,\n                                                                                        columnNumber: 35\n                                                                                    }, this),\n                                                                                    paidCash > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        children: [\n                                                                                            \"\\uD83D\\uDCB5 Cash: $\",\n                                                                                            paidCash.toFixed(2)\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3805,\n                                                                                        columnNumber: 37\n                                                                                    }, this),\n                                                                                    paidCard > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        children: [\n                                                                                            \"\\uD83D\\uDCB3 Card: $\",\n                                                                                            paidCard.toFixed(2)\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3808,\n                                                                                        columnNumber: 37\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        style: {\n                                                                                            color: \"#dc3545\",\n                                                                                            fontWeight: \"500\"\n                                                                                        },\n                                                                                        children: [\n                                                                                            \"\\uD83D\\uDCDD Credit Balance: $\",\n                                                                                            creditBalance.toFixed(2)\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3810,\n                                                                                        columnNumber: 35\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                lineNumber: 3792,\n                                                                                columnNumber: 33\n                                                                            }, this);\n                                                                        } else if (paidTotal >= finalTotal) {\n                                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                style: {\n                                                                                    backgroundColor: \"#e8f5e8\",\n                                                                                    border: \"1px solid #28a745\",\n                                                                                    borderRadius: \"4px\",\n                                                                                    padding: \"0.5rem\",\n                                                                                    fontSize: \"0.9rem\",\n                                                                                    textAlign: \"center\"\n                                                                                },\n                                                                                children: [\n                                                                                    \"✅\",\n                                                                                    \" \",\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                                        children: \"Fully Paid - No Credit Balance\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3834,\n                                                                                        columnNumber: 35\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                lineNumber: 3823,\n                                                                                columnNumber: 33\n                                                                            }, this);\n                                                                        } else {\n                                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                style: {\n                                                                                    backgroundColor: \"#f8d7da\",\n                                                                                    border: \"1px solid #dc3545\",\n                                                                                    borderRadius: \"4px\",\n                                                                                    padding: \"0.5rem\",\n                                                                                    fontSize: \"0.9rem\",\n                                                                                    textAlign: \"center\"\n                                                                                },\n                                                                                children: [\n                                                                                    \"\\uD83D\\uDCDD\",\n                                                                                    \" \",\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                                        children: [\n                                                                                            \"Full Credit: $\",\n                                                                                            creditBalance.toFixed(2)\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3852,\n                                                                                        columnNumber: 35\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                lineNumber: 3841,\n                                                                                columnNumber: 33\n                                                                            }, this);\n                                                                        }\n                                                                    })()\n                                                                ]\n                                                            }, void 0, true)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3389,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    !isCreditSale && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            display: \"flex\",\n                                                            gap: \"0.5rem\",\n                                                            alignItems: \"center\",\n                                                            justifyContent: \"space-between\"\n                                                        },\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                style: {\n                                                                    display: \"flex\",\n                                                                    gap: \"0.5rem\",\n                                                                    alignItems: \"center\"\n                                                                },\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                        type: \"checkbox\",\n                                                                        checked: autoFillOther,\n                                                                        onChange: (e)=>setAutoFillOther(!!e.target.checked)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                        lineNumber: 3880,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        style: {\n                                                                            fontSize: \"0.9rem\"\n                                                                        },\n                                                                        children: \"Auto-fill other payment\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                        lineNumber: 3887,\n                                                                        columnNumber: 27\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 3873,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                style: {\n                                                                    fontSize: \"0.85rem\",\n                                                                    color: \"#7f8c8d\"\n                                                                },\n                                                                children: \"Toggle to automatically fill the other field\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 3891,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3865,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            display: \"flex\",\n                                                            gap: \"0.5rem\",\n                                                            alignItems: \"center\",\n                                                            position: \"relative\"\n                                                        },\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                style: {\n                                                                    minWidth: \"80px\",\n                                                                    color: (Number(cashbackAmount) || 0) > 0 ? \"#95a5a6\" : \"inherit\"\n                                                                },\n                                                                children: \"Cash:\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 3905,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                ref: cashAmountRef,\n                                                                type: \"number\",\n                                                                step: \"0.01\",\n                                                                min: \"0\",\n                                                                value: cashAmount,\n                                                                disabled: (Number(cashbackAmount) || 0) > 0,\n                                                                onFocus: ()=>handleInputFocus(cashAmountRef),\n                                                                onChange: (e)=>{\n                                                                    const value = e.target.value;\n                                                                    setLastEdited(\"cash\");\n                                                                    // Always set the raw value first to allow proper typing\n                                                                    setCashAmount(value);\n                                                                    // Only do validation and auto-fill if value is not empty and not currently being typed\n                                                                    if (value !== \"\") {\n                                                                        const parsed = Number(value);\n                                                                        if (isCreditSale) {\n                                                                            // Check if this is a balance payment (no items in cart)\n                                                                            const isBalancePayment = cart.length === 0 && selectedCustomer && customerBalance > 0;\n                                                                            if (isBalancePayment) {\n                                                                                // For balance payments, allow any amount up to the customer's balance\n                                                                                const validCashAmount = Math.min(parsed, customerBalance);\n                                                                                if (parsed > customerBalance) {\n                                                                                    setCashAmount(String(validCashAmount));\n                                                                                }\n                                                                                // Clear card when cash is entered\n                                                                                if (validCashAmount > 0) {\n                                                                                    setCardAmount(\"\");\n                                                                                }\n                                                                                return;\n                                                                            }\n                                                                            // For regular credit sales with items in cart\n                                                                            const subtotal = calculateTotal();\n                                                                            const tax = calculateTax();\n                                                                            const total = +(subtotal + tax).toFixed(2);\n                                                                            const cashback = Number(parseFloat(cashbackAmount) || 0);\n                                                                            const lotto = Number(parseFloat(lottoWinnings) || 0);\n                                                                            const finalTotal = total + cashback - lotto;\n                                                                            const currentCredit = Number(parseFloat(creditAmount) || 0);\n                                                                            const remainingAmount = Math.max(0, finalTotal - currentCredit);\n                                                                            // If customer has existing balance, allow payment up to transaction total + existing balance\n                                                                            let maxAllowedPayment = remainingAmount;\n                                                                            if (selectedCustomer && customerBalance > 0) {\n                                                                                maxAllowedPayment = finalTotal + customerBalance;\n                                                                            }\n                                                                            // Allow cash up to max allowed payment\n                                                                            const validCashAmount = Math.min(parsed, maxAllowedPayment);\n                                                                            if (parsed > maxAllowedPayment) {\n                                                                                setCashAmount(String(validCashAmount));\n                                                                            }\n                                                                            // If user enters cash, clear card (only one payment method)\n                                                                            if (validCashAmount > 0) {\n                                                                                setCardAmount(\"\");\n                                                                            }\n                                                                            return;\n                                                                        }\n                                                                        if (autoFillOther) {\n                                                                            // Regular mode auto-fill\n                                                                            const subtotal = calculateTotal();\n                                                                            const tax = calculateTax();\n                                                                            const total = +(subtotal + tax).toFixed(2);\n                                                                            const newCard = Math.max(0, +(total - parsed).toFixed(2));\n                                                                            setCardAmount(String(newCard));\n                                                                        }\n                                                                    }\n                                                                },\n                                                                style: {\n                                                                    padding: \"0.4rem\",\n                                                                    flex: 1,\n                                                                    backgroundColor: isCreditSale ? \"#f8f9fa\" : \"white\"\n                                                                },\n                                                                placeholder: isCreditSale ? \"Enter partial payment\" : \"0.00\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 3916,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3897,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            display: \"flex\",\n                                                            gap: \"0.5rem\",\n                                                            alignItems: \"center\",\n                                                            position: \"relative\"\n                                                        },\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                onClick: swapPayments,\n                                                                disabled: isCreditSale,\n                                                                style: {\n                                                                    position: \"absolute\",\n                                                                    left: \"40px\",\n                                                                    top: \"-15px\",\n                                                                    background: isCreditSale ? \"#f8f9fa\" : \"linear-gradient(135deg, #3498db, #2980b9)\",\n                                                                    border: \"none\",\n                                                                    borderRadius: \"50%\",\n                                                                    width: \"20px\",\n                                                                    height: \"20px\",\n                                                                    cursor: isCreditSale ? \"not-allowed\" : \"pointer\",\n                                                                    color: \"white\",\n                                                                    fontSize: \"10px\",\n                                                                    fontWeight: \"bold\",\n                                                                    display: \"flex\",\n                                                                    alignItems: \"center\",\n                                                                    justifyContent: \"center\",\n                                                                    boxShadow: isCreditSale ? \"none\" : \"0 1px 4px rgba(52, 152, 219, 0.3)\",\n                                                                    transition: \"all 0.2s ease\",\n                                                                    opacity: isCreditSale ? 0.4 : 1,\n                                                                    zIndex: 10\n                                                                },\n                                                                onMouseEnter: (e)=>{\n                                                                    if (!isCreditSale) {\n                                                                        e.target.style.transform = \"rotate(180deg) scale(1.2)\";\n                                                                        e.target.style.boxShadow = \"0 2px 6px rgba(52, 152, 219, 0.4)\";\n                                                                    }\n                                                                },\n                                                                onMouseLeave: (e)=>{\n                                                                    if (!isCreditSale) {\n                                                                        e.target.style.transform = \"rotate(0deg) scale(1)\";\n                                                                        e.target.style.boxShadow = \"0 1px 4px rgba(52, 152, 219, 0.3)\";\n                                                                    }\n                                                                },\n                                                                title: isCreditSale ? \"Swap disabled in credit mode\" : \"Swap cash and card amounts\",\n                                                                children: \"⇅\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 4033,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                style: {\n                                                                    minWidth: \"80px\"\n                                                                },\n                                                                children: \"Card:\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 4084,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                ref: cardAmountRef,\n                                                                type: \"number\",\n                                                                step: \"0.01\",\n                                                                min: \"0\",\n                                                                value: cardAmount,\n                                                                onFocus: ()=>handleInputFocus(cardAmountRef),\n                                                                onChange: (e)=>{\n                                                                    const value = e.target.value;\n                                                                    setLastEdited(\"card\");\n                                                                    // Always set the raw value first to allow proper typing\n                                                                    setCardAmount(value);\n                                                                    // Only do validation and auto-fill if value is not empty and not currently being typed\n                                                                    if (value !== \"\") {\n                                                                        const parsed = Number(value);\n                                                                        if (isCreditSale) {\n                                                                            // Check if this is a balance payment (no items in cart)\n                                                                            const isBalancePayment = cart.length === 0 && selectedCustomer && customerBalance > 0;\n                                                                            if (isBalancePayment) {\n                                                                                // For balance payments, allow any amount up to the customer's balance\n                                                                                const validCardAmount = Math.min(parsed, customerBalance);\n                                                                                if (parsed > customerBalance) {\n                                                                                    setCardAmount(String(validCardAmount));\n                                                                                }\n                                                                                // Clear cash when card is entered\n                                                                                if (validCardAmount > 0) {\n                                                                                    setCashAmount(\"\");\n                                                                                }\n                                                                                return;\n                                                                            }\n                                                                            // For regular credit sales with items in cart\n                                                                            const subtotal = calculateTotal();\n                                                                            const tax = calculateTax();\n                                                                            const total = +(subtotal + tax).toFixed(2);\n                                                                            const cashback = Number(parseFloat(cashbackAmount) || 0);\n                                                                            const lotto = Number(parseFloat(lottoWinnings) || 0);\n                                                                            const finalTotal = total + cashback - lotto;\n                                                                            const currentCredit = Number(parseFloat(creditAmount) || 0);\n                                                                            const remainingAmount = Math.max(0, finalTotal - currentCredit);\n                                                                            // If customer has existing balance, allow payment up to transaction total + existing balance\n                                                                            let maxAllowedPayment = remainingAmount;\n                                                                            if (selectedCustomer && customerBalance > 0) {\n                                                                                maxAllowedPayment = finalTotal + customerBalance;\n                                                                            }\n                                                                            // Allow card up to max allowed payment\n                                                                            const validCardAmount = Math.min(parsed, maxAllowedPayment);\n                                                                            if (parsed > maxAllowedPayment) {\n                                                                                setCardAmount(String(validCardAmount));\n                                                                            }\n                                                                            // If user enters card, clear cash (only one payment method)\n                                                                            if (validCardAmount > 0) {\n                                                                                setCashAmount(\"\");\n                                                                            }\n                                                                            return;\n                                                                        }\n                                                                        if (autoFillOther) {\n                                                                            // Regular mode auto-fill\n                                                                            const subtotal = calculateTotal();\n                                                                            const tax = calculateTax();\n                                                                            const total = +(subtotal + tax).toFixed(2);\n                                                                            const newCash = Math.max(0, +(total - parsed).toFixed(2));\n                                                                            setCashAmount(String(newCash));\n                                                                        }\n                                                                    }\n                                                                },\n                                                                style: {\n                                                                    padding: \"0.4rem\",\n                                                                    flex: 1,\n                                                                    backgroundColor: isCreditSale ? \"#f8f9fa\" : \"white\"\n                                                                },\n                                                                placeholder: isCreditSale ? \"Enter partial payment\" : \"0.00\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 4085,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                onClick: ()=>{\n                                                                    // Calculate total for terminal payment\n                                                                    const subtotal = calculateTotal();\n                                                                    const tax = calculateTax();\n                                                                    const total = +(subtotal + tax).toFixed(2);\n                                                                    const cashback = Number(parseFloat(cashbackAmount) || 0);\n                                                                    const lotto = Number(parseFloat(lottoWinnings) || 0);\n                                                                    // Note: total already includes credit card charge from calculateTotal()\n                                                                    const finalTotal = total + cashback - lotto;\n                                                                    // Process terminal payment\n                                                                    handleTerminalPayment(finalTotal);\n                                                                },\n                                                                disabled: isCreditSale || cart.length === 0,\n                                                                style: {\n                                                                    padding: \"0.4rem 0.8rem\",\n                                                                    backgroundColor: isCreditSale || cart.length === 0 ? \"#f8f9fa\" : \"#6f42c1\",\n                                                                    color: isCreditSale || cart.length === 0 ? \"#6c757d\" : \"white\",\n                                                                    border: \"none\",\n                                                                    borderRadius: \"6px\",\n                                                                    cursor: isCreditSale || cart.length === 0 ? \"not-allowed\" : \"pointer\",\n                                                                    fontSize: \"0.85rem\",\n                                                                    fontWeight: \"600\",\n                                                                    marginLeft: \"0.5rem\",\n                                                                    transition: \"all 0.2s ease\",\n                                                                    opacity: isCreditSale || cart.length === 0 ? 0.6 : 1\n                                                                },\n                                                                title: isCreditSale ? \"Terminal disabled in credit mode\" : cart.length === 0 ? \"Add items to cart first\" : \"Process payment via terminal\",\n                                                                children: \"\\uD83D\\uDCB3 Terminal\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 4191,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 4024,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    (Number(cashbackAmount) || 0) > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            padding: \"0.5rem\",\n                                                            backgroundColor: \"#e8f4fd\",\n                                                            border: \"1px solid #85c1e9\",\n                                                            borderRadius: \"4px\",\n                                                            fontSize: \"0.85rem\",\n                                                            color: \"#2e86c1\",\n                                                            textAlign: \"center\",\n                                                            fontWeight: \"500\",\n                                                            marginTop: \"0.5rem\"\n                                                        },\n                                                        children: [\n                                                            \"\\uD83D\\uDEAB\",\n                                                            \" \",\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                children: \"Cash payment disabled for cashback transactions\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 4258,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                style: {\n                                                                    fontSize: \"0.8rem\",\n                                                                    marginTop: \"0.25rem\",\n                                                                    opacity: 0.9\n                                                                },\n                                                                children: [\n                                                                    \"Customer must pay by card • Cash register: -\",\n                                                                    (Number(cashbackAmount) || 0).toFixed(2),\n                                                                    \" +\",\n                                                                    \" \",\n                                                                    (Number(cashbackFee) || 0).toFixed(2),\n                                                                    \" profit\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 4261,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 4244,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    !isCreditSale && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                        children: [\n                                                            cashback > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                style: {\n                                                                    padding: \"0.5rem\",\n                                                                    backgroundColor: \"#fff3cd\",\n                                                                    border: \"1px solid #ffeaa7\",\n                                                                    borderRadius: \"4px\",\n                                                                    marginTop: \"0.5rem\"\n                                                                },\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                        children: [\n                                                                            \"Cashback: $\",\n                                                                            cashback.toFixed(2)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                        lineNumber: 4287,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        style: {\n                                                                            fontSize: \"0.85rem\",\n                                                                            color: \"#856404\"\n                                                                        },\n                                                                        children: [\n                                                                            \"Requires card payment: $\",\n                                                                            (total + cashback).toFixed(2),\n                                                                            \" (Purchase: $\",\n                                                                            total.toFixed(2),\n                                                                            \" + Cashback: $\",\n                                                                            cashback.toFixed(2),\n                                                                            \")\"\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                        lineNumber: 4288,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        style: {\n                                                                            fontSize: \"0.8rem\",\n                                                                            color: \"#d68910\",\n                                                                            marginTop: \"0.25rem\",\n                                                                            fontWeight: \"500\"\n                                                                        },\n                                                                        children: [\n                                                                            \"\\uD83D\\uDCB3 Customer pays by card • \\uD83D\\uDCB5 You give $\",\n                                                                            cashback.toFixed(2),\n                                                                            \" cash from register\"\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                        lineNumber: 4296,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 4278,\n                                                                columnNumber: 27\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                style: {\n                                                                    color: isSufficient ? \"#2ecc71\" : \"#e74c3c\",\n                                                                    fontWeight: \"600\"\n                                                                },\n                                                                children: isSufficient ? \"Card Payment: $\".concat(paidCard.toFixed(2)).concat(change > 0 && cashback === 0 ? \" — Change: $\".concat(change.toFixed(2)) : \"\").concat(cashback > 0 ? \" — Cashback Given: $\".concat(cashback.toFixed(2)) : \"\") : cashback > 0 ? \"Card payment needed: $\".concat((total + cashback).toFixed(2), \" (Current: $\").concat(paidCard.toFixed(2), \")\") : \"Amount due: $\".concat((total - paidTotal).toFixed(2))\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 4310,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            paymentError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                style: {\n                                                                    color: \"#e74c3c\"\n                                                                },\n                                                                children: paymentError\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 4334,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.CheckoutButton, {\n                                                        onClick: processCheckout,\n                                                        disabled: isCreditSale ? false : !isSufficient,\n                                                        children: (()=>{\n                                                            // Check if this is a balance payment\n                                                            if (isBalancePayment) {\n                                                                const paidCash = Number(parseFloat(cashAmount) || 0);\n                                                                const paidCard = Number(parseFloat(cardAmount) || 0);\n                                                                const paymentTotal = paidCash + paidCard;\n                                                                const customerBalance = (selectedCustomer === null || selectedCustomer === void 0 ? void 0 : selectedCustomer.balance) || 0;\n                                                                const remainingBalance = customerBalance - paymentTotal;\n                                                                if (paymentTotal === 0) {\n                                                                    return \"Enter Payment Amount\";\n                                                                } else if (remainingBalance > 0) {\n                                                                    return \"Pay $\".concat(paymentTotal.toFixed(2), \" (Balance Remaining: $\").concat(remainingBalance.toFixed(2), \")\");\n                                                                } else {\n                                                                    return \"Pay $\".concat(paymentTotal.toFixed(2), \" (Balance Paid)\");\n                                                                }\n                                                            }\n                                                            if (!isCreditSale) return \"Process Payment\";\n                                                            const subtotal = calculateTotal();\n                                                            const tax = calculateTax();\n                                                            const total = +(subtotal + tax).toFixed(2);\n                                                            const cashback = Number(parseFloat(cashbackAmount) || 0);\n                                                            const lotto = Number(parseFloat(lottoWinnings) || 0);\n                                                            const finalTotal = total + cashback - lotto;\n                                                            const paidCash = Number(parseFloat(cashAmount) || 0);\n                                                            const paidCard = Number(parseFloat(cardAmount) || 0);\n                                                            const paidTotal = paidCash + paidCard;\n                                                            const specifiedCreditAmount = Number(parseFloat(creditAmount) || 0);\n                                                            if (specifiedCreditAmount > 0) {\n                                                                const paymentNeeded = finalTotal - specifiedCreditAmount;\n                                                                return \"Process Sale (Payment: $\".concat(paymentNeeded.toFixed(2), \", Credit: $\").concat(specifiedCreditAmount.toFixed(2), \")\");\n                                                            } else {\n                                                                const creditBalance = Math.max(0, finalTotal - paidTotal);\n                                                                if (paidTotal > 0 && creditBalance > 0) {\n                                                                    return \"Process Partial Payment (Credit: $\".concat(creditBalance.toFixed(2), \")\");\n                                                                } else if (paidTotal >= finalTotal) {\n                                                                    return \"Process Full Payment\";\n                                                                } else {\n                                                                    return \"Create Full Credit Sale\";\n                                                                }\n                                                            }\n                                                        })()\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 4339,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 3380,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true);\n                                })()\n                            }, void 0, false, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 3272,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                        lineNumber: 2761,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                lineNumber: 1944,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n            lineNumber: 1943,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n        lineNumber: 1942,\n        columnNumber: 5\n    }, this);\n}\n_s(POSContent, \"sOzYSd6JQIwUYX2Vs1U3rtJOdt4=\", false, function() {\n    return [\n        _lib_hooks__WEBPACK_IMPORTED_MODULE_3__.useAppDispatch,\n        _lib_hooks__WEBPACK_IMPORTED_MODULE_3__.useInventoryManager,\n        _lib_withInventory__WEBPACK_IMPORTED_MODULE_4__.useEnsureInventory,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams\n    ];\n});\n_c2 = POSContent;\nfunction POSPage() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react__WEBPACK_IMPORTED_MODULE_1__.Suspense, {\n        fallback: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                padding: \"2rem\",\n                textAlign: \"center\"\n            },\n            children: \"Loading POS system...\"\n        }, void 0, false, {\n            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n            lineNumber: 4426,\n            columnNumber: 9\n        }, void 0),\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(POSContent, {}, void 0, false, {\n            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n            lineNumber: 4431,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n        lineNumber: 4424,\n        columnNumber: 5\n    }, this);\n}\n_c3 = POSPage;\nvar _c, _c1, _c2, _c3;\n$RefreshReg$(_c, \"POSWrapper\");\n$RefreshReg$(_c1, \"KeyboardArea\");\n$RefreshReg$(_c2, \"POSContent\");\n$RefreshReg$(_c3, \"POSPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxLQUFLQyxHQUFHLENBQzVCLEdBQ0FvQyxhQUFhNEI7Z0VBRWYsSUFBSUEsWUFBWSxLQUFLdkIsZ0JBQWdCLEdBQUc7b0VBQ3RDLE9BQU8scUNBRUwsT0FGMENBLGNBQWN2RCxPQUFPLENBQy9ELElBQ0E7Z0VBQ0osT0FBTyxJQUFJOEUsYUFBYTVCLFlBQVk7b0VBQ2xDLE9BQU87Z0VBQ1QsT0FBTztvRUFDTCxPQUFPO2dFQUNUOzREQUNGO3dEQUNGOzs7Ozs7Ozs7Ozs7OztnQ0FLVjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVFaO0dBNXFJU2pNOztRQUNVOUIsc0RBQWNBO1FBTTNCRCwyREFBbUJBO1FBQ0tFLGtFQUFrQkE7UUFDekJILDREQUFlQTs7O01BVDdCZ0M7QUE4cUlNLFNBQVNxYjtJQUN0QixxQkFDRSw4REFBQ3RkLDJDQUFRQTtRQUNQdWQsd0JBQ0UsOERBQUNoYztZQUFJb1YsT0FBTztnQkFBRWMsU0FBUztnQkFBUXFDLFdBQVc7WUFBUztzQkFBRzs7Ozs7O2tCQUt4RCw0RUFBQzdYOzs7Ozs7Ozs7O0FBR1A7TUFad0JxYiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9hcHAvcG9zL3BhZ2UuanM/ODRmMCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmLCBTdXNwZW5zZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlU2VhcmNoUGFyYW1zIH0gZnJvbSBcIm5leHQvbmF2aWdhdGlvblwiO1xuaW1wb3J0IHsgdXNlSW52ZW50b3J5TWFuYWdlciwgdXNlQXBwRGlzcGF0Y2ggfSBmcm9tIFwiLi4vbGliL2hvb2tzXCI7XG5pbXBvcnQgeyB1c2VFbnN1cmVJbnZlbnRvcnkgfSBmcm9tIFwiLi4vbGliL3dpdGhJbnZlbnRvcnlcIjtcbmltcG9ydCB7XG4gIHVwZGF0ZUludmVudG9yeUFmdGVyVHJhbnNhY3Rpb24sXG4gIHVwZGF0ZUl0ZW1TdG9ja0xvY2FsLFxuICBsb2FkSW52ZW50b3J5LFxufSBmcm9tIFwiLi4vbGliL3NsaWNlcy9pbnZlbnRvcnlTbGljZVwiO1xuaW1wb3J0IHtcbiAgQ29udGFpbmVyLFxuICBQT1NHcmlkLFxuICBQcm9kdWN0c1BhbmVsLFxuICBDaGVja291dFBhbmVsLFxuICBQcm9kdWN0SXRlbSxcbiAgQ2FydEl0ZW0sXG4gIFNlYXJjaEJhcixcbiAgQnV0dG9uLFxuICBDYXRlZ29yeUZpbHRlcixcbiAgVG90YWwsXG4gIENoZWNrb3V0QnV0dG9uLFxuICBSZWNlaXB0U2VjdGlvbixcbn0gZnJvbSBcIi4uL3N0eWxlcy9wb3NTdHlsZXNcIjtcbmltcG9ydCBPblNjcmVlbktleWJvYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL09uU2NyZWVuS2V5Ym9hcmRcIjtcbmltcG9ydCBzdHlsZWQgZnJvbSBcInN0eWxlZC1jb21wb25lbnRzXCI7XG5cbi8vIFdyYXBwZXIgdG8gaGFuZGxlIGtleWJvYXJkIHNwYWNpbmdcbmNvbnN0IFBPU1dyYXBwZXIgPSBzdHlsZWQuZGl2YFxuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBtaW4taGVpZ2h0OiAxMDB2aDtcbiAgbWF4LWhlaWdodDogMTAwdmg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG5gO1xuXG5jb25zdCBLZXlib2FyZEFyZWEgPSBzdHlsZWQuZGl2YFxuICBoZWlnaHQ6IDE4MHB4O1xuICBiYWNrZ3JvdW5kOiAjZjhmOWZhO1xuICBib3JkZXI6IDFweCBzb2xpZCAjZGVlMmU2O1xuICBib3JkZXItcmFkaXVzOiA4cHg7XG4gIG1hcmdpbjogMC41cmVtIDA7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGZsZXgtc2hyaW5rOiAwO1xuYDtcblxuLy8gSW5pdGlhbCBpbnZlbnRvcnkgZGF0YSBhcyBmYWxsYmFja1xuY29uc3QgaW5pdGlhbEludmVudG9yeSA9IFtcbiAge1xuICAgIGlkOiAxLFxuICAgIG5hbWU6IFwiQ29jYSBDb2xhIDM1NW1sXCIsXG4gICAgY2F0ZWdvcnk6IFwiQmV2ZXJhZ2VzXCIsXG4gICAgcHJpY2U6IDEuNSxcbiAgICBzdG9jazogMjQsXG4gICAgbG93U3RvY2tUaHJlc2hvbGQ6IDEwLFxuICAgIHRheGFibGU6IHRydWUsXG4gIH0sXG4gIHtcbiAgICBpZDogMixcbiAgICBuYW1lOiBcIkxheXMgQ2xhc3NpYyBDaGlwc1wiLFxuICAgIGNhdGVnb3J5OiBcIlNuYWNrc1wiLFxuICAgIHByaWNlOiAyLjk5LFxuICAgIHN0b2NrOiA4LFxuICAgIGxvd1N0b2NrVGhyZXNob2xkOiAxNSxcbiAgICB0YXhhYmxlOiB0cnVlLFxuICB9LFxuICB7XG4gICAgaWQ6IDMsXG4gICAgbmFtZTogXCJXb25kZXIgQnJlYWRcIixcbiAgICBjYXRlZ29yeTogXCJCYWtlcnlcIixcbiAgICBwcmljZTogMy40OSxcbiAgICBzdG9jazogMTIsXG4gICAgbG93U3RvY2tUaHJlc2hvbGQ6IDUsXG4gICAgdGF4YWJsZTogZmFsc2UsXG4gIH0sXG4gIHtcbiAgICBpZDogNCxcbiAgICBuYW1lOiBcIk1hcmxib3JvIEdvbGRcIixcbiAgICBjYXRlZ29yeTogXCJUb2JhY2NvXCIsXG4gICAgcHJpY2U6IDEyLjk5LFxuICAgIHN0b2NrOiAzLFxuICAgIGxvd1N0b2NrVGhyZXNob2xkOiA1LFxuICAgIHRheGFibGU6IHRydWUsXG4gIH0sXG4gIHtcbiAgICBpZDogNSxcbiAgICBuYW1lOiBcIk1hcmxib3JvIFJlZFwiLFxuICAgIGNhdGVnb3J5OiBcIlRvYmFjY29cIixcbiAgICBwcmljZTogMTIuOTksXG4gICAgc3RvY2s6IDUsXG4gICAgbG93U3RvY2tUaHJlc2hvbGQ6IDUsXG4gICAgdGF4YWJsZTogdHJ1ZSxcbiAgfSxcbiAge1xuICAgIGlkOiA2LFxuICAgIG5hbWU6IFwiQ2FtZWwgQmx1ZVwiLFxuICAgIGNhdGVnb3J5OiBcIlRvYmFjY29cIixcbiAgICBwcmljZTogMTMuNDksXG4gICAgc3RvY2s6IDQsXG4gICAgbG93U3RvY2tUaHJlc2hvbGQ6IDUsXG4gICAgdGF4YWJsZTogdHJ1ZSxcbiAgfSxcbiAge1xuICAgIGlkOiA3LFxuICAgIG5hbWU6IFwiTmV3cG9ydCBNZW50aG9sXCIsXG4gICAgY2F0ZWdvcnk6IFwiVG9iYWNjb1wiLFxuICAgIHByaWNlOiAxMy45OSxcbiAgICBzdG9jazogNixcbiAgICBsb3dTdG9ja1RocmVzaG9sZDogNSxcbiAgICB0YXhhYmxlOiB0cnVlLFxuICB9LFxuICB7XG4gICAgaWQ6IDgsXG4gICAgbmFtZTogXCJSZWQgQnVsbCAyNTBtbFwiLFxuICAgIGNhdGVnb3J5OiBcIkJldmVyYWdlc1wiLFxuICAgIHByaWNlOiAzLjk5LFxuICAgIHN0b2NrOiAxOCxcbiAgICBsb3dTdG9ja1RocmVzaG9sZDogOCxcbiAgICB0YXhhYmxlOiB0cnVlLFxuICB9LFxuICB7XG4gICAgaWQ6IDksXG4gICAgbmFtZTogXCJNaWxrIDFMXCIsXG4gICAgY2F0ZWdvcnk6IFwiRGFpcnlcIixcbiAgICBwcmljZTogMi43OSxcbiAgICBzdG9jazogMTUsXG4gICAgbG93U3RvY2tUaHJlc2hvbGQ6IDUsXG4gICAgdGF4YWJsZTogZmFsc2UsXG4gIH0sXG4gIHtcbiAgICBpZDogMTAsXG4gICAgbmFtZTogXCJCYW5hbmEgKGVhY2gpXCIsXG4gICAgY2F0ZWdvcnk6IFwiRnJlc2ggUHJvZHVjZVwiLFxuICAgIHByaWNlOiAwLjg5LFxuICAgIHN0b2NrOiAyNSxcbiAgICBsb3dTdG9ja1RocmVzaG9sZDogMTAsXG4gICAgdGF4YWJsZTogZmFsc2UsXG4gIH0sXG4gIHtcbiAgICBpZDogMTEsXG4gICAgbmFtZTogXCJDb2ZmZWUgQ3VwIDEyb3pcIixcbiAgICBjYXRlZ29yeTogXCJCZXZlcmFnZXNcIixcbiAgICBwcmljZTogMS45OSxcbiAgICBzdG9jazogMzAsXG4gICAgbG93U3RvY2tUaHJlc2hvbGQ6IDEwLFxuICAgIHRheGFibGU6IHRydWUsXG4gIH0sXG5dO1xuXG5mdW5jdGlvbiBQT1NDb250ZW50KCkge1xuICBjb25zdCBkaXNwYXRjaCA9IHVzZUFwcERpc3BhdGNoKCk7XG4gIGNvbnN0IHtcbiAgICBpdGVtczogaW52ZW50b3J5LFxuICAgIGxvYWRpbmc6IGludmVudG9yeUxvYWRpbmcsXG4gICAgY2F0ZWdvcmllcyxcbiAgICBnZXRGaWx0ZXJlZEludmVudG9yeSxcbiAgfSA9IHVzZUludmVudG9yeU1hbmFnZXIoKTtcbiAgY29uc3QgeyBpbnZlbnRvcnlMb2FkZWQgfSA9IHVzZUVuc3VyZUludmVudG9yeSgpO1xuICBjb25zdCBzZWFyY2hQYXJhbXMgPSB1c2VTZWFyY2hQYXJhbXMoKTtcblxuICBjb25zdCBbY2FydCwgc2V0Q2FydF0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtzZWFyY2hUZXJtLCBzZXRTZWFyY2hUZXJtXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbY2F0ZWdvcnlGaWx0ZXIsIHNldENhdGVnb3J5RmlsdGVyXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBzZWFyY2hJbnB1dFJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgY2FzaEFtb3VudFJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgY2FyZEFtb3VudFJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgZGlzY291bnRSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGNhc2hiYWNrQW1vdW50UmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBjYXNoYmFja0ZlZVJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgbG90dG9XaW5uaW5nc1JlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgY3JlZGl0Q3VzdG9tZXJOYW1lUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBbYmFyY29kZUJ1ZmZlciwgc2V0QmFyY29kZUJ1ZmZlcl0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2xhc3RLZXlUaW1lLCBzZXRMYXN0S2V5VGltZV0gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW3Nob3dSZWNlaXB0LCBzZXRTaG93UmVjZWlwdF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsYXN0VHJhbnNhY3Rpb24sIHNldExhc3RUcmFuc2FjdGlvbl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2Nhc2hBbW91bnQsIHNldENhc2hBbW91bnRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtjYXJkQW1vdW50LCBzZXRDYXJkQW1vdW50XSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbY2FzaGJhY2tBbW91bnQsIHNldENhc2hiYWNrQW1vdW50XSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbY2FzaGJhY2tGZWUsIHNldENhc2hiYWNrRmVlXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbY2FzaGJhY2tFbmFibGVkLCBzZXRDYXNoYmFja0VuYWJsZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG90dG9XaW5uaW5ncywgc2V0TG90dG9XaW5uaW5nc10gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3BheW1lbnRFcnJvciwgc2V0UGF5bWVudEVycm9yXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbYXV0b0ZpbGxPdGhlciwgc2V0QXV0b0ZpbGxPdGhlcl0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2xhc3RFZGl0ZWQsIHNldExhc3RFZGl0ZWRdID0gdXNlU3RhdGUobnVsbCk7IC8vICdjYXNoJyB8ICdjYXJkJyB8IG51bGxcblxuICAvLyBWaXJ0dWFsIGtleWJvYXJkIHN0YXRlc1xuICBjb25zdCBbc2hvd0tleWJvYXJkLCBzZXRTaG93S2V5Ym9hcmRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYWN0aXZlSW5wdXRSZWYsIHNldEFjdGl2ZUlucHV0UmVmXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBba2V5Ym9hcmRNb2RlLCBzZXRLZXlib2FyZE1vZGVdID0gdXNlU3RhdGUoJ251bWVyaWMnKTsgLy8gJ2Z1bGwnIG9yICdudW1lcmljJ1xuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBoYW5kbGUgaW5wdXQgZm9jdXMgYW5kIHNob3cgYXBwcm9wcmlhdGUga2V5Ym9hcmRcbiAgY29uc3QgaGFuZGxlSW5wdXRGb2N1cyA9IChpbnB1dFJlZiwgaXNOdW1lcmljID0gdHJ1ZSkgPT4ge1xuICAgIHNldEFjdGl2ZUlucHV0UmVmKGlucHV0UmVmKTtcbiAgICAvLyBPbmx5IGNoYW5nZSBrZXlib2FyZCBtb2RlIGlmIGl0J3Mgbm90IGFscmVhZHkgYWN0aXZlIGZvciB0aGlzIGlucHV0XG4gICAgLy8gVGhpcyBwcmVzZXJ2ZXMgbWFudWFsIG1vZGUgY2hhbmdlcyBtYWRlIGJ5IHRoZSB1c2VyXG4gICAgaWYgKGFjdGl2ZUlucHV0UmVmICE9PSBpbnB1dFJlZikge1xuICAgICAgc2V0S2V5Ym9hcmRNb2RlKGlzTnVtZXJpYyA/ICdudW1lcmljJyA6ICdmdWxsJyk7XG4gICAgfVxuICAgIHNldFNob3dLZXlib2FyZCh0cnVlKTtcbiAgfTtcblxuICAvLyBGdW5jdGlvbiB0byBzaG93IGtleWJvYXJkIGZvciBhbHJlYWR5IGFjdGl2ZSBpbnB1dCB3aXRob3V0IGNoYW5naW5nIG1vZGVcbiAgY29uc3Qgc2hvd0tleWJvYXJkRm9ySW5wdXQgPSAoaW5wdXRSZWYpID0+IHtcbiAgICBzZXRBY3RpdmVJbnB1dFJlZihpbnB1dFJlZik7XG4gICAgc2V0U2hvd0tleWJvYXJkKHRydWUpO1xuICAgIC8vIERvbid0IGNoYW5nZSBrZXlib2FyZCBtb2RlIC0gcHJlc2VydmUgdXNlcidzIGNob2ljZVxuICB9O1xuXG4gIC8vIENyZWRpdCBzYWxlIHN0YXRlc1xuICBjb25zdCBbaXNDcmVkaXRTYWxlLCBzZXRJc0NyZWRpdFNhbGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY3JlZGl0Q3VzdG9tZXJOYW1lLCBzZXRDcmVkaXRDdXN0b21lck5hbWVdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtjcmVkaXRBbW91bnQsIHNldENyZWRpdEFtb3VudF0gPSB1c2VTdGF0ZSgwKTsgLy8gU3BlY2lmaWMgY3JlZGl0IGFtb3VudFxuICBjb25zdCBbaXNBdXRvQ2FsY3VsYXRpbmcsIHNldElzQXV0b0NhbGN1bGF0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTsgLy8gUHJldmVudCBjaXJjdWxhciB1cGRhdGVzXG5cbiAgLy8gQ3JlZGl0IGN1c3RvbWVyIG1hbmFnZW1lbnQgc3RhdGVzXG4gIGNvbnN0IFtleGlzdGluZ0N1c3RvbWVycywgc2V0RXhpc3RpbmdDdXN0b21lcnNdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbc2hvd0N1c3RvbWVyU3VnZ2VzdGlvbnMsIHNldFNob3dDdXN0b21lclN1Z2dlc3Rpb25zXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3NlbGVjdGVkQ3VzdG9tZXIsIHNldFNlbGVjdGVkQ3VzdG9tZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtjdXN0b21lckJhbGFuY2UsIHNldEN1c3RvbWVyQmFsYW5jZV0gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW3Nob3dQYXltZW50T3B0aW9ucywgc2V0U2hvd1BheW1lbnRPcHRpb25zXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAvLyBDYXJkIGZlZSBzdGF0ZXNcbiAgY29uc3QgW2NhcmRUeXBlLCBzZXRDYXJkVHlwZV0gPSB1c2VTdGF0ZShcImRlYml0XCIpOyAvLyAnZGViaXQnIHwgJ2NyZWRpdCdcbiAgY29uc3QgW2NhcmRGZWVFbmFibGVkLCBzZXRDYXJkRmVlRW5hYmxlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IENBUkRfRkVFX0FNT1VOVCA9IDAuMjU7IC8vICQwLjI1IGZlZSBmb3IgY3JlZGl0IGNhcmRzXG5cbiAgLy8gQ2hlY2sgaWYgdGhpcyBpcyBhIGJhbGFuY2UgcGF5bWVudCAoY3VzdG9tZXIgc2VsZWN0ZWQgYW5kIG5vIGNhcnQgaXRlbXMpXG4gIGNvbnN0IGlzQmFsYW5jZVBheW1lbnQgPSBzZWxlY3RlZEN1c3RvbWVyICYmIGNhcnQubGVuZ3RoID09PSAwO1xuXG4gIC8vIERpc2NvdW50IHN0YXRlc1xuICBjb25zdCBbZGlzY291bnRBbW91bnQsIHNldERpc2NvdW50QW1vdW50XSA9IHVzZVN0YXRlKFwiXCIpO1xuXG4gIC8vIE1hbnVhbCBpdGVtIGVudHJ5IHN0YXRlc1xuICBjb25zdCBbc2hvd01hbnVhbEVudHJ5LCBzZXRTaG93TWFudWFsRW50cnldID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbWFudWFsSXRlbSwgc2V0TWFudWFsSXRlbV0gPSB1c2VTdGF0ZSh7XG4gICAgbmFtZTogXCJcIixcbiAgICBwcmljZTogXCJcIixcbiAgICBjYXRlZ29yeTogY2F0ZWdvcmllcy5sZW5ndGggPiAwID8gY2F0ZWdvcmllc1swXSA6IFwiZ3JvY2VyeS10YXhhYmxlXCIsXG4gICAgcXVhbnRpdHk6IDEsXG4gIH0pO1xuXG4gIC8vIFVzZSBSZWR1eC1tYW5hZ2VkIGludmVudG9yeSB3aXRoIHNtYXJ0IGZpbHRlcmluZ1xuICBjb25zdCBmaWx0ZXJlZEludmVudG9yeSA9IGdldEZpbHRlcmVkSW52ZW50b3J5KHNlYXJjaFRlcm0sIGNhdGVnb3J5RmlsdGVyKTtcblxuICBjb25zdCBhZGRUb0NhcnQgPSAocHJvZHVjdCkgPT4ge1xuICAgIC8vIEZvciBtYW51YWwgaXRlbXMsIGZpbmQgZXhpc3RpbmcgaXRlbSBieSBuYW1lLCBwcmljZSwgYW5kIGNhdGVnb3J5IGluc3RlYWQgb2YgSURcbiAgICBsZXQgZXhpc3RpbmdJdGVtO1xuICAgIGlmIChwcm9kdWN0LmlzTWFudWFsKSB7XG4gICAgICBleGlzdGluZ0l0ZW0gPSBjYXJ0LmZpbmQoXG4gICAgICAgIChpdGVtKSA9PlxuICAgICAgICAgIGl0ZW0uaXNNYW51YWwgJiZcbiAgICAgICAgICBpdGVtLm5hbWUgPT09IHByb2R1Y3QubmFtZSAmJlxuICAgICAgICAgIGl0ZW0ucHJpY2UgPT09IHByb2R1Y3QucHJpY2UgJiZcbiAgICAgICAgICBpdGVtLmNhdGVnb3J5ID09PSBwcm9kdWN0LmNhdGVnb3J5XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBleGlzdGluZ0l0ZW0gPSBjYXJ0LmZpbmQoKGl0ZW0pID0+IGl0ZW0uaWQgPT09IHByb2R1Y3QuaWQpO1xuICAgIH1cblxuICAgIGlmIChleGlzdGluZ0l0ZW0pIHtcbiAgICAgIHNldENhcnQoXG4gICAgICAgIGNhcnQubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgLy8gRm9yIG1hbnVhbCBpdGVtcywgbWF0Y2ggYnkgbmFtZSwgcHJpY2UsIGFuZCBjYXRlZ29yeVxuICAgICAgICAgIGNvbnN0IGlzTWF0Y2ggPSBwcm9kdWN0LmlzTWFudWFsXG4gICAgICAgICAgICA/IGl0ZW0uaXNNYW51YWwgJiZcbiAgICAgICAgICAgICAgaXRlbS5uYW1lID09PSBwcm9kdWN0Lm5hbWUgJiZcbiAgICAgICAgICAgICAgaXRlbS5wcmljZSA9PT0gcHJvZHVjdC5wcmljZSAmJlxuICAgICAgICAgICAgICBpdGVtLmNhdGVnb3J5ID09PSBwcm9kdWN0LmNhdGVnb3J5XG4gICAgICAgICAgICA6IGl0ZW0uaWQgPT09IHByb2R1Y3QuaWQ7XG5cbiAgICAgICAgICByZXR1cm4gaXNNYXRjaCA/IHsgLi4uaXRlbSwgcXVhbnRpdHk6IGl0ZW0ucXVhbnRpdHkgKyAxIH0gOiBpdGVtO1xuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgLy8gVXBkYXRlIGludmVudG9yeSBzdG9jayBpbW1lZGlhdGVseSAob3B0aW1pc3RpYyB1cGRhdGUpXG4gICAgICBpZiAoIXByb2R1Y3QuaXNNYW51YWwgJiYgcHJvZHVjdC5pZCkge1xuICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICB1cGRhdGVJdGVtU3RvY2tMb2NhbCh7XG4gICAgICAgICAgICBpZDogcHJvZHVjdC5pZCxcbiAgICAgICAgICAgIG5ld1N0b2NrOiBwcm9kdWN0LnN0b2NrIC0gMSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzZXRDYXJ0KFtcbiAgICAgICAgLi4uY2FydCxcbiAgICAgICAgeyAuLi5wcm9kdWN0LCBxdWFudGl0eTogMSwgYXBwbHlUYXg6IHByb2R1Y3QudGF4YWJsZSA9PT0gdHJ1ZSB9LFxuICAgICAgXSk7XG5cbiAgICAgIC8vIFVwZGF0ZSBpbnZlbnRvcnkgc3RvY2sgaW1tZWRpYXRlbHkgKG9wdGltaXN0aWMgdXBkYXRlKVxuICAgICAgaWYgKCFwcm9kdWN0LmlzTWFudWFsICYmIHByb2R1Y3QuaWQpIHtcbiAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgdXBkYXRlSXRlbVN0b2NrTG9jYWwoe1xuICAgICAgICAgICAgaWQ6IHByb2R1Y3QuaWQsXG4gICAgICAgICAgICBuZXdTdG9jazogcHJvZHVjdC5zdG9jayAtIDEsXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlVm9pZEl0ZW0gPSAoaXRlbUlkLCBpdGVtTmFtZSkgPT4ge1xuICAgIGNvbnN0IGNvbmZpcm1Wb2lkID0gY29uZmlybShcbiAgICAgIGBWb2lkIGl0ZW06IFwiJHtpdGVtTmFtZX1cIj9cXG5cXG5UaGlzIHdpbGwgcmVtb3ZlIHRoZSBpdGVtIGNvbXBsZXRlbHkgZnJvbSB0aGUgY2FydC5gXG4gICAgKTtcbiAgICBpZiAoY29uZmlybVZvaWQpIHtcbiAgICAgIC8vIEZpbmQgdGhlIGl0ZW0gYmVpbmcgdm9pZGVkIHRvIHJlc3RvcmUgc3RvY2tcbiAgICAgIGNvbnN0IGl0ZW1Ub1ZvaWQgPSBjYXJ0LmZpbmQoKGl0ZW0pID0+IGl0ZW0uaWQgPT09IGl0ZW1JZCk7XG5cbiAgICAgIGlmIChpdGVtVG9Wb2lkICYmICFpdGVtVG9Wb2lkLmlzTWFudWFsKSB7XG4gICAgICAgIC8vIEZpbmQgdGhlIGNvcnJlc3BvbmRpbmcgcHJvZHVjdCBpbiBpbnZlbnRvcnlcbiAgICAgICAgY29uc3QgcHJvZHVjdCA9IGludmVudG9yeS5maW5kKChwKSA9PiBwLmlkID09PSBpdGVtSWQpO1xuXG4gICAgICAgIGlmIChwcm9kdWN0KSB7XG4gICAgICAgICAgLy8gUmVzdG9yZSBzdG9jayBieSBhZGRpbmcgYmFjayB0aGUgcXVhbnRpdHkgYmVpbmcgdm9pZGVkXG4gICAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICB1cGRhdGVJdGVtU3RvY2tMb2NhbCh7XG4gICAgICAgICAgICAgIGlkOiBwcm9kdWN0LmlkLFxuICAgICAgICAgICAgICBuZXdTdG9jazogcHJvZHVjdC5zdG9jayArIGl0ZW1Ub1ZvaWQucXVhbnRpdHksXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc2V0Q2FydChjYXJ0LmZpbHRlcigoaXRlbSkgPT4gaXRlbS5pZCAhPT0gaXRlbUlkKSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZURlY3JlYXNlUXVhbnRpdHkgPSAoaXRlbUlkKSA9PiB7XG4gICAgY29uc3QgaXRlbSA9IGNhcnQuZmluZCgoaXRlbSkgPT4gaXRlbS5pZCA9PT0gaXRlbUlkKTtcbiAgICBpZiAoIWl0ZW0gfHwgaXRlbS5xdWFudGl0eSA8PSAxKSByZXR1cm47IC8vIERvbid0IGFsbG93IGRlY3JlYXNlIGJlbG93IDFcblxuICAgIC8vIERlY3JlYXNlIHF1YW50aXR5IG5vcm1hbGx5XG4gICAgdXBkYXRlQ2FydFF1YW50aXR5KGl0ZW1JZCwgaXRlbS5xdWFudGl0eSAtIDEpO1xuICB9O1xuXG4gIGNvbnN0IHVwZGF0ZUNhcnRRdWFudGl0eSA9IChpZCwgbmV3UXVhbnRpdHkpID0+IHtcbiAgICBpZiAobmV3UXVhbnRpdHkgPT09IDApIHtcbiAgICAgIC8vIFdoZW4gcXVhbnRpdHkgd291bGQgYmVjb21lIDAsIHByb21wdCBmb3Igdm9pZCBjb25maXJtYXRpb25cbiAgICAgIGNvbnN0IGl0ZW0gPSBjYXJ0LmZpbmQoKGl0ZW0pID0+IGl0ZW0uaWQgPT09IGlkKTtcbiAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgIGhhbmRsZVZvaWRJdGVtKGlkLCBpdGVtLm5hbWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGaW5kIHRoZSBpdGVtIGluIGNhcnQgdG8gY2hlY2sgaWYgaXQncyBtYW51YWxcbiAgICAgIGNvbnN0IGNhcnRJdGVtID0gY2FydC5maW5kKChpdGVtKSA9PiBpdGVtLmlkID09PSBpZCk7XG5cbiAgICAgIGlmIChjYXJ0SXRlbSAmJiBjYXJ0SXRlbS5pc01hbnVhbCkge1xuICAgICAgICAvLyBNYW51YWwgaXRlbXMgaGF2ZSB1bmxpbWl0ZWQgc3RvY2tcbiAgICAgICAgc2V0Q2FydChcbiAgICAgICAgICBjYXJ0Lm1hcCgoaXRlbSkgPT5cbiAgICAgICAgICAgIGl0ZW0uaWQgPT09IGlkID8geyAuLi5pdGVtLCBxdWFudGl0eTogbmV3UXVhbnRpdHkgfSA6IGl0ZW1cbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSZWd1bGFyIGludmVudG9yeSBpdGVtcyAtIGNoZWNrIHN0b2NrIGFuZCB1cGRhdGUgaW52ZW50b3J5XG4gICAgICAgIGNvbnN0IHByb2R1Y3QgPSBpbnZlbnRvcnkuZmluZCgocCkgPT4gcC5pZCA9PT0gaWQpO1xuICAgICAgICBjb25zdCBjYXJ0SXRlbSA9IGNhcnQuZmluZCgoaXRlbSkgPT4gaXRlbS5pZCA9PT0gaWQpO1xuXG4gICAgICAgIGlmIChwcm9kdWN0ICYmIGNhcnRJdGVtKSB7XG4gICAgICAgICAgY29uc3QgcXVhbnRpdHlEaWZmID0gbmV3UXVhbnRpdHkgLSBjYXJ0SXRlbS5xdWFudGl0eTtcbiAgICAgICAgICBjb25zdCBuZXdTdG9jayA9IHByb2R1Y3Quc3RvY2sgLSBxdWFudGl0eURpZmY7XG5cbiAgICAgICAgICBzZXRDYXJ0KFxuICAgICAgICAgICAgY2FydC5tYXAoKGl0ZW0pID0+XG4gICAgICAgICAgICAgIGl0ZW0uaWQgPT09IGlkID8geyAuLi5pdGVtLCBxdWFudGl0eTogbmV3UXVhbnRpdHkgfSA6IGl0ZW1cbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgLy8gVXBkYXRlIGludmVudG9yeSBzdG9jayBpbW1lZGlhdGVseVxuICAgICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgICAgdXBkYXRlSXRlbVN0b2NrTG9jYWwoe1xuICAgICAgICAgICAgICBpZDogcHJvZHVjdC5pZCxcbiAgICAgICAgICAgICAgbmV3U3RvY2s6IG5ld1N0b2NrLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHJlbW92ZUZyb21DYXJ0ID0gKGlkKSA9PiB7XG4gICAgLy8gRmluZCB0aGUgaXRlbSBiZWluZyByZW1vdmVkIHRvIHJlc3RvcmUgc3RvY2tcbiAgICBjb25zdCBpdGVtVG9SZW1vdmUgPSBjYXJ0LmZpbmQoKGl0ZW0pID0+IGl0ZW0uaWQgPT09IGlkKTtcblxuICAgIGlmIChpdGVtVG9SZW1vdmUgJiYgIWl0ZW1Ub1JlbW92ZS5pc01hbnVhbCkge1xuICAgICAgLy8gRmluZCB0aGUgY29ycmVzcG9uZGluZyBwcm9kdWN0IGluIGludmVudG9yeVxuICAgICAgY29uc3QgcHJvZHVjdCA9IGludmVudG9yeS5maW5kKChwKSA9PiBwLmlkID09PSBpZCk7XG5cbiAgICAgIGlmIChwcm9kdWN0KSB7XG4gICAgICAgIC8vIFJlc3RvcmUgc3RvY2sgYnkgYWRkaW5nIGJhY2sgdGhlIHF1YW50aXR5IGJlaW5nIHJlbW92ZWRcbiAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgdXBkYXRlSXRlbVN0b2NrTG9jYWwoe1xuICAgICAgICAgICAgaWQ6IHByb2R1Y3QuaWQsXG4gICAgICAgICAgICBuZXdTdG9jazogcHJvZHVjdC5zdG9jayArIGl0ZW1Ub1JlbW92ZS5xdWFudGl0eSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNldENhcnQoY2FydC5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uaWQgIT09IGlkKSk7XG4gIH07XG5cbiAgY29uc3QgdG9nZ2xlSXRlbVRheCA9IChpZCkgPT4ge1xuICAgIHNldENhcnQoXG4gICAgICBjYXJ0Lm1hcCgoaXRlbSkgPT5cbiAgICAgICAgaXRlbS5pZCA9PT0gaWQgPyB7IC4uLml0ZW0sIGFwcGx5VGF4OiAhaXRlbS5hcHBseVRheCB9IDogaXRlbVxuICAgICAgKVxuICAgICk7XG4gIH07XG5cbiAgLy8gRnVuY3Rpb24gdG8gaGFuZGxlIHNlYXJjaCB3aGVuIEVudGVyIGlzIHByZXNzZWRcbiAgY29uc3QgaGFuZGxlU2VhcmNoRW50ZXIgPSAoKSA9PiB7XG4gICAgaWYgKCFzZWFyY2hUZXJtLnRyaW0oKSkgcmV0dXJuO1xuXG4gICAgLy8gQ2hlY2sgaWYgYW55IHByb2R1Y3RzIG1hdGNoIHRoZSBzZWFyY2ggdGVybVxuICAgIGNvbnN0IHNlYXJjaFJlc3VsdHMgPSBmaWx0ZXJlZEludmVudG9yeTtcblxuICAgIGlmIChzZWFyY2hSZXN1bHRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgLy8gTm8gcHJvZHVjdHMgZm91bmQsIHByb21wdCBmb3IgbWFudWFsIGVudHJ5XG4gICAgICBjb25zdCBpdGVtTmFtZSA9IHNlYXJjaFRlcm0udHJpbSgpO1xuICAgICAgc2V0TWFudWFsSXRlbSgocHJldikgPT4gKHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgbmFtZTogaXRlbU5hbWUsXG4gICAgICB9KSk7XG4gICAgICBzZXRTaG93TWFudWFsRW50cnkodHJ1ZSk7XG4gICAgfSBlbHNlIGlmIChzZWFyY2hSZXN1bHRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgLy8gRXhhY3RseSBvbmUgcHJvZHVjdCBmb3VuZCAtIGF1dG9tYXRpY2FsbHkgYWRkIHRvIGNhcnRcbiAgICAgIGNvbnN0IGZvdW5kSXRlbSA9IHNlYXJjaFJlc3VsdHNbMF07XG4gICAgICBhZGRUb0NhcnQoZm91bmRJdGVtKTtcbiAgICAgIHNldFNlYXJjaFRlcm0oXCJcIik7IC8vIENsZWFyIHNlYXJjaCBhZnRlciBhZGRpbmdcblxuICAgICAgLy8gRm9jdXMgYmFjayBvbiBzZWFyY2ggaW5wdXQgZm9yIG5leHQgc2NhblxuICAgICAgaWYgKHNlYXJjaElucHV0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgc2VhcmNoSW5wdXRSZWYuY3VycmVudC5mb2N1cygpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBJZiBtdWx0aXBsZSByZXN1bHRzLCBkbyBub3RoaW5nIC0gbGV0IHVzZXIgc2VlIHRoZSByZXN1bHRzIGFuZCBjbGljayBtYW51YWxseVxuICB9O1xuXG4gIC8vIERlYnVnIGZ1bmN0aW9uIHRvIGZvcmNlIHJlZnJlc2ggaW52ZW50b3J5IGZyb20gZGF0YWJhc2VcbiAgY29uc3QgaGFuZGxlRGVidWdSZWZyZXNoID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwiPT09IERFQlVHIFJFRlJFU0ggVFJJR0dFUkVEID09PVwiKTtcbiAgICBjb25zb2xlLmxvZyhcIkN1cnJlbnQgaW52ZW50b3J5IGNvdW50OlwiLCBpbnZlbnRvcnkubGVuZ3RoKTtcblxuICAgIC8vIENsZWFyIHNlYXJjaCBhbmQgZmlsdGVyc1xuICAgIHNldFNlYXJjaFRlcm0oXCJcIik7XG4gICAgc2V0Q2F0ZWdvcnlGaWx0ZXIoXCJcIik7XG5cbiAgICAvLyBGb3JjZSByZWZyZXNoIGludmVudG9yeSBieSBieXBhc3NpbmcgY2FjaGVcbiAgICBhd2FpdCBkaXNwYXRjaChsb2FkSW52ZW50b3J5KHRydWUpKTtcblxuICAgIGNvbnNvbGUubG9nKFwiPT09IERFQlVHIFJFRlJFU0ggQ09NUExFVEVEID09PVwiKTtcbiAgICBjb25zb2xlLmxvZyhcIk5ldyBpbnZlbnRvcnkgY291bnQ6XCIsIGludmVudG9yeS5sZW5ndGgpO1xuXG4gICAgLy8gRm9jdXMgYmFjayBvbiBzZWFyY2ggaW5wdXRcbiAgICBpZiAoc2VhcmNoSW5wdXRSZWYuY3VycmVudCkge1xuICAgICAgc2VhcmNoSW5wdXRSZWYuY3VycmVudC5mb2N1cygpO1xuICAgIH1cbiAgfTtcblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGlmIGEgY2F0ZWdvcnkgc2hvdWxkIGJlIHRheGFibGVcbiAgY29uc3QgaXNDYXRlZ29yeVRheGFibGUgPSAoY2F0ZWdvcnkpID0+IHtcbiAgICAvLyBDaGVjayBpZiBjYXRlZ29yeSBuYW1lIGNvbnRhaW5zIGluZGljYXRvcnMgb2YgdGF4YWJsZSBpdGVtc1xuICAgIGNvbnN0IHRheGFibGVLZXl3b3JkcyA9IFtcbiAgICAgIFwidGF4YWJsZVwiLFxuICAgICAgXCJsb3R0b1wiLFxuICAgICAgXCJsb3R0ZXJ5XCIsXG4gICAgICBcInRvYmFjY29cIixcbiAgICAgIFwiYWxjb2hvbFwiLFxuICAgIF07XG4gICAgY29uc3Qgbm9uVGF4YWJsZUtleXdvcmRzID0gW1xuICAgICAgXCJub24tdGF4YWJsZVwiLFxuICAgICAgXCJ1bnRheGFibGVcIixcbiAgICAgIFwiYmFzaWNcIixcbiAgICAgIFwiZXNzZW50aWFsXCIsXG4gICAgXTtcblxuICAgIGNvbnN0IGNhdGVnb3J5TG93ZXIgPSBjYXRlZ29yeS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgLy8gRmlyc3QgY2hlY2sgZm9yIGV4cGxpY2l0IG5vbi10YXhhYmxlIGluZGljYXRvcnNcbiAgICBpZiAobm9uVGF4YWJsZUtleXdvcmRzLnNvbWUoKGtleXdvcmQpID0+IGNhdGVnb3J5TG93ZXIuaW5jbHVkZXMoa2V5d29yZCkpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gVGhlbiBjaGVjayBmb3IgZXhwbGljaXQgdGF4YWJsZSBpbmRpY2F0b3JzXG4gICAgaWYgKHRheGFibGVLZXl3b3Jkcy5zb21lKChrZXl3b3JkKSA9PiBjYXRlZ29yeUxvd2VyLmluY2x1ZGVzKGtleXdvcmQpKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gRGVmYXVsdCB0byB0YXhhYmxlIGZvciB1bmtub3duIGNhdGVnb3JpZXMgKHNhZmVyIGZvciB0YXggY29tcGxpYW5jZSlcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICAvLyBGdW5jdGlvbiB0byBhZGQgbWFudWFsIGl0ZW0gdG8gY2FydFxuICBjb25zdCBhZGRNYW51YWxJdGVtID0gKCkgPT4ge1xuICAgIGlmIChcbiAgICAgICFtYW51YWxJdGVtLm5hbWUudHJpbSgpIHx8XG4gICAgICAhbWFudWFsSXRlbS5wcmljZSB8fFxuICAgICAgcGFyc2VGbG9hdChtYW51YWxJdGVtLnByaWNlKSA8PSAwXG4gICAgKSB7XG4gICAgICBhbGVydChcIlBsZWFzZSBlbnRlciBpdGVtIG5hbWUgYW5kIHZhbGlkIHByaWNlXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENyZWF0ZSBhIGNvbnNpc3RlbnQgSUQgYmFzZWQgb24gbmFtZSwgcHJpY2UsIGFuZCBjYXRlZ29yeSBmb3IgbWFudWFsIGl0ZW1zXG4gICAgY29uc3Qgbm9ybWFsaXplZE5hbWUgPSBtYW51YWxJdGVtLm5hbWVcbiAgICAgIC50cmltKClcbiAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAucmVwbGFjZSgvXFxzKy9nLCBcIi1cIik7XG4gICAgY29uc3QgcHJpY2VTdHIgPSBwYXJzZUZsb2F0KG1hbnVhbEl0ZW0ucHJpY2UpLnRvRml4ZWQoMik7XG4gICAgY29uc3QgbWFudWFsSWQgPSBgbWFudWFsLSR7bm9ybWFsaXplZE5hbWV9LSR7cHJpY2VTdHJ9LSR7bWFudWFsSXRlbS5jYXRlZ29yeX1gO1xuXG4gICAgY29uc3QgbmV3SXRlbSA9IHtcbiAgICAgIGlkOiBtYW51YWxJZCwgLy8gQ29uc2lzdGVudCBJRCBmb3Igc2FtZSBtYW51YWwgaXRlbXNcbiAgICAgIG5hbWU6IG1hbnVhbEl0ZW0ubmFtZS50cmltKCksXG4gICAgICBwcmljZTogcGFyc2VGbG9hdChtYW51YWxJdGVtLnByaWNlKSxcbiAgICAgIGNhdGVnb3J5OiBtYW51YWxJdGVtLmNhdGVnb3J5LFxuICAgICAgYXBwbHlUYXg6IGlzQ2F0ZWdvcnlUYXhhYmxlKG1hbnVhbEl0ZW0uY2F0ZWdvcnkpLFxuICAgICAgc3RvY2s6IDk5OSwgLy8gTWFudWFsIGl0ZW1zIGRvbid0IGFmZmVjdCBpbnZlbnRvcnlcbiAgICAgIGlzTWFudWFsOiB0cnVlLCAvLyBGbGFnIHRvIGlkZW50aWZ5IG1hbnVhbCBpdGVtc1xuICAgIH07XG5cbiAgICAvLyBBZGQgdG8gY2FydCB3aXRoIHNwZWNpZmllZCBxdWFudGl0eVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWFudWFsSXRlbS5xdWFudGl0eTsgaSsrKSB7XG4gICAgICBhZGRUb0NhcnQobmV3SXRlbSk7XG4gICAgfVxuXG4gICAgLy8gUmVzZXQgbWFudWFsIGl0ZW0gZm9ybSBhbmQgY2xlYXIgc2VhcmNoXG4gICAgc2V0TWFudWFsSXRlbSh7XG4gICAgICBuYW1lOiBcIlwiLFxuICAgICAgcHJpY2U6IFwiXCIsXG4gICAgICBjYXRlZ29yeTogY2F0ZWdvcmllcy5sZW5ndGggPiAwID8gY2F0ZWdvcmllc1swXSA6IFwiZ3JvY2VyeS10YXhhYmxlXCIsXG4gICAgICBxdWFudGl0eTogMSxcbiAgICB9KTtcbiAgICBzZXRTaG93TWFudWFsRW50cnkoZmFsc2UpO1xuICAgIHNldFNlYXJjaFRlcm0oXCJcIik7IC8vIENsZWFyIHNlYXJjaCB0ZXJtIGFmdGVyIGFkZGluZyBpdGVtXG4gIH07XG5cbiAgY29uc3QgY2FsY3VsYXRlU3VidG90YWwgPSAoKSA9PiB7XG4gICAgcmV0dXJuIGNhcnQucmVkdWNlKCh0b3RhbCwgaXRlbSkgPT4gdG90YWwgKyBpdGVtLnByaWNlICogaXRlbS5xdWFudGl0eSwgMCk7XG4gIH07XG5cbiAgY29uc3QgY2FsY3VsYXRlVG90YWwgPSAoKSA9PiB7XG4gICAgY29uc3Qgc3VidG90YWwgPSBjYWxjdWxhdGVTdWJ0b3RhbCgpO1xuICAgIGNvbnN0IGRpc2NvdW50ID0gTnVtYmVyKHBhcnNlRmxvYXQoZGlzY291bnRBbW91bnQpIHx8IDApO1xuICAgIGNvbnN0IGNiRmVlID0gTnVtYmVyKHBhcnNlRmxvYXQoY2FzaGJhY2tGZWUpIHx8IDApOyAvLyBBZGQgY2FzaGJhY2sgZmVlIGlmIHByZXNlbnRcblxuICAgIC8vIENhcmQgZmVlIGxvZ2ljIC0gYXBwbHkgZmVlIHdoZW4gZW5hYmxlZFxuICAgIGNvbnN0IGNhcmRGZWVJblRvdGFsID0gY2FyZEZlZUVuYWJsZWQgPyBDQVJEX0ZFRV9BTU9VTlQgOiAwO1xuXG4gICAgcmV0dXJuIE1hdGgubWF4KDAsIHN1YnRvdGFsIC0gZGlzY291bnQgKyBjYkZlZSArIGNhcmRGZWVJblRvdGFsKTsgLy8gRW5zdXJlIHRvdGFsIGRvZXNuJ3QgZ28gbmVnYXRpdmVcbiAgfTtcblxuICBjb25zdCBjYWxjdWxhdGVUYXggPSAoKSA9PiB7XG4gICAgLy8gQ2FsY3VsYXRlIHRheCBvbiBkaXNjb3VudGVkIGFtb3VudCBmb3IgdGF4YWJsZSBpdGVtc1xuICAgIGNvbnN0IGRpc2NvdW50ZWRTdWJ0b3RhbCA9IGNhbGN1bGF0ZVRvdGFsKCk7IC8vIFRoaXMgYWxyZWFkeSBoYXMgZGlzY291bnQgYXBwbGllZFxuICAgIGNvbnN0IG9yaWdpbmFsU3VidG90YWwgPSBjYWxjdWxhdGVTdWJ0b3RhbCgpO1xuICAgIGNvbnN0IHRheGFibGVPcmlnaW5hbCA9IGdldFRheGFibGVUb3RhbCgpO1xuXG4gICAgaWYgKG9yaWdpbmFsU3VidG90YWwgPT09IDApIHJldHVybiAwO1xuXG4gICAgLy8gQ2FsY3VsYXRlIHByb3BvcnRpb25hbCBkaXNjb3VudCBvbiB0YXhhYmxlIGl0ZW1zXG4gICAgY29uc3QgdGF4YWJsZURpc2NvdW50ZWQgPVxuICAgICAgdGF4YWJsZU9yaWdpbmFsICogKGRpc2NvdW50ZWRTdWJ0b3RhbCAvIG9yaWdpbmFsU3VidG90YWwpO1xuICAgIHJldHVybiB0YXhhYmxlRGlzY291bnRlZCAqIDAuMTM7IC8vIDEzJSBIU1QgZm9yIE9udGFyaW8sIENhbmFkYVxuICB9O1xuXG4gIGNvbnN0IGdldFRheGFibGVUb3RhbCA9ICgpID0+IHtcbiAgICByZXR1cm4gY2FydC5yZWR1Y2UoKHRvdGFsLCBpdGVtKSA9PiB7XG4gICAgICBpZiAoaXRlbS5hcHBseVRheCA9PT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gdG90YWwgKyBpdGVtLnByaWNlICogaXRlbS5xdWFudGl0eTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0b3RhbDtcbiAgICB9LCAwKTtcbiAgfTtcblxuICBjb25zdCBnZXROb25UYXhhYmxlVG90YWwgPSAoKSA9PiB7XG4gICAgcmV0dXJuIGNhcnQucmVkdWNlKCh0b3RhbCwgaXRlbSkgPT4ge1xuICAgICAgaWYgKGl0ZW0uYXBwbHlUYXggIT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIHRvdGFsICsgaXRlbS5wcmljZSAqIGl0ZW0ucXVhbnRpdHk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdG90YWw7XG4gICAgfSwgMCk7XG4gIH07XG5cbiAgLy8gUHJvY2VzcyBwYXltZW50IGZvciBleGlzdGluZyBjdXN0b21lciBiYWxhbmNlXG4gIGNvbnN0IHByb2Nlc3NDdXN0b21lckJhbGFuY2VQYXltZW50ID0gYXN5bmMgKFxuICAgIHBheW1lbnRUb3RhbCxcbiAgICBjYXNoUGFpZCxcbiAgICBjYXJkUGFpZFxuICApID0+IHtcbiAgICBpZiAoIXNlbGVjdGVkQ3VzdG9tZXIgfHwgY3VzdG9tZXJCYWxhbmNlIDw9IDApIHtcbiAgICAgIGFsZXJ0KFwiTm8gY3VzdG9tZXIgc2VsZWN0ZWQgb3IgY3VzdG9tZXIgaGFzIG5vIG91dHN0YW5kaW5nIGJhbGFuY2VcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHBheW1lbnRUb3RhbCA8PSAwKSB7XG4gICAgICBhbGVydChcIlBsZWFzZSBlbnRlciBhIHBheW1lbnQgYW1vdW50IGluIGNhc2ggb3IgY2FyZFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDYWxjdWxhdGUgcmVtYWluaW5nIGJhbGFuY2UgYWZ0ZXIgcGF5bWVudFxuICAgIGNvbnN0IHJlbWFpbmluZ0JhbGFuY2UgPSBNYXRoLm1heCgwLCBjdXN0b21lckJhbGFuY2UgLSBwYXltZW50VG90YWwpO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIFByb2Nlc3MgdGhlIHBheW1lbnQgYWdhaW5zdCBjdXN0b21lcidzIGFjY291bnRcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXCIvYXBpL2NyZWRpdC9hY2NvdW50c1wiLCB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGFjdGlvbjogXCJwYXltZW50XCIsXG4gICAgICAgICAgY3VzdG9tZXJOYW1lOiBzZWxlY3RlZEN1c3RvbWVyLmN1c3RvbWVyTmFtZSxcbiAgICAgICAgICBhbW91bnQ6IHBheW1lbnRUb3RhbCxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvckRhdGEuZXJyb3IgfHwgXCJQYXltZW50IHByb2Nlc3NpbmcgZmFpbGVkXCIpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIENyZWF0ZSBhIHBheW1lbnQgdHJhbnNhY3Rpb24gcmVjb3JkXG4gICAgICBjb25zdCBwYXltZW50VHJhbnNhY3Rpb24gPSB7XG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICBpdGVtczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlkOiBcImJhbGFuY2UtcGF5bWVudFwiLFxuICAgICAgICAgICAgbmFtZTogYEJhbGFuY2UgUGF5bWVudCAtICR7c2VsZWN0ZWRDdXN0b21lci5jdXN0b21lck5hbWV9YCxcbiAgICAgICAgICAgIHF1YW50aXR5OiAxLFxuICAgICAgICAgICAgcHJpY2U6IHBheW1lbnRUb3RhbCxcbiAgICAgICAgICAgIGFwcGx5VGF4OiBmYWxzZSxcbiAgICAgICAgICAgIGNhdGVnb3J5OiBcIlBheW1lbnRcIixcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgICBvcmlnaW5hbFN1YnRvdGFsOiBwYXltZW50VG90YWwsXG4gICAgICAgIGRpc2NvdW50OiAwLFxuICAgICAgICBzdWJ0b3RhbDogcGF5bWVudFRvdGFsLFxuICAgICAgICB0YXhhYmxlQW1vdW50OiAwLFxuICAgICAgICBub25UYXhhYmxlQW1vdW50OiBwYXltZW50VG90YWwsXG4gICAgICAgIHRheDogMCxcbiAgICAgICAgdG90YWw6IHBheW1lbnRUb3RhbCxcbiAgICAgICAgZmluYWxUb3RhbDogcGF5bWVudFRvdGFsLFxuICAgICAgICBjYXNoYmFjazogMCxcbiAgICAgICAgcGF5bWVudEJyZWFrZG93bjogW1xuICAgICAgICAgIC4uLihjYXNoUGFpZCA+IDAgPyBbeyBtZXRob2Q6IFwiY2FzaFwiLCBhbW91bnQ6IGNhc2hQYWlkIH1dIDogW10pLFxuICAgICAgICAgIC4uLihjYXJkUGFpZCA+IDAgPyBbeyBtZXRob2Q6IFwiY2FyZFwiLCBhbW91bnQ6IGNhcmRQYWlkIH1dIDogW10pLFxuICAgICAgICBdLFxuICAgICAgICBjaGFuZ2U6IDAsXG4gICAgICAgIGlzQ3JlZGl0U2FsZTogZmFsc2UsXG4gICAgICAgIGlzUGFydGlhbFBheW1lbnQ6IGZhbHNlLFxuICAgICAgICBjcmVkaXRCYWxhbmNlOiAwLFxuICAgICAgICBwYWlkQW1vdW50OiBwYXltZW50VG90YWwsXG4gICAgICAgIGNyZWRpdEN1c3RvbWVyTmFtZTogc2VsZWN0ZWRDdXN0b21lci5jdXN0b21lck5hbWUsXG4gICAgICAgIGNyZWRpdFN0YXR1czogXCJwYXltZW50XCIsXG4gICAgICAgIGxvdHRvV2lubmluZ3M6IDAsXG4gICAgICAgIGlzQmFsYW5jZVBheW1lbnQ6IHRydWUsIC8vIFNwZWNpYWwgZmxhZyBmb3IgYmFsYW5jZSBwYXltZW50c1xuICAgICAgICBwcmV2aW91c0JhbGFuY2U6IGN1c3RvbWVyQmFsYW5jZSxcbiAgICAgICAgbmV3QmFsYW5jZTogcmVtYWluaW5nQmFsYW5jZSxcbiAgICAgIH07XG5cbiAgICAgIC8vIFNhdmUgdGhlIHBheW1lbnQgdHJhbnNhY3Rpb25cbiAgICAgIGNvbnN0IHRyYW5zYWN0aW9uUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcIi9hcGkvdHJhbnNhY3Rpb25cIiwge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgICAgXCJ4LWFwaS1rZXlcIjogXCJkZXYtc2VjcmV0XCIsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheW1lbnRUcmFuc2FjdGlvbiksXG4gICAgICB9KTtcblxuICAgICAgaWYgKHRyYW5zYWN0aW9uUmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgdHJhbnNhY3Rpb25EYXRhID0gYXdhaXQgdHJhbnNhY3Rpb25SZXNwb25zZS5qc29uKCk7XG5cbiAgICAgICAgLy8gU2hvdyBzdWNjZXNzIG1lc3NhZ2UgYW5kIHJlY2VpcHRcbiAgICAgICAgc2V0TGFzdFRyYW5zYWN0aW9uKHtcbiAgICAgICAgICBpZDogdHJhbnNhY3Rpb25EYXRhLmlkLFxuICAgICAgICAgIC4uLnBheW1lbnRUcmFuc2FjdGlvbixcbiAgICAgICAgfSk7XG4gICAgICAgIHNldFNob3dSZWNlaXB0KHRydWUpO1xuXG4gICAgICAgIC8vIFVwZGF0ZSBsb2NhbCBzdGF0ZVxuICAgICAgICBzZXRDdXN0b21lckJhbGFuY2UocmVtYWluaW5nQmFsYW5jZSk7XG4gICAgICAgIHNldFNlbGVjdGVkQ3VzdG9tZXIoeyAuLi5zZWxlY3RlZEN1c3RvbWVyLCBiYWxhbmNlOiByZW1haW5pbmdCYWxhbmNlIH0pO1xuICAgICAgICBzZXRFeGlzdGluZ0N1c3RvbWVycygocHJldikgPT5cbiAgICAgICAgICBwcmV2Lm1hcCgoYykgPT5cbiAgICAgICAgICAgIGMuY3VzdG9tZXJOYW1lID09PSBzZWxlY3RlZEN1c3RvbWVyLmN1c3RvbWVyTmFtZVxuICAgICAgICAgICAgICA/IHsgLi4uYywgYmFsYW5jZTogcmVtYWluaW5nQmFsYW5jZSB9XG4gICAgICAgICAgICAgIDogY1xuICAgICAgICAgIClcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBSZXNldCBwYXltZW50IGZpZWxkc1xuICAgICAgICBzZXRDYXNoQW1vdW50KFwiXCIpO1xuICAgICAgICBzZXRDYXJkQW1vdW50KFwiXCIpO1xuICAgICAgICBzZXRQYXltZW50RXJyb3IoXCJcIik7XG5cbiAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgYFBheW1lbnQgcHJvY2Vzc2VkOiAkJHtwYXltZW50VG90YWwudG9GaXhlZChcbiAgICAgICAgICAgIDJcbiAgICAgICAgICApfSBwYWlkLCByZW1haW5pbmcgYmFsYW5jZTogJCR7cmVtYWluaW5nQmFsYW5jZS50b0ZpeGVkKDIpfWBcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byByZWNvcmQgcGF5bWVudCB0cmFuc2FjdGlvblwiKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHByb2Nlc3NpbmcgY3VzdG9tZXIgcGF5bWVudDpcIiwgZXJyb3IpO1xuICAgICAgc2V0UGF5bWVudEVycm9yKGVycm9yLm1lc3NhZ2UgfHwgXCJGYWlsZWQgdG8gcHJvY2VzcyBwYXltZW50XCIpO1xuICAgIH1cbiAgfTtcblxuICAvLyBUZXJtaW5hbCBQYXltZW50IEhhbmRsZXJcbiAgY29uc3QgaGFuZGxlVGVybWluYWxQYXltZW50ID0gYXN5bmMgKGFtb3VudCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBTaG93IHByb2Nlc3NpbmcgaW5kaWNhdG9yXG4gICAgICBzZXRQYXltZW50RXJyb3IoXG4gICAgICAgIFwiUHJvY2Vzc2luZyBwYXltZW50IHZpYSB0ZXJtaW5hbC4uLiBQbGVhc2UgcHJlc2VudCBjYXJkLlwiXG4gICAgICApO1xuXG4gICAgICAvLyBDYWxsIHRlcm1pbmFsIEFQSVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcIi9hcGkvdGVybWluYWxcIiwge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBhbW91bnQ6IGFtb3VudCxcbiAgICAgICAgICBwcm9jZXNzb3I6IFwiY2hhc2VcIiwgLy8gVXNpbmcgQ2hhc2UgdGVybWluYWxcbiAgICAgICAgICB0ZXJtaW5hbElkOiBudWxsLCAvLyBXaWxsIHVzZSBkZWZhdWx0IENoYXNlIHRlcm1pbmFsIElEIGZyb20gZW52XG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHRlcm1pbmFsUmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcih0ZXJtaW5hbFJlc3VsdC5lcnJvciB8fCBcIlRlcm1pbmFsIHJlcXVlc3QgZmFpbGVkXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGVybWluYWxSZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAvLyBTZXQgcGF5bWVudCBhbW91bnRzIGZvciBzdWNjZXNzZnVsIHRlcm1pbmFsIHBheW1lbnRcbiAgICAgICAgc2V0Q2FzaEFtb3VudChcIjBcIik7XG4gICAgICAgIHNldENhcmRBbW91bnQoU3RyaW5nKGFtb3VudC50b0ZpeGVkKDIpKSk7XG4gICAgICAgIHNldExhc3RFZGl0ZWQoXCJjYXJkXCIpO1xuXG4gICAgICAgIC8vIEF1dG8tcHJvY2VzcyBjaGVja291dCBhZnRlciBzdWNjZXNzZnVsIHRlcm1pbmFsIHBheW1lbnRcbiAgICAgICAgYWxlcnQoXG4gICAgICAgICAgYOKchSBQYXltZW50IEFwcHJvdmVkIVxcblxcblRyYW5zYWN0aW9uIElEOiAke1xuICAgICAgICAgICAgdGVybWluYWxSZXN1bHQudHJhbnNhY3Rpb25JZFxuICAgICAgICAgIH1cXG5DYXJkOiAke3Rlcm1pbmFsUmVzdWx0LmNhcmRUeXBlfSAqKioqJHtcbiAgICAgICAgICAgIHRlcm1pbmFsUmVzdWx0Lmxhc3Q0XG4gICAgICAgICAgfVxcbkFtb3VudDogJCR7YW1vdW50LnRvRml4ZWQoMil9XFxuXFxuUHJvY2Vzc2luZyBzYWxlLi4uYFxuICAgICAgICApO1xuXG4gICAgICAgIC8vIFRyaWdnZXIgY2hlY2tvdXQgYWZ0ZXIgc2hvcnQgZGVsYXlcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgcHJvY2Vzc0NoZWNrb3V0KCk7XG4gICAgICAgIH0sIDUwMCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJUZXJtaW5hbCBwYXltZW50IGZhaWxlZDpcIiwgZXJyb3IpO1xuICAgICAgYWxlcnQoXG4gICAgICAgIGDinYwgUGF5bWVudCBGYWlsZWRcXG5cXG4ke2Vycm9yLm1lc3NhZ2V9XFxuXFxuUGxlYXNlIHRyeSBhZ2FpbiBvciB1c2UgbWFudWFsIHBheW1lbnQgZW50cnkuYFxuICAgICAgKTtcbiAgICAgIHNldFBheW1lbnRFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcHJvY2Vzc0NoZWNrb3V0ID0gKCkgPT4ge1xuICAgIGNvbnN0IG9yaWdpbmFsU3VidG90YWwgPSBjYWxjdWxhdGVTdWJ0b3RhbCgpOyAvLyBJdGVtcyB0b3RhbCBiZWZvcmUgZGlzY291bnRcbiAgICBjb25zdCBkaXNjb3VudCA9IE51bWJlcihwYXJzZUZsb2F0KGRpc2NvdW50QW1vdW50KSB8fCAwKTtcbiAgICBjb25zdCBzdWJ0b3RhbFdpdGhGZWVzID0gY2FsY3VsYXRlVG90YWwoKTsgLy8gVXNlIGNhbGN1bGF0ZVRvdGFsKCkgd2hpY2ggaW5jbHVkZXMgZGlzY291bnQgYW5kIGNhcmQgZmVlc1xuICAgIGNvbnN0IHRheCA9IGNhbGN1bGF0ZVRheCgpO1xuICAgIGNvbnN0IHRvdGFsID0gc3VidG90YWxXaXRoRmVlcyArIHRheDtcbiAgICBjb25zdCBjYXNoYmFjayA9IE51bWJlcihwYXJzZUZsb2F0KGNhc2hiYWNrQW1vdW50KSB8fCAwKTtcbiAgICBjb25zdCBjYkZlZSA9IE51bWJlcihwYXJzZUZsb2F0KGNhc2hiYWNrRmVlKSB8fCAwKTtcblxuICAgIC8vIEdldCBwYXltZW50IGFtb3VudHNcbiAgICBjb25zdCBwYWlkQ2FzaCA9IE51bWJlcihwYXJzZUZsb2F0KGNhc2hBbW91bnQpIHx8IDApO1xuICAgIGNvbnN0IHBhaWRDYXJkID0gTnVtYmVyKHBhcnNlRmxvYXQoY2FyZEFtb3VudCkgfHwgMCk7XG4gICAgY29uc3QgcGFpZFRvdGFsID0gcGFpZENhc2ggKyBwYWlkQ2FyZDtcbiAgICBjb25zdCB0ZW1wTG90dG9BbW91bnQgPSBOdW1iZXIocGFyc2VGbG9hdChsb3R0b1dpbm5pbmdzKSB8fCAwKTtcblxuICAgIC8vIFNwZWNpYWwgY2FzZTogQ3VzdG9tZXIgYmFsYW5jZSBwYXltZW50IChubyBpdGVtcyBpbiBjYXJ0LCBqdXN0IHBheWluZyBleGlzdGluZyBkZWJ0KVxuICAgIGlmIChcbiAgICAgIHNlbGVjdGVkQ3VzdG9tZXIgJiZcbiAgICAgIGN1c3RvbWVyQmFsYW5jZSA+IDAgJiZcbiAgICAgIGNhcnQubGVuZ3RoID09PSAwICYmXG4gICAgICBwYWlkVG90YWwgPiAwXG4gICAgKSB7XG4gICAgICBwcm9jZXNzQ3VzdG9tZXJCYWxhbmNlUGF5bWVudChwYWlkVG90YWwsIHBhaWRDYXNoLCBwYWlkQ2FyZCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgdGhlcmUncyBhbnl0aGluZyB0byBwcm9jZXNzIChpdGVtcywgY2FzaGJhY2ssIG9yIGxvdHRvIHdpbm5pbmdzKVxuICAgIGlmIChjYXJ0Lmxlbmd0aCA9PT0gMCAmJiBjYXNoYmFjayA9PT0gMCAmJiB0ZW1wTG90dG9BbW91bnQgPT09IDApIHtcbiAgICAgIGFsZXJ0KFxuICAgICAgICBcIk5vIGl0ZW1zIGluIGNhcnQsIG5vIGNhc2hiYWNrIGFtb3VudCwgYW5kIG5vIGxvdHRvIHdpbm5pbmdzIGVudGVyZWRcIlxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBjcmVkaXQgc2FsZVxuICAgIGlmIChpc0NyZWRpdFNhbGUgJiYgIWNyZWRpdEN1c3RvbWVyTmFtZS50cmltKCkpIHtcbiAgICAgIGFsZXJ0KFwiUGxlYXNlIGVudGVyIGN1c3RvbWVyIG5hbWUgZm9yIGNyZWRpdCBzYWxlXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEluaXRpYWxpemUgcGF5bWVudCB2YXJpYWJsZXMgKHJldXNlIHRoZSBvbmVzIGFscmVhZHkgZGVjbGFyZWQgYWJvdmUpXG4gICAgY29uc3QgbG90dG9BbW91bnQgPSBOdW1iZXIocGFyc2VGbG9hdChsb3R0b1dpbm5pbmdzKSB8fCAwKTtcbiAgICBsZXQgdG90YWxXaXRoQ2FzaGJhY2sgPSB0b3RhbCArIGNhc2hiYWNrO1xuICAgIGxldCBjaGFuZ2UgPSAwO1xuICAgIGxldCBjcmVkaXRCYWxhbmNlID0gMDtcbiAgICBsZXQgaXNQYXJ0aWFsUGF5bWVudCA9IGZhbHNlO1xuXG4gICAgaWYgKFxuICAgICAgaXNOYU4ocGFpZENhc2gpIHx8XG4gICAgICBpc05hTihwYWlkQ2FyZCkgfHxcbiAgICAgIGlzTmFOKGNhc2hiYWNrKSB8fFxuICAgICAgaXNOYU4obG90dG9BbW91bnQpIHx8XG4gICAgICBwYWlkQ2FzaCA8IDAgfHxcbiAgICAgIHBhaWRDYXJkIDwgMCB8fFxuICAgICAgY2FzaGJhY2sgPCAwIHx8XG4gICAgICBsb3R0b0Ftb3VudCA8IDBcbiAgICApIHtcbiAgICAgIHNldFBheW1lbnRFcnJvcihcIkludmFsaWQgcGF5bWVudCBhbW91bnRzXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENhbGN1bGF0ZSB0b3RhbCBpbmNsdWRpbmcgY2FzaGJhY2sgYXMgbGluZSBpdGVtLCBtaW51cyBsb3R0byB3aW5uaW5nc1xuICAgIC8vIE5vdGU6IGNhcmQgZmVlIGlzIGFscmVhZHkgaW5jbHVkZWQgaW4gdG90YWwgZnJvbSBjYWxjdWxhdGVUb3RhbCgpXG4gICAgY29uc3QgY2FyZEZlZUZvckNhbGMgPSBjYXJkRmVlRW5hYmxlZCA/IENBUkRfRkVFX0FNT1VOVCA6IDA7XG4gICAgY29uc3QgdG90YWxDYXJkRmVlID0gY2FyZEZlZUZvckNhbGM7XG5cbiAgICB0b3RhbFdpdGhDYXNoYmFjayA9IHRvdGFsICsgY2FzaGJhY2sgLSBsb3R0b0Ftb3VudDtcblxuICAgIGlmIChpc0NyZWRpdFNhbGUpIHtcbiAgICAgIC8vIFVzZSBzcGVjaWZpYyBjcmVkaXQgYW1vdW50IGlmIHByb3ZpZGVkLCBvdGhlcndpc2UgY2FsY3VsYXRlIGZyb20gcGF5bWVudCBkaWZmZXJlbmNlXG4gICAgICBjb25zdCBzcGVjaWZpZWRDcmVkaXRBbW91bnQgPSBOdW1iZXIocGFyc2VGbG9hdChjcmVkaXRBbW91bnQpIHx8IDApO1xuXG4gICAgICBpZiAoc3BlY2lmaWVkQ3JlZGl0QW1vdW50ID4gMCkge1xuICAgICAgICAvLyBDdXN0b21lciBzcGVjaWZpZWQgZXhhY3QgY3JlZGl0IGFtb3VudFxuICAgICAgICBjcmVkaXRCYWxhbmNlID0gc3BlY2lmaWVkQ3JlZGl0QW1vdW50O1xuICAgICAgICBjb25zdCByZXF1aXJlZFBheW1lbnQgPSB0b3RhbFdpdGhDYXNoYmFjayAtIGNyZWRpdEJhbGFuY2U7XG5cbiAgICAgICAgaWYgKHJlcXVpcmVkUGF5bWVudCA+IHBhaWRUb3RhbCArIDAuMDAxKSB7XG4gICAgICAgICAgc2V0UGF5bWVudEVycm9yKFxuICAgICAgICAgICAgYE5lZWQgJCR7cmVxdWlyZWRQYXltZW50LnRvRml4ZWQoXG4gICAgICAgICAgICAgIDJcbiAgICAgICAgICAgICl9IHBheW1lbnQgZm9yICQke2NyZWRpdEJhbGFuY2UudG9GaXhlZChcbiAgICAgICAgICAgICAgMlxuICAgICAgICAgICAgKX0gY3JlZGl0IChDdXJyZW50bHkgcGFpZDogJCR7cGFpZFRvdGFsLnRvRml4ZWQoMil9KWBcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlzUGFydGlhbFBheW1lbnQgPSBjcmVkaXRCYWxhbmNlID4gMCAmJiBwYWlkVG90YWwgPiAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVHJhZGl0aW9uYWwgbW9kZTogY3JlZGl0ID0gcmVtYWluaW5nIGJhbGFuY2UgYWZ0ZXIgcGF5bWVudFxuICAgICAgICBjcmVkaXRCYWxhbmNlID0gTWF0aC5tYXgoMCwgdG90YWxXaXRoQ2FzaGJhY2sgLSBwYWlkVG90YWwpO1xuICAgICAgICBpc1BhcnRpYWxQYXltZW50ID0gcGFpZFRvdGFsID4gMCAmJiBjcmVkaXRCYWxhbmNlID4gMDtcbiAgICAgIH1cblxuICAgICAgLy8gVmFsaWRhdGUgY3VzdG9tZXIgbmFtZSBmb3IgYW55IGNyZWRpdCBhbW91bnRcbiAgICAgIGlmIChjcmVkaXRCYWxhbmNlID4gMCAmJiAhY3JlZGl0Q3VzdG9tZXJOYW1lLnRyaW0oKSkge1xuICAgICAgICBhbGVydChcIlBsZWFzZSBlbnRlciBjdXN0b21lciBuYW1lIGZvciBjcmVkaXQgYW1vdW50XCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIElmIG5vIHBheW1lbnQgYW5kIG5vIGNyZWRpdCBhbW91bnQgc3BlY2lmaWVkLCByZXF1aXJlIGN1c3RvbWVyIG5hbWVcbiAgICAgIGlmIChcbiAgICAgICAgcGFpZFRvdGFsID09PSAwICYmXG4gICAgICAgIGNyZWRpdEJhbGFuY2UgPT09IDAgJiZcbiAgICAgICAgIWNyZWRpdEN1c3RvbWVyTmFtZS50cmltKClcbiAgICAgICkge1xuICAgICAgICBhbGVydChcIlBsZWFzZSBlbnRlciBjdXN0b21lciBuYW1lIG9yIHNwZWNpZnkgcGF5bWVudC9jcmVkaXQgYW1vdW50c1wiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGb3Igbm9uLWNyZWRpdCBzYWxlcywgcmVxdWlyZSBmdWxsIHBheW1lbnRcbiAgICAgIC8vIEZvciBjYXNoYmFjayB0cmFuc2FjdGlvbnMsIHJlcXVpcmUgY2FyZCBwYXltZW50IHRvIGNvdmVyIHRvdGFsIGluY2x1ZGluZyBjYXNoYmFja1xuICAgICAgaWYgKGNhc2hiYWNrID4gMCkge1xuICAgICAgICBpZiAocGFpZENhcmQgPCB0b3RhbFdpdGhDYXNoYmFjayAtIDAuMDAxKSB7XG4gICAgICAgICAgc2V0UGF5bWVudEVycm9yKFxuICAgICAgICAgICAgYENhc2hiYWNrIHJlcXVpcmVzIGNhcmQgcGF5bWVudCBvZiAkJHt0b3RhbFdpdGhDYXNoYmFjay50b0ZpeGVkKFxuICAgICAgICAgICAgICAyXG4gICAgICAgICAgICApfSAoVG90YWwgd2l0aCBDYXNoYmFjazogJCR7dG90YWxXaXRoQ2FzaGJhY2sudG9GaXhlZCgyKX0pYFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSZWd1bGFyIHRyYW5zYWN0aW9uIHdpdGhvdXQgY2FzaGJhY2tcbiAgICAgICAgaWYgKHBhaWRUb3RhbCA8IHRvdGFsV2l0aENhc2hiYWNrIC0gMC4wMDEpIHtcbiAgICAgICAgICBzZXRQYXltZW50RXJyb3IoXG4gICAgICAgICAgICBgUGF5bWVudCBpcyBpbnN1ZmZpY2llbnQuIE5lZWQgJCR7dG90YWxXaXRoQ2FzaGJhY2sudG9GaXhlZChcbiAgICAgICAgICAgICAgMlxuICAgICAgICAgICAgKX0gZm9yIHB1cmNoYXNlYFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNoYW5nZSA9XG4gICAgICAgIGNhc2hiYWNrID4gMFxuICAgICAgICAgID8gMFxuICAgICAgICAgIDogTWF0aC5tYXgoMCwgKyhwYWlkVG90YWwgLSB0b3RhbFdpdGhDYXNoYmFjaykudG9GaXhlZCgyKSk7XG4gICAgfVxuXG4gICAgLy8gUGF5bWVudCBicmVha2Rvd24gZm9yIGRpZmZlcmVudCB0cmFuc2FjdGlvbiB0eXBlc1xuICAgIGxldCBmaW5hbENhc2hBbW91bnQgPSAwO1xuICAgIGxldCBmaW5hbENhcmRBbW91bnQgPSAwO1xuXG4gICAgaWYgKGlzQ3JlZGl0U2FsZSkge1xuICAgICAgLy8gQ3JlZGl0IHNhbGUgLSBubyBpbW1lZGlhdGUgcGF5bWVudFxuICAgICAgZmluYWxDYXNoQW1vdW50ID0gMDtcbiAgICAgIGZpbmFsQ2FyZEFtb3VudCA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlZ3VsYXIgcGF5bWVudCBoYW5kbGluZyAtIHJlY29yZCBvbmx5IHRoZSBhY3R1YWwgc2FsZSBhbW91bnQsIG5vdCBvdmVycGF5bWVudFxuICAgICAgLy8gQ2FzaCBhbW91bnQgc2hvdWxkIGJlIHRoZSBwb3J0aW9uIG9mIHRoZSB0b3RhbCB0aGF0IHdhcyBwYWlkIGluIGNhc2ggKHVwIHRvIHRvdGFsIG93ZWQpXG4gICAgICBjb25zdCB0b3RhbE93ZWQgPSB0b3RhbFdpdGhDYXNoYmFjaztcbiAgICAgIGZpbmFsQ2FzaEFtb3VudCA9IE1hdGgubWluKHBhaWRDYXNoLCBNYXRoLm1heCgwLCB0b3RhbE93ZWQpKTtcbiAgICAgIGZpbmFsQ2FyZEFtb3VudCA9IE1hdGgubWluKFxuICAgICAgICBwYWlkQ2FyZCxcbiAgICAgICAgTWF0aC5tYXgoMCwgdG90YWxPd2VkIC0gZmluYWxDYXNoQW1vdW50KVxuICAgICAgKTtcblxuICAgICAgaWYgKGNhc2hiYWNrID4gMCkge1xuICAgICAgICAvLyBDYXNoYmFjayB0cmFuc2FjdGlvbnM6IHJlY29yZCBjYXNoIGdvaW5nIG91dCBhbmQgY2FyZCBwYXltZW50XG4gICAgICAgIGZpbmFsQ2FzaEFtb3VudCA9IC1jYXNoYmFjazsgLy8gQ2FzaCByZWR1Y2VkIGZyb20gcmVnaXN0ZXJcbiAgICAgICAgZmluYWxDYXJkQW1vdW50ID0gcGFpZENhcmQ7IC8vIENhcmQgcGF5bWVudCBjb3ZlcnMgcHVyY2hhc2UgKyBjYXNoYmFja1xuICAgICAgfVxuXG4gICAgICAvLyBIYW5kbGUgbG90dG8gd2lubmluZ3MgLSBjdXN0b21lciBnZXRzIGNhc2ggYmFjayBpZiB0b3RhbCBpcyBuZWdhdGl2ZVxuICAgICAgaWYgKGxvdHRvQW1vdW50ID4gMCAmJiB0b3RhbFdpdGhDYXNoYmFjayA8IDApIHtcbiAgICAgICAgLy8gQ3VzdG9tZXIgb3dlcyBub3RoaW5nIGFuZCBnZXRzIG1vbmV5IGJhY2sgKGxvdHRvIHdpbm5pbmdzIGV4Y2VlZCBwdXJjaGFzZSB0b3RhbClcbiAgICAgICAgZmluYWxDYXNoQW1vdW50ID0gdG90YWxXaXRoQ2FzaGJhY2s7IC8vIE5lZ2F0aXZlIGNhc2ggYW1vdW50ID0gY2FzaCBnb2luZyBvdXQgb2YgcmVnaXN0ZXJcbiAgICAgICAgZmluYWxDYXJkQW1vdW50ID0gMDsgLy8gTm8gY2FyZCBwYXltZW50IG5lZWRlZFxuICAgICAgfSBlbHNlIGlmIChsb3R0b0Ftb3VudCA+IDApIHtcbiAgICAgICAgLy8gTG90dG8gd2lubmluZ3MgcmVkdWNlIHRoZSBhbW91bnQgY3VzdG9tZXIgbmVlZHMgdG8gcGF5XG4gICAgICAgIC8vIEFkanVzdCBwYXltZW50IGFtb3VudHMgcHJvcG9ydGlvbmFsbHlcbiAgICAgICAgY29uc3QgcmVtYWluaW5nVG90YWwgPSB0b3RhbFdpdGhDYXNoYmFjaztcbiAgICAgICAgaWYgKHJlbWFpbmluZ1RvdGFsID4gMCkge1xuICAgICAgICAgIGNvbnN0IGNhc2hSYXRpbyA9IHBhaWRDYXNoIC8gcGFpZFRvdGFsO1xuICAgICAgICAgIGNvbnN0IGNhcmRSYXRpbyA9IHBhaWRDYXJkIC8gcGFpZFRvdGFsO1xuICAgICAgICAgIGZpbmFsQ2FzaEFtb3VudCA9IHJlbWFpbmluZ1RvdGFsICogY2FzaFJhdGlvO1xuICAgICAgICAgIGZpbmFsQ2FyZEFtb3VudCA9IHJlbWFpbmluZ1RvdGFsICogY2FyZFJhdGlvO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcGF5bWVudEJyZWFrZG93biA9IFtdO1xuICAgIGlmIChpc0NyZWRpdFNhbGUpIHtcbiAgICAgIC8vIEZvciBwYXJ0aWFsIHBheW1lbnRzLCByZWNvcmQgYm90aCBwYXltZW50IGFuZCBjcmVkaXRcbiAgICAgIGlmIChpc1BhcnRpYWxQYXltZW50KSB7XG4gICAgICAgIGlmIChwYWlkQ2FzaCA+IDApXG4gICAgICAgICAgcGF5bWVudEJyZWFrZG93bi5wdXNoKHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJjYXNoXCIsXG4gICAgICAgICAgICBhbW91bnQ6ICtwYWlkQ2FzaC50b0ZpeGVkKDIpLFxuICAgICAgICAgIH0pO1xuICAgICAgICBpZiAocGFpZENhcmQgPiAwKVxuICAgICAgICAgIHBheW1lbnRCcmVha2Rvd24ucHVzaCh7XG4gICAgICAgICAgICBtZXRob2Q6IFwiY2FyZFwiLFxuICAgICAgICAgICAgYW1vdW50OiArcGFpZENhcmQudG9GaXhlZCgyKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgcGF5bWVudEJyZWFrZG93bi5wdXNoKHtcbiAgICAgICAgICBtZXRob2Q6IFwiY3JlZGl0XCIsXG4gICAgICAgICAgYW1vdW50OiArY3JlZGl0QmFsYW5jZS50b0ZpeGVkKDIpLFxuICAgICAgICAgIGN1c3RvbWVyTmFtZTogY3JlZGl0Q3VzdG9tZXJOYW1lLnRyaW0oKSxcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGdWxsIGNyZWRpdCBzYWxlIChubyBwYXltZW50KVxuICAgICAgICBwYXltZW50QnJlYWtkb3duLnB1c2goe1xuICAgICAgICAgIG1ldGhvZDogXCJjcmVkaXRcIixcbiAgICAgICAgICBhbW91bnQ6ICt0b3RhbFdpdGhDYXNoYmFjay50b0ZpeGVkKDIpLFxuICAgICAgICAgIGN1c3RvbWVyTmFtZTogY3JlZGl0Q3VzdG9tZXJOYW1lLnRyaW0oKSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChmaW5hbENhc2hBbW91bnQgIT09IDApXG4gICAgICAgIHBheW1lbnRCcmVha2Rvd24ucHVzaCh7XG4gICAgICAgICAgbWV0aG9kOiBcImNhc2hcIixcbiAgICAgICAgICBhbW91bnQ6ICtmaW5hbENhc2hBbW91bnQudG9GaXhlZCgyKSxcbiAgICAgICAgfSk7XG4gICAgICBpZiAoZmluYWxDYXJkQW1vdW50ID4gMClcbiAgICAgICAgcGF5bWVudEJyZWFrZG93bi5wdXNoKHtcbiAgICAgICAgICBtZXRob2Q6IFwiY2FyZFwiLFxuICAgICAgICAgIGFtb3VudDogK2ZpbmFsQ2FyZEFtb3VudC50b0ZpeGVkKDIpLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBZGQgbG90dG8gd2lubmluZ3MgdG8gcGF5bWVudCBicmVha2Rvd24gZm9yIHRyYWNraW5nXG4gICAgaWYgKGxvdHRvQW1vdW50ID4gMClcbiAgICAgIHBheW1lbnRCcmVha2Rvd24ucHVzaCh7XG4gICAgICAgIG1ldGhvZDogXCJsb3R0b1wiLFxuICAgICAgICBhbW91bnQ6ICtsb3R0b0Ftb3VudC50b0ZpeGVkKDIpLFxuICAgICAgfSk7XG5cbiAgICAvLyBJbmNsdWRlIGNhc2hiYWNrIGFzIGFuIGl0ZW0gaWYgcHJlc2VudFxuICAgIGNvbnN0IHRyYW5zYWN0aW9uSXRlbXMgPSBjYXJ0Lm1hcCgoYykgPT4gKHtcbiAgICAgIGlkOiBjLmlkLFxuICAgICAgbmFtZTogYy5uYW1lLFxuICAgICAgcXVhbnRpdHk6IGMucXVhbnRpdHksXG4gICAgICBwcmljZTogYy5wcmljZSxcbiAgICAgIGFwcGx5VGF4OiBjLmFwcGx5VGF4LFxuICAgICAgY2F0ZWdvcnk6IGMuY2F0ZWdvcnksXG4gICAgfSkpO1xuXG4gICAgLy8gQWRkIGNhc2hiYWNrIGFzIGEgbGluZSBpdGVtIGlmIHByZXNlbnRcbiAgICBpZiAoY2FzaGJhY2sgPiAwKSB7XG4gICAgICB0cmFuc2FjdGlvbkl0ZW1zLnB1c2goe1xuICAgICAgICBpZDogXCJjYXNoYmFjay1pdGVtXCIsXG4gICAgICAgIG5hbWU6IFwiQ2FzaGJhY2tcIixcbiAgICAgICAgcXVhbnRpdHk6IDEsXG4gICAgICAgIHByaWNlOiBjYXNoYmFjayxcbiAgICAgICAgYXBwbHlUYXg6IGZhbHNlLFxuICAgICAgICBjYXRlZ29yeTogXCJDYXNoYmFja1wiLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gQWRkIGNhc2hiYWNrIGZlZSBhcyBhIGxpbmUgaXRlbSBpZiBwcmVzZW50XG4gICAgaWYgKGNiRmVlID4gMCkge1xuICAgICAgdHJhbnNhY3Rpb25JdGVtcy5wdXNoKHtcbiAgICAgICAgaWQ6IFwiY2FzaGJhY2stZmVlLWl0ZW1cIixcbiAgICAgICAgbmFtZTogXCJDYXNoYmFjayBGZWVcIixcbiAgICAgICAgcXVhbnRpdHk6IDEsXG4gICAgICAgIHByaWNlOiBjYkZlZSxcbiAgICAgICAgYXBwbHlUYXg6IHRydWUsIC8vIENhc2hiYWNrIGZlZXMgYXJlIHR5cGljYWxseSB0YXhhYmxlXG4gICAgICAgIGNhdGVnb3J5OiBcIkZlZXNcIixcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEFkZCBjYXJkIGZlZSBhcyBhIGxpbmUgaXRlbSBpZiBwcmVzZW50XG4gICAgY29uc3QgY2FyZEZlZUZvckl0ZW0gPSBjYXJkRmVlRW5hYmxlZCA/IENBUkRfRkVFX0FNT1VOVCA6IDA7XG4gICAgY29uc3QgY2NDaGFyZ2VGb3JMaW5lSXRlbSA9IGNhcmRGZWVGb3JJdGVtO1xuICAgIGlmIChjY0NoYXJnZUZvckxpbmVJdGVtID4gMCkge1xuICAgICAgdHJhbnNhY3Rpb25JdGVtcy5wdXNoKHtcbiAgICAgICAgaWQ6IFwiY2FyZC1wcm9jZXNzaW5nLWZlZS1pdGVtXCIsXG4gICAgICAgIG5hbWU6IFwiQ2FyZCBQcm9jZXNzaW5nIEZlZVwiLFxuICAgICAgICBxdWFudGl0eTogMSxcbiAgICAgICAgcHJpY2U6IGNjQ2hhcmdlRm9yTGluZUl0ZW0sXG4gICAgICAgIGFwcGx5VGF4OiBmYWxzZSwgLy8gQ2FyZCBwcm9jZXNzaW5nIGZlZXMgYXJlIHR5cGljYWxseSBub3QgdGF4YWJsZVxuICAgICAgICBjYXRlZ29yeTogXCJGZWVzXCIsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBZGQgbG90dG8gd2lubmluZ3MgYXMgYSBsaW5lIGl0ZW0gaWYgcHJlc2VudCAobmVnYXRpdmUgcHJpY2UgPSBkaXNjb3VudClcbiAgICBpZiAobG90dG9BbW91bnQgPiAwKSB7XG4gICAgICB0cmFuc2FjdGlvbkl0ZW1zLnB1c2goe1xuICAgICAgICBpZDogXCJsb3R0by13aW5uaW5nc1wiLFxuICAgICAgICBuYW1lOiBcIkxvdHRvIFdpbm5pbmdzXCIsXG4gICAgICAgIHF1YW50aXR5OiAxLFxuICAgICAgICBwcmljZTogLWxvdHRvQW1vdW50LCAvLyBOZWdhdGl2ZSBwcmljZSA9IGNyZWRpdC9kaXNjb3VudFxuICAgICAgICBhcHBseVRheDogZmFsc2UsXG4gICAgICAgIGNhdGVnb3J5OiBcIkxvdHRvXCIsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBZGQgZGlzY291bnQgYXMgYSBsaW5lIGl0ZW0gaWYgcHJlc2VudCAobmVnYXRpdmUgcHJpY2UgPSBkaXNjb3VudClcbiAgICBpZiAoZGlzY291bnQgPiAwKSB7XG4gICAgICB0cmFuc2FjdGlvbkl0ZW1zLnB1c2goe1xuICAgICAgICBpZDogXCJkaXNjb3VudC1pdGVtXCIsXG4gICAgICAgIG5hbWU6IFwiRGlzY291bnRcIixcbiAgICAgICAgcXVhbnRpdHk6IDEsXG4gICAgICAgIHByaWNlOiAtZGlzY291bnQsXG4gICAgICAgIGFwcGx5VGF4OiBmYWxzZSxcbiAgICAgICAgY2F0ZWdvcnk6IFwiRGlzY291bnRcIixcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFJlY2FsY3VsYXRlIHRvdGFscyB3aXRoIGNhc2hiYWNrLCBsb3R0byB3aW5uaW5ncywgZGlzY291bnQsIGFuZCBjYXNoYmFjayBmZWUgaW5jbHVkZWQgYXMgaXRlbXNcbiAgICBjb25zdCBuZXdTdWJ0b3RhbCA9XG4gICAgICBvcmlnaW5hbFN1YnRvdGFsICsgY2FzaGJhY2sgLSBsb3R0b0Ftb3VudCAtIGRpc2NvdW50ICsgY2JGZWU7XG4gICAgY29uc3QgbmV3VGF4YWJsZVRvdGFsID0gZ2V0VGF4YWJsZVRvdGFsKCkgKyBjYkZlZTsgLy8gY2FzaGJhY2sgZmVlIGlzIHRheGFibGUsIGRpc2NvdW50L2Nhc2hiYWNrL2xvdHRvIGFyZSBub24tdGF4YWJsZVxuICAgIGNvbnN0IG5ld05vblRheGFibGVUb3RhbCA9XG4gICAgICBnZXROb25UYXhhYmxlVG90YWwoKSArIGNhc2hiYWNrIC0gbG90dG9BbW91bnQgLSBkaXNjb3VudDtcbiAgICBjb25zdCBuZXdUYXggPSB0YXg7IC8vIHRheCBhbHJlYWR5IGNhbGN1bGF0ZWQgb24gZGlzY291bnRlZCBhbW91bnRcbiAgICBjb25zdCBuZXdUb3RhbCA9IHRvdGFsICsgY2FzaGJhY2sgLSBsb3R0b0Ftb3VudCArIGNjQ2hhcmdlRm9yTGluZUl0ZW07XG5cbiAgICBjb25zdCB0cmFuc2FjdGlvbiA9IHtcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgaXRlbXM6IHRyYW5zYWN0aW9uSXRlbXMsXG4gICAgICBvcmlnaW5hbFN1YnRvdGFsOiBvcmlnaW5hbFN1YnRvdGFsLCAvLyBJdGVtcyB0b3RhbCBiZWZvcmUgZGlzY291bnRcbiAgICAgIGRpc2NvdW50OiBkaXNjb3VudCxcbiAgICAgIHN1YnRvdGFsOiBuZXdTdWJ0b3RhbCxcbiAgICAgIHRheGFibGVBbW91bnQ6IG5ld1RheGFibGVUb3RhbCxcbiAgICAgIG5vblRheGFibGVBbW91bnQ6IG5ld05vblRheGFibGVUb3RhbCxcbiAgICAgIHRheDogbmV3VGF4LFxuICAgICAgdG90YWw6IG5ld1RvdGFsLFxuICAgICAgZmluYWxUb3RhbDogdG90YWxXaXRoQ2FzaGJhY2ssIC8vIFRvdGFsIGFtb3VudCBjdXN0b21lciBvd2VzXG4gICAgICBjYXNoYmFjazogY2FzaGJhY2ssXG4gICAgICBwYXltZW50QnJlYWtkb3duLFxuICAgICAgY2hhbmdlLFxuICAgICAgaXNDcmVkaXRTYWxlOiBpc0NyZWRpdFNhbGUsXG4gICAgICBpc1BhcnRpYWxQYXltZW50OiBpc1BhcnRpYWxQYXltZW50LFxuICAgICAgY3JlZGl0QmFsYW5jZTogY3JlZGl0QmFsYW5jZSxcbiAgICAgIHBhaWRBbW91bnQ6IHBhaWRUb3RhbCxcbiAgICAgIGNyZWRpdEN1c3RvbWVyTmFtZTogaXNDcmVkaXRTYWxlID8gY3JlZGl0Q3VzdG9tZXJOYW1lLnRyaW0oKSA6IG51bGwsXG4gICAgICBjcmVkaXRTdGF0dXM6IGlzQ3JlZGl0U2FsZVxuICAgICAgICA/IGNyZWRpdEJhbGFuY2UgPiAwXG4gICAgICAgICAgPyBcInVucGFpZFwiXG4gICAgICAgICAgOiBcInBhaWRcIlxuICAgICAgICA6IG51bGwsXG4gICAgICBsb3R0b1dpbm5pbmdzOiBsb3R0b0Ftb3VudCxcbiAgICAgIC8vIEVuaGFuY2VkIGNhcmQgZmVlIHRyYWNraW5nXG4gICAgICBjYXJkVHlwZTogY2FyZFR5cGUsXG4gICAgICBjYXJkRmVlRW5hYmxlZDogY2FyZEZlZUVuYWJsZWQsXG4gICAgfTtcblxuICAgIC8vIHNlbmQgdG8gc2VydmVyXG4gICAgZmV0Y2goXCIvYXBpL3RyYW5zYWN0aW9uXCIsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICBcIngtYXBpLWtleVwiOiBcImRldi1zZWNyZXRcIixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0cmFuc2FjdGlvbiksXG4gICAgfSlcbiAgICAgIC50aGVuKChyKSA9PiByLmpzb24oKSlcbiAgICAgIC50aGVuKGFzeW5jIChkYXRhKSA9PiB7XG4gICAgICAgIGlmIChkYXRhICYmIGRhdGEudHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICBzZXRMYXN0VHJhbnNhY3Rpb24oeyBpZDogZGF0YS5pZCwgLi4uZGF0YS50cmFuc2FjdGlvbiB9KTtcbiAgICAgICAgICBzZXRTaG93UmVjZWlwdCh0cnVlKTtcbiAgICAgICAgICBzZXRDYXJ0KFtdKTtcbiAgICAgICAgICBzZXRDYXNoQW1vdW50KFwiXCIpO1xuICAgICAgICAgIHNldENhcmRBbW91bnQoXCJcIik7XG4gICAgICAgICAgc2V0Q2FzaGJhY2tBbW91bnQoXCJcIik7XG4gICAgICAgICAgc2V0TG90dG9XaW5uaW5ncyhcIlwiKTtcbiAgICAgICAgICBzZXREaXNjb3VudEFtb3VudChcIlwiKTtcbiAgICAgICAgICBzZXRJc0NyZWRpdFNhbGUoZmFsc2UpO1xuICAgICAgICAgIHNldENyZWRpdEN1c3RvbWVyTmFtZShcIlwiKTtcbiAgICAgICAgICBzZXRDcmVkaXRBbW91bnQoMCk7XG4gICAgICAgICAgc2V0UGF5bWVudEVycm9yKFwiXCIpO1xuICAgICAgICAgIC8vIFJlc2V0IGNhcmQgZmVlIHN0YXRlc1xuICAgICAgICAgIHNldENhcmRUeXBlKFwiZGViaXRcIik7XG4gICAgICAgICAgc2V0Q2FyZEZlZUVuYWJsZWQoZmFsc2UpO1xuICAgICAgICAgIC8vIFVwZGF0ZSBpbnZlbnRvcnkgZm9yIGFsbCBzYWxlcyBleGNlcHQgZnVsbCBjcmVkaXQgc2FsZXMgKG5vIHBheW1lbnQpXG4gICAgICAgICAgLy8gUGFydGlhbCBwYXltZW50cyBzaG91bGQgdXBkYXRlIGludmVudG9yeSBzaW5jZSBnb29kcyBhcmUgZGVsaXZlcmVkXG4gICAgICAgICAgaWYgKCFpc0NyZWRpdFNhbGUgfHwgaXNQYXJ0aWFsUGF5bWVudCkge1xuICAgICAgICAgICAgZGlzcGF0Y2godXBkYXRlSW52ZW50b3J5QWZ0ZXJUcmFuc2FjdGlvbihjYXJ0KSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gVXBkYXRlIGNyZWRpdCBhY2NvdW50IGlmIHRoaXMgaXMgYSBjcmVkaXQgc2FsZVxuICAgICAgICAgIGlmIChpc0NyZWRpdFNhbGUgJiYgY3JlZGl0Q3VzdG9tZXJOYW1lLnRyaW0oKSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY29uc3QgY3JlZGl0QWNjb3VudFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgICAgICAgXCIvYXBpL2NyZWRpdC9hY2NvdW50c1wiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcImFkZENyZWRpdFwiLFxuICAgICAgICAgICAgICAgICAgICBjdXN0b21lck5hbWU6IGNyZWRpdEN1c3RvbWVyTmFtZS50cmltKCksXG4gICAgICAgICAgICAgICAgICAgIGFtb3VudDogY3JlZGl0QmFsYW5jZSxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25JZDogZGF0YS5pZCxcbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICBpZiAoIWNyZWRpdEFjY291bnRSZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgICAgIFwiRmFpbGVkIHRvIHVwZGF0ZSBjcmVkaXQgYWNjb3VudDpcIixcbiAgICAgICAgICAgICAgICAgIGF3YWl0IGNyZWRpdEFjY291bnRSZXNwb25zZS50ZXh0KClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRDdXN0b21lclJlc3BvbnNlID1cbiAgICAgICAgICAgICAgICAgIGF3YWl0IGNyZWRpdEFjY291bnRSZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZEFjY291bnQgPSB1cGRhdGVkQ3VzdG9tZXJSZXNwb25zZS5hY2NvdW50O1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICAgICAgXCJDcmVkaXQgYWNjb3VudCB1cGRhdGVkIHN1Y2Nlc3NmdWxseSBmb3IgY3VzdG9tZXI6XCIsXG4gICAgICAgICAgICAgICAgICBjcmVkaXRDdXN0b21lck5hbWUudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgXCJOZXcgYmFsYW5jZTpcIixcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZWRBY2NvdW50LmJhbGFuY2VcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIGxvY2FsIHN0YXRlIGlmIHRoaXMgY3VzdG9tZXIgd2FzIHNlbGVjdGVkXG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRDdXN0b21lciAmJlxuICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRDdXN0b21lci5jdXN0b21lck5hbWUgPT09IGNyZWRpdEN1c3RvbWVyTmFtZS50cmltKClcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIHNldEN1c3RvbWVyQmFsYW5jZSh1cGRhdGVkQWNjb3VudC5iYWxhbmNlKTtcbiAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkQ3VzdG9tZXIodXBkYXRlZEFjY291bnQpO1xuXG4gICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGN1c3RvbWVycyBsaXN0XG4gICAgICAgICAgICAgICAgICBzZXRFeGlzdGluZ0N1c3RvbWVycygocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgcHJldi5tYXAoKGMpID0+XG4gICAgICAgICAgICAgICAgICAgICAgYy5jdXN0b21lck5hbWUgPT09IGNyZWRpdEN1c3RvbWVyTmFtZS50cmltKClcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdXBkYXRlZEFjY291bnRcbiAgICAgICAgICAgICAgICAgICAgICAgIDogY1xuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAvLyBJZiBubyBjdXN0b21lciBzZWxlY3RlZCwgcmVmcmVzaCB0aGUgZW50aXJlIGxpc3RcbiAgICAgICAgICAgICAgICAgIGZldGNoRXhpc3RpbmdDdXN0b21lcnMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJFcnJvciB1cGRhdGluZyBjcmVkaXQgYWNjb3VudDpcIiwgZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIlVuZXhwZWN0ZWQgcmVzcG9uc2UgZnJvbSB0cmFuc2FjdGlvbiBBUElcIiwgZGF0YSk7XG4gICAgICAgICAgc2V0UGF5bWVudEVycm9yKFwiRmFpbGVkIHRvIGNvbXBsZXRlIHRyYW5zYWN0aW9uXCIpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlRyYW5zYWN0aW9uIEFQSSBlcnJvclwiLCBlcnIpO1xuICAgICAgICBzZXRQYXltZW50RXJyb3IoXCJGYWlsZWQgdG8gY29tcGxldGUgdHJhbnNhY3Rpb25cIik7XG4gICAgICB9KTtcbiAgfTtcblxuICBjb25zdCBzdGFydE5ld1NhbGUgPSAoKSA9PiB7XG4gICAgc2V0U2hvd1JlY2VpcHQoZmFsc2UpO1xuICAgIHNldExhc3RUcmFuc2FjdGlvbihudWxsKTtcbiAgICBzZXRDYXJ0KFtdKTtcbiAgICBzZXRDYXNoQW1vdW50KFwiXCIpO1xuICAgIHNldENhcmRBbW91bnQoXCJcIik7XG4gICAgc2V0Q2FzaGJhY2tBbW91bnQoXCJcIik7XG4gICAgc2V0Q2FzaGJhY2tGZWUoXCJcIik7XG4gICAgc2V0Q2FzaGJhY2tFbmFibGVkKGZhbHNlKTtcbiAgICBzZXRMb3R0b1dpbm5pbmdzKFwiXCIpO1xuICAgIHNldERpc2NvdW50QW1vdW50KFwiXCIpO1xuICAgIHNldElzQ3JlZGl0U2FsZShmYWxzZSk7XG4gICAgc2V0Q3JlZGl0Q3VzdG9tZXJOYW1lKFwiXCIpO1xuICAgIHNldENyZWRpdEFtb3VudCgwKTtcbiAgICBzZXRQYXltZW50RXJyb3IoXCJcIik7XG4gICAgLy8gUmVzZXQgY2FyZCBmZWUgc3RhdGVzXG4gICAgc2V0Q2FyZFR5cGUoXCJkZWJpdFwiKTtcbiAgICBzZXRDYXJkRmVlRW5hYmxlZChmYWxzZSk7XG4gIH07XG5cbiAgLy8gQ3JlZGl0IGN1c3RvbWVyIG1hbmFnZW1lbnQgZnVuY3Rpb25zXG4gIGNvbnN0IGZldGNoRXhpc3RpbmdDdXN0b21lcnMgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXCIvYXBpL2NyZWRpdC9hY2NvdW50c1wiKTtcbiAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAvLyBUaGUgQVBJIHJldHVybnMgYWNjb3VudHMgaW4gYW4gJ2FjY291bnRzJyBwcm9wZXJ0eVxuICAgICAgICBjb25zdCBjdXN0b21lcnMgPSBkYXRhLmFjY291bnRzIHx8IFtdO1xuICAgICAgICBjb25zb2xlLmxvZyhcIkZldGNoZWQgZXhpc3RpbmcgY3VzdG9tZXJzOlwiLCBjdXN0b21lcnMpO1xuICAgICAgICBzZXRFeGlzdGluZ0N1c3RvbWVycyhjdXN0b21lcnMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBmZXRjaCBleGlzdGluZyBjdXN0b21lcnNcIik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgY3VzdG9tZXJzOlwiLCBlcnIpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVDdXN0b21lck5hbWVDaGFuZ2UgPSAodmFsdWUpID0+IHtcbiAgICBzZXRDcmVkaXRDdXN0b21lck5hbWUodmFsdWUpO1xuXG4gICAgaWYgKHZhbHVlLmxlbmd0aCA+IDAgJiYgQXJyYXkuaXNBcnJheShleGlzdGluZ0N1c3RvbWVycykpIHtcbiAgICAgIGNvbnN0IG1hdGNoaW5nQ3VzdG9tZXJzID0gZXhpc3RpbmdDdXN0b21lcnMuZmlsdGVyKFxuICAgICAgICAoY3VzdG9tZXIpID0+XG4gICAgICAgICAgY3VzdG9tZXIgJiZcbiAgICAgICAgICBjdXN0b21lci5jdXN0b21lck5hbWUgJiZcbiAgICAgICAgICBjdXN0b21lci5jdXN0b21lck5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh2YWx1ZS50b0xvd2VyQ2FzZSgpKVxuICAgICAgKTtcbiAgICAgIC8vIEFsd2F5cyBzaG93IHN1Z2dlc3Rpb25zIHdoZW4gdHlwaW5nIChmb3IgZXhpc3RpbmcgY3VzdG9tZXJzIG9yIG5ldyBjdXN0b21lciBvcHRpb24pXG4gICAgICBzZXRTaG93Q3VzdG9tZXJTdWdnZXN0aW9ucyh0cnVlKTtcblxuICAgICAgLy8gQXV0by1zZWxlY3QgaWYgZXhhY3QgbWF0Y2hcbiAgICAgIGNvbnN0IGV4YWN0TWF0Y2ggPSBleGlzdGluZ0N1c3RvbWVycy5maW5kKFxuICAgICAgICAoY3VzdG9tZXIpID0+XG4gICAgICAgICAgY3VzdG9tZXIgJiZcbiAgICAgICAgICBjdXN0b21lci5jdXN0b21lck5hbWUgJiZcbiAgICAgICAgICBjdXN0b21lci5jdXN0b21lck5hbWUudG9Mb3dlckNhc2UoKSA9PT0gdmFsdWUudG9Mb3dlckNhc2UoKVxuICAgICAgKTtcbiAgICAgIGlmIChleGFjdE1hdGNoKSB7XG4gICAgICAgIHNldFNlbGVjdGVkQ3VzdG9tZXIoZXhhY3RNYXRjaCk7XG4gICAgICAgIHNldEN1c3RvbWVyQmFsYW5jZShleGFjdE1hdGNoLmJhbGFuY2UgfHwgMCk7XG4gICAgICAgIHNldFNob3dQYXltZW50T3B0aW9ucyh0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFNlbGVjdGVkQ3VzdG9tZXIobnVsbCk7XG4gICAgICAgIHNldEN1c3RvbWVyQmFsYW5jZSgwKTtcbiAgICAgICAgc2V0U2hvd1BheW1lbnRPcHRpb25zKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2V0U2hvd0N1c3RvbWVyU3VnZ2VzdGlvbnMoZmFsc2UpO1xuICAgICAgc2V0U2VsZWN0ZWRDdXN0b21lcihudWxsKTtcbiAgICAgIHNldEN1c3RvbWVyQmFsYW5jZSgwKTtcbiAgICAgIHNldFNob3dQYXltZW50T3B0aW9ucyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUN1c3RvbWVyU2VsZWN0aW9uID0gKGN1c3RvbWVyKSA9PiB7XG4gICAgc2V0Q3JlZGl0Q3VzdG9tZXJOYW1lKGN1c3RvbWVyLmN1c3RvbWVyTmFtZSk7XG4gICAgc2V0U2VsZWN0ZWRDdXN0b21lcihjdXN0b21lcik7XG4gICAgc2V0Q3VzdG9tZXJCYWxhbmNlKGN1c3RvbWVyLmJhbGFuY2UgfHwgMCk7XG4gICAgc2V0U2hvd0N1c3RvbWVyU3VnZ2VzdGlvbnMoZmFsc2UpO1xuICAgIHNldFNob3dQYXltZW50T3B0aW9ucyh0cnVlKTtcbiAgfTtcblxuICBjb25zdCBwcm9jZXNzQ3VzdG9tZXJQYXltZW50ID0gYXN5bmMgKHBheW1lbnRBbW91bnQpID0+IHtcbiAgICBpZiAoIXNlbGVjdGVkQ3VzdG9tZXIpIHJldHVybjtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFwiL2FwaS9jcmVkaXQvYWNjb3VudHNcIiwge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBhY3Rpb246IFwicGF5bWVudFwiLFxuICAgICAgICAgIGN1c3RvbWVyTmFtZTogc2VsZWN0ZWRDdXN0b21lci5jdXN0b21lck5hbWUsXG4gICAgICAgICAgYW1vdW50OiBwYXltZW50QW1vdW50LFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgdXBkYXRlZEN1c3RvbWVyID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBzZXRDdXN0b21lckJhbGFuY2UodXBkYXRlZEN1c3RvbWVyLmJhbGFuY2UpO1xuICAgICAgICBzZXRTZWxlY3RlZEN1c3RvbWVyKHVwZGF0ZWRDdXN0b21lcik7XG5cbiAgICAgICAgLy8gVXBkYXRlIHRoZSBjdXN0b21lcnMgbGlzdFxuICAgICAgICBzZXRFeGlzdGluZ0N1c3RvbWVycygocHJldikgPT5cbiAgICAgICAgICBwcmV2Lm1hcCgoYykgPT5cbiAgICAgICAgICAgIGMuY3VzdG9tZXJOYW1lID09PSB1cGRhdGVkQ3VzdG9tZXIuY3VzdG9tZXJOYW1lXG4gICAgICAgICAgICAgID8gdXBkYXRlZEN1c3RvbWVyXG4gICAgICAgICAgICAgIDogY1xuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBwcm9jZXNzaW5nIHBheW1lbnQ6XCIsIGVycik7XG4gICAgfVxuICB9O1xuXG4gIC8vIExvYWQgZXhpc3RpbmcgY3VzdG9tZXJzIHdoZW4gY3JlZGl0IHNhbGUgbW9kZSBpcyBhY3RpdmF0ZWRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNDcmVkaXRTYWxlICYmIGV4aXN0aW5nQ3VzdG9tZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgZmV0Y2hFeGlzdGluZ0N1c3RvbWVycygpO1xuICAgIH1cbiAgfSwgW2lzQ3JlZGl0U2FsZV0pO1xuXG4gIC8vIEhhbmRsZSBjcmVkaXRQYXltZW50IFVSTCBwYXJhbWV0ZXIgZnJvbSBjcmVkaXQgbWFuYWdlbWVudCBwYWdlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY3JlZGl0UGF5bWVudFBhcmFtID0gc2VhcmNoUGFyYW1zPy5nZXQoXCJjcmVkaXRQYXltZW50XCIpO1xuICAgIGlmIChjcmVkaXRQYXltZW50UGFyYW0pIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiQ3JlZGl0IHBheW1lbnQgcGFyYW1ldGVyIGRldGVjdGVkOlwiLCBjcmVkaXRQYXltZW50UGFyYW0pO1xuXG4gICAgICAvLyBFbmFibGUgY3JlZGl0IHNhbGUgbW9kZVxuICAgICAgc2V0SXNDcmVkaXRTYWxlKHRydWUpO1xuXG4gICAgICAvLyBTZXQgdGhlIGN1c3RvbWVyIG5hbWVcbiAgICAgIHNldENyZWRpdEN1c3RvbWVyTmFtZShjcmVkaXRQYXltZW50UGFyYW0pO1xuXG4gICAgICAvLyBGZXRjaCBleGlzdGluZyBjdXN0b21lcnMgdG8gZmluZCB0aGlzIHNwZWNpZmljIGN1c3RvbWVyXG4gICAgICBmZXRjaEV4aXN0aW5nQ3VzdG9tZXJzKCkudGhlbigoKSA9PiB7XG4gICAgICAgIC8vIFRoaXMgd2lsbCBiZSBoYW5kbGVkIGJ5IHRoZSBuZXh0IHVzZUVmZmVjdCB3aGVuIGV4aXN0aW5nQ3VzdG9tZXJzIHVwZGF0ZXNcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW3NlYXJjaFBhcmFtc10pO1xuXG4gIC8vIEF1dG8tc2VsZWN0IGN1c3RvbWVyIHdoZW4gY3JlZGl0UGF5bWVudCBwYXJhbWV0ZXIgaXMgdXNlZFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGNyZWRpdFBheW1lbnRQYXJhbSA9IHNlYXJjaFBhcmFtcz8uZ2V0KFwiY3JlZGl0UGF5bWVudFwiKTtcbiAgICBpZiAoY3JlZGl0UGF5bWVudFBhcmFtICYmIGV4aXN0aW5nQ3VzdG9tZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHRhcmdldEN1c3RvbWVyID0gZXhpc3RpbmdDdXN0b21lcnMuZmluZChcbiAgICAgICAgKGN1c3RvbWVyKSA9PlxuICAgICAgICAgIGN1c3RvbWVyLmN1c3RvbWVyTmFtZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgIGNyZWRpdFBheW1lbnRQYXJhbS50b0xvd2VyQ2FzZSgpXG4gICAgICApO1xuXG4gICAgICBpZiAodGFyZ2V0Q3VzdG9tZXIpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJBdXRvLXNlbGVjdGluZyBjdXN0b21lcjpcIiwgdGFyZ2V0Q3VzdG9tZXIpO1xuICAgICAgICBzZXRTZWxlY3RlZEN1c3RvbWVyKHRhcmdldEN1c3RvbWVyKTtcbiAgICAgICAgc2V0Q3VzdG9tZXJCYWxhbmNlKHRhcmdldEN1c3RvbWVyLmJhbGFuY2UgfHwgMCk7XG4gICAgICAgIHNldFNob3dQYXltZW50T3B0aW9ucyh0cnVlKTtcbiAgICAgICAgc2V0U2hvd0N1c3RvbWVyU3VnZ2VzdGlvbnMoZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW2V4aXN0aW5nQ3VzdG9tZXJzLCBzZWFyY2hQYXJhbXNdKTtcblxuICAvLyBSZXNldCB0byBuZXcgc2FsZSB3aGVuIG5hdmlnYXRpbmcgdG8gUE9TIChlLmcuLCBmcm9tIGhlYWRlciBuYXZpZ2F0aW9uKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IG5ld1NhbGVQYXJhbSA9IHNlYXJjaFBhcmFtcz8uZ2V0KFwibmV3U2FsZVwiKTtcbiAgICBpZiAobmV3U2FsZVBhcmFtID09PSBcInRydWVcIikge1xuICAgICAgLy8gQXV0by1zdGFydCBuZXcgc2FsZSB3aGVuIG5ld1NhbGU9dHJ1ZSBwYXJhbWV0ZXIgaXMgcHJlc2VudFxuICAgICAgc3RhcnROZXdTYWxlKCk7XG5cbiAgICAgIC8vIENsZWFyIHRoZSBuZXdTYWxlIHBhcmFtZXRlciBmcm9tIFVSTCB3aXRob3V0IHBhZ2UgcmVsb2FkXG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbik7XG4gICAgICB1cmwuc2VhcmNoUGFyYW1zLmRlbGV0ZShcIm5ld1NhbGVcIik7XG4gICAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoe30sIFwiXCIsIHVybCk7XG4gICAgfVxuICB9LCBbc2VhcmNoUGFyYW1zXSk7XG5cbiAgY29uc3Qgc3dhcFBheW1lbnRzID0gKCkgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRDYXNoID0gY2FzaEFtb3VudDtcbiAgICBjb25zdCBjdXJyZW50Q2FyZCA9IGNhcmRBbW91bnQ7XG5cbiAgICBzZXRDYXNoQW1vdW50KGN1cnJlbnRDYXJkKTtcbiAgICBzZXRDYXJkQW1vdW50KGN1cnJlbnRDYXNoKTtcblxuICAgIC8vIFVwZGF0ZSBsYXN0IGVkaXRlZCB0byByZWZsZWN0IHRoZSBzd2FwXG4gICAgaWYgKChOdW1iZXIoY3VycmVudENhcmQpIHx8IDApID4gMCkge1xuICAgICAgc2V0TGFzdEVkaXRlZChcImNhc2hcIik7XG4gICAgfSBlbHNlIGlmICgoTnVtYmVyKGN1cnJlbnRDYXNoKSB8fCAwKSA+IDApIHtcbiAgICAgIHNldExhc3RFZGl0ZWQoXCJjYXJkXCIpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBwcmludFJlY2VpcHQgPSAoKSA9PiB7XG4gICAgaWYgKCFsYXN0VHJhbnNhY3Rpb24pIHJldHVybjtcblxuICAgIGNvbnN0IHByaW50V2luZG93ID0gd2luZG93Lm9wZW4oXCJcIiwgXCJfYmxhbmtcIik7XG4gICAgY29uc3QgcmVjZWlwdENvbnRlbnQgPSBgXG4gICAgICA8IURPQ1RZUEUgaHRtbD5cbiAgICAgIDxodG1sPlxuICAgICAgICA8aGVhZD5cbiAgICAgICAgICA8dGl0bGU+UmVjZWlwdCAtIFRyYW5zYWN0aW9uICMkeyhsYXN0VHJhbnNhY3Rpb24uaWQgfHwgXCJOL0FcIilcbiAgICAgICAgICAgIC50b1N0cmluZygpXG4gICAgICAgICAgICAuc2xpY2UoLTgpfTwvdGl0bGU+XG4gICAgICAgICAgPHN0eWxlPlxuICAgICAgICAgICAgYm9keSB7XG4gICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnQ291cmllciBOZXcnLCBtb25vc3BhY2U7XG4gICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgICAgICAgICBtYXgtd2lkdGg6IDMwMHB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLmhlYWRlciB7XG4gICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5zdG9yZS1uYW1lIHtcbiAgICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogNXB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLnJlY2VpcHQtaXRlbSB7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAgICAgICAgbWFyZ2luOiAycHggMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5yZWNlaXB0LXRvdGFscyB7XG4gICAgICAgICAgICAgIG1hcmdpbi10b3A6IDEwcHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAudG90YWwge1xuICAgICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICMwMDA7XG4gICAgICAgICAgICAgIHBhZGRpbmctdG9wOiA1cHg7XG4gICAgICAgICAgICAgIG1hcmdpbi10b3A6IDVweDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhyIHtcbiAgICAgICAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgIzAwMDtcbiAgICAgICAgICAgICAgbWFyZ2luOiAxMHB4IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuY2VudGVyIHtcbiAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgQG1lZGlhIHByaW50IHtcbiAgICAgICAgICAgICAgYm9keSB7IG1hcmdpbjogMDsgcGFkZGluZzogMTBweDsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgIDwvaGVhZD5cbiAgICAgICAgPGJvZHk+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImhlYWRlclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0b3JlLW5hbWVcIj5DT05WRU5JRU5DRSBTVE9SRTwvZGl2PlxuICAgICAgICAgICAgPGRpdj5TY2FyYm9yb3VnaCwgT250YXJpbzwvZGl2PlxuICAgICAgICAgICAgPGRpdj5UcmFuc2FjdGlvbiAjJHsobGFzdFRyYW5zYWN0aW9uLmlkIHx8IFwiTi9BXCIpXG4gICAgICAgICAgICAgIC50b1N0cmluZygpXG4gICAgICAgICAgICAgIC5zbGljZSgtOCl9PC9kaXY+XG4gICAgICAgICAgICA8ZGl2PiR7bmV3IERhdGUobGFzdFRyYW5zYWN0aW9uLnRpbWVzdGFtcCkudG9Mb2NhbGVTdHJpbmcoKX08L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICA8aHI+XG4gICAgICAgICAgXG4gICAgICAgICAgJHtsYXN0VHJhbnNhY3Rpb24uaXRlbXNcbiAgICAgICAgICAgIC5tYXAoXG4gICAgICAgICAgICAgIChpdGVtKSA9PiBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVjZWlwdC1pdGVtXCI+XG4gICAgICAgICAgICAgIDxkaXY+JHtpdGVtLm5hbWV9ICR7IWl0ZW0udGF4YWJsZSA/IFwiKE5vIEhTVClcIiA6IFwiXCJ9PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWNlaXB0LWl0ZW1cIj5cbiAgICAgICAgICAgICAgPGRpdj4ke2l0ZW0ucXVhbnRpdHl9IHggJCR7aXRlbS5wcmljZS50b0ZpeGVkKDIpfTwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2PiQkeyhpdGVtLnF1YW50aXR5ICogaXRlbS5wcmljZSkudG9GaXhlZCgyKX08L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIGBcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5qb2luKFwiXCIpfVxuICAgICAgICAgIFxuICAgICAgICAgIDxocj5cbiAgICAgICAgICBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVjZWlwdC10b3RhbHNcIj5cbiAgICAgICAgICAgICR7XG4gICAgICAgICAgICAgIGxhc3RUcmFuc2FjdGlvbi50YXhhYmxlQW1vdW50ID4gMCAmJlxuICAgICAgICAgICAgICBsYXN0VHJhbnNhY3Rpb24ubm9uVGF4YWJsZUFtb3VudCA+IDBcbiAgICAgICAgICAgICAgICA/IGBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJlY2VpcHQtaXRlbVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuPlRheGFibGUgSXRlbXM6PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuPiQke2xhc3RUcmFuc2FjdGlvbi50YXhhYmxlQW1vdW50LnRvRml4ZWQoMil9PC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJlY2VpcHQtaXRlbVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuPk5vbi1UYXhhYmxlIEl0ZW1zOjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3Bhbj4kJHtsYXN0VHJhbnNhY3Rpb24ubm9uVGF4YWJsZUFtb3VudC50b0ZpeGVkKDIpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBgXG4gICAgICAgICAgICAgICAgOiBcIlwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICR7XG4gICAgICAgICAgICAgIGxhc3RUcmFuc2FjdGlvbi5kaXNjb3VudCA+IDBcbiAgICAgICAgICAgICAgICA/IGBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJlY2VpcHQtaXRlbVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuPkl0ZW1zIFN1YnRvdGFsOjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3Bhbj4kJHtsYXN0VHJhbnNhY3Rpb24ub3JpZ2luYWxTdWJ0b3RhbC50b0ZpeGVkKDIpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWNlaXB0LWl0ZW1cIiBzdHlsZT1cImZvbnQtd2VpZ2h0OiBib2xkOyBjb2xvcjogI2U2NTEwMDtcIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj5EaXNjb3VudDo8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4+LSQke2xhc3RUcmFuc2FjdGlvbi5kaXNjb3VudC50b0ZpeGVkKDIpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWNlaXB0LWl0ZW1cIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj5TdWJ0b3RhbDo8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4+JCR7bGFzdFRyYW5zYWN0aW9uLnN1YnRvdGFsLnRvRml4ZWQoMil9PC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICA6IGBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJlY2VpcHQtaXRlbVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuPlN1YnRvdGFsOjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3Bhbj4kJHtsYXN0VHJhbnNhY3Rpb24uc3VidG90YWwudG9GaXhlZCgyKX08L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAke1xuICAgICAgICAgICAgICBsYXN0VHJhbnNhY3Rpb24uaW5jbHVkZVRheCAmJiBsYXN0VHJhbnNhY3Rpb24udGF4ID4gMFxuICAgICAgICAgICAgICAgID8gYFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVjZWlwdC1pdGVtXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4+SFNUICgxMyUpOjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3Bhbj4kJHtsYXN0VHJhbnNhY3Rpb24udGF4LnRvRml4ZWQoMil9PC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICA6IFwiXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJlY2VpcHQtaXRlbSB0b3RhbFwiPlxuICAgICAgICAgICAgICA8c3Bhbj5Ub3RhbDo8L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuPiQke2xhc3RUcmFuc2FjdGlvbi50b3RhbC50b0ZpeGVkKDIpfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICAke1xuICAgICAgICAgICAgICBsYXN0VHJhbnNhY3Rpb24uY2FzaGJhY2sgPiAwXG4gICAgICAgICAgICAgICAgPyBgXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWNlaXB0LWl0ZW1cIiBzdHlsZT1cImZvbnQtd2VpZ2h0OiBib2xkOyBjb2xvcjogI2U2N2UyMjtcIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj5DYXNoYmFjazo8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4+JCR7bGFzdFRyYW5zYWN0aW9uLmNhc2hiYWNrLnRvRml4ZWQoMil9PC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICA6IFwiXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgJHtcbiAgICAgICAgICAgICAgbGFzdFRyYW5zYWN0aW9uLnBheW1lbnRCcmVha2Rvd24gJiZcbiAgICAgICAgICAgICAgbGFzdFRyYW5zYWN0aW9uLnBheW1lbnRCcmVha2Rvd24ubGVuZ3RoID4gMFxuICAgICAgICAgICAgICAgID8gYFxuICAgICAgICAgICAgICA8aHI+XG4gICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJmb250LXdlaWdodDogYm9sZDsgbWFyZ2luLWJvdHRvbTogNXB4O1wiPlBheW1lbnRzPC9kaXY+XG4gICAgICAgICAgICAgICR7bGFzdFRyYW5zYWN0aW9uLnBheW1lbnRCcmVha2Rvd25cbiAgICAgICAgICAgICAgICAubWFwKFxuICAgICAgICAgICAgICAgICAgKHApID0+IGBcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVjZWlwdC1pdGVtXCI+XG4gICAgICAgICAgICAgICAgICA8c3Bhbj4ke3AubWV0aG9kLnRvVXBwZXJDYXNlKCl9Ojwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuPiQke3AuYW1vdW50LnRvRml4ZWQoMil9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICBgXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIC5qb2luKFwiXCIpfVxuICAgICAgICAgICAgICAke1xuICAgICAgICAgICAgICAgIGxhc3RUcmFuc2FjdGlvbi5jaGFuZ2UgPiAwXG4gICAgICAgICAgICAgICAgICA/IGBcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVjZWlwdC1pdGVtXCI+XG4gICAgICAgICAgICAgICAgICA8c3Bhbj5DaGFuZ2U6PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPHNwYW4+JCR7bGFzdFRyYW5zYWN0aW9uLmNoYW5nZS50b0ZpeGVkKDIpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgICAgICAgOiBcIlwiXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICA6IFwiXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICA8aHI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNlbnRlclwiPlRoYW5rIHlvdSBmb3IgeW91ciBidXNpbmVzcyE8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICA8c2NyaXB0PlxuICAgICAgICAgICAgd2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICB3aW5kb3cucHJpbnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA8L3NjcmlwdD5cbiAgICAgICAgPC9ib2R5PlxuICAgICAgPC9odG1sPlxuICAgIGA7XG5cbiAgICBwcmludFdpbmRvdy5kb2N1bWVudC53cml0ZShyZWNlaXB0Q29udGVudCk7XG4gICAgcHJpbnRXaW5kb3cuZG9jdW1lbnQuY2xvc2UoKTtcbiAgfTtcblxuICAvLyBXaGVuIGNhcnQgY2hhbmdlcywgcmVzZXQgcGF5bWVudCBhbW91bnRzIChkZWZhdWx0IGNhcmQgZm9yIGNhc2hiYWNrLCBvdGhlcndpc2UgY2FzaClcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBEb24ndCBhdXRvLXJlc2V0IHBheW1lbnQgYW1vdW50cyB3aGVuIGluIGNyZWRpdCBzYWxlIG1vZGUgLSBsZXQgdXNlciBjb250cm9sIHRoZW1cbiAgICBpZiAoaXNDcmVkaXRTYWxlKSB7XG4gICAgICBzZXRQYXltZW50RXJyb3IoXCJcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc3VidG90YWwgPSBjYWxjdWxhdGVUb3RhbCgpO1xuICAgIGNvbnN0IHRheCA9IGNhbGN1bGF0ZVRheCgpO1xuICAgIGNvbnN0IHRvdGFsID0gKyhzdWJ0b3RhbCArIHRheCkudG9GaXhlZCgyKTtcbiAgICBjb25zdCBjYXNoYmFjayA9IE51bWJlcihwYXJzZUZsb2F0KGNhc2hiYWNrQW1vdW50KSB8fCAwKTtcbiAgICBjb25zdCBsb3R0byA9IE51bWJlcihwYXJzZUZsb2F0KGxvdHRvV2lubmluZ3MpIHx8IDApO1xuICAgIGNvbnN0IHRvdGFsV2l0aENhc2hiYWNrID0gdG90YWwgKyBjYXNoYmFjayAtIGxvdHRvO1xuXG4gICAgLy8gRm9yIGNhc2hiYWNrIHRyYW5zYWN0aW9ucywgZm9yY2UgY2FyZCBwYXltZW50IG9ubHlcbiAgICBpZiAoY2FzaGJhY2sgPiAwKSB7XG4gICAgICBzZXRDYXNoQW1vdW50KFwiXCIpO1xuICAgICAgc2V0Q2FyZEFtb3VudChNYXRoLm1heCgwLCB0b3RhbFdpdGhDYXNoYmFjaykpO1xuICAgICAgc2V0TGFzdEVkaXRlZChcImNhcmRcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIERlZmF1bHQ6IGNhc2ggY292ZXJzIHRoZSB0b3RhbCBtaW51cyBsb3R0byB3aW5uaW5nc1xuICAgICAgc2V0Q2FzaEFtb3VudChNYXRoLm1heCgwLCB0b3RhbFdpdGhDYXNoYmFjaykpO1xuICAgICAgc2V0Q2FyZEFtb3VudCgwKTtcbiAgICAgIHNldExhc3RFZGl0ZWQoXCJjYXNoXCIpO1xuICAgIH1cbiAgICBzZXRQYXltZW50RXJyb3IoXCJcIik7XG4gIH0sIFtcbiAgICBjYXJ0LFxuICAgIGNhc2hiYWNrQW1vdW50LFxuICAgIGNhc2hiYWNrRmVlLFxuICAgIGxvdHRvV2lubmluZ3MsXG4gICAgZGlzY291bnRBbW91bnQsXG4gICAgaXNDcmVkaXRTYWxlLFxuICAgIGNhcmRGZWVFbmFibGVkLFxuICBdKTtcblxuICAvLyBJZiBhdXRvLWZpbGwgaXMgZW5hYmxlZCBhbmQgbGFzdEVkaXRlZCBpcyBzZXQsIHVwZGF0ZSB0aGUgb3RoZXIgYW1vdW50XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFhdXRvRmlsbE90aGVyIHx8ICFsYXN0RWRpdGVkIHx8IGlzQ3JlZGl0U2FsZSkgcmV0dXJuOyAvLyBEb24ndCBhdXRvLWZpbGwgaW4gY3JlZGl0IHNhbGUgbW9kZVxuICAgIGNvbnN0IHN1YnRvdGFsID0gY2FsY3VsYXRlVG90YWwoKTtcbiAgICBjb25zdCB0YXggPSBjYWxjdWxhdGVUYXgoKTtcbiAgICBjb25zdCB0b3RhbCA9ICsoc3VidG90YWwgKyB0YXgpLnRvRml4ZWQoMik7XG4gICAgY29uc3QgY2FzaGJhY2sgPSBOdW1iZXIocGFyc2VGbG9hdChjYXNoYmFja0Ftb3VudCkgfHwgMCk7XG4gICAgY29uc3QgbG90dG8gPSBOdW1iZXIocGFyc2VGbG9hdChsb3R0b1dpbm5pbmdzKSB8fCAwKTtcbiAgICBjb25zdCB0b3RhbFdpdGhDYXNoYmFjayA9IHRvdGFsICsgY2FzaGJhY2sgLSBsb3R0bztcblxuICAgIC8vIEZvciBjYXNoYmFjayB0cmFuc2FjdGlvbnMsIG9ubHkgYWxsb3cgY2FyZCBwYXltZW50XG4gICAgaWYgKGNhc2hiYWNrID4gMCkge1xuICAgICAgc2V0Q2FzaEFtb3VudChcIlwiKTtcbiAgICAgIHNldENhcmRBbW91bnQoTWF0aC5tYXgoMCwgdG90YWxXaXRoQ2FzaGJhY2spKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAobGFzdEVkaXRlZCA9PT0gXCJjYXNoXCIpIHtcbiAgICAgIGNvbnN0IHBhaWRDYXNoID0gTnVtYmVyKHBhcnNlRmxvYXQoY2FzaEFtb3VudCkgfHwgMCk7XG4gICAgICBjb25zdCBuZXdDYXJkID0gTWF0aC5tYXgoMCwgKyh0b3RhbFdpdGhDYXNoYmFjayAtIHBhaWRDYXNoKS50b0ZpeGVkKDIpKTtcbiAgICAgIHNldENhcmRBbW91bnQobmV3Q2FyZCk7XG4gICAgfSBlbHNlIGlmIChsYXN0RWRpdGVkID09PSBcImNhcmRcIikge1xuICAgICAgY29uc3QgcGFpZENhcmQgPSBOdW1iZXIocGFyc2VGbG9hdChjYXJkQW1vdW50KSB8fCAwKTtcbiAgICAgIGNvbnN0IG5ld0Nhc2ggPSBNYXRoLm1heCgwLCArKHRvdGFsV2l0aENhc2hiYWNrIC0gcGFpZENhcmQpLnRvRml4ZWQoMikpO1xuICAgICAgc2V0Q2FzaEFtb3VudChuZXdDYXNoKTtcbiAgICB9XG4gIH0sIFtcbiAgICBhdXRvRmlsbE90aGVyLFxuICAgIGxhc3RFZGl0ZWQsXG4gICAgY2FzaEFtb3VudCxcbiAgICBjYXJkQW1vdW50LFxuICAgIGNhcnQsXG4gICAgY2FzaGJhY2tBbW91bnQsXG4gICAgY2FzaGJhY2tGZWUsXG4gICAgbG90dG9XaW5uaW5ncyxcbiAgICBkaXNjb3VudEFtb3VudCxcbiAgICBpc0NyZWRpdFNhbGUsXG4gICAgY2FyZEZlZUVuYWJsZWQsXG4gIF0pO1xuXG4gIC8vIEJhcmNvZGUgU2Nhbm5lciBGdW5jdGlvbmFsaXR5XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gQXV0by1mb2N1cyBzZWFyY2ggaW5wdXQgd2hlbiBjb21wb25lbnQgbW91bnRzXG4gICAgaWYgKHNlYXJjaElucHV0UmVmLmN1cnJlbnQpIHtcbiAgICAgIHNlYXJjaElucHV0UmVmLmN1cnJlbnQuZm9jdXMoKTtcbiAgICB9XG5cbiAgICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGV2ZW50KSA9PiB7XG4gICAgICAvLyBEb24ndCBpbnRlcmZlcmUgd2l0aCBiYXJjb2RlIHNjYW5uZXIgd2hlbiBtYW51YWwgZW50cnkgbW9kYWwgaXMgb3BlblxuICAgICAgaWYgKHNob3dNYW51YWxFbnRyeSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIERvbid0IGludGVyZmVyZSBpZiB1c2VyIGlzIHR5cGluZyBpbiBpbnB1dCBmaWVsZHMgb3IgZm9ybSBlbGVtZW50c1xuICAgICAgY29uc3QgYWN0aXZlRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgICBjb25zdCBpc1R5cGluZ0luSW5wdXQgPVxuICAgICAgICBhY3RpdmVFbGVtZW50ICYmXG4gICAgICAgIChhY3RpdmVFbGVtZW50LnRhZ05hbWUgPT09IFwiSU5QVVRcIiB8fFxuICAgICAgICAgIGFjdGl2ZUVsZW1lbnQudGFnTmFtZSA9PT0gXCJURVhUQVJFQVwiIHx8XG4gICAgICAgICAgYWN0aXZlRWxlbWVudC50YWdOYW1lID09PSBcIlNFTEVDVFwiIHx8XG4gICAgICAgICAgYWN0aXZlRWxlbWVudC5jb250ZW50RWRpdGFibGUgPT09IFwidHJ1ZVwiKTtcblxuICAgICAgaWYgKGlzVHlwaW5nSW5JbnB1dCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgIGNvbnN0IHRpbWVEaWZmID0gY3VycmVudFRpbWUgLSBsYXN0S2V5VGltZTtcblxuICAgICAgLy8gSWYgdGltZSBiZXR3ZWVuIGtleXN0cm9rZXMgaXMgbGVzcyB0aGFuIDUwbXMsIGl0J3MgbGlrZWx5IGEgYmFyY29kZSBzY2FubmVyXG4gICAgICAvLyBCYXJjb2RlIHNjYW5uZXJzIHR5cGUgdmVyeSBmYXN0ICh0eXBpY2FsbHkgMTAtMzBtcyBiZXR3ZWVuIGNoYXJhY3RlcnMpXG4gICAgICBjb25zdCBpc1NjYW5uZXJJbnB1dCA9IHRpbWVEaWZmIDwgNTAgJiYgdGltZURpZmYgPiAwO1xuXG4gICAgICAvLyBPbmx5IGZvY3VzIHNlYXJjaCBpbnB1dCBpZiB1c2VyIGlzIG5vdCB0eXBpbmcgaW4gYW55IGlucHV0IGZpZWxkIGFuZCBpdCdzIG5vdCBhbHJlYWR5IGZvY3VzZWRcbiAgICAgIGlmIChcbiAgICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gc2VhcmNoSW5wdXRSZWYuY3VycmVudCAmJlxuICAgICAgICAhaXNUeXBpbmdJbklucHV0ICYmXG4gICAgICAgICFbXG4gICAgICAgICAgXCJUYWJcIixcbiAgICAgICAgICBcIkVzY2FwZVwiLFxuICAgICAgICAgIFwiRjFcIixcbiAgICAgICAgICBcIkYyXCIsXG4gICAgICAgICAgXCJGM1wiLFxuICAgICAgICAgIFwiRjRcIixcbiAgICAgICAgICBcIkY1XCIsXG4gICAgICAgICAgXCJGNlwiLFxuICAgICAgICAgIFwiRjdcIixcbiAgICAgICAgICBcIkY4XCIsXG4gICAgICAgICAgXCJGOVwiLFxuICAgICAgICAgIFwiRjEwXCIsXG4gICAgICAgICAgXCJGMTFcIixcbiAgICAgICAgICBcIkYxMlwiLFxuICAgICAgICBdLmluY2x1ZGVzKGV2ZW50LmtleSlcbiAgICAgICkge1xuICAgICAgICBzZWFyY2hJbnB1dFJlZi5jdXJyZW50Py5mb2N1cygpO1xuICAgICAgfVxuXG4gICAgICAvLyBIYW5kbGUgYmFyY29kZSBzY2FubmluZyAob25seSBpZiBub3QgdHlwaW5nIGluIGlucHV0IGZpZWxkcylcbiAgICAgIGlmICghaXNUeXBpbmdJbklucHV0KSB7XG4gICAgICAgIGlmIChldmVudC5rZXkgPT09IFwiRW50ZXJcIikge1xuICAgICAgICAgIC8vIEVuZCBvZiBiYXJjb2RlIHNjYW4gLSBwcm9jZXNzIHRoZSBidWZmZXJcbiAgICAgICAgICBpZiAoYmFyY29kZUJ1ZmZlci50cmltKCkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaGFuZGxlQmFyY29kZVNjYW5uZWQoYmFyY29kZUJ1ZmZlci50cmltKCkpO1xuICAgICAgICAgICAgc2V0QmFyY29kZUJ1ZmZlcihcIlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoaXNTY2FubmVySW5wdXQgJiYgZXZlbnQua2V5Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIC8vIEFkZCBjaGFyYWN0ZXIgdG8gYmFyY29kZSBidWZmZXJcbiAgICAgICAgICBzZXRCYXJjb2RlQnVmZmVyKChwcmV2KSA9PiBwcmV2ICsgZXZlbnQua2V5KTtcbiAgICAgICAgfSBlbHNlIGlmICghaXNTY2FubmVySW5wdXQpIHtcbiAgICAgICAgICAvLyBSZXNldCBidWZmZXIgaWYgdHlwaW5nIGlzIHRvbyBzbG93IChtYW51YWwgdHlwaW5nKVxuICAgICAgICAgIHNldEJhcmNvZGVCdWZmZXIoXCJcIik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc2V0TGFzdEtleVRpbWUoY3VycmVudFRpbWUpO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVGb2N1c0FueXdoZXJlID0gKGV2ZW50KSA9PiB7XG4gICAgICAvLyBEb24ndCBpbnRlcmZlcmUgd2hlbiBtYW51YWwgZW50cnkgbW9kYWwgaXMgb3BlblxuICAgICAgaWYgKHNob3dNYW51YWxFbnRyeSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIERvbid0IHJlZm9jdXMgaWYgY2xpY2tpbmcgb24gZm9ybSBlbGVtZW50cyB0aGF0IG5lZWQgZm9jdXNcbiAgICAgIGNvbnN0IGNsaWNrZWRFbGVtZW50ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgY29uc3QgaXNGb3JtRWxlbWVudCA9XG4gICAgICAgIGNsaWNrZWRFbGVtZW50LnRhZ05hbWUgPT09IFwiU0VMRUNUXCIgfHxcbiAgICAgICAgY2xpY2tlZEVsZW1lbnQudGFnTmFtZSA9PT0gXCJPUFRJT05cIiB8fFxuICAgICAgICBjbGlja2VkRWxlbWVudC50YWdOYW1lID09PSBcIklOUFVUXCIgfHxcbiAgICAgICAgY2xpY2tlZEVsZW1lbnQudGFnTmFtZSA9PT0gXCJCVVRUT05cIiB8fFxuICAgICAgICBjbGlja2VkRWxlbWVudC50YWdOYW1lID09PSBcIlRFWFRBUkVBXCI7XG5cbiAgICAgIC8vIERvbid0IHJlZm9jdXMgaWYgY2xpY2tpbmcgb24gdGhlIGNhdGVnb3J5IGZpbHRlciBvciBpdHMgb3B0aW9uc1xuICAgICAgY29uc3QgaXNDYXRlZ29yeUZpbHRlciA9XG4gICAgICAgIGNsaWNrZWRFbGVtZW50LmNsb3Nlc3QoXCJzZWxlY3RcIikgfHwgY2xpY2tlZEVsZW1lbnQudGFnTmFtZSA9PT0gXCJTRUxFQ1RcIjtcblxuICAgICAgaWYgKGlzRm9ybUVsZW1lbnQgfHwgaXNDYXRlZ29yeUZpbHRlcikge1xuICAgICAgICByZXR1cm47IC8vIExldCB0aGUgZm9ybSBlbGVtZW50IGhhbmRsZSBpdHMgb3duIGZvY3VzXG4gICAgICB9XG5cbiAgICAgIC8vIEVuc3VyZSBzZWFyY2ggaW5wdXQgc3RheXMgZm9jdXNlZCB3aGVuIGNsaWNraW5nIGVsc2V3aGVyZSBvbiB0aGUgcGFnZVxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBzZWFyY2hJbnB1dFJlZi5jdXJyZW50ICYmXG4gICAgICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gc2VhcmNoSW5wdXRSZWYuY3VycmVudCAmJlxuICAgICAgICAgICFkb2N1bWVudC5hY3RpdmVFbGVtZW50LmNsb3Nlc3QoXCJzZWxlY3RcIilcbiAgICAgICAgKSB7XG4gICAgICAgICAgc2VhcmNoSW5wdXRSZWYuY3VycmVudC5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9LCAxMDApO1xuICAgIH07XG5cbiAgICAvLyBBZGQgZXZlbnQgbGlzdGVuZXJzXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlS2V5RG93bik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUZvY3VzQW55d2hlcmUpO1xuXG4gICAgLy8gQ2xlYW51cCBmdW5jdGlvblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVLZXlEb3duKTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVGb2N1c0FueXdoZXJlKTtcbiAgICB9O1xuICB9LCBbYmFyY29kZUJ1ZmZlciwgbGFzdEtleVRpbWUsIHNob3dNYW51YWxFbnRyeV0pO1xuXG4gIC8vIEhhbmRsZSBiYXJjb2RlIHNjYW5uZWRcbiAgY29uc3QgaGFuZGxlQmFyY29kZVNjYW5uZWQgPSAoYmFyY29kZSkgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwiQmFyY29kZSBzY2FubmVkOlwiLCBiYXJjb2RlKTtcblxuICAgIC8vIFVzZSB0aGUgZW5oYW5jZWQgc2VhcmNoIGZ1bmN0aW9uYWxpdHkgdG8gZmluZCBwcm9kdWN0c1xuICAgIC8vIFRoaXMgd2lsbCBzZWFyY2ggYnkgYmFyY29kZSwgcHJvZHVjdElkLCBpZCwgbmFtZSwgYW5kIGNhdGVnb3J5XG4gICAgY29uc3Qgc2VhcmNoUmVzdWx0cyA9IGdldEZpbHRlcmVkSW52ZW50b3J5KGJhcmNvZGUpO1xuXG4gICAgaWYgKHNlYXJjaFJlc3VsdHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAvLyBFeGFjdGx5IG9uZSBwcm9kdWN0IGZvdW5kIC0gYXV0b21hdGljYWxseSBhZGQgdG8gY2FydFxuICAgICAgY29uc3QgZm91bmRQcm9kdWN0ID0gc2VhcmNoUmVzdWx0c1swXTtcbiAgICAgIGFkZFRvQ2FydChmb3VuZFByb2R1Y3QpO1xuICAgICAgY29uc29sZS5sb2coXCJQcm9kdWN0IGFkZGVkIHRvIGNhcnQgdmlhIGJhcmNvZGU6XCIsIGZvdW5kUHJvZHVjdC5uYW1lKTtcbiAgICB9IGVsc2UgaWYgKHNlYXJjaFJlc3VsdHMubGVuZ3RoID4gMSkge1xuICAgICAgLy8gTXVsdGlwbGUgbWF0Y2hlcyAtIHNob3cgaW4gc2VhcmNoIHJlc3VsdHMgZm9yIHVzZXIgdG8gY2hvb3NlXG4gICAgICBzZXRTZWFyY2hUZXJtKGJhcmNvZGUpO1xuICAgICAgY29uc29sZS5sb2coXG4gICAgICAgIGBNdWx0aXBsZSBwcm9kdWN0cyBmb3VuZCBmb3IgYmFyY29kZSAke2JhcmNvZGV9OmAsXG4gICAgICAgIHNlYXJjaFJlc3VsdHMubWFwKChwKSA9PiBwLm5hbWUpXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBObyBwcm9kdWN0IGZvdW5kIC0gYXV0b21hdGljYWxseSBwcm9tcHQgZm9yIG1hbnVhbCBlbnRyeVxuICAgICAgc2V0U2VhcmNoVGVybShiYXJjb2RlKTtcbiAgICAgIHNldE1hbnVhbEl0ZW0oKHByZXYpID0+ICh7XG4gICAgICAgIC4uLnByZXYsXG4gICAgICAgIG5hbWU6IGJhcmNvZGUsXG4gICAgICB9KSk7XG4gICAgICBzZXRTaG93TWFudWFsRW50cnkodHJ1ZSk7XG4gICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgXCJQcm9kdWN0IG5vdCBmb3VuZCBmb3IgYmFyY29kZTpcIixcbiAgICAgICAgYmFyY29kZSxcbiAgICAgICAgXCItIG9wZW5pbmcgbWFudWFsIGVudHJ5XCJcbiAgICAgICk7XG4gICAgfVxuICB9O1xuXG4gIGlmIChzaG93UmVjZWlwdCAmJiBsYXN0VHJhbnNhY3Rpb24pIHtcbiAgICByZXR1cm4gKFxuICAgICAgPFBPU1dyYXBwZXI+XG4gICAgICAgIDxDb250YWluZXI+XG4gICAgICAgIDxSZWNlaXB0U2VjdGlvbj5cbiAgICAgICAgICA8aDI+VHJhbnNhY3Rpb24gQ29tcGxldGUhPC9oMj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlY2VpcHRcIj5cbiAgICAgICAgICAgIDxoMz5DT05WRU5JRU5DRSBTVE9SRTwvaDM+XG4gICAgICAgICAgICA8cD5TY2FyYm9yb3VnaCwgT250YXJpbzwvcD5cbiAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICBUcmFuc2FjdGlvbiAjeyhsYXN0VHJhbnNhY3Rpb24uaWQgfHwgXCJOL0FcIikudG9TdHJpbmcoKS5zbGljZSgtOCl9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8cD57bmV3IERhdGUobGFzdFRyYW5zYWN0aW9uLnRpbWVzdGFtcCkudG9Mb2NhbGVTdHJpbmcoKX08L3A+XG4gICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgIHtsYXN0VHJhbnNhY3Rpb24uaXRlbXMubWFwKChpdGVtKSA9PiAoXG4gICAgICAgICAgICAgIDxkaXYga2V5PXtpdGVtLmlkfSBjbGFzc05hbWU9XCJyZWNlaXB0LWl0ZW1cIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgIHtpdGVtLm5hbWV9IHshaXRlbS50YXhhYmxlICYmIFwiKE5vIEhTVClcIn1cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgICB7aXRlbS5xdWFudGl0eX0geCAke2l0ZW0ucHJpY2UudG9GaXhlZCgyKX0gPSAkXG4gICAgICAgICAgICAgICAgICB7KGl0ZW0ucXVhbnRpdHkgKiBpdGVtLnByaWNlKS50b0ZpeGVkKDIpfVxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWNlaXB0LXRvdGFsc1wiPlxuICAgICAgICAgICAgICB7bGFzdFRyYW5zYWN0aW9uLnRheGFibGVBbW91bnQgPiAwICYmXG4gICAgICAgICAgICAgICAgbGFzdFRyYW5zYWN0aW9uLm5vblRheGFibGVBbW91bnQgPiAwICYmIChcbiAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgVGF4YWJsZSBJdGVtczogJHtsYXN0VHJhbnNhY3Rpb24udGF4YWJsZUFtb3VudC50b0ZpeGVkKDIpfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICBOb24tVGF4YWJsZSBJdGVtczogJFxuICAgICAgICAgICAgICAgICAgICAgIHtsYXN0VHJhbnNhY3Rpb24ubm9uVGF4YWJsZUFtb3VudC50b0ZpeGVkKDIpfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIHtsYXN0VHJhbnNhY3Rpb24uZGlzY291bnQgPiAwID8gKFxuICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICBJdGVtcyBTdWJ0b3RhbDogJFxuICAgICAgICAgICAgICAgICAgICB7bGFzdFRyYW5zYWN0aW9uLm9yaWdpbmFsU3VidG90YWwudG9GaXhlZCgyKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250V2VpZ2h0OiBcIjYwMFwiLCBjb2xvcjogXCIjZTY1MTAwXCIgfX0+XG4gICAgICAgICAgICAgICAgICAgIERpc2NvdW50OiAtJHtsYXN0VHJhbnNhY3Rpb24uZGlzY291bnQudG9GaXhlZCgyKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdj5TdWJ0b3RhbDogJHtsYXN0VHJhbnNhY3Rpb24uc3VidG90YWwudG9GaXhlZCgyKX08L2Rpdj5cbiAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICA8ZGl2PlN1YnRvdGFsOiAke2xhc3RUcmFuc2FjdGlvbi5zdWJ0b3RhbC50b0ZpeGVkKDIpfTwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICB7bGFzdFRyYW5zYWN0aW9uLmluY2x1ZGVUYXggJiYgbGFzdFRyYW5zYWN0aW9uLnRheCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXY+SFNUICgxMyUpOiAke2xhc3RUcmFuc2FjdGlvbi50YXgudG9GaXhlZCgyKX08L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b3RhbFwiPlxuICAgICAgICAgICAgICAgIFRvdGFsOiAke2xhc3RUcmFuc2FjdGlvbi50b3RhbC50b0ZpeGVkKDIpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAge2xhc3RUcmFuc2FjdGlvbi5jYXNoYmFjayA+IDAgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZm9udFdlaWdodDogXCI2MDBcIiwgY29sb3I6IFwiI2U2N2UyMlwiIH19PlxuICAgICAgICAgICAgICAgICAgQ2FzaGJhY2s6ICR7bGFzdFRyYW5zYWN0aW9uLmNhc2hiYWNrLnRvRml4ZWQoMil9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIHtsYXN0VHJhbnNhY3Rpb24ucGF5bWVudEJyZWFrZG93biAmJlxuICAgICAgICAgICAgICAgIGxhc3RUcmFuc2FjdGlvbi5wYXltZW50QnJlYWtkb3duLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgPGhyIC8+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz5QYXltZW50czwvc3Ryb25nPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAge2xhc3RUcmFuc2FjdGlvbi5wYXltZW50QnJlYWtkb3duLm1hcCgocCwgaWR4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2BwYXltZW50LSR7cC5tZXRob2R9LSR7aWR4fWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAge3AubWV0aG9kLnRvVXBwZXJDYXNlKCl9OiAke3AuYW1vdW50LnRvRml4ZWQoMil9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICB7bGFzdFRyYW5zYWN0aW9uLmNoYW5nZSA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXY+Q2hhbmdlOiAke2xhc3RUcmFuc2FjdGlvbi5jaGFuZ2UudG9GaXhlZCgyKX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgPHA+VGhhbmsgeW91IGZvciB5b3VyIGJ1c2luZXNzITwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6IFwiZmxleFwiLCBnYXA6IFwiMXJlbVwiLCBtYXJnaW5Ub3A6IFwiMnJlbVwiIH19PlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXtwcmludFJlY2VpcHR9XG4gICAgICAgICAgICAgIHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogXCIjMjdhZTYwXCIsIGNvbG9yOiBcIndoaXRlXCIgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAg8J+WqO+4jyBQcmludCBSZWNlaXB0XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17c3RhcnROZXdTYWxlfT5OZXcgU2FsZTwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L1JlY2VpcHRTZWN0aW9uPlxuICAgICAgICA8L0NvbnRhaW5lcj5cbiAgICAgIDwvUE9TV3JhcHBlcj5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8UE9TV3JhcHBlcj5cbiAgICAgIDxDb250YWluZXI+XG4gICAgICAgIDxQT1NHcmlkPlxuICAgICAgICA8UHJvZHVjdHNQYW5lbD5cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwic3BhY2UtYmV0d2VlblwiLFxuICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiMXJlbVwiLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8aDI+UHJvZHVjdHM8L2gyPlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuNzVyZW1cIixcbiAgICAgICAgICAgICAgICBjb2xvcjogXCIjN2Y4YzhkXCIsXG4gICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjI1cmVtIDAuNXJlbVwiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwiI2Y4ZjlmYVwiLFxuICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2ludmVudG9yeS5sZW5ndGh9IGl0ZW1zIGxvYWRlZFxuICAgICAgICAgICAgICB7aW52ZW50b3J5TG9hZGVkICYmIChcbiAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luTGVmdDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IGludmVudG9yeUxvYWRpbmcgPyBcIiNmMzljMTJcIiA6IFwiIzI3YWU2MFwiLFxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICDigKIge2ludmVudG9yeUxvYWRpbmcgPyBcInN5bmNpbmcuLi5cIiA6IFwicmVhZHlcIn1cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6IFwiZmxleFwiLCBnYXA6IFwiMXJlbVwiLCBtYXJnaW5Cb3R0b206IFwiMXJlbVwiIH19PlxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLCBmbGV4OiAxLCBkaXNwbGF5OiBcImZsZXhcIiB9fT5cbiAgICAgICAgICAgICAgPFNlYXJjaEJhclxuICAgICAgICAgICAgICAgIHJlZj17c2VhcmNoSW5wdXRSZWZ9XG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2VhcmNoIHByb2R1Y3RzLi4uIChCYXJjb2RlIFNjYW5uZXIgUmVhZHkpXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17c2VhcmNoVGVybX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFNlYXJjaFRlcm0oZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgIG9uRm9jdXM9eygpID0+IGhhbmRsZUlucHV0Rm9jdXMoc2VhcmNoSW5wdXRSZWYpfVxuICAgICAgICAgICAgICAgIG9uS2V5RG93bj17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChlLmtleSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZVNlYXJjaEVudGVyKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChzaG93S2V5Ym9hcmQgJiYgYWN0aXZlSW5wdXRSZWYgPT09IHNlYXJjaElucHV0UmVmKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFNob3dLZXlib2FyZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFjdGl2ZUlucHV0UmVmID09PSBzZWFyY2hJbnB1dFJlZikge1xuICAgICAgICAgICAgICAgICAgICAvLyBLZXlib2FyZCB3YXMgaGlkZGVuIGJ1dCBzZWFyY2ggaW5wdXQgd2FzIHRoZSBsYXN0IGFjdGl2ZSAtIHByZXNlcnZlIG1vZGVcbiAgICAgICAgICAgICAgICAgICAgc2hvd0tleWJvYXJkRm9ySW5wdXQoc2VhcmNoSW5wdXRSZWYpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRmlyc3QgdGltZSBmb2N1c2luZyBzZWFyY2ggaW5wdXQgLSB1c2UgbnVtZXJpYyBrZXlib2FyZCBmb3IgYmFyY29kZXNcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlSW5wdXRGb2N1cyhzZWFyY2hJbnB1dFJlZik7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgbWFyZ2luTGVmdDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC43NXJlbVwiLFxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogc2hvd0tleWJvYXJkICYmIGFjdGl2ZUlucHV0UmVmID09PSBzZWFyY2hJbnB1dFJlZiA/IFwiIzI3YWU2MFwiIDogXCIjMzQ5OGRiXCIsXG4gICAgICAgICAgICAgICAgICBtaW5XaWR0aDogXCJhdXRvXCJcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHRpdGxlPVwiVG9nZ2xlIFZpcnR1YWwgS2V5Ym9hcmRcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAg4oyo77iPXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICB7YmFyY29kZUJ1ZmZlciAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgICAgICAgICAgICAgdG9wOiBcIi0yNXB4XCIsXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiBcIjBcIixcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCIjMjdhZTYwXCIsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIndoaXRlXCIsXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMnB4IDhweFwiLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuOHJlbVwiLFxuICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcImJvbGRcIixcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAg8J+TtyBTY2FubmluZy4uLlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZURlYnVnUmVmcmVzaH1cbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbSAxcmVtXCIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCIjZTc0YzNjXCIsXG4gICAgICAgICAgICAgICAgY29sb3I6IFwid2hpdGVcIixcbiAgICAgICAgICAgICAgICBib3JkZXI6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuOXJlbVwiLFxuICAgICAgICAgICAgICAgIHdoaXRlU3BhY2U6IFwibm93cmFwXCIsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIHRpdGxlPVwiRm9yY2UgcmVmcmVzaCBpbnZlbnRvcnkgZnJvbSBkYXRhYmFzZSAoRGVidWcpXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAg8J+UhCBSZWZyZXNoXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxDYXRlZ29yeUZpbHRlclxuICAgICAgICAgICAgICB2YWx1ZT17Y2F0ZWdvcnlGaWx0ZXJ9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgIHNldENhdGVnb3J5RmlsdGVyKGUudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAvLyBBZnRlciBzZWxlY3Rpb24sIHJldHVybiBmb2N1cyB0byBzZWFyY2ggYmFyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoc2VhcmNoSW5wdXRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICBzZWFyY2hJbnB1dFJlZi5jdXJyZW50LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgb25CbHVyPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFdoZW4gZHJvcGRvd24gbG9zZXMgZm9jdXMgKGFmdGVyIHNlbGVjdGlvbiBvciBjbGlja2luZyBhd2F5KSwgcmV0dXJuIHRvIHNlYXJjaFxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICBzZWFyY2hJbnB1dFJlZi5jdXJyZW50ICYmXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IHNlYXJjaElucHV0UmVmLmN1cnJlbnRcbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBzZWFyY2hJbnB1dFJlZi5jdXJyZW50LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPkFsbCBDYXRlZ29yaWVzPC9vcHRpb24+XG4gICAgICAgICAgICAgIHtjYXRlZ29yaWVzLm1hcCgoY2F0ZWdvcnkpID0+IChcbiAgICAgICAgICAgICAgICA8b3B0aW9uIGtleT17Y2F0ZWdvcnl9IHZhbHVlPXtjYXRlZ29yeX0+XG4gICAgICAgICAgICAgICAgICB7Y2F0ZWdvcnl9XG4gICAgICAgICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC9DYXRlZ29yeUZpbHRlcj5cblxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93TWFudWFsRW50cnkodHJ1ZSl9XG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgbWFyZ2luTGVmdDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbSAxcmVtXCIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiMzNDk4ZGJcIixcbiAgICAgICAgICAgICAgICBjb2xvcjogXCJ3aGl0ZVwiLFxuICAgICAgICAgICAgICAgIGJvcmRlcjogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCJib2xkXCIsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICsgTWFudWFsIEl0ZW1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIENhdGVnb3J5IENhcmRzICovfVxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IFwiZ3JpZFwiLFxuICAgICAgICAgICAgICBncmlkVGVtcGxhdGVDb2x1bW5zOiBcInJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDE2MHB4LCAxZnIpKVwiLFxuICAgICAgICAgICAgICBnYXA6IFwiMC44cmVtXCIsXG4gICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogXCIxLjVyZW1cIixcbiAgICAgICAgICAgICAgbWF4SGVpZ2h0OiBcIjIwMHB4XCIsXG4gICAgICAgICAgICAgIG92ZXJmbG93WDogXCJhdXRvXCIsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIkxvdHRvXCIsXG4gICAgICAgICAgICAgICAga2V5OiBcIkxvdHRvXCIsXG4gICAgICAgICAgICAgICAgaWNvbjogXCLwn46yXCIsXG4gICAgICAgICAgICAgICAgY29sb3I6IFwiI2U3NGMzY1wiLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIlR5cGUgYW1vdW50ICYgY2xpY2sgdG8gYWRkXCIsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIkdyb2NlcnlcIixcbiAgICAgICAgICAgICAgICBrZXk6IFwiR3JvY2VyeVwiLFxuICAgICAgICAgICAgICAgIGljb246IFwi8J+bklwiLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiMyN2FlNjBcIixcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJUeXBlIGFtb3VudCAmIGNsaWNrIHRvIGFkZFwiLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJXZXN0ZXJuIFVuaW9uXCIsXG4gICAgICAgICAgICAgICAga2V5OiBcIldlc3Rlcm5VbmlvblwiLFxuICAgICAgICAgICAgICAgIGljb246IFwi8J+SuFwiLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiM4ZTQ0YWRcIixcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJUeXBlIGFtb3VudCAmIGNsaWNrIHRvIGFkZFwiLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJUZWFcIixcbiAgICAgICAgICAgICAgICBrZXk6IFwiVGVhXCIsXG4gICAgICAgICAgICAgICAgaWNvbjogXCLwn421XCIsXG4gICAgICAgICAgICAgICAgY29sb3I6IFwiI2QzNTQwMFwiLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIlR5cGUgYW1vdW50ICYgY2xpY2sgdG8gYWRkXCIsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIkJha2VyeVwiLFxuICAgICAgICAgICAgICAgIGtleTogXCJCYWtlcnlcIixcbiAgICAgICAgICAgICAgICBpY29uOiBcIvCfjZ5cIixcbiAgICAgICAgICAgICAgICBjb2xvcjogXCIjZjM5YzEyXCIsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiQnJlYWQgJiBCYWtlZCBHb29kc1wiLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJEYWlyeVwiLFxuICAgICAgICAgICAgICAgIGtleTogXCJEYWlyeVwiLFxuICAgICAgICAgICAgICAgIGljb246IFwi8J+lm1wiLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiMxNmEwODVcIixcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJNaWxrICYgRGFpcnkgUHJvZHVjdHNcIixcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiQmV2ZXJhZ2VzXCIsXG4gICAgICAgICAgICAgICAga2V5OiBcIkJldmVyYWdlc1wiLFxuICAgICAgICAgICAgICAgIGljb246IFwi8J+lpFwiLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiMzNDk4ZGJcIixcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJEcmlua3MgJiBSZWZyZXNobWVudHNcIixcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiVG9iYWNjb1wiLFxuICAgICAgICAgICAgICAgIGtleTogXCJUb2JhY2NvXCIsXG4gICAgICAgICAgICAgICAgaWNvbjogXCLwn5qsXCIsXG4gICAgICAgICAgICAgICAgY29sb3I6IFwiIzk1YTVhNlwiLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIkNpZ2FyZXR0ZXMgJiBDaWdhcnNcIixcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiU25hY2tzXCIsXG4gICAgICAgICAgICAgICAga2V5OiBcIlNuYWNrc1wiLFxuICAgICAgICAgICAgICAgIGljb246IFwi8J+Nv1wiLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNlNjdlMjJcIixcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJDaGlwcyAmIFNuYWNrc1wiLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXS5tYXAoKGNhdGVnb3J5KSA9PiAoXG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBrZXk9e2NhdGVnb3J5LmtleX1cbiAgICAgICAgICAgICAgICBkYXRhLWNhdGVnb3J5PXtjYXRlZ29yeS5rZXl9XG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgLy8gU3BlY2lhbCBoYW5kbGluZyBmb3IgTG90dG8sIEdyb2NlcnksIFdlc3Rlcm4gVW5pb24sIGFuZCBUZWEgY2F0ZWdvcmllc1xuICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeS5rZXkgPT09IFwiTG90dG9cIiB8fFxuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeS5rZXkgPT09IFwiR3JvY2VyeVwiIHx8XG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5LmtleSA9PT0gXCJXZXN0ZXJuVW5pb25cIiB8fFxuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeS5rZXkgPT09IFwiVGVhXCJcbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBzZWFyY2ggdGVybSBmaXJzdCwgdGhlbiBjdXJyZW50bHkgZm9jdXNlZCBpbnB1dCBmaWVsZFxuICAgICAgICAgICAgICAgICAgICBsZXQgaW5wdXRWYWx1ZSA9IHNlYXJjaFRlcm0udHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgc2VhcmNoIGlzIGVtcHR5LCBjaGVjayB0aGUgY3VycmVudGx5IGFjdGl2ZSBpbnB1dCBmaWVsZFxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlucHV0VmFsdWUgJiYgYWN0aXZlSW5wdXRSZWYgJiYgYWN0aXZlSW5wdXRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgIGlucHV0VmFsdWUgPSBhY3RpdmVJbnB1dFJlZi5jdXJyZW50LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBzdGlsbCBubyB2YWx1ZSwgY2hlY2sgb3RoZXIgaW5wdXQgZmllbGRzIHRoYXQgbWlnaHQgaGF2ZSB2YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpbnB1dFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRzID0gW2Rpc2NvdW50UmVmLCBjYXNoQW1vdW50UmVmLCBjYXJkQW1vdW50UmVmLCBjYXNoYmFja0Ftb3VudFJlZiwgbG90dG9XaW5uaW5nc1JlZl07XG4gICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpbnB1dFJlZiBvZiBpbnB1dHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dFJlZi5jdXJyZW50ICYmIGlucHV0UmVmLmN1cnJlbnQudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRWYWx1ZSA9IGlucHV0UmVmLmN1cnJlbnQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbnVtZXJpY1ZhbHVlID0gcGFyc2VGbG9hdChpbnB1dFZhbHVlKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBzZWFyY2ggdGVybSBpcyBhIHZhbGlkIG51bWJlclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKG51bWVyaWNWYWx1ZSkgJiYgbnVtZXJpY1ZhbHVlID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBpdGVtIHdpdGggdGhlIHNwZWNpZmllZCBhbW91bnQgYmFzZWQgb24gY2F0ZWdvcnlcbiAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV3SXRlbTtcblxuICAgICAgICAgICAgICAgICAgICAgIGlmIChjYXRlZ29yeS5rZXkgPT09IFwiTG90dG9cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3SXRlbSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGBsb3R0by0ke0RhdGUubm93KCl9YCwgLy8gVW5pcXVlIElEIGZvciBtYW51YWwgbG90dG8gaXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBgTG90dG8gJCR7bnVtZXJpY1ZhbHVlLnRvRml4ZWQoMil9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IFwiTG90dG9cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2U6IG51bWVyaWNWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvY2s6IDk5OSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbG93U3RvY2tUaHJlc2hvbGQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5VGF4OiB0cnVlLCAvLyBMb3R0byBpcyB0eXBpY2FsbHkgdGF4YWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICBpc01hbnVhbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjYXRlZ29yeS5rZXkgPT09IFwiR3JvY2VyeVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdJdGVtID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogYGdyb2NlcnktJHtEYXRlLm5vdygpfWAsIC8vIFVuaXF1ZSBJRCBmb3IgbWFudWFsIGdyb2NlcnkgaXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBgR3JvY2VyeSBJdGVtICQke251bWVyaWNWYWx1ZS50b0ZpeGVkKDIpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBcIkdyb2NlcnlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2U6IG51bWVyaWNWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvY2s6IDk5OSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbG93U3RvY2tUaHJlc2hvbGQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5VGF4OiB0cnVlLCAvLyBHcm9jZXJ5IGlzIHR5cGljYWxseSB0YXhhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlzTWFudWFsOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNhdGVnb3J5LmtleSA9PT0gXCJXZXN0ZXJuVW5pb25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3SXRlbSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGB3ZXN0ZXJuLXVuaW9uLSR7RGF0ZS5ub3coKX1gLCAvLyBVbmlxdWUgSUQgZm9yIG1hbnVhbCBXZXN0ZXJuIFVuaW9uIGl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogYFdlc3Rlcm4gVW5pb24gJCR7bnVtZXJpY1ZhbHVlLnRvRml4ZWQoMil9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IFwiV2VzdGVybiBVbmlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZTogbnVtZXJpY1ZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9jazogOTk5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBsb3dTdG9ja1RocmVzaG9sZDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlUYXg6IHRydWUsIC8vIFdlc3Rlcm4gVW5pb24gaXMgdHlwaWNhbGx5IHRheGFibGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaXNNYW51YWw6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2F0ZWdvcnkua2V5ID09PSBcIlRlYVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdJdGVtID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogYHRlYS0ke0RhdGUubm93KCl9YCwgLy8gVW5pcXVlIElEIGZvciBtYW51YWwgVGVhIGl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogYFRlYSAkJHtudW1lcmljVmFsdWUudG9GaXhlZCgyKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogXCJUZWFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2U6IG51bWVyaWNWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvY2s6IDk5OSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbG93U3RvY2tUaHJlc2hvbGQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5VGF4OiB0cnVlLCAvLyBUZWEgaXMgdHlwaWNhbGx5IHRheGFibGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaXNNYW51YWw6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0byBjYXJ0XG4gICAgICAgICAgICAgICAgICAgICAgYWRkVG9DYXJ0KG5ld0l0ZW0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgdGhlIGlucHV0IGZpZWxkIHRoYXQgd2FzIHVzZWRcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VhcmNoVGVybS50cmltKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlYXJjaFRlcm0oXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhY3RpdmVJbnB1dFJlZiAmJiBhY3RpdmVJbnB1dFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDbGVhciB0aGUgY3VycmVudGx5IGFjdGl2ZSBpbnB1dCBmaWVsZFxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlSW5wdXRSZWYuY3VycmVudC52YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUcmlnZ2VyIG9uQ2hhbmdlIGV2ZW50IHRvIHVwZGF0ZSBzdGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgRXZlbnQoJ2lucHV0JywgeyBidWJibGVzOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlSW5wdXRSZWYuY3VycmVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAvLyBTaG93IHN1Y2Nlc3MgZmVlZGJhY2tcbiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgQWRkZWQgJHtuZXdJdGVtLm5hbWV9IHRvIGNhcnRgKTtcblxuICAgICAgICAgICAgICAgICAgICAgIC8vIEJyaWVmIHZpc3VhbCBmZWVkYmFjayBieSB0ZW1wb3JhcmlseSBoaWdobGlnaHRpbmcgdGhlIGNhcmRcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50Q2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICAgICAgICAgICAgICBgW2RhdGEtY2F0ZWdvcnk9XCIke2NhdGVnb3J5LmtleX1cIl1gXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudENhcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRDYXJkLnN0eWxlLnRyYW5zZm9ybSA9IFwic2NhbGUoMS4wNSlcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q2FyZC5zdHlsZS50cmFuc2Zvcm0gPSBcInNjYWxlKDEpXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAyMDApO1xuICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgIC8vIFJldHVybiBmb2N1cyB0byBzZWFyY2ggYmFyXG4gICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VhcmNoSW5wdXRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hJbnB1dFJlZi5jdXJyZW50LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSwgMTAwKTtcblxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gRG9uJ3Qgc2V0IGNhdGVnb3J5IGZpbHRlciwganVzdCBhZGQgdGhlIGl0ZW1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAvLyBEZWZhdWx0IGJlaGF2aW9yOiBzZXQgY2F0ZWdvcnkgZmlsdGVyXG4gICAgICAgICAgICAgICAgICBzZXRDYXRlZ29yeUZpbHRlcihjYXRlZ29yeS5rZXkpO1xuICAgICAgICAgICAgICAgICAgLy8gUmV0dXJuIGZvY3VzIHRvIHNlYXJjaCBiYXIgYWZ0ZXIgY2F0ZWdvcnkgc2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlYXJjaElucHV0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hJbnB1dFJlZi5jdXJyZW50LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogYGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICR7Y2F0ZWdvcnkuY29sb3J9LCAke2NhdGVnb3J5LmNvbG9yfWRkKWAsXG4gICAgICAgICAgICAgICAgICBjb2xvcjogXCJ3aGl0ZVwiLFxuICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjhyZW1cIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCIxMHB4XCIsXG4gICAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogXCJhbGwgMC4ycyBlYXNlXCIsXG4gICAgICAgICAgICAgICAgICBib3hTaGFkb3c6XG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5RmlsdGVyID09PSBjYXRlZ29yeS5rZXlcbiAgICAgICAgICAgICAgICAgICAgICA/IGAwIDhweCAyNXB4ICR7Y2F0ZWdvcnkuY29sb3J9NDBgXG4gICAgICAgICAgICAgICAgICAgICAgOiBcIjAgNHB4IDE1cHggcmdiYSgwLDAsMCwwLjEpXCIsXG4gICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06XG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5RmlsdGVyID09PSBjYXRlZ29yeS5rZXlcbiAgICAgICAgICAgICAgICAgICAgICA/IFwidHJhbnNsYXRlWSgtMnB4KVwiXG4gICAgICAgICAgICAgICAgICAgICAgOiBcInRyYW5zbGF0ZVkoMClcIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlcjpcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlGaWx0ZXIgPT09IGNhdGVnb3J5LmtleVxuICAgICAgICAgICAgICAgICAgICAgID8gYDNweCBzb2xpZCAke2NhdGVnb3J5LmNvbG9yfWBcbiAgICAgICAgICAgICAgICAgICAgICA6IFwiM3B4IHNvbGlkIHRyYW5zcGFyZW50XCIsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoY2F0ZWdvcnlGaWx0ZXIgIT09IGNhdGVnb3J5LmtleSkge1xuICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoLTFweClcIjtcbiAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUuYm94U2hhZG93ID0gYDAgNnB4IDIwcHggJHtjYXRlZ29yeS5jb2xvcn0zMGA7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoY2F0ZWdvcnlGaWx0ZXIgIT09IGNhdGVnb3J5LmtleSkge1xuICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMClcIjtcbiAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUuYm94U2hhZG93ID0gXCIwIDRweCAxNXB4IHJnYmEoMCwwLDAsMC4xKVwiO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRTaXplOiBcIjJyZW1cIiwgbWFyZ2luQm90dG9tOiBcIjAuNXJlbVwiIH19PlxuICAgICAgICAgICAgICAgICAge2NhdGVnb3J5Lmljb259XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIjYwMFwiLFxuICAgICAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiMC4yNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7Y2F0ZWdvcnkubmFtZX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRTaXplOiBcIjAuOHJlbVwiLCBvcGFjaXR5OiAwLjkgfX0+XG4gICAgICAgICAgICAgICAgICB7Y2F0ZWdvcnkuZGVzY3JpcHRpb259XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSl9XG5cbiAgICAgICAgICAgIHsvKiBDbGVhciBGaWx0ZXIgQ2FyZCAqL31cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldENhdGVnb3J5RmlsdGVyKFwiXCIpO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKHNlYXJjaElucHV0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoSW5wdXRSZWYuY3VycmVudC5mb2N1cygpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDpcbiAgICAgICAgICAgICAgICAgIGNhdGVnb3J5RmlsdGVyID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgID8gXCJsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjMmMzZTUwLCAjMzQ0OTVlKVwiXG4gICAgICAgICAgICAgICAgICAgIDogXCJsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjZWNmMGYxLCAjYmRjM2M3KVwiLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBjYXRlZ29yeUZpbHRlciA9PT0gXCJcIiA/IFwid2hpdGVcIiA6IFwiIzJjM2U1MFwiLFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC44cmVtXCIsXG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjEwcHhcIixcbiAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBcImFsbCAwLjJzIGVhc2VcIixcbiAgICAgICAgICAgICAgICBib3hTaGFkb3c6XG4gICAgICAgICAgICAgICAgICBjYXRlZ29yeUZpbHRlciA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICA/IFwiMCA4cHggMjVweCByZ2JhKDQ0LDYyLDgwLDAuMylcIlxuICAgICAgICAgICAgICAgICAgICA6IFwiMCA0cHggMTVweCByZ2JhKDAsMCwwLDAuMSlcIixcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06XG4gICAgICAgICAgICAgICAgICBjYXRlZ29yeUZpbHRlciA9PT0gXCJcIiA/IFwidHJhbnNsYXRlWSgtMnB4KVwiIDogXCJ0cmFuc2xhdGVZKDApXCIsXG4gICAgICAgICAgICAgICAgYm9yZGVyOlxuICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlGaWx0ZXIgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgPyBcIjNweCBzb2xpZCAjMmMzZTUwXCJcbiAgICAgICAgICAgICAgICAgICAgOiBcIjNweCBzb2xpZCB0cmFuc3BhcmVudFwiLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNhdGVnb3J5RmlsdGVyICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICBlLnRhcmdldC5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoLTFweClcIjtcbiAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnN0eWxlLmJveFNoYWRvdyA9IFwiMCA2cHggIDIwcHggcmdiYSg0NCw2Miw4MCwwLjIpXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNhdGVnb3J5RmlsdGVyICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICBlLnRhcmdldC5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMClcIjtcbiAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnN0eWxlLmJveFNoYWRvdyA9IFwiMCA0cHggMTVweCByZ2JhKDAsMCwwLDAuMSlcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZm9udFNpemU6IFwiMnJlbVwiLCBtYXJnaW5Cb3R0b206IFwiMC41cmVtXCIgfX0+8J+PqjwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjFyZW1cIixcbiAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiNjAwXCIsXG4gICAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiMC4yNXJlbVwiLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBBbGwgQ2F0ZWdvcmllc1xuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogXCIwLjhyZW1cIiwgb3BhY2l0eTogMC45IH19PlxuICAgICAgICAgICAgICAgIFZpZXcgQWxsIFByb2R1Y3RzXG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogTWFudWFsIEVudHJ5IE1vZGFsICovfVxuICAgICAgICAgIHtzaG93TWFudWFsRW50cnkgJiYgKFxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImZpeGVkXCIsXG4gICAgICAgICAgICAgICAgdG9wOiBcIjBcIixcbiAgICAgICAgICAgICAgICBsZWZ0OiBcIjBcIixcbiAgICAgICAgICAgICAgICByaWdodDogXCIwXCIsXG4gICAgICAgICAgICAgICAgYm90dG9tOiBcIjBcIixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwicmdiYSgwLCAwLCAwLCAwLjUpXCIsXG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICB6SW5kZXg6IDEwMDAsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIndoaXRlXCIsXG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjJyZW1cIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI4cHhcIixcbiAgICAgICAgICAgICAgICAgIG1pbldpZHRoOiBcIjQwMHB4XCIsXG4gICAgICAgICAgICAgICAgICBtYXhXaWR0aDogXCI1MDBweFwiLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgb25LZXlEb3duPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFNob3dNYW51YWxFbnRyeShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHNldE1hbnVhbEl0ZW0oe1xuICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgcHJpY2U6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBjYXRlZ29yaWVzWzBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJncm9jZXJ5LXRheGFibGVcIixcbiAgICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogMSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxoMyBzdHlsZT17eyBtYXJnaW5Cb3R0b206IFwiMXJlbVwiLCBjb2xvcjogXCIjMmMzZTUwXCIgfX0+XG4gICAgICAgICAgICAgICAgICBBZGQgTWFudWFsIEl0ZW1cbiAgICAgICAgICAgICAgICA8L2gzPlxuXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Cb3R0b206IFwiMXJlbVwiIH19PlxuICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJibG9ja1wiLFxuICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcImJvbGRcIixcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgSXRlbSBOYW1lOlxuICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXttYW51YWxJdGVtLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICBzZXRNYW51YWxJdGVtKChwcmV2KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRW50ZXIgaXRlbSBuYW1lIG9yIGRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICNkZGRcIixcbiAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGF1dG9Gb2N1c1xuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiBcIjFyZW1cIiB9fT5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiYmxvY2tcIixcbiAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCJib2xkXCIsXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIFByaWNlOlxuICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgICAgc3RlcD1cIjAuMDFcIlxuICAgICAgICAgICAgICAgICAgICBtaW49XCIwXCJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e21hbnVhbEl0ZW0ucHJpY2V9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICBzZXRNYW51YWxJdGVtKChwcmV2KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIjAuMDBcIlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgI2RkZFwiLFxuICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogXCIxcmVtXCIgfX0+XG4gICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImJsb2NrXCIsXG4gICAgICAgICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiYm9sZFwiLFxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBDYXRlZ29yeTpcbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXttYW51YWxJdGVtLmNhdGVnb3J5fVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgc2V0TWFudWFsSXRlbSgocHJldikgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICNkZGRcIixcbiAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHtjYXRlZ29yaWVzLmxlbmd0aCA+IDAgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgLy8gVXNlIGNhdGVnb3JpZXMgZnJvbSBSZWR1eC9kYXRhYmFzZVxuICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXMubWFwKChjYXRlZ29yeSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiBrZXk9e2NhdGVnb3J5fSB2YWx1ZT17Y2F0ZWdvcnl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2F0ZWdvcnl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIGhhcmRjb2RlZCBvcHRpb25zIGlmIG5vIGNhdGVnb3JpZXMgbG9hZGVkXG4gICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJncm9jZXJ5LXRheGFibGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvY2VyeSAoVGF4YWJsZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImdyb2Nlcnktbm9uLXRheGFibGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvY2VyeSAoTm9uLVRheGFibGUpXG4gICAgICAgICAgICAgICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJsb3R0b1wiPkxvdHRvIChUYXhhYmxlKTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogXCIxLjVyZW1cIiB9fT5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiYmxvY2tcIixcbiAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCJib2xkXCIsXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIFF1YW50aXR5OlxuICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgICAgbWluPVwiMVwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXttYW51YWxJdGVtLnF1YW50aXR5fVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgc2V0TWFudWFsSXRlbSgocHJldikgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogcGFyc2VJbnQoZS50YXJnZXQudmFsdWUpIHx8IDEsXG4gICAgICAgICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICNkZGRcIixcbiAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgIGdhcDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiZmxleC1lbmRcIixcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0U2hvd01hbnVhbEVudHJ5KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRNYW51YWxJdGVtKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmljZTogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGNhdGVnb3JpZXNbMF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiZ3JvY2VyeS10YXhhYmxlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogMSxcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbSAxcmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiM5NWE1YTZcIixcbiAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCJ3aGl0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIENhbmNlbFxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2FkZE1hbnVhbEl0ZW19XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjVyZW0gMXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMjdhZTYwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwid2hpdGVcIixcbiAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiYm9sZFwiLFxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBBZGQgdG8gQ2FydFxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHsvKiBEZWRpY2F0ZWQgS2V5Ym9hcmQgQXJlYSAqL31cbiAgICAgICAgICA8S2V5Ym9hcmRBcmVhPlxuICAgICAgICAgICAgPE9uU2NyZWVuS2V5Ym9hcmRcbiAgICAgICAgICAgICAgc2hvdz17dHJ1ZX1cbiAgICAgICAgICAgICAgbW9kZT17a2V5Ym9hcmRNb2RlfVxuICAgICAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRTaG93S2V5Ym9hcmQoZmFsc2UpfVxuICAgICAgICAgICAgICBpbnB1dFJlZj17YWN0aXZlSW5wdXRSZWZ9XG4gICAgICAgICAgICAgIG9uS2V5UHJlc3M9eyhrZXkpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVmlydHVhbCBrZXkgcHJlc3NlZDonLCBrZXkpO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBvbk1vZGVUb2dnbGU9eyhuZXdNb2RlKSA9PiBzZXRLZXlib2FyZE1vZGUobmV3TW9kZSl9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvS2V5Ym9hcmRBcmVhPlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9kdWN0cy1ncmlkXCI+XG4gICAgICAgICAgICB7ZmlsdGVyZWRJbnZlbnRvcnkubGVuZ3RoID09PSAwICYmXG4gICAgICAgICAgICAgIGludmVudG9yeS5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICAgIHNlYXJjaFRlcm0gJiYgKFxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMnJlbVwiLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNmMzljMTJcIixcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPGgzPk5vIHByb2R1Y3RzIG1hdGNoIHlvdXIgc2VhcmNoPC9oMz5cbiAgICAgICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgICAgICBTZWFyY2g6IFwie3NlYXJjaFRlcm19XCJ7XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgIHtjYXRlZ29yeUZpbHRlciAmJiBgfCBDYXRlZ29yeTogXCIke2NhdGVnb3J5RmlsdGVyfVwiYH1cbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6IFwiMXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC43NXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZmZmM2NkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjZmZlYWE3XCIsXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiM4NTY0MDRcIixcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAg8J+SoSA8c3Ryb25nPlByZXNzIEVudGVyPC9zdHJvbmc+IHRvIGFkZCBcIntzZWFyY2hUZXJtfVwiIGFzIGFcbiAgICAgICAgICAgICAgICAgICAgbWFudWFsIGl0ZW0gd2l0aCBjdXN0b20gcHJpY2VcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAge2ludmVudG9yeUxvYWRpbmcgJiYgKFxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMnJlbVwiLFxuICAgICAgICAgICAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgY29sb3I6IFwiIzM0OThkYlwiLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8aDM+TG9hZGluZyBwcm9kdWN0cy4uLjwvaDM+XG4gICAgICAgICAgICAgICAgPHA+UGxlYXNlIHdhaXQgd2hpbGUgd2UgbG9hZCB0aGUgaW52ZW50b3J5IGZyb20gZGF0YWJhc2U8L3A+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHtpbnZlbnRvcnkubGVuZ3RoID09PSAwICYmICFpbnZlbnRvcnlMb2FkaW5nICYmIChcbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjJyZW1cIixcbiAgICAgICAgICAgICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNlNzRjM2NcIixcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGgzPk5vIHByb2R1Y3RzIGF2YWlsYWJsZTwvaDM+XG4gICAgICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAgICBObyBpbnZlbnRvcnkgaXRlbXMgZm91bmQuIFBsZWFzZSBjaGVjayB5b3VyIGNvbm5lY3Rpb24gb3JcbiAgICAgICAgICAgICAgICAgIGNvbnRhY3Qgc3VwcG9ydC5cbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHtmaWx0ZXJlZEludmVudG9yeS5tYXAoKHByb2R1Y3QpID0+IChcbiAgICAgICAgICAgICAgPFByb2R1Y3RJdGVtXG4gICAgICAgICAgICAgICAga2V5PXtwcm9kdWN0LmlkfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGFkZFRvQ2FydChwcm9kdWN0KX1cbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgb3BhY2l0eTogcHJvZHVjdC5zdG9jayA8PSAwID8gMC43IDogMSxcbiAgICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxoND57cHJvZHVjdC5uYW1lfTwvaDQ+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcmljZS1yb3dcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJpY2VcIj4ke3Byb2R1Y3QucHJpY2UudG9GaXhlZCgyKX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZm9udFNpemU6IFwiMC44cmVtXCIsIGNvbG9yOiBcIiM3ZjhjOGRcIiB9fT5cbiAgICAgICAgICAgICAgICAgICAge3Byb2R1Y3QudGF4YWJsZSA/IFwiSFNUXCIgOiBcIk5vIEhTVFwifVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic3RvY2tcIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6XG4gICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdC5zdG9jayA8IDBcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXCIjZTc0YzNjXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcHJvZHVjdC5zdG9jayA9PT0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBcIiNmMzljMTJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgOiBwcm9kdWN0LnN0b2NrIDw9IHByb2R1Y3QubG93U3RvY2tUaHJlc2hvbGRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXCIjZjM5YzEyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogXCIjMjdhZTYwXCIsXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIFN0b2NrOiB7cHJvZHVjdC5zdG9ja317XCIgXCJ9XG4gICAgICAgICAgICAgICAgICB7cHJvZHVjdC5zdG9jayA8IDBcbiAgICAgICAgICAgICAgICAgICAgPyBcIihOZWdhdGl2ZSBTdG9jaylcIlxuICAgICAgICAgICAgICAgICAgICA6IHByb2R1Y3Quc3RvY2sgPT09IDBcbiAgICAgICAgICAgICAgICAgICAgPyBcIihPdXQgb2YgU3RvY2spXCJcbiAgICAgICAgICAgICAgICAgICAgOiBwcm9kdWN0LnN0b2NrIDw9IHByb2R1Y3QubG93U3RvY2tUaHJlc2hvbGRcbiAgICAgICAgICAgICAgICAgICAgPyBcIihMb3cgU3RvY2spXCJcbiAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L1Byb2R1Y3RJdGVtPlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvUHJvZHVjdHNQYW5lbD5cblxuICAgICAgICA8Q2hlY2tvdXRQYW5lbD5cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwic3BhY2UtYmV0d2VlblwiLFxuICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiMC41cmVtXCIsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxoMiBzdHlsZT17eyBtYXJnaW46IDAgfX0+Q3VycmVudCBTYWxlPC9oMj5cbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogXCJmbGV4XCIsIGdhcDogXCIwLjVyZW1cIiB9fT5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldElzQ3JlZGl0U2FsZSghaXNDcmVkaXRTYWxlKTtcbiAgICAgICAgICAgICAgICAgIGlmIChpc0NyZWRpdFNhbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0Q3JlZGl0Q3VzdG9tZXJOYW1lKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICBzZXRDcmVkaXRBbW91bnQoMCk7XG4gICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkQ3VzdG9tZXIobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIHNldEN1c3RvbWVyQmFsYW5jZSgwKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBpc0NyZWRpdFNhbGUgPyBcIiMyOGE3NDVcIiA6IFwiIzZjNzU3ZFwiLFxuICAgICAgICAgICAgICAgICAgY29sb3I6IFwid2hpdGVcIixcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC41cmVtIDAuNzVyZW1cIixcbiAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuOHJlbVwiLFxuICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCI2MDBcIixcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAg8J+SsyBDcmVkaXRcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiBDcmVkaXQgU2FsZSBTdGF0dXMgSW5kaWNhdG9yICovfVxuICAgICAgICAgIHtpc0NyZWRpdFNhbGUgJiYgKFxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmZmYzY2RcIixcbiAgICAgICAgICAgICAgICBib3JkZXI6IFwiMnB4IHNvbGlkICNmZmMxMDdcIixcbiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiOHB4XCIsXG4gICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBcIjAuNzVyZW1cIixcbiAgICAgICAgICAgICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCI2MDBcIixcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiM4NTY0MDRcIixcbiAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuOXJlbVwiLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICDwn5KzIENSRURJVCBTQUxFIE1PREUgQUNUSVZFXG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICB7Y3JlZGl0Q3VzdG9tZXJOYW1lICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjhyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiIzg1NjQwNFwiLFxuICAgICAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6IFwiMC4yNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBDdXN0b21lcjogPHN0cm9uZz57Y3JlZGl0Q3VzdG9tZXJOYW1lfTwvc3Ryb25nPlxuICAgICAgICAgICAgICAgICAge3NlbGVjdGVkQ3VzdG9tZXIgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBtYXJnaW5MZWZ0OiBcIjAuNXJlbVwiIH19PlxuICAgICAgICAgICAgICAgICAgICAgIChCYWxhbmNlOiAke01hdGguYWJzKGN1c3RvbWVyQmFsYW5jZSkudG9GaXhlZCgyKX17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAge2N1c3RvbWVyQmFsYW5jZSA+IDAgPyBcIm93ZWRcIiA6IFwiY3JlZGl0XCJ9KVxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcnQtaXRlbXNcIj5cbiAgICAgICAgICAgIHtjYXJ0Lmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICAgICAgPHBcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgY29sb3I6IFwiIzdmOGM4ZFwiLFxuICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiBcIjJyZW1cIixcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgTm8gaXRlbXMgaW4gY2FydCDigJQgYWRkIHByb2R1Y3RzIGZyb20gdGhlIGxlZnQgcGFuZWxcbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgY2FydC5tYXAoKGl0ZW0pID0+IChcbiAgICAgICAgICAgICAgICA8Q2FydEl0ZW0ga2V5PXtpdGVtLmlkfT5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaXRlbS1kZXRhaWxzXCI+XG4gICAgICAgICAgICAgICAgICAgIDxoND57aXRlbS5uYW1lfTwvaDQ+XG4gICAgICAgICAgICAgICAgICAgIDxwPiR7aXRlbS5wcmljZS50b0ZpeGVkKDIpfSBlYWNoPC9wPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdG9nZ2xlSXRlbVRheChpdGVtLmlkKX1cbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC43NXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjI1cmVtIDAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjEycHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmFwcGx5VGF4ID09PSB0cnVlID8gXCIjMjdhZTYwXCIgOiBcIiM5NWE1YTZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIndoaXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiBcIjAuMjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAge2l0ZW0uYXBwbHlUYXggPT09IHRydWUgPyBcIkhTVCBPTlwiIDogXCJIU1QgT0ZGXCJ9XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInF1YW50aXR5LWNvbnRyb2xzXCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVEZWNyZWFzZVF1YW50aXR5KGl0ZW0uaWQpfVxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpdGVtLnF1YW50aXR5IDw9IDF9XG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IGl0ZW0ucXVhbnRpdHkgPD0gMSA/IDAuNSA6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IGl0ZW0ucXVhbnRpdHkgPD0gMSA/IFwibm90LWFsbG93ZWRcIiA6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAtXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj57aXRlbS5xdWFudGl0eX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ2FydFF1YW50aXR5KGl0ZW0uaWQsIGl0ZW0ucXVhbnRpdHkgKyAxKVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICtcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaXRlbS10b3RhbFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2PiR7KGl0ZW0ucHJpY2UgKiBpdGVtLnF1YW50aXR5KS50b0ZpeGVkKDIpfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB7aXRlbS5hcHBseVRheCA9PT0gdHJ1ZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogXCIwLjc1cmVtXCIsIGNvbG9yOiBcIiM3ZjhjOGRcIiB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICskeyhpdGVtLnByaWNlICogaXRlbS5xdWFudGl0eSAqIDAuMTMpLnRvRml4ZWQoMil9IEhTVFxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJlbW92ZS1idG5cIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiByZW1vdmVGcm9tQ2FydChpdGVtLmlkKX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgw5dcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvQ2FydEl0ZW0+XG4gICAgICAgICAgICAgICkpXG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIFNjcm9sbGFibGUgY2hlY2tvdXQgc2VjdGlvbnMgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGVja291dC1zZWN0aW9uc1wiPlxuICAgICAgICAgICAgey8qIENhc2hiYWNrIE9wdGlvbiAqL31cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBtYXJnaW46IFwiMC41cmVtIDBcIixcbiAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmOGY5ZmFcIixcbiAgICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjZTllY2VmXCIsXG4gICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI2cHhcIixcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBnYXA6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIjUwMFwiLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2Nhc2hiYWNrRW5hYmxlZH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldENhc2hiYWNrRW5hYmxlZChlLnRhcmdldC5jaGVja2VkKTtcbiAgICAgICAgICAgICAgICAgIGlmICghZS50YXJnZXQuY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICBzZXRDYXNoYmFja0Ftb3VudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0Q2FzaGJhY2tGZWUoXCJcIik7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBzdHlsZT17eyB0cmFuc2Zvcm06IFwic2NhbGUoMS4yKVwiIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxzcGFuPkFkZCBDYXNoYmFjazwvc3Bhbj5cbiAgICAgICAgICAgIDwvbGFiZWw+XG5cbiAgICAgICAgICAgIHtjYXNoYmFja0VuYWJsZWQgJiYgKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIG1hcmdpblRvcDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIGdhcDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIHN0eWxlPXt7IG1pbldpZHRoOiBcIjcwcHhcIiwgZm9udFNpemU6IFwiMC45cmVtXCIgfX0+XG4gICAgICAgICAgICAgICAgICAgIEFtb3VudDpcbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgcmVmPXtjYXNoYmFja0Ftb3VudFJlZn1cbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjAxXCJcbiAgICAgICAgICAgICAgICAgICAgbWluPVwiMFwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtjYXNoYmFja0Ftb3VudH1cbiAgICAgICAgICAgICAgICAgICAgb25Gb2N1cz17KCkgPT4gaGFuZGxlSW5wdXRGb2N1cyhjYXNoYmFja0Ftb3VudFJlZil9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0Q2FzaGJhY2tBbW91bnQodmFsdWUgPT09IFwiXCIgPyBcIlwiIDogTnVtYmVyKHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjRyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICNkZGRcIixcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCIwLjAwXCJcbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICBnYXA6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgIG1pbldpZHRoOiBcIjcwcHhcIixcbiAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjlyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIjZTY3ZTIyXCIsXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIEZlZTpcbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgcmVmPXtjYXNoYmFja0ZlZVJlZn1cbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjAxXCJcbiAgICAgICAgICAgICAgICAgICAgbWluPVwiMFwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtjYXNoYmFja0ZlZX1cbiAgICAgICAgICAgICAgICAgICAgb25Gb2N1cz17KCkgPT4gaGFuZGxlSW5wdXRGb2N1cyhjYXNoYmFja0ZlZVJlZil9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0Q2FzaGJhY2tGZWUodmFsdWUgPT09IFwiXCIgPyBcIlwiIDogTnVtYmVyKHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjRyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICNlNjdlMjJcIixcbiAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2ZlZjVlN1wiLFxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIjAuMDBcIlxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIHsoTnVtYmVyKGNhc2hiYWNrRmVlKSB8fCAwKSA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblRvcDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjhyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIjZTY3ZTIyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgZm9udFN0eWxlOiBcIml0YWxpY1wiLFxuICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZmVmNWU3XCIsXG4gICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjI1cmVtIDAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICNmNGQwM2ZcIixcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAg8J+SsCBDYXNoYmFjayBmZWU6ICR7KE51bWJlcihjYXNoYmFja0ZlZSkgfHwgMCkudG9GaXhlZCgyKX17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgIGFkZGVkIHRvIHRvdGFsXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogRGlzY291bnQgKi99XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgbWFyZ2luOiBcIjAuNXJlbSAwXCIsXG4gICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZmZmM2UwXCIsXG4gICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgI2ZmY2M4MFwiLFxuICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNnB4XCIsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGdhcDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIjUwMFwiLFxuICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4+8J+SsCBEaXNjb3VudDwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgZ2FwOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8bGFiZWwgc3R5bGU9e3sgbWluV2lkdGg6IFwiNzBweFwiLCBmb250U2l6ZTogXCIwLjlyZW1cIiB9fT5cbiAgICAgICAgICAgICAgICBBbW91bnQ6XG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHJlZj17ZGlzY291bnRSZWZ9XG4gICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICAgICAgc3RlcD1cIjAuMDFcIlxuICAgICAgICAgICAgICAgIG1pbj1cIjBcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXtkaXNjb3VudEFtb3VudH1cbiAgICAgICAgICAgICAgICBvbkZvY3VzPXsoKSA9PiBoYW5kbGVJbnB1dEZvY3VzKGRpc2NvdW50UmVmKX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICBzZXREaXNjb3VudEFtb3VudCh2YWx1ZSA9PT0gXCJcIiA/IFwiXCIgOiBOdW1iZXIodmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNHJlbVwiLFxuICAgICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgI2RkZFwiLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCIwLjAwXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgeyhOdW1iZXIoZGlzY291bnRBbW91bnQpIHx8IDApID4gMCAmJiAoXG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC44cmVtXCIsXG4gICAgICAgICAgICAgICAgICBjb2xvcjogXCIjZTY1MTAwXCIsXG4gICAgICAgICAgICAgICAgICBmb250U3R5bGU6IFwiaXRhbGljXCIsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIPCfkrggQ3VzdG9tZXIgc2F2ZXMgJHsoTnVtYmVyKGRpc2NvdW50QW1vdW50KSB8fCAwKS50b0ZpeGVkKDIpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogRW5oYW5jZWQgQ2FyZCBGZWUgU2VjdGlvbiAqL31cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBtYXJnaW46IFwiMC41cmVtIDBcIixcbiAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmOGY0ZmZcIixcbiAgICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjZDRjNWY5XCIsXG4gICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI2cHhcIixcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgZ2FwOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIjUwMFwiLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3Bhbj7wn5KzIENhcmQgRmVlczwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogQ2FyZCBGZWUgRW5hYmxlL0Rpc2FibGUgKi99XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBnYXA6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBjYXJkRmVlRW5hYmxlZCA/IFwiMC41cmVtXCIgOiBcIjBcIixcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgIGdhcDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjlyZW1cIixcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y2FyZEZlZUVuYWJsZWR9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNFbmFibGVkID0gZS50YXJnZXQuY2hlY2tlZDtcbiAgICAgICAgICAgICAgICAgICAgc2V0Q2FyZEZlZUVuYWJsZWQoaXNFbmFibGVkKTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50Q2FyZEFtb3VudCA9IE51bWJlcihcbiAgICAgICAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KGNhcmRBbW91bnQpIHx8IDBcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudENhc2hBbW91bnQgPSBOdW1iZXIoXG4gICAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChjYXNoQW1vdW50KSB8fCAwXG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gZW5hYmxpbmcsIGFkZCBjYXJkIGZlZSB0byB0b3RhbFxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsQW1vdW50ID1cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRDYXJkQW1vdW50ICsgY3VycmVudENhc2hBbW91bnQgKyBDQVJEX0ZFRV9BTU9VTlQ7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0Q2FyZEFtb3VudChTdHJpbmcodG90YWxBbW91bnQudG9GaXhlZCgyKSkpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldENhc2hBbW91bnQoXCIwXCIpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldExhc3RFZGl0ZWQoXCJjYXJkXCIpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gZGlzYWJsaW5nLCByZW1vdmUgY2FyZCBmZWUgZnJvbSB0b3RhbFxuICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Q2FyZEFtb3VudCA+PSBDQVJEX0ZFRV9BTU9VTlQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0NhcmRBbW91bnQgPSBNYXRoLm1heChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENhcmRBbW91bnQgLSBDQVJEX0ZFRV9BTU9VTlRcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRDYXJkQW1vdW50KFN0cmluZyhuZXdDYXJkQW1vdW50LnRvRml4ZWQoMikpKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBtYXJnaW5SaWdodDogXCIwLjI1cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogXCJzY2FsZSgxLjEpXCIsXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgQXBwbHkgY2FyZCBmZWUgKCske0NBUkRfRkVFX0FNT1VOVC50b0ZpeGVkKDIpfSlcbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogRmVlIFN0YXR1cyBEaXNwbGF5ICovfVxuICAgICAgICAgICAge2NhcmRGZWVFbmFibGVkICYmIChcbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuMjVyZW0gMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2ZmZjNjZFwiLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjZmZlYWE3XCIsXG4gICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjhyZW1cIixcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiM4NTY0MDRcIixcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAg8J+SsCBDYXJkIHByb2Nlc3NpbmcgZmVlOiAke0NBUkRfRkVFX0FNT1VOVC50b0ZpeGVkKDIpfSBhZGRlZCB0b1xuICAgICAgICAgICAgICAgIHRvdGFsXG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiBMb3R0byBXaW5uaW5ncyAqL31cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBtYXJnaW46IFwiMC41cmVtIDBcIixcbiAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNlOGY1ZThcIixcbiAgICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjYzNlNmMzXCIsXG4gICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI2cHhcIixcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgZ2FwOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiNTAwXCIsXG4gICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3Bhbj7wn46wIExvdHRvIFdpbm5pbmdzPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGdhcDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGxhYmVsIHN0eWxlPXt7IG1pbldpZHRoOiBcIjcwcHhcIiwgZm9udFNpemU6IFwiMC45cmVtXCIgfX0+XG4gICAgICAgICAgICAgICAgQW1vdW50OlxuICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICByZWY9e2xvdHRvV2lubmluZ3NSZWZ9XG4gICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICAgICAgc3RlcD1cIjAuMDFcIlxuICAgICAgICAgICAgICAgIG1pbj1cIjBcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXtsb3R0b1dpbm5pbmdzfVxuICAgICAgICAgICAgICAgIG9uRm9jdXM9eygpID0+IGhhbmRsZUlucHV0Rm9jdXMobG90dG9XaW5uaW5nc1JlZil9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgc2V0TG90dG9XaW5uaW5ncyh2YWx1ZSA9PT0gXCJcIiA/IFwiXCIgOiBOdW1iZXIodmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNHJlbVwiLFxuICAgICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgI2RkZFwiLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCIwLjAwXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7KE51bWJlcihsb3R0b1dpbm5pbmdzKSB8fCAwKSA+IDAgJiYgKFxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIG1hcmdpblRvcDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuOHJlbVwiLFxuICAgICAgICAgICAgICAgICAgY29sb3I6IFwiIzI4YTc0NVwiLFxuICAgICAgICAgICAgICAgICAgZm9udFN0eWxlOiBcIml0YWxpY1wiLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICDwn5KwIEN1c3RvbWVyIHdvbiAkeyhOdW1iZXIobG90dG9XaW5uaW5ncykgfHwgMCkudG9GaXhlZCgyKX0gaW5cbiAgICAgICAgICAgICAgICBsb3R0ZXJ5XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hlY2tvdXQtc3VtbWFyeVwiPlxuICAgICAgICAgICAgeygoKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsU3VidG90YWwgPSBjYWxjdWxhdGVTdWJ0b3RhbCgpOyAvLyBJdGVtcyB0b3RhbCBiZWZvcmUgZGlzY291bnRcbiAgICAgICAgICAgICAgY29uc3QgZGlzY291bnQgPSBOdW1iZXIocGFyc2VGbG9hdChkaXNjb3VudEFtb3VudCkgfHwgMCk7XG4gICAgICAgICAgICAgIGNvbnN0IHN1YnRvdGFsID0gY2FsY3VsYXRlVG90YWwoKTsgLy8gQWZ0ZXIgZGlzY291bnRcbiAgICAgICAgICAgICAgY29uc3QgdGF4ID0gY2FsY3VsYXRlVGF4KCk7XG4gICAgICAgICAgICAgIGNvbnN0IHRvdGFsID0gKyhzdWJ0b3RhbCArIHRheCkudG9GaXhlZCgyKTtcbiAgICAgICAgICAgICAgY29uc3QgY2FzaGJhY2sgPSBOdW1iZXIocGFyc2VGbG9hdChjYXNoYmFja0Ftb3VudCkgfHwgMCk7XG4gICAgICAgICAgICAgIGNvbnN0IGxvdHRvID0gTnVtYmVyKHBhcnNlRmxvYXQobG90dG9XaW5uaW5ncykgfHwgMCk7XG4gICAgICAgICAgICAgIGNvbnN0IHBhaWRDYXNoID0gTnVtYmVyKHBhcnNlRmxvYXQoY2FzaEFtb3VudCkgfHwgMCk7XG4gICAgICAgICAgICAgIGNvbnN0IHBhaWRDYXJkID0gTnVtYmVyKHBhcnNlRmxvYXQoY2FyZEFtb3VudCkgfHwgMCk7XG4gICAgICAgICAgICAgIGNvbnN0IHBhaWRUb3RhbCA9ICsocGFpZENhc2ggKyBwYWlkQ2FyZCkudG9GaXhlZCgyKTtcblxuICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgZmluYWwgdG90YWwgd2l0aCBjYXNoYmFjayBhbmQgbG90dG8gd2lubmluZ3NcbiAgICAgICAgICAgICAgY29uc3QgZmluYWxUb3RhbCA9IHRvdGFsICsgY2FzaGJhY2sgLSBsb3R0bztcblxuICAgICAgICAgICAgICAvLyBGb3IgY2FzaGJhY2sgdHJhbnNhY3Rpb25zLCByZXF1aXJlIGNhcmQgcGF5bWVudCB0byBjb3ZlciB0b3RhbCArIGNhc2hiYWNrXG4gICAgICAgICAgICAgIGxldCBpc1N1ZmZpY2llbnQ7XG4gICAgICAgICAgICAgIGlmIChjYXNoYmFjayA+IDAgJiYgbG90dG8gPT09IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b3RhbE5lZWRlZCA9IHRvdGFsICsgY2FzaGJhY2s7XG4gICAgICAgICAgICAgICAgaXNTdWZmaWNpZW50ID0gcGFpZENhcmQgKyAwLjAwMDEgPj0gdG90YWxOZWVkZWQ7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAobG90dG8gPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gV2l0aCBsb3R0byB3aW5uaW5ncywgY3VzdG9tZXIgbWF5IG93ZSBsZXNzIG9yIGV2ZW4gZ2V0IG1vbmV5IGJhY2tcbiAgICAgICAgICAgICAgICBpc1N1ZmZpY2llbnQgPVxuICAgICAgICAgICAgICAgICAgZmluYWxUb3RhbCA8PSAwIHx8IHBhaWRUb3RhbCArIDAuMDAwMSA+PSBmaW5hbFRvdGFsO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlzU3VmZmljaWVudCA9IHBhaWRUb3RhbCArIDAuMDAwMSA+PSB0b3RhbDtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGNvbnN0IGNoYW5nZSA9XG4gICAgICAgICAgICAgICAgY2FzaGJhY2sgPiAwICYmIGxvdHRvID09PSAwXG4gICAgICAgICAgICAgICAgICA/IDBcbiAgICAgICAgICAgICAgICAgIDogTWF0aC5tYXgoMCwgKyhwYWlkVG90YWwgLSBmaW5hbFRvdGFsKS50b0ZpeGVkKDIpKTtcblxuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICA8VG90YWw+XG4gICAgICAgICAgICAgICAgICAgIHtnZXRUYXhhYmxlVG90YWwoKSA+IDAgJiYgZ2V0Tm9uVGF4YWJsZVRvdGFsKCkgPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5UYXhhYmxlOiAke2dldFRheGFibGVUb3RhbCgpLnRvRml4ZWQoMil9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICBOb24tVGF4YWJsZTogJHtnZXROb25UYXhhYmxlVG90YWwoKS50b0ZpeGVkKDIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIHtkaXNjb3VudCA+IDAgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIEl0ZW1zIFN1YnRvdGFsOiAke29yaWdpbmFsU3VidG90YWwudG9GaXhlZCgyKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogXCIjZTY1MTAwXCIsIGZvbnRXZWlnaHQ6IFwiNTAwXCIgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIERpc2NvdW50OiAtJHtkaXNjb3VudC50b0ZpeGVkKDIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlN1YnRvdGFsOiAke3N1YnRvdGFsLnRvRml4ZWQoMil9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdj5TdWJ0b3RhbDogJHtzdWJ0b3RhbC50b0ZpeGVkKDIpfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICB7dGF4ID4gMCAmJiA8ZGl2PkhTVCAoMTMlKTogJHt0YXgudG9GaXhlZCgyKX08L2Rpdj59XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+UHVyY2hhc2UgVG90YWw6ICR7dG90YWwudG9GaXhlZCgyKX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAge2Nhc2hiYWNrID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogXCIjZTY3ZTIyXCIsIGZvbnRXZWlnaHQ6IFwiNTAwXCIgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICBDYXNoYmFjazogJHtjYXNoYmFjay50b0ZpeGVkKDIpfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICB7TnVtYmVyKHBhcnNlRmxvYXQoY2FzaGJhY2tGZWUpIHx8IDApID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogXCIjZDM1NDAwXCIsIGZvbnRXZWlnaHQ6IFwiNTAwXCIgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICBDYXNoYmFjayBGZWU6ICRcbiAgICAgICAgICAgICAgICAgICAgICAgIHtOdW1iZXIocGFyc2VGbG9hdChjYXNoYmFja0ZlZSkgfHwgMCkudG9GaXhlZCgyKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAge2xvdHRvID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogXCIjMjhhNzQ1XCIsIGZvbnRXZWlnaHQ6IFwiNTAwXCIgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICBMb3R0byBXaW5uaW5nczogLSR7bG90dG8udG9GaXhlZCgyKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaW5hbC10b3RhbFwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtpc0JhbGFuY2VQYXltZW50ID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIjMTdhMmI4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIjYwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBcIjVweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn4+mIEN1c3RvbWVyIEJhbGFuY2UgUGF5bWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXlpbmcgZm9yOntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VsZWN0ZWRDdXN0b21lcj8ubmFtZSB8fCBcIlNlbGVjdGVkIEN1c3RvbWVyXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEN1cnJlbnQgQmFsYW5jZTogJFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZEN1c3RvbWVyPy5iYWxhbmNlPy50b0ZpeGVkKDIpIHx8IFwiMC4wMFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICBUb3RhbCBBbW91bnQgRHVlOiAkXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtmaW5hbFRvdGFsID49IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGZpbmFsVG90YWwudG9GaXhlZCgyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogYCgke01hdGguYWJzKGZpbmFsVG90YWwpLnRvRml4ZWQoMil9KSBDcmVkaXRgfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L1RvdGFsPlxuXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiBcIjFyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICAgICAgICAgICAgICAgIGdhcDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgey8qIENyZWRpdCBTYWxlIFNlY3Rpb24gKi99XG4gICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIxcmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2ZmZjNjZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIjJweCBzb2xpZCAjZmZjMTA3XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiOHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIHsvKiBDcmVkaXQgU2FsZSBUb2dnbGUgKi99XG4gICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FwOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIjYwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIxLjFyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiIzg1NjQwNFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206IGlzQ3JlZGl0U2FsZSA/IFwiMC43NXJlbVwiIDogXCIwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17aXNDcmVkaXRTYWxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJc0NyZWRpdFNhbGUoZS50YXJnZXQuY2hlY2tlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlLnRhcmdldC5jaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDcmVkaXRDdXN0b21lck5hbWUoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDcmVkaXRBbW91bnQoMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENsZWFyIGV4aXN0aW5nIHBheW1lbnRzIHdoZW4gZW50ZXJpbmcgY3JlZGl0IG1vZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldENhc2hBbW91bnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDYXJkQW1vdW50KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q3JlZGl0QW1vdW50KDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgdHJhbnNmb3JtOiBcInNjYWxlKDEuMilcIiB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPvCfkrMgQ3JlZGl0IFNhbGUgTW9kZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuXG4gICAgICAgICAgICAgICAgICAgICAge2lzQ3JlZGl0U2FsZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogQ3JlZGl0IFNhbGUgSW5wdXRzICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogXCIwLjc1cmVtXCIgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhcDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5XaWR0aDogXCI4MHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC45cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiIzg1NjQwNFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiNTAwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEN1c3RvbWVyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FwOiBcIjAuMjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmPXtjcmVkaXRDdXN0b21lck5hbWVSZWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtjcmVkaXRDdXN0b21lck5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Gb2N1cz17KCkgPT4gaGFuZGxlSW5wdXRGb2N1cyhjcmVkaXRDdXN0b21lck5hbWVSZWYsIGZhbHNlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVDdXN0b21lck5hbWVDaGFuZ2UoZS50YXJnZXQudmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNHJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgI2RkZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciBjdXN0b21lciBuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2ZldGNoRXhpc3RpbmdDdXN0b21lcnN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC40cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzZjNzU3ZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwid2hpdGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC44cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIlJlZnJlc2ggY3VzdG9tZXIgbGlzdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn5SEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBDdXN0b21lciBzdWdnZXN0aW9ucyBkcm9wZG93biAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3Nob3dDdXN0b21lclN1Z2dlc3Rpb25zICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWdodDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIndoaXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgI2RkZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJveFNoYWRvdzogXCIwIDJweCA4cHggcmdiYSgwLDAsMCwwLjEpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpJbmRleDogMTAwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4SGVpZ2h0OiBcIjE1MHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJlZEN1c3RvbWVycyA9IEFycmF5LmlzQXJyYXkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdDdXN0b21lcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZXhpc3RpbmdDdXN0b21lcnMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY3VzdG9tZXIpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lci5jdXN0b21lck5hbWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lci5jdXN0b21lck5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5jbHVkZXMoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRpdEN1c3RvbWVyTmFtZS50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBbXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBleGFjdE1hdGNoID0gZmlsdGVyZWRDdXN0b21lcnMuZmluZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY3VzdG9tZXIpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lci5jdXN0b21lck5hbWUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRpdEN1c3RvbWVyTmFtZS50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2ZpbHRlcmVkQ3VzdG9tZXJzLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGN1c3RvbWVyLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVDdXN0b21lclNlbGVjdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJCb3R0b206XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIxcHggc29saWQgI2VlZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzcGFjZS1iZXR3ZWVuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGUudGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIjZjVmNWY1XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZS50YXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIndoaXRlXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXN0b21lci5jdXN0b21lck5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuOHJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXIuYmFsYW5jZSA+IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIiNkYzM1NDVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiIzI4YTc0NVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiNTAwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge01hdGguYWJzKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbWVyLmJhbGFuY2UgfHwgMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLnRvRml4ZWQoMil9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VzdG9tZXIuYmFsYW5jZSA+IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwib3dlZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcImNyZWRpdFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogQWRkIE5ldyBDdXN0b21lciBvcHRpb24gd2hlbiBubyBleGFjdCBtYXRjaCBmb3VuZCAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjcmVkaXRDdXN0b21lck5hbWUudHJpbSgpLmxlbmd0aCA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIWV4YWN0TWF0Y2ggJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIG5ldyBjdXN0b21lciB3aXRoIGVudGVyZWQgbmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdDdXN0b21lciA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lck5hbWU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVkaXRDdXN0b21lck5hbWUudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhbGFuY2U6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNOZXdDdXN0b21lcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlQ3VzdG9tZXJTZWxlY3Rpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q3VzdG9tZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJUb3A6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRDdXN0b21lcnMubGVuZ3RoID4gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIjJweCBzb2xpZCAjZTllY2VmXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZThmNWU4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYXA6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiNTAwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiMxNTU3MjRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZS50YXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiNkNGVkZGFcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChlLnRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiI2U4ZjVlOFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPuKelTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBZGQgXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NyZWRpdEN1c3RvbWVyTmFtZS50cmltKCl9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXMgbmV3IGNyZWRpdCBjdXN0b21lclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIERlYnVnIGluZm8gZm9yIGN1c3RvbWVyIGRhdGEgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2V4aXN0aW5nQ3VzdG9tZXJzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuOHJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiM2Yzc1N2RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjI1cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmOGY5ZmFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvYWRlZCB7ZXhpc3RpbmdDdXN0b21lcnMubGVuZ3RofSBjdXN0b21lcnMue1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3JlZGl0Q3VzdG9tZXJOYW1lICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYFNlYXJjaGluZyBmb3I6IFwiJHtjcmVkaXRDdXN0b21lck5hbWV9XCJgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBDdXN0b21lciBiYWxhbmNlIGRpc3BsYXkgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkQ3VzdG9tZXIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXJCYWxhbmNlID4gMCA/IFwiI2Y4ZDdkYVwiIDogXCIjZDRlZGRhXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBgMXB4IHNvbGlkICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lckJhbGFuY2UgPiAwID8gXCIjZjVjNmNiXCIgOiBcIiNjM2U2Y2JcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC45cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+e3NlbGVjdGVkQ3VzdG9tZXIuY3VzdG9tZXJOYW1lfTwvc3Ryb25nPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLSBDdXJyZW50IEJhbGFuY2U6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lckJhbGFuY2UgPiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIiM3MjFjMjRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCIjMTU1NzI0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIjYwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luTGVmdDogXCIwLjI1cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7TWF0aC5hYnMoY3VzdG9tZXJCYWxhbmNlKS50b0ZpeGVkKDIpfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VzdG9tZXJCYWxhbmNlID4gMCA/IFwib3dlZFwiIDogXCJjcmVkaXRcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuN3JlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiIzZjNzU3ZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiBcIjAuMjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSUQ6IHtzZWxlY3RlZEN1c3RvbWVyLmlkfSB8IExhc3QgdXBkYXRlZDp7XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge25ldyBEYXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRDdXN0b21lci51cGRhdGVkQXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLnRvTG9jYWxlVGltZVN0cmluZygpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgeygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3VidG90YWwgPSBjYWxjdWxhdGVUb3RhbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRheCA9IGNhbGN1bGF0ZVRheCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsID0gKyhzdWJ0b3RhbCArIHRheCkudG9GaXhlZCgyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXNoYmFjayA9IE51bWJlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQoY2FzaGJhY2tBbW91bnQpIHx8IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvdHRvID0gTnVtYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChsb3R0b1dpbm5pbmdzKSB8fCAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaW5hbFRvdGFsID0gdG90YWwgKyBjYXNoYmFjayAtIGxvdHRvO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhaWRDYXNoID0gTnVtYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChjYXNoQW1vdW50KSB8fCAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWlkQ2FyZCA9IE51bWJlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQoY2FyZEFtb3VudCkgfHwgMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFpZFRvdGFsID0gcGFpZENhc2ggKyBwYWlkQ2FyZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzcGVjaWZpZWRDcmVkaXRBbW91bnQgPSBOdW1iZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KGNyZWRpdEFtb3VudCkgfHwgMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2Ugc3BlY2lmaWVkIGNyZWRpdCBhbW91bnQgb3IgY2FsY3VsYXRlIGZyb20gcGF5bWVudCBkaWZmZXJlbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3JlZGl0QmFsYW5jZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGVjaWZpZWRDcmVkaXRBbW91bnQgPiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gc3BlY2lmaWVkQ3JlZGl0QW1vdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogTWF0aC5tYXgoMCwgZmluYWxUb3RhbCAtIHBhaWRUb3RhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVxdWlyZWRQYXltZW50ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwZWNpZmllZENyZWRpdEFtb3VudCA+IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBmaW5hbFRvdGFsIC0gc3BlY2lmaWVkQ3JlZGl0QW1vdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogcGFpZFRvdGFsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNwZWNpZmllZENyZWRpdEFtb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNwZWNpZmllZCBjcmVkaXQgYW1vdW50IG1vZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBheW1lbnROZWVkZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbFRvdGFsIC0gc3BlY2lmaWVkQ3JlZGl0QW1vdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF5bWVudFN0YXR1cyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhaWRUb3RhbCA+PSBwYXltZW50TmVlZGVkIC0gMC4wMDE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBwYXltZW50U3RhdHVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCIjZThmNWU4XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIiNmZmYzY2RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogYDFweCBzb2xpZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXltZW50U3RhdHVzID8gXCIjMjhhNzQ1XCIgOiBcIiNmZmMxMDdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC45cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPlNwZWNpZmllZCBDcmVkaXQgTW9kZTo8L3N0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg77+9IFVucGFpZCBCYWxhbmNlOiAkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c3BlY2lmaWVkQ3JlZGl0QW1vdW50LnRvRml4ZWQoMil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCfkrAgUGF5bWVudCBOZWVkZWQ6ICRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtwYXltZW50TmVlZGVkLnRvRml4ZWQoMil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCfk4ogUGF5bWVudCBTdGF0dXM6ICR7cGFpZFRvdGFsLnRvRml4ZWQoMil9IC9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7cGF5bWVudE5lZWRlZC50b0ZpeGVkKDIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHshcGF5bWVudFN0YXR1cyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiI2RjMzU0NVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiNTAwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiBcIjAuMjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pqg77iPIE5lZWQgJFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KHBheW1lbnROZWVkZWQgLSBwYWlkVG90YWwpLnRvRml4ZWQoMil9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3JlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYWlkVG90YWwgPiAwICYmIGNyZWRpdEJhbGFuY2UgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZThmNWU4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICMyOGE3NDVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjlyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+QXV0by1DYWxjdWxhdGUgTW9kZTo8L3N0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cGFpZENhc2ggPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+8J+StSBDYXNoOiAke3BhaWRDYXNoLnRvRml4ZWQoMil9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cGFpZENhcmQgPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+8J+SsyBDYXJkOiAke3BhaWRDYXJkLnRvRml4ZWQoMil9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIjZGMzNTQ1XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiNTAwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCfk50gQ3JlZGl0IEJhbGFuY2U6ICRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjcmVkaXRCYWxhbmNlLnRvRml4ZWQoMil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhaWRUb3RhbCA+PSBmaW5hbFRvdGFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZThmNWU4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICMyOGE3NDVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjlyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pyFe1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGdWxseSBQYWlkIC0gTm8gQ3JlZGl0IEJhbGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZjhkN2RhXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICNkYzM1NDVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjlyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+TnXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRnVsbCBDcmVkaXQ6ICR7Y3JlZGl0QmFsYW5jZS50b0ZpeGVkKDIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Ryb25nPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KSgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgey8qIFBheW1lbnQgSW5wdXQgRmllbGRzIC0gQWx3YXlzIFZpc2libGUgKi99XG4gICAgICAgICAgICAgICAgICAgIHshaXNDcmVkaXRTYWxlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FwOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzcGFjZS1iZXR3ZWVuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhcDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2F1dG9GaWxsT3RoZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QXV0b0ZpbGxPdGhlcighIWUudGFyZ2V0LmNoZWNrZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250U2l6ZTogXCIwLjlyZW1cIiB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRvLWZpbGwgb3RoZXIgcGF5bWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogXCIwLjg1cmVtXCIsIGNvbG9yOiBcIiM3ZjhjOGRcIiB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgVG9nZ2xlIHRvIGF1dG9tYXRpY2FsbHkgZmlsbCB0aGUgb3RoZXIgZmllbGRcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBnYXA6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5XaWR0aDogXCI4MHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChOdW1iZXIoY2FzaGJhY2tBbW91bnQpIHx8IDApID4gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIiM5NWE1YTZcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcImluaGVyaXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgQ2FzaDpcbiAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmPXtjYXNoQW1vdW50UmVmfVxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGVwPVwiMC4wMVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW49XCIwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtjYXNoQW1vdW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyhOdW1iZXIoY2FzaGJhY2tBbW91bnQpIHx8IDApID4gMH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRm9jdXM9eygpID0+IGhhbmRsZUlucHV0Rm9jdXMoY2FzaEFtb3VudFJlZil9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0TGFzdEVkaXRlZChcImNhc2hcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWx3YXlzIHNldCB0aGUgcmF3IHZhbHVlIGZpcnN0IHRvIGFsbG93IHByb3BlciB0eXBpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2FzaEFtb3VudCh2YWx1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25seSBkbyB2YWxpZGF0aW9uIGFuZCBhdXRvLWZpbGwgaWYgdmFsdWUgaXMgbm90IGVtcHR5IGFuZCBub3QgY3VycmVudGx5IGJlaW5nIHR5cGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IE51bWJlcih2YWx1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNDcmVkaXRTYWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGEgYmFsYW5jZSBwYXltZW50IChubyBpdGVtcyBpbiBjYXJ0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNCYWxhbmNlUGF5bWVudCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcnQubGVuZ3RoID09PSAwICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkQ3VzdG9tZXIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXJCYWxhbmNlID4gMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQmFsYW5jZVBheW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9yIGJhbGFuY2UgcGF5bWVudHMsIGFsbG93IGFueSBhbW91bnQgdXAgdG8gdGhlIGN1c3RvbWVyJ3MgYmFsYW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWxpZENhc2hBbW91bnQgPSBNYXRoLm1pbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXJCYWxhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWQgPiBjdXN0b21lckJhbGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDYXNoQW1vdW50KFN0cmluZyh2YWxpZENhc2hBbW91bnQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDbGVhciBjYXJkIHdoZW4gY2FzaCBpcyBlbnRlcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZENhc2hBbW91bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2FyZEFtb3VudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvciByZWd1bGFyIGNyZWRpdCBzYWxlcyB3aXRoIGl0ZW1zIGluIGNhcnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1YnRvdGFsID0gY2FsY3VsYXRlVG90YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRheCA9IGNhbGN1bGF0ZVRheCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG90YWwgPSArKHN1YnRvdGFsICsgdGF4KS50b0ZpeGVkKDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FzaGJhY2sgPSBOdW1iZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQoY2FzaGJhY2tBbW91bnQpIHx8IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsb3R0byA9IE51bWJlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChsb3R0b1dpbm5pbmdzKSB8fCAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmluYWxUb3RhbCA9IHRvdGFsICsgY2FzaGJhY2sgLSBsb3R0bztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRDcmVkaXQgPSBOdW1iZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQoY3JlZGl0QW1vdW50KSB8fCAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nQW1vdW50ID0gTWF0aC5tYXgoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsVG90YWwgLSBjdXJyZW50Q3JlZGl0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBjdXN0b21lciBoYXMgZXhpc3RpbmcgYmFsYW5jZSwgYWxsb3cgcGF5bWVudCB1cCB0byB0cmFuc2FjdGlvbiB0b3RhbCArIGV4aXN0aW5nIGJhbGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtYXhBbGxvd2VkUGF5bWVudCA9IHJlbWFpbmluZ0Ftb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZEN1c3RvbWVyICYmIGN1c3RvbWVyQmFsYW5jZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4QWxsb3dlZFBheW1lbnQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsVG90YWwgKyBjdXN0b21lckJhbGFuY2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFsbG93IGNhc2ggdXAgdG8gbWF4IGFsbG93ZWQgcGF5bWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsaWRDYXNoQW1vdW50ID0gTWF0aC5taW4oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4QWxsb3dlZFBheW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VkID4gbWF4QWxsb3dlZFBheW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2FzaEFtb3VudChTdHJpbmcodmFsaWRDYXNoQW1vdW50KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHVzZXIgZW50ZXJzIGNhc2gsIGNsZWFyIGNhcmQgKG9ubHkgb25lIHBheW1lbnQgbWV0aG9kKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkQ2FzaEFtb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2FyZEFtb3VudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXV0b0ZpbGxPdGhlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVndWxhciBtb2RlIGF1dG8tZmlsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3VidG90YWwgPSBjYWxjdWxhdGVUb3RhbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGF4ID0gY2FsY3VsYXRlVGF4KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b3RhbCA9ICsoc3VidG90YWwgKyB0YXgpLnRvRml4ZWQoMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdDYXJkID0gTWF0aC5tYXgoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsodG90YWwgLSBwYXJzZWQpLnRvRml4ZWQoMilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDYXJkQW1vdW50KFN0cmluZyhuZXdDYXJkKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjRyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBpc0NyZWRpdFNhbGUgPyBcIiNmOGY5ZmFcIiA6IFwid2hpdGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlzQ3JlZGl0U2FsZSA/IFwiRW50ZXIgcGFydGlhbCBwYXltZW50XCIgOiBcIjAuMDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBnYXA6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgey8qIFN3YXAgQnV0dG9uIC0gQWJzb2x1dGVseSBwb3NpdGlvbmVkIGJldHdlZW4gQ2FzaCBhbmQgQ2FyZCAqL31cbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtzd2FwUGF5bWVudHN9XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNDcmVkaXRTYWxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogXCI0MHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogXCItMTVweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBpc0NyZWRpdFNhbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiI2Y4ZjlmYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcImxpbmVhci1ncmFkaWVudCgxMzVkZWcsICMzNDk4ZGIsICMyOTgwYjkpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI1MCVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMjBweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiMjBweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IGlzQ3JlZGl0U2FsZSA/IFwibm90LWFsbG93ZWRcIiA6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCJ3aGl0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIxMHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiYm9sZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJveFNoYWRvdzogaXNDcmVkaXRTYWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIm5vbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCIwIDFweCA0cHggcmdiYSg1MiwgMTUyLCAyMTksIDAuMylcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogXCJhbGwgMC4ycyBlYXNlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IGlzQ3JlZGl0U2FsZSA/IDAuNCA6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHpJbmRleDogMTAsXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzQ3JlZGl0U2FsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnN0eWxlLnRyYW5zZm9ybSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInJvdGF0ZSgxODBkZWcpIHNjYWxlKDEuMilcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC5zdHlsZS5ib3hTaGFkb3cgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIwIDJweCA2cHggcmdiYSg1MiwgMTUyLCAyMTksIDAuNClcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0NyZWRpdFNhbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC5zdHlsZS50cmFuc2Zvcm0gPSBcInJvdGF0ZSgwZGVnKSBzY2FsZSgxKVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnN0eWxlLmJveFNoYWRvdyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjAgMXB4IDRweCByZ2JhKDUyLCAxNTIsIDIxOSwgMC4zKVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpc0NyZWRpdFNhbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiU3dhcCBkaXNhYmxlZCBpbiBjcmVkaXQgbW9kZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlN3YXAgY2FzaCBhbmQgY2FyZCBhbW91bnRzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICDih4VcbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgc3R5bGU9e3sgbWluV2lkdGg6IFwiODBweFwiIH19PkNhcmQ6PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17Y2FyZEFtb3VudFJlZn1cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgc3RlcD1cIjAuMDFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgbWluPVwiMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Y2FyZEFtb3VudH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRm9jdXM9eygpID0+IGhhbmRsZUlucHV0Rm9jdXMoY2FyZEFtb3VudFJlZil9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0TGFzdEVkaXRlZChcImNhcmRcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWx3YXlzIHNldCB0aGUgcmF3IHZhbHVlIGZpcnN0IHRvIGFsbG93IHByb3BlciB0eXBpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2FyZEFtb3VudCh2YWx1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25seSBkbyB2YWxpZGF0aW9uIGFuZCBhdXRvLWZpbGwgaWYgdmFsdWUgaXMgbm90IGVtcHR5IGFuZCBub3QgY3VycmVudGx5IGJlaW5nIHR5cGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IE51bWJlcih2YWx1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNDcmVkaXRTYWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGEgYmFsYW5jZSBwYXltZW50IChubyBpdGVtcyBpbiBjYXJ0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNCYWxhbmNlUGF5bWVudCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcnQubGVuZ3RoID09PSAwICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkQ3VzdG9tZXIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXJCYWxhbmNlID4gMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQmFsYW5jZVBheW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9yIGJhbGFuY2UgcGF5bWVudHMsIGFsbG93IGFueSBhbW91bnQgdXAgdG8gdGhlIGN1c3RvbWVyJ3MgYmFsYW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWxpZENhcmRBbW91bnQgPSBNYXRoLm1pbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXJCYWxhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWQgPiBjdXN0b21lckJhbGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDYXJkQW1vdW50KFN0cmluZyh2YWxpZENhcmRBbW91bnQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDbGVhciBjYXNoIHdoZW4gY2FyZCBpcyBlbnRlcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZENhcmRBbW91bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2FzaEFtb3VudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvciByZWd1bGFyIGNyZWRpdCBzYWxlcyB3aXRoIGl0ZW1zIGluIGNhcnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1YnRvdGFsID0gY2FsY3VsYXRlVG90YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRheCA9IGNhbGN1bGF0ZVRheCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG90YWwgPSArKHN1YnRvdGFsICsgdGF4KS50b0ZpeGVkKDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FzaGJhY2sgPSBOdW1iZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQoY2FzaGJhY2tBbW91bnQpIHx8IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsb3R0byA9IE51bWJlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChsb3R0b1dpbm5pbmdzKSB8fCAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmluYWxUb3RhbCA9IHRvdGFsICsgY2FzaGJhY2sgLSBsb3R0bztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRDcmVkaXQgPSBOdW1iZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQoY3JlZGl0QW1vdW50KSB8fCAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nQW1vdW50ID0gTWF0aC5tYXgoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsVG90YWwgLSBjdXJyZW50Q3JlZGl0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBjdXN0b21lciBoYXMgZXhpc3RpbmcgYmFsYW5jZSwgYWxsb3cgcGF5bWVudCB1cCB0byB0cmFuc2FjdGlvbiB0b3RhbCArIGV4aXN0aW5nIGJhbGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtYXhBbGxvd2VkUGF5bWVudCA9IHJlbWFpbmluZ0Ftb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZEN1c3RvbWVyICYmIGN1c3RvbWVyQmFsYW5jZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4QWxsb3dlZFBheW1lbnQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsVG90YWwgKyBjdXN0b21lckJhbGFuY2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFsbG93IGNhcmQgdXAgdG8gbWF4IGFsbG93ZWQgcGF5bWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsaWRDYXJkQW1vdW50ID0gTWF0aC5taW4oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4QWxsb3dlZFBheW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VkID4gbWF4QWxsb3dlZFBheW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2FyZEFtb3VudChTdHJpbmcodmFsaWRDYXJkQW1vdW50KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHVzZXIgZW50ZXJzIGNhcmQsIGNsZWFyIGNhc2ggKG9ubHkgb25lIHBheW1lbnQgbWV0aG9kKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkQ2FyZEFtb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2FzaEFtb3VudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXV0b0ZpbGxPdGhlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVndWxhciBtb2RlIGF1dG8tZmlsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3VidG90YWwgPSBjYWxjdWxhdGVUb3RhbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGF4ID0gY2FsY3VsYXRlVGF4KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b3RhbCA9ICsoc3VidG90YWwgKyB0YXgpLnRvRml4ZWQoMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdDYXNoID0gTWF0aC5tYXgoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsodG90YWwgLSBwYXJzZWQpLnRvRml4ZWQoMilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDYXNoQW1vdW50KFN0cmluZyhuZXdDYXNoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjRyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBpc0NyZWRpdFNhbGUgPyBcIiNmOGY5ZmFcIiA6IFwid2hpdGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlzQ3JlZGl0U2FsZSA/IFwiRW50ZXIgcGFydGlhbCBwYXltZW50XCIgOiBcIjAuMDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgey8qIFBheW1lbnQgVGVybWluYWwgQnV0dG9uICovfVxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRvdGFsIGZvciB0ZXJtaW5hbCBwYXltZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1YnRvdGFsID0gY2FsY3VsYXRlVG90YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGF4ID0gY2FsY3VsYXRlVGF4KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsID0gKyhzdWJ0b3RhbCArIHRheCkudG9GaXhlZCgyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FzaGJhY2sgPSBOdW1iZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChjYXNoYmFja0Ftb3VudCkgfHwgMFxuICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsb3R0byA9IE51bWJlcihwYXJzZUZsb2F0KGxvdHRvV2lubmluZ3MpIHx8IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBOb3RlOiB0b3RhbCBhbHJlYWR5IGluY2x1ZGVzIGNyZWRpdCBjYXJkIGNoYXJnZSBmcm9tIGNhbGN1bGF0ZVRvdGFsKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmluYWxUb3RhbCA9IHRvdGFsICsgY2FzaGJhY2sgLSBsb3R0bztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQcm9jZXNzIHRlcm1pbmFsIHBheW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlVGVybWluYWxQYXltZW50KGZpbmFsVG90YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc0NyZWRpdFNhbGUgfHwgY2FydC5sZW5ndGggPT09IDB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNHJlbSAwLjhyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQ3JlZGl0U2FsZSB8fCBjYXJ0Lmxlbmd0aCA9PT0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIiNmOGY5ZmFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIiM2ZjQyYzFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNDcmVkaXRTYWxlIHx8IGNhcnQubGVuZ3RoID09PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiIzZjNzU3ZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwid2hpdGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjZweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNDcmVkaXRTYWxlIHx8IGNhcnQubGVuZ3RoID09PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwibm90LWFsbG93ZWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC44NXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIjYwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5MZWZ0OiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBcImFsbCAwLjJzIGVhc2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogaXNDcmVkaXRTYWxlIHx8IGNhcnQubGVuZ3RoID09PSAwID8gMC42IDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlzQ3JlZGl0U2FsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJUZXJtaW5hbCBkaXNhYmxlZCBpbiBjcmVkaXQgbW9kZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjYXJ0Lmxlbmd0aCA9PT0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJBZGQgaXRlbXMgdG8gY2FydCBmaXJzdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlByb2Nlc3MgcGF5bWVudCB2aWEgdGVybWluYWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIPCfkrMgVGVybWluYWxcbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgey8qIENhc2hiYWNrIENhcmQtT25seSBOb3RpY2UgKi99XG4gICAgICAgICAgICAgICAgICAgIHsoTnVtYmVyKGNhc2hiYWNrQW1vdW50KSB8fCAwKSA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZThmNGZkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgIzg1YzFlOVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuODVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiIzJlODZjMVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiNTAwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblRvcDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAg8J+aq3tcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIENhc2ggcGF5bWVudCBkaXNhYmxlZCBmb3IgY2FzaGJhY2sgdHJhbnNhY3Rpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3N0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjhyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6IFwiMC4yNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuOSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgQ3VzdG9tZXIgbXVzdCBwYXkgYnkgY2FyZCDigKIgQ2FzaCByZWdpc3RlcjogLVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7KE51bWJlcihjYXNoYmFja0Ftb3VudCkgfHwgMCkudG9GaXhlZCgyKX0gK3tcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgeyhOdW1iZXIoY2FzaGJhY2tGZWUpIHx8IDApLnRvRml4ZWQoMil9IHByb2ZpdFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgICAgeyFpc0NyZWRpdFNhbGUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y2FzaGJhY2sgPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmZmYzY2RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgI2ZmZWFhN1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPkNhc2hiYWNrOiAke2Nhc2hiYWNrLnRvRml4ZWQoMil9PC9zdHJvbmc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6IFwiMC44NXJlbVwiLCBjb2xvcjogXCIjODU2NDA0XCIgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXF1aXJlcyBjYXJkIHBheW1lbnQ6ICRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsodG90YWwgKyBjYXNoYmFjaykudG9GaXhlZCgyKX0gKFB1cmNoYXNlOiAkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dG90YWwudG9GaXhlZCgyKX0gKyBDYXNoYmFjazogJFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2Nhc2hiYWNrLnRvRml4ZWQoMil9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuOHJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIjZDY4OTEwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblRvcDogXCIwLjI1cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiNTAwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCfkrMgQ3VzdG9tZXIgcGF5cyBieSBjYXJkIOKAoiDwn5K1IFlvdSBnaXZlICRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjYXNoYmFjay50b0ZpeGVkKDIpfSBjYXNoIGZyb20gcmVnaXN0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IGlzU3VmZmljaWVudCA/IFwiIzJlY2M3MVwiIDogXCIjZTc0YzNjXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCI2MDBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2lzU3VmZmljaWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYENhcmQgUGF5bWVudDogJCR7cGFpZENhcmQudG9GaXhlZCgyKX0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2UgPiAwICYmIGNhc2hiYWNrID09PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBgIOKAlCBDaGFuZ2U6ICQke2NoYW5nZS50b0ZpeGVkKDIpfWBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNoYmFjayA+IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGAg4oCUIENhc2hiYWNrIEdpdmVuOiAkJHtjYXNoYmFjay50b0ZpeGVkKDIpfWBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjYXNoYmFjayA+IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGBDYXJkIHBheW1lbnQgbmVlZGVkOiAkJHsoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsICsgY2FzaGJhY2tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkudG9GaXhlZCgyKX0gKEN1cnJlbnQ6ICQke3BhaWRDYXJkLnRvRml4ZWQoMil9KWBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGBBbW91bnQgZHVlOiAkJHsodG90YWwgLSBwYWlkVG90YWwpLnRvRml4ZWQoMil9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICB7cGF5bWVudEVycm9yICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogXCIjZTc0YzNjXCIgfX0+e3BheW1lbnRFcnJvcn08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgICAgPENoZWNrb3V0QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17cHJvY2Vzc0NoZWNrb3V0fVxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc0NyZWRpdFNhbGUgPyBmYWxzZSA6ICFpc1N1ZmZpY2llbnR9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgYSBiYWxhbmNlIHBheW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0JhbGFuY2VQYXltZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhaWRDYXNoID0gTnVtYmVyKHBhcnNlRmxvYXQoY2FzaEFtb3VudCkgfHwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhaWRDYXJkID0gTnVtYmVyKHBhcnNlRmxvYXQoY2FyZEFtb3VudCkgfHwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBheW1lbnRUb3RhbCA9IHBhaWRDYXNoICsgcGFpZENhcmQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1c3RvbWVyQmFsYW5jZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRDdXN0b21lcj8uYmFsYW5jZSB8fCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZW1haW5pbmdCYWxhbmNlID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lckJhbGFuY2UgLSBwYXltZW50VG90YWw7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBheW1lbnRUb3RhbCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkVudGVyIFBheW1lbnQgQW1vdW50XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVtYWluaW5nQmFsYW5jZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFBheSAkJHtwYXltZW50VG90YWwudG9GaXhlZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfSAoQmFsYW5jZSBSZW1haW5pbmc6ICQke3JlbWFpbmluZ0JhbGFuY2UudG9GaXhlZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfSlgO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgUGF5ICQke3BheW1lbnRUb3RhbC50b0ZpeGVkKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9IChCYWxhbmNlIFBhaWQpYDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzQ3JlZGl0U2FsZSkgcmV0dXJuIFwiUHJvY2VzcyBQYXltZW50XCI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1YnRvdGFsID0gY2FsY3VsYXRlVG90YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRheCA9IGNhbGN1bGF0ZVRheCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG90YWwgPSArKHN1YnRvdGFsICsgdGF4KS50b0ZpeGVkKDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FzaGJhY2sgPSBOdW1iZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQoY2FzaGJhY2tBbW91bnQpIHx8IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsb3R0byA9IE51bWJlcihwYXJzZUZsb2F0KGxvdHRvV2lubmluZ3MpIHx8IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmluYWxUb3RhbCA9IHRvdGFsICsgY2FzaGJhY2sgLSBsb3R0bztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhaWRDYXNoID0gTnVtYmVyKHBhcnNlRmxvYXQoY2FzaEFtb3VudCkgfHwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWlkQ2FyZCA9IE51bWJlcihwYXJzZUZsb2F0KGNhcmRBbW91bnQpIHx8IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFpZFRvdGFsID0gcGFpZENhc2ggKyBwYWlkQ2FyZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwZWNpZmllZENyZWRpdEFtb3VudCA9IE51bWJlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChjcmVkaXRBbW91bnQpIHx8IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcGVjaWZpZWRDcmVkaXRBbW91bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBheW1lbnROZWVkZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsVG90YWwgLSBzcGVjaWZpZWRDcmVkaXRBbW91bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgUHJvY2VzcyBTYWxlIChQYXltZW50OiAkJHtwYXltZW50TmVlZGVkLnRvRml4ZWQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfSwgQ3JlZGl0OiAkJHtzcGVjaWZpZWRDcmVkaXRBbW91bnQudG9GaXhlZCgyKX0pYDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNyZWRpdEJhbGFuY2UgPSBNYXRoLm1heChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsVG90YWwgLSBwYWlkVG90YWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhaWRUb3RhbCA+IDAgJiYgY3JlZGl0QmFsYW5jZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFByb2Nlc3MgUGFydGlhbCBQYXltZW50IChDcmVkaXQ6ICQke2NyZWRpdEJhbGFuY2UudG9GaXhlZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfSlgO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhaWRUb3RhbCA+PSBmaW5hbFRvdGFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiUHJvY2VzcyBGdWxsIFBheW1lbnRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJDcmVhdGUgRnVsbCBDcmVkaXQgU2FsZVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSkoKX1cbiAgICAgICAgICAgICAgICAgICAgPC9DaGVja291dEJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSkoKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9DaGVja291dFBhbmVsPlxuICAgICAgPC9QT1NHcmlkPlxuICAgICAgXG4gICAgICA8L0NvbnRhaW5lcj5cbiAgICA8L1BPU1dyYXBwZXI+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBPU1BhZ2UoKSB7XG4gIHJldHVybiAoXG4gICAgPFN1c3BlbnNlXG4gICAgICBmYWxsYmFjaz17XG4gICAgICAgIDxkaXYgc3R5bGU9e3sgcGFkZGluZzogXCIycmVtXCIsIHRleHRBbGlnbjogXCJjZW50ZXJcIiB9fT5cbiAgICAgICAgICBMb2FkaW5nIFBPUyBzeXN0ZW0uLi5cbiAgICAgICAgPC9kaXY+XG4gICAgICB9XG4gICAgPlxuICAgICAgPFBPU0NvbnRlbnQgLz5cbiAgICA8L1N1c3BlbnNlPlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwiU3VzcGVuc2UiLCJ1c2VTZWFyY2hQYXJhbXMiLCJ1c2VJbnZlbnRvcnlNYW5hZ2VyIiwidXNlQXBwRGlzcGF0Y2giLCJ1c2VFbnN1cmVJbnZlbnRvcnkiLCJ1cGRhdGVJbnZlbnRvcnlBZnRlclRyYW5zYWN0aW9uIiwidXBkYXRlSXRlbVN0b2NrTG9jYWwiLCJsb2FkSW52ZW50b3J5IiwiQ29udGFpbmVyIiwiUE9TR3JpZCIsIlByb2R1Y3RzUGFuZWwiLCJDaGVja291dFBhbmVsIiwiUHJvZHVjdEl0ZW0iLCJDYXJ0SXRlbSIsIlNlYXJjaEJhciIsIkJ1dHRvbiIsIkNhdGVnb3J5RmlsdGVyIiwiVG90YWwiLCJDaGVja291dEJ1dHRvbiIsIlJlY2VpcHRTZWN0aW9uIiwiT25TY3JlZW5LZXlib2FyZCIsInN0eWxlZCIsIlBPU1dyYXBwZXIiLCJkaXYiLCJLZXlib2FyZEFyZWEiLCJpbml0aWFsSW52ZW50b3J5IiwiaWQiLCJuYW1lIiwiY2F0ZWdvcnkiLCJwcmljZSIsInN0b2NrIiwibG93U3RvY2tUaHJlc2hvbGQiLCJ0YXhhYmxlIiwiUE9TQ29udGVudCIsImRpc3BhdGNoIiwiaXRlbXMiLCJpbnZlbnRvcnkiLCJsb2FkaW5nIiwiaW52ZW50b3J5TG9hZGluZyIsImNhdGVnb3JpZXMiLCJnZXRGaWx0ZXJlZEludmVudG9yeSIsImludmVudG9yeUxvYWRlZCIsInNlYXJjaFBhcmFtcyIsImNhcnQiLCJzZXRDYXJ0Iiwic2VhcmNoVGVybSIsInNldFNlYXJjaFRlcm0iLCJjYXRlZ29yeUZpbHRlciIsInNldENhdGVnb3J5RmlsdGVyIiwic2VhcmNoSW5wdXRSZWYiLCJjYXNoQW1vdW50UmVmIiwiY2FyZEFtb3VudFJlZiIsImRpc2NvdW50UmVmIiwiY2FzaGJhY2tBbW91bnRSZWYiLCJjYXNoYmFja0ZlZVJlZiIsImxvdHRvV2lubmluZ3NSZWYiLCJjcmVkaXRDdXN0b21lck5hbWVSZWYiLCJiYXJjb2RlQnVmZmVyIiwic2V0QmFyY29kZUJ1ZmZlciIsImxhc3RLZXlUaW1lIiwic2V0TGFzdEtleVRpbWUiLCJzaG93UmVjZWlwdCIsInNldFNob3dSZWNlaXB0IiwibGFzdFRyYW5zYWN0aW9uIiwic2V0TGFzdFRyYW5zYWN0aW9uIiwiY2FzaEFtb3VudCIsInNldENhc2hBbW91bnQiLCJjYXJkQW1vdW50Iiwic2V0Q2FyZEFtb3VudCIsImNhc2hiYWNrQW1vdW50Iiwic2V0Q2FzaGJhY2tBbW91bnQiLCJjYXNoYmFja0ZlZSIsInNldENhc2hiYWNrRmVlIiwiY2FzaGJhY2tFbmFibGVkIiwic2V0Q2FzaGJhY2tFbmFibGVkIiwibG90dG9XaW5uaW5ncyIsInNldExvdHRvV2lubmluZ3MiLCJwYXltZW50RXJyb3IiLCJzZXRQYXltZW50RXJyb3IiLCJhdXRvRmlsbE90aGVyIiwic2V0QXV0b0ZpbGxPdGhlciIsImxhc3RFZGl0ZWQiLCJzZXRMYXN0RWRpdGVkIiwic2hvd0tleWJvYXJkIiwic2V0U2hvd0tleWJvYXJkIiwiYWN0aXZlSW5wdXRSZWYiLCJzZXRBY3RpdmVJbnB1dFJlZiIsImtleWJvYXJkTW9kZSIsInNldEtleWJvYXJkTW9kZSIsImhhbmRsZUlucHV0Rm9jdXMiLCJpbnB1dFJlZiIsImlzTnVtZXJpYyIsInNob3dLZXlib2FyZEZvcklucHV0IiwiaXNDcmVkaXRTYWxlIiwic2V0SXNDcmVkaXRTYWxlIiwiY3JlZGl0Q3VzdG9tZXJOYW1lIiwic2V0Q3JlZGl0Q3VzdG9tZXJOYW1lIiwiY3JlZGl0QW1vdW50Iiwic2V0Q3JlZGl0QW1vdW50IiwiaXNBdXRvQ2FsY3VsYXRpbmciLCJzZXRJc0F1dG9DYWxjdWxhdGluZyIsImV4aXN0aW5nQ3VzdG9tZXJzIiwic2V0RXhpc3RpbmdDdXN0b21lcnMiLCJzaG93Q3VzdG9tZXJTdWdnZXN0aW9ucyIsInNldFNob3dDdXN0b21lclN1Z2dlc3Rpb25zIiwic2VsZWN0ZWRDdXN0b21lciIsInNldFNlbGVjdGVkQ3VzdG9tZXIiLCJjdXN0b21lckJhbGFuY2UiLCJzZXRDdXN0b21lckJhbGFuY2UiLCJzaG93UGF5bWVudE9wdGlvbnMiLCJzZXRTaG93UGF5bWVudE9wdGlvbnMiLCJjYXJkVHlwZSIsInNldENhcmRUeXBlIiwiY2FyZEZlZUVuYWJsZWQiLCJzZXRDYXJkRmVlRW5hYmxlZCIsIkNBUkRfRkVFX0FNT1VOVCIsImlzQmFsYW5jZVBheW1lbnQiLCJsZW5ndGgiLCJkaXNjb3VudEFtb3VudCIsInNldERpc2NvdW50QW1vdW50Iiwic2hvd01hbnVhbEVudHJ5Iiwic2V0U2hvd01hbnVhbEVudHJ5IiwibWFudWFsSXRlbSIsInNldE1hbnVhbEl0ZW0iLCJxdWFudGl0eSIsImZpbHRlcmVkSW52ZW50b3J5IiwiYWRkVG9DYXJ0IiwicHJvZHVjdCIsImV4aXN0aW5nSXRlbSIsImlzTWFudWFsIiwiZmluZCIsIml0ZW0iLCJtYXAiLCJpc01hdGNoIiwibmV3U3RvY2siLCJhcHBseVRheCIsImhhbmRsZVZvaWRJdGVtIiwiaXRlbUlkIiwiaXRlbU5hbWUiLCJjb25maXJtVm9pZCIsImNvbmZpcm0iLCJpdGVtVG9Wb2lkIiwicCIsImZpbHRlciIsImhhbmRsZURlY3JlYXNlUXVhbnRpdHkiLCJ1cGRhdGVDYXJ0UXVhbnRpdHkiLCJuZXdRdWFudGl0eSIsImNhcnRJdGVtIiwicXVhbnRpdHlEaWZmIiwicmVtb3ZlRnJvbUNhcnQiLCJpdGVtVG9SZW1vdmUiLCJ0b2dnbGVJdGVtVGF4IiwiaGFuZGxlU2VhcmNoRW50ZXIiLCJ0cmltIiwic2VhcmNoUmVzdWx0cyIsInByZXYiLCJmb3VuZEl0ZW0iLCJjdXJyZW50IiwiZm9jdXMiLCJoYW5kbGVEZWJ1Z1JlZnJlc2giLCJjb25zb2xlIiwibG9nIiwiaXNDYXRlZ29yeVRheGFibGUiLCJ0YXhhYmxlS2V5d29yZHMiLCJub25UYXhhYmxlS2V5d29yZHMiLCJjYXRlZ29yeUxvd2VyIiwidG9Mb3dlckNhc2UiLCJzb21lIiwia2V5d29yZCIsImluY2x1ZGVzIiwiYWRkTWFudWFsSXRlbSIsInBhcnNlRmxvYXQiLCJhbGVydCIsIm5vcm1hbGl6ZWROYW1lIiwicmVwbGFjZSIsInByaWNlU3RyIiwidG9GaXhlZCIsIm1hbnVhbElkIiwibmV3SXRlbSIsImkiLCJjYWxjdWxhdGVTdWJ0b3RhbCIsInJlZHVjZSIsInRvdGFsIiwiY2FsY3VsYXRlVG90YWwiLCJzdWJ0b3RhbCIsImRpc2NvdW50IiwiTnVtYmVyIiwiY2JGZWUiLCJjYXJkRmVlSW5Ub3RhbCIsIk1hdGgiLCJtYXgiLCJjYWxjdWxhdGVUYXgiLCJkaXNjb3VudGVkU3VidG90YWwiLCJvcmlnaW5hbFN1YnRvdGFsIiwidGF4YWJsZU9yaWdpbmFsIiwiZ2V0VGF4YWJsZVRvdGFsIiwidGF4YWJsZURpc2NvdW50ZWQiLCJnZXROb25UYXhhYmxlVG90YWwiLCJwcm9jZXNzQ3VzdG9tZXJCYWxhbmNlUGF5bWVudCIsInBheW1lbnRUb3RhbCIsImNhc2hQYWlkIiwiY2FyZFBhaWQiLCJyZW1haW5pbmdCYWxhbmNlIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImFjdGlvbiIsImN1c3RvbWVyTmFtZSIsImFtb3VudCIsIm9rIiwiZXJyb3JEYXRhIiwianNvbiIsIkVycm9yIiwiZXJyb3IiLCJyZXN1bHQiLCJwYXltZW50VHJhbnNhY3Rpb24iLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJ0YXhhYmxlQW1vdW50Iiwibm9uVGF4YWJsZUFtb3VudCIsInRheCIsImZpbmFsVG90YWwiLCJjYXNoYmFjayIsInBheW1lbnRCcmVha2Rvd24iLCJjaGFuZ2UiLCJpc1BhcnRpYWxQYXltZW50IiwiY3JlZGl0QmFsYW5jZSIsInBhaWRBbW91bnQiLCJjcmVkaXRTdGF0dXMiLCJwcmV2aW91c0JhbGFuY2UiLCJuZXdCYWxhbmNlIiwidHJhbnNhY3Rpb25SZXNwb25zZSIsInRyYW5zYWN0aW9uRGF0YSIsImJhbGFuY2UiLCJjIiwibWVzc2FnZSIsImhhbmRsZVRlcm1pbmFsUGF5bWVudCIsInByb2Nlc3NvciIsInRlcm1pbmFsSWQiLCJ0ZXJtaW5hbFJlc3VsdCIsInN1Y2Nlc3MiLCJTdHJpbmciLCJ0cmFuc2FjdGlvbklkIiwibGFzdDQiLCJzZXRUaW1lb3V0IiwicHJvY2Vzc0NoZWNrb3V0Iiwic3VidG90YWxXaXRoRmVlcyIsInBhaWRDYXNoIiwicGFpZENhcmQiLCJwYWlkVG90YWwiLCJ0ZW1wTG90dG9BbW91bnQiLCJsb3R0b0Ftb3VudCIsInRvdGFsV2l0aENhc2hiYWNrIiwiaXNOYU4iLCJjYXJkRmVlRm9yQ2FsYyIsInRvdGFsQ2FyZEZlZSIsInNwZWNpZmllZENyZWRpdEFtb3VudCIsInJlcXVpcmVkUGF5bWVudCIsImZpbmFsQ2FzaEFtb3VudCIsImZpbmFsQ2FyZEFtb3VudCIsInRvdGFsT3dlZCIsIm1pbiIsInJlbWFpbmluZ1RvdGFsIiwiY2FzaFJhdGlvIiwiY2FyZFJhdGlvIiwicHVzaCIsInRyYW5zYWN0aW9uSXRlbXMiLCJjYXJkRmVlRm9ySXRlbSIsImNjQ2hhcmdlRm9yTGluZUl0ZW0iLCJuZXdTdWJ0b3RhbCIsIm5ld1RheGFibGVUb3RhbCIsIm5ld05vblRheGFibGVUb3RhbCIsIm5ld1RheCIsIm5ld1RvdGFsIiwidHJhbnNhY3Rpb24iLCJ0aGVuIiwiciIsImRhdGEiLCJjcmVkaXRBY2NvdW50UmVzcG9uc2UiLCJ3YXJuIiwidGV4dCIsInVwZGF0ZWRDdXN0b21lclJlc3BvbnNlIiwidXBkYXRlZEFjY291bnQiLCJhY2NvdW50IiwiZmV0Y2hFeGlzdGluZ0N1c3RvbWVycyIsImVyciIsImNhdGNoIiwic3RhcnROZXdTYWxlIiwiY3VzdG9tZXJzIiwiYWNjb3VudHMiLCJoYW5kbGVDdXN0b21lck5hbWVDaGFuZ2UiLCJ2YWx1ZSIsIkFycmF5IiwiaXNBcnJheSIsIm1hdGNoaW5nQ3VzdG9tZXJzIiwiY3VzdG9tZXIiLCJleGFjdE1hdGNoIiwiaGFuZGxlQ3VzdG9tZXJTZWxlY3Rpb24iLCJwcm9jZXNzQ3VzdG9tZXJQYXltZW50IiwicGF5bWVudEFtb3VudCIsInVwZGF0ZWRDdXN0b21lciIsImNyZWRpdFBheW1lbnRQYXJhbSIsImdldCIsInRhcmdldEN1c3RvbWVyIiwibmV3U2FsZVBhcmFtIiwidXJsIiwiVVJMIiwid2luZG93IiwibG9jYXRpb24iLCJkZWxldGUiLCJoaXN0b3J5IiwicmVwbGFjZVN0YXRlIiwic3dhcFBheW1lbnRzIiwiY3VycmVudENhc2giLCJjdXJyZW50Q2FyZCIsInByaW50UmVjZWlwdCIsInByaW50V2luZG93Iiwib3BlbiIsInJlY2VpcHRDb250ZW50IiwidG9TdHJpbmciLCJzbGljZSIsInRvTG9jYWxlU3RyaW5nIiwiam9pbiIsImluY2x1ZGVUYXgiLCJ0b1VwcGVyQ2FzZSIsImRvY3VtZW50Iiwid3JpdGUiLCJjbG9zZSIsImxvdHRvIiwibmV3Q2FyZCIsIm5ld0Nhc2giLCJoYW5kbGVLZXlEb3duIiwiZXZlbnQiLCJhY3RpdmVFbGVtZW50IiwiaXNUeXBpbmdJbklucHV0IiwidGFnTmFtZSIsImNvbnRlbnRFZGl0YWJsZSIsImN1cnJlbnRUaW1lIiwibm93IiwidGltZURpZmYiLCJpc1NjYW5uZXJJbnB1dCIsImtleSIsImhhbmRsZUJhcmNvZGVTY2FubmVkIiwiaGFuZGxlRm9jdXNBbnl3aGVyZSIsImNsaWNrZWRFbGVtZW50IiwidGFyZ2V0IiwiaXNGb3JtRWxlbWVudCIsImlzQ2F0ZWdvcnlGaWx0ZXIiLCJjbG9zZXN0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJiYXJjb2RlIiwiZm91bmRQcm9kdWN0IiwiaDIiLCJjbGFzc05hbWUiLCJoMyIsImhyIiwic3BhbiIsInN0eWxlIiwiZm9udFdlaWdodCIsImNvbG9yIiwic3Ryb25nIiwiaWR4IiwiZGlzcGxheSIsImdhcCIsIm1hcmdpblRvcCIsIm9uQ2xpY2siLCJiYWNrZ3JvdW5kQ29sb3IiLCJqdXN0aWZ5Q29udGVudCIsImFsaWduSXRlbXMiLCJtYXJnaW5Cb3R0b20iLCJmb250U2l6ZSIsInBhZGRpbmciLCJiYWNrZ3JvdW5kIiwiYm9yZGVyUmFkaXVzIiwibWFyZ2luTGVmdCIsInBvc2l0aW9uIiwiZmxleCIsInJlZiIsInR5cGUiLCJwbGFjZWhvbGRlciIsIm9uQ2hhbmdlIiwiZSIsIm9uRm9jdXMiLCJvbktleURvd24iLCJtaW5XaWR0aCIsInRpdGxlIiwidG9wIiwicmlnaHQiLCJidXR0b24iLCJib3JkZXIiLCJjdXJzb3IiLCJ3aGl0ZVNwYWNlIiwib25CbHVyIiwib3B0aW9uIiwiZ3JpZFRlbXBsYXRlQ29sdW1ucyIsIm1heEhlaWdodCIsIm92ZXJmbG93WCIsImljb24iLCJkZXNjcmlwdGlvbiIsImRhdGEtY2F0ZWdvcnkiLCJpbnB1dFZhbHVlIiwiaW5wdXRzIiwibnVtZXJpY1ZhbHVlIiwiRXZlbnQiLCJidWJibGVzIiwiZGlzcGF0Y2hFdmVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ0cmFuc2Zvcm0iLCJ0ZXh0QWxpZ24iLCJ0cmFuc2l0aW9uIiwiYm94U2hhZG93Iiwib25Nb3VzZUVudGVyIiwib25Nb3VzZUxlYXZlIiwib3BhY2l0eSIsImxlZnQiLCJib3R0b20iLCJ6SW5kZXgiLCJtYXhXaWR0aCIsImxhYmVsIiwiaW5wdXQiLCJ3aWR0aCIsImF1dG9Gb2N1cyIsInN0ZXAiLCJzZWxlY3QiLCJwYXJzZUludCIsInNob3ciLCJtb2RlIiwib25DbG9zZSIsIm9uS2V5UHJlc3MiLCJvbk1vZGVUb2dnbGUiLCJuZXdNb2RlIiwiaDQiLCJtYXJnaW4iLCJhYnMiLCJkaXNhYmxlZCIsImNoZWNrZWQiLCJmb250U3R5bGUiLCJpc0VuYWJsZWQiLCJjdXJyZW50Q2FyZEFtb3VudCIsImN1cnJlbnRDYXNoQW1vdW50IiwidG90YWxBbW91bnQiLCJuZXdDYXJkQW1vdW50IiwibWFyZ2luUmlnaHQiLCJpc1N1ZmZpY2llbnQiLCJ0b3RhbE5lZWRlZCIsImZsZXhEaXJlY3Rpb24iLCJvdmVyZmxvd1kiLCJmaWx0ZXJlZEN1c3RvbWVycyIsImluZGV4IiwiYm9yZGVyQm90dG9tIiwibmV3Q3VzdG9tZXIiLCJpc05ld0N1c3RvbWVyIiwiYm9yZGVyVG9wIiwidXBkYXRlZEF0IiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwicGF5bWVudE5lZWRlZCIsInBheW1lbnRTdGF0dXMiLCJwYXJzZWQiLCJ2YWxpZENhc2hBbW91bnQiLCJjdXJyZW50Q3JlZGl0IiwicmVtYWluaW5nQW1vdW50IiwibWF4QWxsb3dlZFBheW1lbnQiLCJoZWlnaHQiLCJ2YWxpZENhcmRBbW91bnQiLCJQT1NQYWdlIiwiZmFsbGJhY2siXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/pos/page.js\n"));

/***/ })

});