"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/pos/page",{

/***/ "(app-pages-browser)/./app/pos/page.js":
/*!*************************!*\
  !*** ./app/pos/page.js ***!
  \*************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ POSPage; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _lib_hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/hooks */ \"(app-pages-browser)/./app/lib/hooks.js\");\n/* harmony import */ var _lib_withInventory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/withInventory */ \"(app-pages-browser)/./app/lib/withInventory.js\");\n/* harmony import */ var _lib_slices_inventorySlice__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/slices/inventorySlice */ \"(app-pages-browser)/./app/lib/slices/inventorySlice.js\");\n/* harmony import */ var _styles_posStyles__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../styles/posStyles */ \"(app-pages-browser)/./app/styles/posStyles.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n// Initial inventory data as fallback\nconst initialInventory = [\n    {\n        id: 1,\n        name: \"Coca Cola 355ml\",\n        category: \"Beverages\",\n        price: 1.5,\n        stock: 24,\n        lowStockThreshold: 10,\n        taxable: true\n    },\n    {\n        id: 2,\n        name: \"Lays Classic Chips\",\n        category: \"Snacks\",\n        price: 2.99,\n        stock: 8,\n        lowStockThreshold: 15,\n        taxable: true\n    },\n    {\n        id: 3,\n        name: \"Wonder Bread\",\n        category: \"Bakery\",\n        price: 3.49,\n        stock: 12,\n        lowStockThreshold: 5,\n        taxable: false\n    },\n    {\n        id: 4,\n        name: \"Marlboro Gold\",\n        category: \"Tobacco\",\n        price: 12.99,\n        stock: 3,\n        lowStockThreshold: 5,\n        taxable: true\n    },\n    {\n        id: 5,\n        name: \"Marlboro Red\",\n        category: \"Tobacco\",\n        price: 12.99,\n        stock: 5,\n        lowStockThreshold: 5,\n        taxable: true\n    },\n    {\n        id: 6,\n        name: \"Camel Blue\",\n        category: \"Tobacco\",\n        price: 13.49,\n        stock: 4,\n        lowStockThreshold: 5,\n        taxable: true\n    },\n    {\n        id: 7,\n        name: \"Newport Menthol\",\n        category: \"Tobacco\",\n        price: 13.99,\n        stock: 6,\n        lowStockThreshold: 5,\n        taxable: true\n    },\n    {\n        id: 8,\n        name: \"Red Bull 250ml\",\n        category: \"Beverages\",\n        price: 3.99,\n        stock: 18,\n        lowStockThreshold: 8,\n        taxable: true\n    },\n    {\n        id: 9,\n        name: \"Milk 1L\",\n        category: \"Dairy\",\n        price: 2.79,\n        stock: 15,\n        lowStockThreshold: 5,\n        taxable: false\n    },\n    {\n        id: 10,\n        name: \"Banana (each)\",\n        category: \"Fresh Produce\",\n        price: 0.89,\n        stock: 25,\n        lowStockThreshold: 10,\n        taxable: false\n    },\n    {\n        id: 11,\n        name: \"Coffee Cup 12oz\",\n        category: \"Beverages\",\n        price: 1.99,\n        stock: 30,\n        lowStockThreshold: 10,\n        taxable: true\n    }\n];\nfunction POSContent() {\n    _s();\n    const dispatch = (0,_lib_hooks__WEBPACK_IMPORTED_MODULE_3__.useAppDispatch)();\n    const { items: inventory, loading: inventoryLoading, categories, getFilteredInventory } = (0,_lib_hooks__WEBPACK_IMPORTED_MODULE_3__.useInventoryManager)();\n    const { inventoryLoaded } = (0,_lib_withInventory__WEBPACK_IMPORTED_MODULE_4__.useEnsureInventory)();\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)();\n    const [cart, setCart] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [searchTerm, setSearchTerm] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [categoryFilter, setCategoryFilter] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const searchInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [barcodeBuffer, setBarcodeBuffer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [lastKeyTime, setLastKeyTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [showReceipt, setShowReceipt] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [lastTransaction, setLastTransaction] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [cashAmount, setCashAmount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [cardAmount, setCardAmount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [cashbackAmount, setCashbackAmount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [cashbackFee, setCashbackFee] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [cashbackEnabled, setCashbackEnabled] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [lottoWinnings, setLottoWinnings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [paymentError, setPaymentError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [autoFillOther, setAutoFillOther] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [lastEdited, setLastEdited] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null); // 'cash' | 'card' | null\n    // Credit sale states\n    const [isCreditSale, setIsCreditSale] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [creditCustomerName, setCreditCustomerName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [creditAmount, setCreditAmount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0); // Specific credit amount\n    const [isAutoCalculating, setIsAutoCalculating] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false); // Prevent circular updates\n    // Credit customer management states\n    const [existingCustomers, setExistingCustomers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [showCustomerSuggestions, setShowCustomerSuggestions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [selectedCustomer, setSelectedCustomer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [customerBalance, setCustomerBalance] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [showPaymentOptions, setShowPaymentOptions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Card fee states\n    const [cardType, setCardType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"debit\"); // 'debit' | 'credit'\n    const [cardFeeEnabled, setCardFeeEnabled] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const CARD_FEE_AMOUNT = 0.25; // $0.25 fee for credit cards\n    // Check if this is a balance payment (customer selected and no cart items)\n    const isBalancePayment = selectedCustomer && cart.length === 0;\n    // Discount states\n    const [discountAmount, setDiscountAmount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    // Manual item entry states\n    const [showManualEntry, setShowManualEntry] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [manualItem, setManualItem] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        name: \"\",\n        price: \"\",\n        category: categories.length > 0 ? categories[0] : \"grocery-taxable\",\n        quantity: 1\n    });\n    // Use Redux-managed inventory with smart filtering\n    const filteredInventory = getFilteredInventory(searchTerm, categoryFilter);\n    const addToCart = (product)=>{\n        // For manual items, find existing item by name, price, and category instead of ID\n        let existingItem;\n        if (product.isManual) {\n            existingItem = cart.find((item)=>item.isManual && item.name === product.name && item.price === product.price && item.category === product.category);\n        } else {\n            existingItem = cart.find((item)=>item.id === product.id);\n        }\n        if (existingItem) {\n            setCart(cart.map((item)=>{\n                // For manual items, match by name, price, and category\n                const isMatch = product.isManual ? item.isManual && item.name === product.name && item.price === product.price && item.category === product.category : item.id === product.id;\n                return isMatch ? {\n                    ...item,\n                    quantity: item.quantity + 1\n                } : item;\n            }));\n            // Update inventory stock immediately (optimistic update)\n            if (!product.isManual && product.id) {\n                dispatch((0,_lib_slices_inventorySlice__WEBPACK_IMPORTED_MODULE_5__.updateItemStockLocal)({\n                    id: product.id,\n                    newStock: product.stock - 1\n                }));\n            }\n        } else {\n            setCart([\n                ...cart,\n                {\n                    ...product,\n                    quantity: 1,\n                    applyTax: product.taxable === true\n                }\n            ]);\n            // Update inventory stock immediately (optimistic update)\n            if (!product.isManual && product.id) {\n                dispatch((0,_lib_slices_inventorySlice__WEBPACK_IMPORTED_MODULE_5__.updateItemStockLocal)({\n                    id: product.id,\n                    newStock: product.stock - 1\n                }));\n            }\n        }\n    };\n    const handleVoidItem = (itemId, itemName)=>{\n        const confirmVoid = confirm('Void item: \"'.concat(itemName, '\"?\\n\\nThis will remove the item completely from the cart.'));\n        if (confirmVoid) {\n            // Find the item being voided to restore stock\n            const itemToVoid = cart.find((item)=>item.id === itemId);\n            if (itemToVoid && !itemToVoid.isManual) {\n                // Find the corresponding product in inventory\n                const product = inventory.find((p)=>p.id === itemId);\n                if (product) {\n                    // Restore stock by adding back the quantity being voided\n                    dispatch((0,_lib_slices_inventorySlice__WEBPACK_IMPORTED_MODULE_5__.updateItemStockLocal)({\n                        id: product.id,\n                        newStock: product.stock + itemToVoid.quantity\n                    }));\n                }\n            }\n            setCart(cart.filter((item)=>item.id !== itemId));\n        }\n    };\n    const handleDecreaseQuantity = (itemId)=>{\n        const item = cart.find((item)=>item.id === itemId);\n        if (!item || item.quantity <= 1) return; // Don't allow decrease below 1\n        // Decrease quantity normally\n        updateCartQuantity(itemId, item.quantity - 1);\n    };\n    const updateCartQuantity = (id, newQuantity)=>{\n        if (newQuantity === 0) {\n            // When quantity would become 0, prompt for void confirmation\n            const item = cart.find((item)=>item.id === id);\n            if (item) {\n                handleVoidItem(id, item.name);\n            }\n        } else {\n            // Find the item in cart to check if it's manual\n            const cartItem = cart.find((item)=>item.id === id);\n            if (cartItem && cartItem.isManual) {\n                // Manual items have unlimited stock\n                setCart(cart.map((item)=>item.id === id ? {\n                        ...item,\n                        quantity: newQuantity\n                    } : item));\n            } else {\n                // Regular inventory items - check stock and update inventory\n                const product = inventory.find((p)=>p.id === id);\n                const cartItem = cart.find((item)=>item.id === id);\n                if (product && cartItem) {\n                    const quantityDiff = newQuantity - cartItem.quantity;\n                    const newStock = product.stock - quantityDiff;\n                    setCart(cart.map((item)=>item.id === id ? {\n                            ...item,\n                            quantity: newQuantity\n                        } : item));\n                    // Update inventory stock immediately\n                    dispatch((0,_lib_slices_inventorySlice__WEBPACK_IMPORTED_MODULE_5__.updateItemStockLocal)({\n                        id: product.id,\n                        newStock: newStock\n                    }));\n                }\n            }\n        }\n    };\n    const removeFromCart = (id)=>{\n        // Find the item being removed to restore stock\n        const itemToRemove = cart.find((item)=>item.id === id);\n        if (itemToRemove && !itemToRemove.isManual) {\n            // Find the corresponding product in inventory\n            const product = inventory.find((p)=>p.id === id);\n            if (product) {\n                // Restore stock by adding back the quantity being removed\n                dispatch((0,_lib_slices_inventorySlice__WEBPACK_IMPORTED_MODULE_5__.updateItemStockLocal)({\n                    id: product.id,\n                    newStock: product.stock + itemToRemove.quantity\n                }));\n            }\n        }\n        setCart(cart.filter((item)=>item.id !== id));\n    };\n    const toggleItemTax = (id)=>{\n        setCart(cart.map((item)=>item.id === id ? {\n                ...item,\n                applyTax: !item.applyTax\n            } : item));\n    };\n    // Function to handle search when Enter is pressed\n    const handleSearchEnter = ()=>{\n        if (!searchTerm.trim()) return;\n        // Check if any products match the search term\n        const searchResults = filteredInventory;\n        if (searchResults.length === 0) {\n            // No products found, prompt for manual entry\n            const itemName = searchTerm.trim();\n            setManualItem((prev)=>({\n                    ...prev,\n                    name: itemName\n                }));\n            setShowManualEntry(true);\n        } else if (searchResults.length === 1) {\n            // Exactly one product found - automatically add to cart\n            const foundItem = searchResults[0];\n            addToCart(foundItem);\n            setSearchTerm(\"\"); // Clear search after adding\n            // Focus back on search input for next scan\n            if (searchInputRef.current) {\n                searchInputRef.current.focus();\n            }\n        }\n    // If multiple results, do nothing - let user see the results and click manually\n    };\n    // Debug function to force refresh inventory from database\n    const handleDebugRefresh = async ()=>{\n        console.log(\"=== DEBUG REFRESH TRIGGERED ===\");\n        console.log(\"Current inventory count:\", inventory.length);\n        // Clear search and filters\n        setSearchTerm(\"\");\n        setCategoryFilter(\"\");\n        // Force refresh inventory by bypassing cache\n        await dispatch((0,_lib_slices_inventorySlice__WEBPACK_IMPORTED_MODULE_5__.loadInventory)(true));\n        console.log(\"=== DEBUG REFRESH COMPLETED ===\");\n        console.log(\"New inventory count:\", inventory.length);\n        // Focus back on search input\n        if (searchInputRef.current) {\n            searchInputRef.current.focus();\n        }\n    };\n    // Helper function to determine if a category should be taxable\n    const isCategoryTaxable = (category)=>{\n        // Check if category name contains indicators of taxable items\n        const taxableKeywords = [\n            \"taxable\",\n            \"lotto\",\n            \"lottery\",\n            \"tobacco\",\n            \"alcohol\"\n        ];\n        const nonTaxableKeywords = [\n            \"non-taxable\",\n            \"untaxable\",\n            \"basic\",\n            \"essential\"\n        ];\n        const categoryLower = category.toLowerCase();\n        // First check for explicit non-taxable indicators\n        if (nonTaxableKeywords.some((keyword)=>categoryLower.includes(keyword))) {\n            return false;\n        }\n        // Then check for explicit taxable indicators\n        if (taxableKeywords.some((keyword)=>categoryLower.includes(keyword))) {\n            return true;\n        }\n        // Default to taxable for unknown categories (safer for tax compliance)\n        return true;\n    };\n    // Function to add manual item to cart\n    const addManualItem = ()=>{\n        if (!manualItem.name.trim() || !manualItem.price || parseFloat(manualItem.price) <= 0) {\n            alert(\"Please enter item name and valid price\");\n            return;\n        }\n        // Create a consistent ID based on name, price, and category for manual items\n        const normalizedName = manualItem.name.trim().toLowerCase().replace(/\\s+/g, \"-\");\n        const priceStr = parseFloat(manualItem.price).toFixed(2);\n        const manualId = \"manual-\".concat(normalizedName, \"-\").concat(priceStr, \"-\").concat(manualItem.category);\n        const newItem = {\n            id: manualId,\n            name: manualItem.name.trim(),\n            price: parseFloat(manualItem.price),\n            category: manualItem.category,\n            applyTax: isCategoryTaxable(manualItem.category),\n            stock: 999,\n            isManual: true\n        };\n        // Add to cart with specified quantity\n        for(let i = 0; i < manualItem.quantity; i++){\n            addToCart(newItem);\n        }\n        // Reset manual item form and clear search\n        setManualItem({\n            name: \"\",\n            price: \"\",\n            category: categories.length > 0 ? categories[0] : \"grocery-taxable\",\n            quantity: 1\n        });\n        setShowManualEntry(false);\n        setSearchTerm(\"\"); // Clear search term after adding item\n    };\n    const calculateSubtotal = ()=>{\n        return cart.reduce((total, item)=>total + item.price * item.quantity, 0);\n    };\n    const calculateTotal = ()=>{\n        const subtotal = calculateSubtotal();\n        const discount = Number(parseFloat(discountAmount) || 0);\n        const cbFee = Number(parseFloat(cashbackFee) || 0); // Add cashback fee if present\n        // New card fee logic - only charge for credit cards, not debit\n        const cardFeeInTotal = cardFeeEnabled && cardType === \"credit\" ? CARD_FEE_AMOUNT : 0;\n        // Use the higher of new card fee or legacy charge (not both)\n        const totalCardFee = cardFeeInTotal;\n        return Math.max(0, subtotal - discount + cbFee + totalCardFee); // Ensure total doesn't go negative\n    };\n    const calculateTax = ()=>{\n        // Calculate tax on discounted amount for taxable items\n        const discountedSubtotal = calculateTotal(); // This already has discount applied\n        const originalSubtotal = calculateSubtotal();\n        const taxableOriginal = getTaxableTotal();\n        if (originalSubtotal === 0) return 0;\n        // Calculate proportional discount on taxable items\n        const taxableDiscounted = taxableOriginal * (discountedSubtotal / originalSubtotal);\n        return taxableDiscounted * 0.13; // 13% HST for Ontario, Canada\n    };\n    const getTaxableTotal = ()=>{\n        return cart.reduce((total, item)=>{\n            if (item.applyTax === true) {\n                return total + item.price * item.quantity;\n            }\n            return total;\n        }, 0);\n    };\n    const getNonTaxableTotal = ()=>{\n        return cart.reduce((total, item)=>{\n            if (item.applyTax !== true) {\n                return total + item.price * item.quantity;\n            }\n            return total;\n        }, 0);\n    };\n    // Process payment for existing customer balance\n    const processCustomerBalancePayment = async (paymentTotal, cashPaid, cardPaid)=>{\n        if (!selectedCustomer || customerBalance <= 0) {\n            alert(\"No customer selected or customer has no outstanding balance\");\n            return;\n        }\n        if (paymentTotal <= 0) {\n            alert(\"Please enter a payment amount in cash or card\");\n            return;\n        }\n        // Calculate remaining balance after payment\n        const remainingBalance = Math.max(0, customerBalance - paymentTotal);\n        try {\n            // Process the payment against customer's account\n            const response = await fetch(\"/api/credit/accounts\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    action: \"payment\",\n                    customerName: selectedCustomer.customerName,\n                    amount: paymentTotal\n                })\n            });\n            if (!response.ok) {\n                const errorData = await response.json();\n                throw new Error(errorData.error || \"Payment processing failed\");\n            }\n            const result = await response.json();\n            // Create a payment transaction record\n            const paymentTransaction = {\n                timestamp: new Date().toISOString(),\n                items: [\n                    {\n                        id: \"balance-payment\",\n                        name: \"Balance Payment - \".concat(selectedCustomer.customerName),\n                        quantity: 1,\n                        price: paymentTotal,\n                        applyTax: false,\n                        category: \"Payment\"\n                    }\n                ],\n                originalSubtotal: paymentTotal,\n                discount: 0,\n                subtotal: paymentTotal,\n                taxableAmount: 0,\n                nonTaxableAmount: paymentTotal,\n                tax: 0,\n                total: paymentTotal,\n                finalTotal: paymentTotal,\n                cashback: 0,\n                paymentBreakdown: [\n                    ...cashPaid > 0 ? [\n                        {\n                            method: \"cash\",\n                            amount: cashPaid\n                        }\n                    ] : [],\n                    ...cardPaid > 0 ? [\n                        {\n                            method: \"card\",\n                            amount: cardPaid\n                        }\n                    ] : []\n                ],\n                change: 0,\n                isCreditSale: false,\n                isPartialPayment: false,\n                creditBalance: 0,\n                paidAmount: paymentTotal,\n                creditCustomerName: selectedCustomer.customerName,\n                creditStatus: \"payment\",\n                lottoWinnings: 0,\n                isBalancePayment: true,\n                previousBalance: customerBalance,\n                newBalance: remainingBalance\n            };\n            // Save the payment transaction\n            const transactionResponse = await fetch(\"/api/transaction\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"x-api-key\": \"dev-secret\"\n                },\n                body: JSON.stringify(paymentTransaction)\n            });\n            if (transactionResponse.ok) {\n                const transactionData = await transactionResponse.json();\n                // Show success message and receipt\n                setLastTransaction({\n                    id: transactionData.id,\n                    ...paymentTransaction\n                });\n                setShowReceipt(true);\n                // Update local state\n                setCustomerBalance(remainingBalance);\n                setSelectedCustomer({\n                    ...selectedCustomer,\n                    balance: remainingBalance\n                });\n                setExistingCustomers((prev)=>prev.map((c)=>c.customerName === selectedCustomer.customerName ? {\n                            ...c,\n                            balance: remainingBalance\n                        } : c));\n                // Reset payment fields\n                setCashAmount(\"\");\n                setCardAmount(\"\");\n                setPaymentError(\"\");\n                console.log(\"Payment processed: $\".concat(paymentTotal.toFixed(2), \" paid, remaining balance: $\").concat(remainingBalance.toFixed(2)));\n            } else {\n                throw new Error(\"Failed to record payment transaction\");\n            }\n        } catch (error) {\n            console.error(\"Error processing customer payment:\", error);\n            setPaymentError(error.message || \"Failed to process payment\");\n        }\n    };\n    // Terminal Payment Handler\n    const handleTerminalPayment = async (amount)=>{\n        try {\n            // Show processing indicator\n            setPaymentError(\"Processing payment via terminal... Please present card.\");\n            // Call terminal API\n            const response = await fetch(\"/api/terminal\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    amount: amount,\n                    processor: \"chase\",\n                    terminalId: null\n                })\n            });\n            const terminalResult = await response.json();\n            if (!response.ok) {\n                throw new Error(terminalResult.error || \"Terminal request failed\");\n            }\n            if (terminalResult.success) {\n                // Set payment amounts for successful terminal payment\n                setCashAmount(\"0\");\n                setCardAmount(String(amount.toFixed(2)));\n                setLastEdited(\"card\");\n                // Auto-process checkout after successful terminal payment\n                alert(\"✅ Payment Approved!\\n\\nTransaction ID: \".concat(terminalResult.transactionId, \"\\nCard: \").concat(terminalResult.cardType, \" ****\").concat(terminalResult.last4, \"\\nAmount: $\").concat(amount.toFixed(2), \"\\n\\nProcessing sale...\"));\n                // Trigger checkout after short delay\n                setTimeout(()=>{\n                    processCheckout();\n                }, 500);\n            }\n        } catch (error) {\n            console.error(\"Terminal payment failed:\", error);\n            alert(\"❌ Payment Failed\\n\\n\".concat(error.message, \"\\n\\nPlease try again or use manual payment entry.\"));\n            setPaymentError(error.message);\n        }\n    };\n    const processCheckout = ()=>{\n        const originalSubtotal = calculateSubtotal(); // Items total before discount\n        const discount = Number(parseFloat(discountAmount) || 0);\n        const subtotalWithFees = calculateTotal(); // Use calculateTotal() which includes discount and card fees\n        const tax = calculateTax();\n        const total = subtotalWithFees + tax;\n        const cashback = Number(parseFloat(cashbackAmount) || 0);\n        const cbFee = Number(parseFloat(cashbackFee) || 0);\n        // Get payment amounts\n        const paidCash = Number(parseFloat(cashAmount) || 0);\n        const paidCard = Number(parseFloat(cardAmount) || 0);\n        const paidTotal = paidCash + paidCard;\n        const tempLottoAmount = Number(parseFloat(lottoWinnings) || 0);\n        // Special case: Customer balance payment (no items in cart, just paying existing debt)\n        if (selectedCustomer && customerBalance > 0 && cart.length === 0 && paidTotal > 0) {\n            processCustomerBalancePayment(paidTotal, paidCash, paidCard);\n            return;\n        }\n        // Check if there's anything to process (items, cashback, or lotto winnings)\n        if (cart.length === 0 && cashback === 0 && tempLottoAmount === 0) {\n            alert(\"No items in cart, no cashback amount, and no lotto winnings entered\");\n            return;\n        }\n        // Validate credit sale\n        if (isCreditSale && !creditCustomerName.trim()) {\n            alert(\"Please enter customer name for credit sale\");\n            return;\n        }\n        // Initialize payment variables (reuse the ones already declared above)\n        const lottoAmount = Number(parseFloat(lottoWinnings) || 0);\n        let totalWithCashback = total + cashback;\n        let change = 0;\n        let creditBalance = 0;\n        let isPartialPayment = false;\n        if (isNaN(paidCash) || isNaN(paidCard) || isNaN(cashback) || isNaN(lottoAmount) || paidCash < 0 || paidCard < 0 || cashback < 0 || lottoAmount < 0) {\n            setPaymentError(\"Invalid payment amounts\");\n            return;\n        }\n        // Calculate total including cashback as line item, minus lotto winnings\n        // Note: card fee is already included in total from calculateTotal()\n        const cardFeeForCalc = cardFeeEnabled && cardType === \"credit\" ? CARD_FEE_AMOUNT : 0;\n        const totalCardFee = cardFeeForCalc;\n        totalWithCashback = total + cashback - lottoAmount;\n        if (isCreditSale) {\n            // Use specific credit amount if provided, otherwise calculate from payment difference\n            const specifiedCreditAmount = Number(parseFloat(creditAmount) || 0);\n            if (specifiedCreditAmount > 0) {\n                // Customer specified exact credit amount\n                creditBalance = specifiedCreditAmount;\n                const requiredPayment = totalWithCashback - creditBalance;\n                if (requiredPayment > paidTotal + 0.001) {\n                    setPaymentError(\"Need $\".concat(requiredPayment.toFixed(2), \" payment for $\").concat(creditBalance.toFixed(2), \" credit (Currently paid: $\").concat(paidTotal.toFixed(2), \")\"));\n                    return;\n                }\n                isPartialPayment = creditBalance > 0 && paidTotal > 0;\n            } else {\n                // Traditional mode: credit = remaining balance after payment\n                creditBalance = Math.max(0, totalWithCashback - paidTotal);\n                isPartialPayment = paidTotal > 0 && creditBalance > 0;\n            }\n            // Validate customer name for any credit amount\n            if (creditBalance > 0 && !creditCustomerName.trim()) {\n                alert(\"Please enter customer name for credit amount\");\n                return;\n            }\n            // If no payment and no credit amount specified, require customer name\n            if (paidTotal === 0 && creditBalance === 0 && !creditCustomerName.trim()) {\n                alert(\"Please enter customer name or specify payment/credit amounts\");\n                return;\n            }\n        } else {\n            // For non-credit sales, require full payment\n            // For cashback transactions, require card payment to cover total including cashback\n            if (cashback > 0) {\n                if (paidCard < totalWithCashback - 0.001) {\n                    setPaymentError(\"Cashback requires card payment of $\".concat(totalWithCashback.toFixed(2), \" (Total with Cashback: $\").concat(totalWithCashback.toFixed(2), \")\"));\n                    return;\n                }\n            } else {\n                // Regular transaction without cashback\n                if (paidTotal < totalWithCashback - 0.001) {\n                    setPaymentError(\"Payment is insufficient. Need $\".concat(totalWithCashback.toFixed(2), \" for purchase\"));\n                    return;\n                }\n            }\n            change = cashback > 0 ? 0 : Math.max(0, +(paidTotal - totalWithCashback).toFixed(2));\n        }\n        // Payment breakdown for different transaction types\n        let finalCashAmount = 0;\n        let finalCardAmount = 0;\n        if (isCreditSale) {\n            // Credit sale - no immediate payment\n            finalCashAmount = 0;\n            finalCardAmount = 0;\n        } else {\n            // Regular payment handling - record only the actual sale amount, not overpayment\n            // Cash amount should be the portion of the total that was paid in cash (up to total owed)\n            const totalOwed = totalWithCashback;\n            finalCashAmount = Math.min(paidCash, Math.max(0, totalOwed));\n            finalCardAmount = Math.min(paidCard, Math.max(0, totalOwed - finalCashAmount));\n            if (cashback > 0) {\n                // Cashback transactions: record cash going out and card payment\n                finalCashAmount = -cashback; // Cash reduced from register\n                finalCardAmount = paidCard; // Card payment covers purchase + cashback\n            }\n            // Handle lotto winnings - customer gets cash back if total is negative\n            if (lottoAmount > 0 && totalWithCashback < 0) {\n                // Customer owes nothing and gets money back (lotto winnings exceed purchase total)\n                finalCashAmount = totalWithCashback; // Negative cash amount = cash going out of register\n                finalCardAmount = 0; // No card payment needed\n            } else if (lottoAmount > 0) {\n                // Lotto winnings reduce the amount customer needs to pay\n                // Adjust payment amounts proportionally\n                const remainingTotal = totalWithCashback;\n                if (remainingTotal > 0) {\n                    const cashRatio = paidCash / paidTotal;\n                    const cardRatio = paidCard / paidTotal;\n                    finalCashAmount = remainingTotal * cashRatio;\n                    finalCardAmount = remainingTotal * cardRatio;\n                }\n            }\n        }\n        const paymentBreakdown = [];\n        if (isCreditSale) {\n            // For partial payments, record both payment and credit\n            if (isPartialPayment) {\n                if (paidCash > 0) paymentBreakdown.push({\n                    method: \"cash\",\n                    amount: +paidCash.toFixed(2)\n                });\n                if (paidCard > 0) paymentBreakdown.push({\n                    method: \"card\",\n                    amount: +paidCard.toFixed(2)\n                });\n                paymentBreakdown.push({\n                    method: \"credit\",\n                    amount: +creditBalance.toFixed(2),\n                    customerName: creditCustomerName.trim()\n                });\n            } else {\n                // Full credit sale (no payment)\n                paymentBreakdown.push({\n                    method: \"credit\",\n                    amount: +totalWithCashback.toFixed(2),\n                    customerName: creditCustomerName.trim()\n                });\n            }\n        } else {\n            if (finalCashAmount !== 0) paymentBreakdown.push({\n                method: \"cash\",\n                amount: +finalCashAmount.toFixed(2)\n            });\n            if (finalCardAmount > 0) paymentBreakdown.push({\n                method: \"card\",\n                amount: +finalCardAmount.toFixed(2)\n            });\n        }\n        // Add lotto winnings to payment breakdown for tracking\n        if (lottoAmount > 0) paymentBreakdown.push({\n            method: \"lotto\",\n            amount: +lottoAmount.toFixed(2)\n        });\n        // Include cashback as an item if present\n        const transactionItems = cart.map((c)=>({\n                id: c.id,\n                name: c.name,\n                quantity: c.quantity,\n                price: c.price,\n                applyTax: c.applyTax,\n                category: c.category\n            }));\n        // Add cashback as a line item if present\n        if (cashback > 0) {\n            transactionItems.push({\n                id: \"cashback-item\",\n                name: \"Cashback\",\n                quantity: 1,\n                price: cashback,\n                applyTax: false,\n                category: \"Cashback\"\n            });\n        }\n        // Add cashback fee as a line item if present\n        if (cbFee > 0) {\n            transactionItems.push({\n                id: \"cashback-fee-item\",\n                name: \"Cashback Fee\",\n                quantity: 1,\n                price: cbFee,\n                applyTax: true,\n                category: \"Fees\"\n            });\n        }\n        // Add card fee as a line item if present\n        const cardFeeForItem = cardFeeEnabled && cardType === \"credit\" ? CARD_FEE_AMOUNT : 0;\n        const ccChargeForLineItem = cardFeeForItem;\n        if (ccChargeForLineItem > 0) {\n            transactionItems.push({\n                id: \"card-processing-fee-item\",\n                name: cardFeeEnabled && cardType === \"credit\" ? \"Credit Card Fee\" : \"Card Processing Fee\",\n                quantity: 1,\n                price: ccChargeForLineItem,\n                applyTax: false,\n                category: \"Fees\"\n            });\n        }\n        // Add lotto winnings as a line item if present (negative price = discount)\n        if (lottoAmount > 0) {\n            transactionItems.push({\n                id: \"lotto-winnings\",\n                name: \"Lotto Winnings\",\n                quantity: 1,\n                price: -lottoAmount,\n                applyTax: false,\n                category: \"Lotto\"\n            });\n        }\n        // Add discount as a line item if present (negative price = discount)\n        if (discount > 0) {\n            transactionItems.push({\n                id: \"discount-item\",\n                name: \"Discount\",\n                quantity: 1,\n                price: -discount,\n                applyTax: false,\n                category: \"Discount\"\n            });\n        }\n        // Recalculate totals with cashback, lotto winnings, discount, and cashback fee included as items\n        const newSubtotal = originalSubtotal + cashback - lottoAmount - discount + cbFee;\n        const newTaxableTotal = getTaxableTotal() + cbFee; // cashback fee is taxable, discount/cashback/lotto are non-taxable\n        const newNonTaxableTotal = getNonTaxableTotal() + cashback - lottoAmount - discount;\n        const newTax = tax; // tax already calculated on discounted amount\n        const newTotal = total + cashback - lottoAmount + ccChargeForLineItem;\n        const transaction = {\n            timestamp: new Date().toISOString(),\n            items: transactionItems,\n            originalSubtotal: originalSubtotal,\n            discount: discount,\n            subtotal: newSubtotal,\n            taxableAmount: newTaxableTotal,\n            nonTaxableAmount: newNonTaxableTotal,\n            tax: newTax,\n            total: newTotal,\n            finalTotal: totalWithCashback,\n            cashback: cashback,\n            paymentBreakdown,\n            change,\n            isCreditSale: isCreditSale,\n            isPartialPayment: isPartialPayment,\n            creditBalance: creditBalance,\n            paidAmount: paidTotal,\n            creditCustomerName: isCreditSale ? creditCustomerName.trim() : null,\n            creditStatus: isCreditSale ? creditBalance > 0 ? \"unpaid\" : \"paid\" : null,\n            lottoWinnings: lottoAmount,\n            // Enhanced card fee tracking\n            cardType: cardType,\n            cardFeeEnabled: cardFeeEnabled\n        };\n        // send to server\n        fetch(\"/api/transaction\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"x-api-key\": \"dev-secret\"\n            },\n            body: JSON.stringify(transaction)\n        }).then((r)=>r.json()).then(async (data)=>{\n            if (data && data.transaction) {\n                setLastTransaction({\n                    id: data.id,\n                    ...data.transaction\n                });\n                setShowReceipt(true);\n                setCart([]);\n                setCashAmount(\"\");\n                setCardAmount(\"\");\n                setCashbackAmount(\"\");\n                setLottoWinnings(\"\");\n                setDiscountAmount(\"\");\n                setIsCreditSale(false);\n                setCreditCustomerName(\"\");\n                setCreditAmount(0);\n                setPaymentError(\"\");\n                // Reset card fee states\n                setCardType(\"debit\");\n                setCardFeeEnabled(false);\n                // Update inventory for all sales except full credit sales (no payment)\n                // Partial payments should update inventory since goods are delivered\n                if (!isCreditSale || isPartialPayment) {\n                    dispatch((0,_lib_slices_inventorySlice__WEBPACK_IMPORTED_MODULE_5__.updateInventoryAfterTransaction)(cart));\n                }\n                // Update credit account if this is a credit sale\n                if (isCreditSale && creditCustomerName.trim()) {\n                    try {\n                        const creditAccountResponse = await fetch(\"/api/credit/accounts\", {\n                            method: \"POST\",\n                            headers: {\n                                \"Content-Type\": \"application/json\"\n                            },\n                            body: JSON.stringify({\n                                action: \"addCredit\",\n                                customerName: creditCustomerName.trim(),\n                                amount: creditBalance,\n                                transactionId: data.id\n                            })\n                        });\n                        if (!creditAccountResponse.ok) {\n                            console.warn(\"Failed to update credit account:\", await creditAccountResponse.text());\n                        } else {\n                            const updatedCustomerResponse = await creditAccountResponse.json();\n                            const updatedAccount = updatedCustomerResponse.account;\n                            console.log(\"Credit account updated successfully for customer:\", creditCustomerName.trim(), \"New balance:\", updatedAccount.balance);\n                            // Update local state if this customer was selected\n                            if (selectedCustomer && selectedCustomer.customerName === creditCustomerName.trim()) {\n                                setCustomerBalance(updatedAccount.balance);\n                                setSelectedCustomer(updatedAccount);\n                                // Update the customers list\n                                setExistingCustomers((prev)=>prev.map((c)=>c.customerName === creditCustomerName.trim() ? updatedAccount : c));\n                            } else {\n                                // If no customer selected, refresh the entire list\n                                fetchExistingCustomers();\n                            }\n                        }\n                    } catch (err) {\n                        console.warn(\"Error updating credit account:\", err);\n                    }\n                }\n            } else {\n                console.error(\"Unexpected response from transaction API\", data);\n                setPaymentError(\"Failed to complete transaction\");\n            }\n        }).catch((err)=>{\n            console.error(\"Transaction API error\", err);\n            setPaymentError(\"Failed to complete transaction\");\n        });\n    };\n    const startNewSale = ()=>{\n        setShowReceipt(false);\n        setLastTransaction(null);\n        setCart([]);\n        setCashAmount(\"\");\n        setCardAmount(\"\");\n        setCashbackAmount(\"\");\n        setCashbackFee(\"\");\n        setCashbackEnabled(false);\n        setLottoWinnings(\"\");\n        setDiscountAmount(\"\");\n        setIsCreditSale(false);\n        setCreditCustomerName(\"\");\n        setCreditAmount(0);\n        setPaymentError(\"\");\n        // Reset card fee states\n        setCardType(\"debit\");\n        setCardFeeEnabled(false);\n    };\n    // Credit customer management functions\n    const fetchExistingCustomers = async ()=>{\n        try {\n            const response = await fetch(\"/api/credit/accounts\");\n            if (response.ok) {\n                const data = await response.json();\n                // The API returns accounts in an 'accounts' property\n                const customers = data.accounts || [];\n                console.log(\"Fetched existing customers:\", customers);\n                setExistingCustomers(customers);\n            } else {\n                console.error(\"Failed to fetch existing customers\");\n            }\n        } catch (err) {\n            console.error(\"Error fetching customers:\", err);\n        }\n    };\n    const handleCustomerNameChange = (value)=>{\n        setCreditCustomerName(value);\n        if (value.length > 0 && Array.isArray(existingCustomers)) {\n            const matchingCustomers = existingCustomers.filter((customer)=>customer && customer.customerName && customer.customerName.toLowerCase().includes(value.toLowerCase()));\n            // Always show suggestions when typing (for existing customers or new customer option)\n            setShowCustomerSuggestions(true);\n            // Auto-select if exact match\n            const exactMatch = existingCustomers.find((customer)=>customer && customer.customerName && customer.customerName.toLowerCase() === value.toLowerCase());\n            if (exactMatch) {\n                setSelectedCustomer(exactMatch);\n                setCustomerBalance(exactMatch.balance || 0);\n                setShowPaymentOptions(true);\n            } else {\n                setSelectedCustomer(null);\n                setCustomerBalance(0);\n                setShowPaymentOptions(false);\n            }\n        } else {\n            setShowCustomerSuggestions(false);\n            setSelectedCustomer(null);\n            setCustomerBalance(0);\n            setShowPaymentOptions(false);\n        }\n    };\n    const handleCustomerSelection = (customer)=>{\n        setCreditCustomerName(customer.customerName);\n        setSelectedCustomer(customer);\n        setCustomerBalance(customer.balance || 0);\n        setShowCustomerSuggestions(false);\n        setShowPaymentOptions(true);\n    };\n    const processCustomerPayment = async (paymentAmount)=>{\n        if (!selectedCustomer) return;\n        try {\n            const response = await fetch(\"/api/credit/accounts\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    action: \"payment\",\n                    customerName: selectedCustomer.customerName,\n                    amount: paymentAmount\n                })\n            });\n            if (response.ok) {\n                const updatedCustomer = await response.json();\n                setCustomerBalance(updatedCustomer.balance);\n                setSelectedCustomer(updatedCustomer);\n                // Update the customers list\n                setExistingCustomers((prev)=>prev.map((c)=>c.customerName === updatedCustomer.customerName ? updatedCustomer : c));\n            }\n        } catch (err) {\n            console.error(\"Error processing payment:\", err);\n        }\n    };\n    // Load existing customers when credit sale mode is activated\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isCreditSale && existingCustomers.length === 0) {\n            fetchExistingCustomers();\n        }\n    }, [\n        isCreditSale\n    ]);\n    // Handle creditPayment URL parameter from credit management page\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const creditPaymentParam = searchParams === null || searchParams === void 0 ? void 0 : searchParams.get(\"creditPayment\");\n        if (creditPaymentParam) {\n            console.log(\"Credit payment parameter detected:\", creditPaymentParam);\n            // Enable credit sale mode\n            setIsCreditSale(true);\n            // Set the customer name\n            setCreditCustomerName(creditPaymentParam);\n            // Fetch existing customers to find this specific customer\n            fetchExistingCustomers().then(()=>{\n            // This will be handled by the next useEffect when existingCustomers updates\n            });\n        }\n    }, [\n        searchParams\n    ]);\n    // Auto-select customer when creditPayment parameter is used\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const creditPaymentParam = searchParams === null || searchParams === void 0 ? void 0 : searchParams.get(\"creditPayment\");\n        if (creditPaymentParam && existingCustomers.length > 0) {\n            const targetCustomer = existingCustomers.find((customer)=>customer.customerName.toLowerCase() === creditPaymentParam.toLowerCase());\n            if (targetCustomer) {\n                console.log(\"Auto-selecting customer:\", targetCustomer);\n                setSelectedCustomer(targetCustomer);\n                setCustomerBalance(targetCustomer.balance || 0);\n                setShowPaymentOptions(true);\n                setShowCustomerSuggestions(false);\n            }\n        }\n    }, [\n        existingCustomers,\n        searchParams\n    ]);\n    // Reset to new sale when navigating to POS (e.g., from header navigation)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const newSaleParam = searchParams === null || searchParams === void 0 ? void 0 : searchParams.get(\"newSale\");\n        if (newSaleParam === \"true\") {\n            // Auto-start new sale when newSale=true parameter is present\n            startNewSale();\n            // Clear the newSale parameter from URL without page reload\n            const url = new URL(window.location);\n            url.searchParams.delete(\"newSale\");\n            window.history.replaceState({}, \"\", url);\n        }\n    }, [\n        searchParams\n    ]);\n    const swapPayments = ()=>{\n        const currentCash = cashAmount;\n        const currentCard = cardAmount;\n        setCashAmount(currentCard);\n        setCardAmount(currentCash);\n        // Update last edited to reflect the swap\n        if ((Number(currentCard) || 0) > 0) {\n            setLastEdited(\"cash\");\n        } else if ((Number(currentCash) || 0) > 0) {\n            setLastEdited(\"card\");\n        }\n    };\n    const printReceipt = ()=>{\n        if (!lastTransaction) return;\n        const printWindow = window.open(\"\", \"_blank\");\n        const receiptContent = \"\\n      <!DOCTYPE html>\\n      <html>\\n        <head>\\n          <title>Receipt - Transaction #\".concat((lastTransaction.id || \"N/A\").toString().slice(-8), '</title>\\n          <style>\\n            body {\\n              font-family: \\'Courier New\\', monospace;\\n              font-size: 12px;\\n              margin: 0;\\n              padding: 20px;\\n              max-width: 300px;\\n            }\\n            .header {\\n              text-align: center;\\n              margin-bottom: 20px;\\n            }\\n            .store-name {\\n              font-size: 16px;\\n              font-weight: bold;\\n              margin-bottom: 5px;\\n            }\\n            .receipt-item {\\n              display: flex;\\n              justify-content: space-between;\\n              margin: 2px 0;\\n            }\\n            .receipt-totals {\\n              margin-top: 10px;\\n            }\\n            .total {\\n              font-weight: bold;\\n              border-top: 1px solid #000;\\n              padding-top: 5px;\\n              margin-top: 5px;\\n            }\\n            hr {\\n              border: none;\\n              border-top: 1px solid #000;\\n              margin: 10px 0;\\n            }\\n            .center {\\n              text-align: center;\\n            }\\n            @media print {\\n              body { margin: 0; padding: 10px; }\\n            }\\n          </style>\\n        </head>\\n        <body>\\n          <div class=\"header\">\\n            <div class=\"store-name\">CONVENIENCE STORE</div>\\n            <div>Scarborough, Ontario</div>\\n            <div>Transaction #').concat((lastTransaction.id || \"N/A\").toString().slice(-8), \"</div>\\n            <div>\").concat(new Date(lastTransaction.timestamp).toLocaleString(), \"</div>\\n          </div>\\n          \\n          <hr>\\n          \\n          \").concat(lastTransaction.items.map((item)=>'\\n            <div class=\"receipt-item\">\\n              <div>'.concat(item.name, \" \").concat(!item.taxable ? \"(No HST)\" : \"\", '</div>\\n            </div>\\n            <div class=\"receipt-item\">\\n              <div>').concat(item.quantity, \" x $\").concat(item.price.toFixed(2), \"</div>\\n              <div>$\").concat((item.quantity * item.price).toFixed(2), \"</div>\\n            </div>\\n          \")).join(\"\"), '\\n          \\n          <hr>\\n          \\n          <div class=\"receipt-totals\">\\n            ').concat(lastTransaction.taxableAmount > 0 && lastTransaction.nonTaxableAmount > 0 ? '\\n              <div class=\"receipt-item\">\\n                <span>Taxable Items:</span>\\n                <span>$'.concat(lastTransaction.taxableAmount.toFixed(2), '</span>\\n              </div>\\n              <div class=\"receipt-item\">\\n                <span>Non-Taxable Items:</span>\\n                <span>$').concat(lastTransaction.nonTaxableAmount.toFixed(2), \"</span>\\n              </div>\\n            \") : \"\", \"\\n            \\n            \").concat(lastTransaction.discount > 0 ? '\\n              <div class=\"receipt-item\">\\n                <span>Items Subtotal:</span>\\n                <span>$'.concat(lastTransaction.originalSubtotal.toFixed(2), '</span>\\n              </div>\\n              <div class=\"receipt-item\" style=\"font-weight: bold; color: #e65100;\">\\n                <span>Discount:</span>\\n                <span>-$').concat(lastTransaction.discount.toFixed(2), '</span>\\n              </div>\\n              <div class=\"receipt-item\">\\n                <span>Subtotal:</span>\\n                <span>$').concat(lastTransaction.subtotal.toFixed(2), \"</span>\\n              </div>\\n            \") : '\\n              <div class=\"receipt-item\">\\n                <span>Subtotal:</span>\\n                <span>$'.concat(lastTransaction.subtotal.toFixed(2), \"</span>\\n              </div>\\n            \"), \"\\n            \\n            \").concat(lastTransaction.includeTax && lastTransaction.tax > 0 ? '\\n              <div class=\"receipt-item\">\\n                <span>HST (13%):</span>\\n                <span>$'.concat(lastTransaction.tax.toFixed(2), \"</span>\\n              </div>\\n            \") : \"\", '\\n            \\n            <div class=\"receipt-item total\">\\n              <span>Total:</span>\\n              <span>$').concat(lastTransaction.total.toFixed(2), \"</span>\\n            </div>\\n            \\n            \").concat(lastTransaction.cashback > 0 ? '\\n              <div class=\"receipt-item\" style=\"font-weight: bold; color: #e67e22;\">\\n                <span>Cashback:</span>\\n                <span>$'.concat(lastTransaction.cashback.toFixed(2), \"</span>\\n              </div>\\n            \") : \"\", \"\\n            \\n            \").concat(lastTransaction.paymentBreakdown && lastTransaction.paymentBreakdown.length > 0 ? '\\n              <hr>\\n              <div style=\"font-weight: bold; margin-bottom: 5px;\">Payments</div>\\n              '.concat(lastTransaction.paymentBreakdown.map((p)=>'\\n                <div class=\"receipt-item\">\\n                  <span>'.concat(p.method.toUpperCase(), \":</span>\\n                  <span>$\").concat(p.amount.toFixed(2), \"</span>\\n                </div>\\n              \")).join(\"\"), \"\\n              \").concat(lastTransaction.change > 0 ? '\\n                <div class=\"receipt-item\">\\n                  <span>Change:</span>\\n                  <span>$'.concat(lastTransaction.change.toFixed(2), \"</span>\\n                </div>\\n              \") : \"\", \"\\n            \") : \"\", '\\n          </div>\\n          \\n          <hr>\\n          <div class=\"center\">Thank you for your business!</div>\\n          \\n          <script>\\n            window.onload = function() {\\n              window.print();\\n            }\\n          </script>\\n        </body>\\n      </html>\\n    ');\n        printWindow.document.write(receiptContent);\n        printWindow.document.close();\n    };\n    // When cart changes, reset payment amounts (default card for cashback, otherwise cash)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Don't auto-reset payment amounts when in credit sale mode - let user control them\n        if (isCreditSale) {\n            setPaymentError(\"\");\n            return;\n        }\n        const subtotal = calculateTotal();\n        const tax = calculateTax();\n        const total = +(subtotal + tax).toFixed(2);\n        const cashback = Number(parseFloat(cashbackAmount) || 0);\n        const lotto = Number(parseFloat(lottoWinnings) || 0);\n        const totalWithCashback = total + cashback - lotto;\n        // For cashback transactions, force card payment only\n        if (cashback > 0) {\n            setCashAmount(\"\");\n            setCardAmount(Math.max(0, totalWithCashback));\n            setLastEdited(\"card\");\n        } else {\n            // Default: cash covers the total minus lotto winnings\n            setCashAmount(Math.max(0, totalWithCashback));\n            setCardAmount(0);\n            setLastEdited(\"cash\");\n        }\n        setPaymentError(\"\");\n    }, [\n        cart,\n        cashbackAmount,\n        cashbackFee,\n        lottoWinnings,\n        discountAmount,\n        isCreditSale,\n        cardType,\n        cardFeeEnabled\n    ]);\n    // If auto-fill is enabled and lastEdited is set, update the other amount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!autoFillOther || !lastEdited || isCreditSale) return; // Don't auto-fill in credit sale mode\n        const subtotal = calculateTotal();\n        const tax = calculateTax();\n        const total = +(subtotal + tax).toFixed(2);\n        const cashback = Number(parseFloat(cashbackAmount) || 0);\n        const lotto = Number(parseFloat(lottoWinnings) || 0);\n        const totalWithCashback = total + cashback - lotto;\n        // For cashback transactions, only allow card payment\n        if (cashback > 0) {\n            setCashAmount(\"\");\n            setCardAmount(Math.max(0, totalWithCashback));\n            return;\n        }\n        if (lastEdited === \"cash\") {\n            const paidCash = Number(parseFloat(cashAmount) || 0);\n            const newCard = Math.max(0, +(totalWithCashback - paidCash).toFixed(2));\n            setCardAmount(newCard);\n        } else if (lastEdited === \"card\") {\n            const paidCard = Number(parseFloat(cardAmount) || 0);\n            const newCash = Math.max(0, +(totalWithCashback - paidCard).toFixed(2));\n            setCashAmount(newCash);\n        }\n    }, [\n        autoFillOther,\n        lastEdited,\n        cashAmount,\n        cardAmount,\n        cart,\n        cashbackAmount,\n        cashbackFee,\n        lottoWinnings,\n        discountAmount,\n        isCreditSale,\n        cardType,\n        cardFeeEnabled\n    ]);\n    // Barcode Scanner Functionality\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Auto-focus search input when component mounts\n        if (searchInputRef.current) {\n            searchInputRef.current.focus();\n        }\n        const handleKeyDown = (event)=>{\n            // Don't interfere with barcode scanner when manual entry modal is open\n            if (showManualEntry) {\n                return;\n            }\n            // Don't interfere if user is typing in input fields or form elements\n            const activeElement = document.activeElement;\n            const isTypingInInput = activeElement && (activeElement.tagName === \"INPUT\" || activeElement.tagName === \"TEXTAREA\" || activeElement.tagName === \"SELECT\" || activeElement.contentEditable === \"true\");\n            if (isTypingInInput) {\n                return;\n            }\n            const currentTime = Date.now();\n            const timeDiff = currentTime - lastKeyTime;\n            // If time between keystrokes is less than 50ms, it's likely a barcode scanner\n            // Barcode scanners type very fast (typically 10-30ms between characters)\n            const isScannerInput = timeDiff < 50 && timeDiff > 0;\n            // Only focus search input if user is not typing in any input field and it's not already focused\n            if (document.activeElement !== searchInputRef.current && !isTypingInInput && ![\n                \"Tab\",\n                \"Escape\",\n                \"F1\",\n                \"F2\",\n                \"F3\",\n                \"F4\",\n                \"F5\",\n                \"F6\",\n                \"F7\",\n                \"F8\",\n                \"F9\",\n                \"F10\",\n                \"F11\",\n                \"F12\"\n            ].includes(event.key)) {\n                var _searchInputRef_current;\n                (_searchInputRef_current = searchInputRef.current) === null || _searchInputRef_current === void 0 ? void 0 : _searchInputRef_current.focus();\n            }\n            // Handle barcode scanning (only if not typing in input fields)\n            if (!isTypingInInput) {\n                if (event.key === \"Enter\") {\n                    // End of barcode scan - process the buffer\n                    if (barcodeBuffer.trim().length > 0) {\n                        handleBarcodeScanned(barcodeBuffer.trim());\n                        setBarcodeBuffer(\"\");\n                    }\n                } else if (isScannerInput && event.key.length === 1) {\n                    // Add character to barcode buffer\n                    setBarcodeBuffer((prev)=>prev + event.key);\n                } else if (!isScannerInput) {\n                    // Reset buffer if typing is too slow (manual typing)\n                    setBarcodeBuffer(\"\");\n                }\n            }\n            setLastKeyTime(currentTime);\n        };\n        const handleFocusAnywhere = (event)=>{\n            // Don't interfere when manual entry modal is open\n            if (showManualEntry) {\n                return;\n            }\n            // Don't refocus if clicking on form elements that need focus\n            const clickedElement = event.target;\n            const isFormElement = clickedElement.tagName === \"SELECT\" || clickedElement.tagName === \"OPTION\" || clickedElement.tagName === \"INPUT\" || clickedElement.tagName === \"BUTTON\" || clickedElement.tagName === \"TEXTAREA\";\n            // Don't refocus if clicking on the category filter or its options\n            const isCategoryFilter = clickedElement.closest(\"select\") || clickedElement.tagName === \"SELECT\";\n            if (isFormElement || isCategoryFilter) {\n                return; // Let the form element handle its own focus\n            }\n            // Ensure search input stays focused when clicking elsewhere on the page\n            setTimeout(()=>{\n                if (searchInputRef.current && document.activeElement !== searchInputRef.current && !document.activeElement.closest(\"select\")) {\n                    searchInputRef.current.focus();\n                }\n            }, 100);\n        };\n        // Add event listeners\n        document.addEventListener(\"keydown\", handleKeyDown);\n        document.addEventListener(\"click\", handleFocusAnywhere);\n        // Cleanup function\n        return ()=>{\n            document.removeEventListener(\"keydown\", handleKeyDown);\n            document.removeEventListener(\"click\", handleFocusAnywhere);\n        };\n    }, [\n        barcodeBuffer,\n        lastKeyTime,\n        showManualEntry\n    ]);\n    // Handle barcode scanned\n    const handleBarcodeScanned = (barcode)=>{\n        console.log(\"Barcode scanned:\", barcode);\n        // Use the enhanced search functionality to find products\n        // This will search by barcode, productId, id, name, and category\n        const searchResults = getFilteredInventory(barcode);\n        if (searchResults.length === 1) {\n            // Exactly one product found - automatically add to cart\n            const foundProduct = searchResults[0];\n            addToCart(foundProduct);\n            console.log(\"Product added to cart via barcode:\", foundProduct.name);\n        } else if (searchResults.length > 1) {\n            // Multiple matches - show in search results for user to choose\n            setSearchTerm(barcode);\n            console.log(\"Multiple products found for barcode \".concat(barcode, \":\"), searchResults.map((p)=>p.name));\n        } else {\n            // No product found - automatically prompt for manual entry\n            setSearchTerm(barcode);\n            setManualItem((prev)=>({\n                    ...prev,\n                    name: barcode\n                }));\n            setShowManualEntry(true);\n            console.log(\"Product not found for barcode:\", barcode, \"- opening manual entry\");\n        }\n    };\n    if (showReceipt && lastTransaction) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.Container, {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.ReceiptSection, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        children: \"Transaction Complete!\"\n                    }, void 0, false, {\n                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                        lineNumber: 1804,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"receipt\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                children: \"CONVENIENCE STORE\"\n                            }, void 0, false, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 1806,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: \"Scarborough, Ontario\"\n                            }, void 0, false, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 1807,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: [\n                                    \"Transaction #\",\n                                    (lastTransaction.id || \"N/A\").toString().slice(-8)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 1808,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: new Date(lastTransaction.timestamp).toLocaleString()\n                            }, void 0, false, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 1811,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {}, void 0, false, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 1812,\n                                columnNumber: 13\n                            }, this),\n                            lastTransaction.items.map((item)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"receipt-item\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            children: [\n                                                item.name,\n                                                \" \",\n                                                !item.taxable && \"(No HST)\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 1815,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            children: [\n                                                item.quantity,\n                                                \" x $\",\n                                                item.price.toFixed(2),\n                                                \" = $\",\n                                                (item.quantity * item.price).toFixed(2)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 1818,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, item.id, true, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 1814,\n                                    columnNumber: 15\n                                }, this)),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {}, void 0, false, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 1824,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"receipt-totals\",\n                                children: [\n                                    lastTransaction.taxableAmount > 0 && lastTransaction.nonTaxableAmount > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    \"Taxable Items: $\",\n                                                    lastTransaction.taxableAmount.toFixed(2)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 1829,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    \"Non-Taxable Items: $\",\n                                                    lastTransaction.nonTaxableAmount.toFixed(2)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 1832,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true),\n                                    lastTransaction.discount > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    \"Items Subtotal: $\",\n                                                    lastTransaction.originalSubtotal.toFixed(2)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 1840,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    fontWeight: \"600\",\n                                                    color: \"#e65100\"\n                                                },\n                                                children: [\n                                                    \"Discount: -$\",\n                                                    lastTransaction.discount.toFixed(2)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 1844,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    \"Subtotal: $\",\n                                                    lastTransaction.subtotal.toFixed(2)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 1847,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            \"Subtotal: $\",\n                                            lastTransaction.subtotal.toFixed(2)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 1850,\n                                        columnNumber: 17\n                                    }, this),\n                                    lastTransaction.includeTax && lastTransaction.tax > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            \"HST (13%): $\",\n                                            lastTransaction.tax.toFixed(2)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 1853,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"total\",\n                                        children: [\n                                            \"Total: $\",\n                                            lastTransaction.total.toFixed(2)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 1855,\n                                        columnNumber: 15\n                                    }, this),\n                                    lastTransaction.cashback > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            fontWeight: \"600\",\n                                            color: \"#e67e22\"\n                                        },\n                                        children: [\n                                            \"Cashback: $\",\n                                            lastTransaction.cashback.toFixed(2)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 1859,\n                                        columnNumber: 17\n                                    }, this),\n                                    lastTransaction.paymentBreakdown && lastTransaction.paymentBreakdown.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {}, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 1866,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                    children: \"Payments\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 1868,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 1867,\n                                                columnNumber: 21\n                                            }, this),\n                                            lastTransaction.paymentBreakdown.map((p, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        p.method.toUpperCase(),\n                                                        \": $\",\n                                                        p.amount.toFixed(2)\n                                                    ]\n                                                }, \"payment-\".concat(p.method, \"-\").concat(idx), true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 1871,\n                                                    columnNumber: 23\n                                                }, this)),\n                                            lastTransaction.change > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    \"Change: $\",\n                                                    lastTransaction.change.toFixed(2)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 1876,\n                                                columnNumber: 23\n                                            }, this)\n                                        ]\n                                    }, void 0, true)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 1825,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {}, void 0, false, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 1881,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: \"Thank you for your business!\"\n                            }, void 0, false, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 1882,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                        lineNumber: 1805,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            display: \"flex\",\n                            gap: \"1rem\",\n                            marginTop: \"2rem\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.Button, {\n                                onClick: printReceipt,\n                                style: {\n                                    backgroundColor: \"#27ae60\",\n                                    color: \"white\"\n                                },\n                                children: \"\\uD83D\\uDDA8️ Print Receipt\"\n                            }, void 0, false, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 1885,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.Button, {\n                                onClick: startNewSale,\n                                children: \"New Sale\"\n                            }, void 0, false, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 1891,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                        lineNumber: 1884,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                lineNumber: 1803,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n            lineNumber: 1802,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.Container, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.POSGrid, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.ProductsPanel, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                display: \"flex\",\n                                justifyContent: \"space-between\",\n                                alignItems: \"center\",\n                                marginBottom: \"1rem\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    children: \"Products\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 1910,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        fontSize: \"0.75rem\",\n                                        color: \"#7f8c8d\",\n                                        padding: \"0.25rem 0.5rem\",\n                                        background: \"#f8f9fa\",\n                                        borderRadius: \"4px\"\n                                    },\n                                    children: [\n                                        inventory.length,\n                                        \" items loaded\",\n                                        inventoryLoaded && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            style: {\n                                                marginLeft: \"0.5rem\",\n                                                color: inventoryLoading ? \"#f39c12\" : \"#27ae60\"\n                                            },\n                                            children: [\n                                                \"• \",\n                                                inventoryLoading ? \"syncing...\" : \"ready\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 1922,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 1911,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                            lineNumber: 1902,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                display: \"flex\",\n                                gap: \"1rem\",\n                                marginBottom: \"1rem\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        position: \"relative\",\n                                        flex: 1,\n                                        display: \"flex\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.SearchBar, {\n                                            ref: searchInputRef,\n                                            type: \"text\",\n                                            placeholder: \"Search products... (Barcode Scanner Ready)\",\n                                            value: searchTerm,\n                                            onChange: (e)=>setSearchTerm(e.target.value),\n                                            onKeyDown: (e)=>{\n                                                if (e.key === \"Enter\") {\n                                                    handleSearchEnter();\n                                                }\n                                            }\n                                        }, void 0, false, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 1935,\n                                            columnNumber: 15\n                                        }, this),\n                                        barcodeBuffer && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                position: \"absolute\",\n                                                top: \"-25px\",\n                                                right: \"0\",\n                                                background: \"#27ae60\",\n                                                color: \"white\",\n                                                padding: \"2px 8px\",\n                                                borderRadius: \"4px\",\n                                                fontSize: \"0.8rem\",\n                                                fontWeight: \"bold\"\n                                            },\n                                            children: \"\\uD83D\\uDCF7 Scanning...\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 1948,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 1934,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleDebugRefresh,\n                                    style: {\n                                        padding: \"0.5rem 1rem\",\n                                        background: \"#e74c3c\",\n                                        color: \"white\",\n                                        border: \"none\",\n                                        borderRadius: \"4px\",\n                                        cursor: \"pointer\",\n                                        fontSize: \"0.9rem\",\n                                        whiteSpace: \"nowrap\"\n                                    },\n                                    title: \"Force refresh inventory from database (Debug)\",\n                                    children: \"\\uD83D\\uDD04 Refresh\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 1965,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.CategoryFilter, {\n                                    value: categoryFilter,\n                                    onChange: (e)=>{\n                                        setCategoryFilter(e.target.value);\n                                        // After selection, return focus to search bar\n                                        setTimeout(()=>{\n                                            if (searchInputRef.current) {\n                                                searchInputRef.current.focus();\n                                            }\n                                        }, 100);\n                                    },\n                                    onBlur: (e)=>{\n                                        // When dropdown loses focus (after selection or clicking away), return to search\n                                        setTimeout(()=>{\n                                            if (searchInputRef.current && document.activeElement !== searchInputRef.current) {\n                                                searchInputRef.current.focus();\n                                            }\n                                        }, 100);\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                            value: \"\",\n                                            children: \"All Categories\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2004,\n                                            columnNumber: 15\n                                        }, this),\n                                        categories.map((category)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: category,\n                                                children: category\n                                            }, category, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2006,\n                                                columnNumber: 17\n                                            }, this))\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 1981,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>setShowManualEntry(true),\n                                    style: {\n                                        marginLeft: \"0.5rem\",\n                                        padding: \"0.5rem 1rem\",\n                                        backgroundColor: \"#3498db\",\n                                        color: \"white\",\n                                        border: \"none\",\n                                        borderRadius: \"4px\",\n                                        cursor: \"pointer\",\n                                        fontWeight: \"bold\"\n                                    },\n                                    children: \"+ Manual Item\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 2012,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                            lineNumber: 1933,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                display: \"grid\",\n                                gridTemplateColumns: \"repeat(auto-fit, minmax(160px, 1fr))\",\n                                gap: \"0.8rem\",\n                                marginBottom: \"1.5rem\",\n                                maxHeight: \"200px\",\n                                overflowX: \"auto\"\n                            },\n                            children: [\n                                [\n                                    {\n                                        name: \"Lotto\",\n                                        key: \"Lotto\",\n                                        icon: \"\\uD83C\\uDFB2\",\n                                        color: \"#e74c3c\",\n                                        description: \"Type amount & click to add\"\n                                    },\n                                    {\n                                        name: \"Grocery\",\n                                        key: \"Grocery\",\n                                        icon: \"\\uD83D\\uDED2\",\n                                        color: \"#27ae60\",\n                                        description: \"Type amount & click to add\"\n                                    },\n                                    {\n                                        name: \"Western Union\",\n                                        key: \"WesternUnion\",\n                                        icon: \"\\uD83D\\uDCB8\",\n                                        color: \"#8e44ad\",\n                                        description: \"Type amount & click to add\"\n                                    },\n                                    {\n                                        name: \"Tea\",\n                                        key: \"Tea\",\n                                        icon: \"\\uD83C\\uDF75\",\n                                        color: \"#d35400\",\n                                        description: \"Type amount & click to add\"\n                                    },\n                                    {\n                                        name: \"Bakery\",\n                                        key: \"Bakery\",\n                                        icon: \"\\uD83C\\uDF5E\",\n                                        color: \"#f39c12\",\n                                        description: \"Bread & Baked Goods\"\n                                    },\n                                    {\n                                        name: \"Dairy\",\n                                        key: \"Dairy\",\n                                        icon: \"\\uD83E\\uDD5B\",\n                                        color: \"#16a085\",\n                                        description: \"Milk & Dairy Products\"\n                                    },\n                                    {\n                                        name: \"Beverages\",\n                                        key: \"Beverages\",\n                                        icon: \"\\uD83E\\uDD64\",\n                                        color: \"#3498db\",\n                                        description: \"Drinks & Refreshments\"\n                                    },\n                                    {\n                                        name: \"Tobacco\",\n                                        key: \"Tobacco\",\n                                        icon: \"\\uD83D\\uDEAC\",\n                                        color: \"#95a5a6\",\n                                        description: \"Cigarettes & Cigars\"\n                                    },\n                                    {\n                                        name: \"Snacks\",\n                                        key: \"Snacks\",\n                                        icon: \"\\uD83C\\uDF7F\",\n                                        color: \"#e67e22\",\n                                        description: \"Chips & Snacks\"\n                                    }\n                                ].map((category)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        \"data-category\": category.key,\n                                        onClick: ()=>{\n                                            // Special handling for Lotto, Grocery, Western Union, and Tea categories\n                                            if ((category.key === \"Lotto\" || category.key === \"Grocery\" || category.key === \"WesternUnion\" || category.key === \"Tea\") && searchTerm.trim()) {\n                                                const searchValue = searchTerm.trim();\n                                                const numericValue = parseFloat(searchValue);\n                                                // Check if search term is a valid number\n                                                if (!isNaN(numericValue) && numericValue > 0) {\n                                                    // Create item with the specified amount based on category\n                                                    let newItem;\n                                                    if (category.key === \"Lotto\") {\n                                                        newItem = {\n                                                            id: \"lotto-\".concat(Date.now()),\n                                                            name: \"Lotto $\".concat(numericValue.toFixed(2)),\n                                                            category: \"Lotto\",\n                                                            price: numericValue,\n                                                            stock: 999,\n                                                            lowStockThreshold: 0,\n                                                            applyTax: true,\n                                                            isManual: true\n                                                        };\n                                                    } else if (category.key === \"Grocery\") {\n                                                        newItem = {\n                                                            id: \"grocery-\".concat(Date.now()),\n                                                            name: \"Grocery Item $\".concat(numericValue.toFixed(2)),\n                                                            category: \"Grocery\",\n                                                            price: numericValue,\n                                                            stock: 999,\n                                                            lowStockThreshold: 0,\n                                                            applyTax: true,\n                                                            isManual: true\n                                                        };\n                                                    } else if (category.key === \"WesternUnion\") {\n                                                        newItem = {\n                                                            id: \"western-union-\".concat(Date.now()),\n                                                            name: \"Western Union $\".concat(numericValue.toFixed(2)),\n                                                            category: \"Western Union\",\n                                                            price: numericValue,\n                                                            stock: 999,\n                                                            lowStockThreshold: 0,\n                                                            applyTax: true,\n                                                            isManual: true\n                                                        };\n                                                    } else if (category.key === \"Tea\") {\n                                                        newItem = {\n                                                            id: \"tea-\".concat(Date.now()),\n                                                            name: \"Tea $\".concat(numericValue.toFixed(2)),\n                                                            category: \"Tea\",\n                                                            price: numericValue,\n                                                            stock: 999,\n                                                            lowStockThreshold: 0,\n                                                            applyTax: true,\n                                                            isManual: true\n                                                        };\n                                                    }\n                                                    // Add to cart\n                                                    addToCart(newItem);\n                                                    // Clear search term after adding\n                                                    setSearchTerm(\"\");\n                                                    // Show success feedback\n                                                    console.log(\"Added \".concat(newItem.name, \" to cart\"));\n                                                    // Brief visual feedback by temporarily highlighting the card\n                                                    const currentCard = document.querySelector('[data-category=\"'.concat(category.key, '\"]'));\n                                                    if (currentCard) {\n                                                        currentCard.style.transform = \"scale(1.05)\";\n                                                        setTimeout(()=>{\n                                                            currentCard.style.transform = \"scale(1)\";\n                                                        }, 200);\n                                                    }\n                                                    // Return focus to search bar\n                                                    setTimeout(()=>{\n                                                        if (searchInputRef.current) {\n                                                            searchInputRef.current.focus();\n                                                        }\n                                                    }, 100);\n                                                    return; // Don't set category filter, just add the item\n                                                }\n                                            }\n                                            // Default behavior: set category filter\n                                            setCategoryFilter(category.key);\n                                            // Return focus to search bar after category selection\n                                            setTimeout(()=>{\n                                                if (searchInputRef.current) {\n                                                    searchInputRef.current.focus();\n                                                }\n                                            }, 100);\n                                        },\n                                        style: {\n                                            background: \"linear-gradient(135deg, \".concat(category.color, \", \").concat(category.color, \"dd)\"),\n                                            color: \"white\",\n                                            padding: \"0.8rem\",\n                                            borderRadius: \"10px\",\n                                            cursor: \"pointer\",\n                                            textAlign: \"center\",\n                                            transition: \"all 0.2s ease\",\n                                            boxShadow: categoryFilter === category.key ? \"0 8px 25px \".concat(category.color, \"40\") : \"0 4px 15px rgba(0,0,0,0.1)\",\n                                            transform: categoryFilter === category.key ? \"translateY(-2px)\" : \"translateY(0)\",\n                                            border: categoryFilter === category.key ? \"3px solid \".concat(category.color) : \"3px solid transparent\"\n                                        },\n                                        onMouseEnter: (e)=>{\n                                            if (categoryFilter !== category.key) {\n                                                e.target.style.transform = \"translateY(-1px)\";\n                                                e.target.style.boxShadow = \"0 6px 20px \".concat(category.color, \"30\");\n                                            }\n                                        },\n                                        onMouseLeave: (e)=>{\n                                            if (categoryFilter !== category.key) {\n                                                e.target.style.transform = \"translateY(0)\";\n                                                e.target.style.boxShadow = \"0 4px 15px rgba(0,0,0,0.1)\";\n                                            }\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    fontSize: \"2rem\",\n                                                    marginBottom: \"0.5rem\"\n                                                },\n                                                children: category.icon\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2245,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    fontSize: \"1rem\",\n                                                    fontWeight: \"600\",\n                                                    marginBottom: \"0.25rem\"\n                                                },\n                                                children: category.name\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2248,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    fontSize: \"0.8rem\",\n                                                    opacity: 0.9\n                                                },\n                                                children: category.description\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2257,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, category.key, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2105,\n                                        columnNumber: 15\n                                    }, this)),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    onClick: ()=>{\n                                        setCategoryFilter(\"\");\n                                        setTimeout(()=>{\n                                            if (searchInputRef.current) {\n                                                searchInputRef.current.focus();\n                                            }\n                                        }, 100);\n                                    },\n                                    style: {\n                                        background: categoryFilter === \"\" ? \"linear-gradient(135deg, #2c3e50, #34495e)\" : \"linear-gradient(135deg, #ecf0f1, #bdc3c7)\",\n                                        color: categoryFilter === \"\" ? \"white\" : \"#2c3e50\",\n                                        padding: \"0.8rem\",\n                                        borderRadius: \"10px\",\n                                        cursor: \"pointer\",\n                                        textAlign: \"center\",\n                                        transition: \"all 0.2s ease\",\n                                        boxShadow: categoryFilter === \"\" ? \"0 8px 25px rgba(44,62,80,0.3)\" : \"0 4px 15px rgba(0,0,0,0.1)\",\n                                        transform: categoryFilter === \"\" ? \"translateY(-2px)\" : \"translateY(0)\",\n                                        border: categoryFilter === \"\" ? \"3px solid #2c3e50\" : \"3px solid transparent\"\n                                    },\n                                    onMouseEnter: (e)=>{\n                                        if (categoryFilter !== \"\") {\n                                            e.target.style.transform = \"translateY(-1px)\";\n                                            e.target.style.boxShadow = \"0 6px  20px rgba(44,62,80,0.2)\";\n                                        }\n                                    },\n                                    onMouseLeave: (e)=>{\n                                        if (categoryFilter !== \"\") {\n                                            e.target.style.transform = \"translateY(0)\";\n                                            e.target.style.boxShadow = \"0 4px 15px rgba(0,0,0,0.1)\";\n                                        }\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                fontSize: \"2rem\",\n                                                marginBottom: \"0.5rem\"\n                                            },\n                                            children: \"\\uD83C\\uDFEA\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2308,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                fontSize: \"1rem\",\n                                                fontWeight: \"600\",\n                                                marginBottom: \"0.25rem\"\n                                            },\n                                            children: \"All Categories\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2309,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                fontSize: \"0.8rem\",\n                                                opacity: 0.9\n                                            },\n                                            children: \"View All Products\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2318,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 2264,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                            lineNumber: 2030,\n                            columnNumber: 11\n                        }, this),\n                        showManualEntry && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                position: \"fixed\",\n                                top: \"0\",\n                                left: \"0\",\n                                right: \"0\",\n                                bottom: \"0\",\n                                backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n                                display: \"flex\",\n                                alignItems: \"center\",\n                                justifyContent: \"center\",\n                                zIndex: 1000\n                            },\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    backgroundColor: \"white\",\n                                    padding: \"2rem\",\n                                    borderRadius: \"8px\",\n                                    minWidth: \"400px\",\n                                    maxWidth: \"500px\"\n                                },\n                                onKeyDown: (e)=>{\n                                    if (e.key === \"Escape\") {\n                                        setShowManualEntry(false);\n                                        setManualItem({\n                                            name: \"\",\n                                            price: \"\",\n                                            category: categories.length > 0 ? categories[0] : \"grocery-taxable\",\n                                            quantity: 1\n                                        });\n                                    }\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        style: {\n                                            marginBottom: \"1rem\",\n                                            color: \"#2c3e50\"\n                                        },\n                                        children: \"Add Manual Item\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2363,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            marginBottom: \"1rem\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                style: {\n                                                    display: \"block\",\n                                                    marginBottom: \"0.5rem\",\n                                                    fontWeight: \"bold\"\n                                                },\n                                                children: \"Item Name:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2368,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"text\",\n                                                value: manualItem.name,\n                                                onChange: (e)=>setManualItem((prev)=>({\n                                                            ...prev,\n                                                            name: e.target.value\n                                                        })),\n                                                placeholder: \"Enter item name or description\",\n                                                style: {\n                                                    width: \"100%\",\n                                                    padding: \"0.5rem\",\n                                                    border: \"1px solid #ddd\",\n                                                    borderRadius: \"4px\"\n                                                },\n                                                autoFocus: true\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2377,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2367,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            marginBottom: \"1rem\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                style: {\n                                                    display: \"block\",\n                                                    marginBottom: \"0.5rem\",\n                                                    fontWeight: \"bold\"\n                                                },\n                                                children: \"Price:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2398,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"number\",\n                                                step: \"0.01\",\n                                                min: \"0\",\n                                                value: manualItem.price,\n                                                onChange: (e)=>setManualItem((prev)=>({\n                                                            ...prev,\n                                                            price: e.target.value\n                                                        })),\n                                                placeholder: \"0.00\",\n                                                style: {\n                                                    width: \"100%\",\n                                                    padding: \"0.5rem\",\n                                                    border: \"1px solid #ddd\",\n                                                    borderRadius: \"4px\"\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2407,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2397,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            marginBottom: \"1rem\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                style: {\n                                                    display: \"block\",\n                                                    marginBottom: \"0.5rem\",\n                                                    fontWeight: \"bold\"\n                                                },\n                                                children: \"Category:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2429,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                value: manualItem.category,\n                                                onChange: (e)=>setManualItem((prev)=>({\n                                                            ...prev,\n                                                            category: e.target.value\n                                                        })),\n                                                style: {\n                                                    width: \"100%\",\n                                                    padding: \"0.5rem\",\n                                                    border: \"1px solid #ddd\",\n                                                    borderRadius: \"4px\"\n                                                },\n                                                children: categories.length > 0 ? // Use categories from Redux/database\n                                                categories.map((category)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                        value: category,\n                                                        children: category\n                                                    }, category, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 2456,\n                                                        columnNumber: 25\n                                                    }, this)) : // Fallback to hardcoded options if no categories loaded\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            value: \"grocery-taxable\",\n                                                            children: \"Grocery (Taxable)\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                            lineNumber: 2463,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            value: \"grocery-non-taxable\",\n                                                            children: \"Grocery (Non-Taxable)\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                            lineNumber: 2466,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            value: \"lotto\",\n                                                            children: \"Lotto (Taxable)\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                            lineNumber: 2469,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2438,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2428,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            marginBottom: \"1.5rem\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                style: {\n                                                    display: \"block\",\n                                                    marginBottom: \"0.5rem\",\n                                                    fontWeight: \"bold\"\n                                                },\n                                                children: \"Quantity:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2476,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"number\",\n                                                min: \"1\",\n                                                value: manualItem.quantity,\n                                                onChange: (e)=>setManualItem((prev)=>({\n                                                            ...prev,\n                                                            quantity: parseInt(e.target.value) || 1\n                                                        })),\n                                                style: {\n                                                    width: \"100%\",\n                                                    padding: \"0.5rem\",\n                                                    border: \"1px solid #ddd\",\n                                                    borderRadius: \"4px\"\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2485,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2475,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            display: \"flex\",\n                                            gap: \"0.5rem\",\n                                            justifyContent: \"flex-end\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>{\n                                                    setShowManualEntry(false);\n                                                    setManualItem({\n                                                        name: \"\",\n                                                        price: \"\",\n                                                        category: categories.length > 0 ? categories[0] : \"grocery-taxable\",\n                                                        quantity: 1\n                                                    });\n                                                },\n                                                style: {\n                                                    padding: \"0.5rem 1rem\",\n                                                    backgroundColor: \"#95a5a6\",\n                                                    color: \"white\",\n                                                    border: \"none\",\n                                                    borderRadius: \"4px\",\n                                                    cursor: \"pointer\"\n                                                },\n                                                children: \"Cancel\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2511,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: addManualItem,\n                                                style: {\n                                                    padding: \"0.5rem 1rem\",\n                                                    backgroundColor: \"#27ae60\",\n                                                    color: \"white\",\n                                                    border: \"none\",\n                                                    borderRadius: \"4px\",\n                                                    cursor: \"pointer\",\n                                                    fontWeight: \"bold\"\n                                                },\n                                                children: \"Add to Cart\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2535,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2504,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 2340,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                            lineNumber: 2326,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"products-grid\",\n                            children: [\n                                filteredInventory.length === 0 && inventory.length > 0 && searchTerm && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        padding: \"2rem\",\n                                        textAlign: \"center\",\n                                        color: \"#f39c12\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            children: \"No products match your search\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2565,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            children: [\n                                                'Search: \"',\n                                                searchTerm,\n                                                '\"',\n                                                \" \",\n                                                categoryFilter && '| Category: \"'.concat(categoryFilter, '\"')\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2566,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                marginTop: \"1rem\",\n                                                padding: \"0.75rem\",\n                                                backgroundColor: \"#fff3cd\",\n                                                border: \"1px solid #ffeaa7\",\n                                                borderRadius: \"4px\",\n                                                color: \"#856404\"\n                                            },\n                                            children: [\n                                                \"\\uD83D\\uDCA1 \",\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                    children: \"Press Enter\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2580,\n                                                    columnNumber: 24\n                                                }, this),\n                                                ' to add \"',\n                                                searchTerm,\n                                                '\" as a manual item with custom price'\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2570,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 2558,\n                                    columnNumber: 17\n                                }, this),\n                                inventoryLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        padding: \"2rem\",\n                                        textAlign: \"center\",\n                                        color: \"#3498db\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            children: \"Loading products...\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2593,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            children: \"Please wait while we load the inventory from database\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2594,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 2586,\n                                    columnNumber: 15\n                                }, this),\n                                inventory.length === 0 && !inventoryLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        padding: \"2rem\",\n                                        textAlign: \"center\",\n                                        color: \"#e74c3c\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            children: \"No products available\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2605,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            children: \"No inventory items found. Please check your connection or contact support.\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2606,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 2598,\n                                    columnNumber: 15\n                                }, this),\n                                filteredInventory.map((product)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.ProductItem, {\n                                        onClick: ()=>addToCart(product),\n                                        style: {\n                                            opacity: product.stock <= 0 ? 0.7 : 1,\n                                            cursor: \"pointer\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                children: product.name\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2621,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"price-row\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"price\",\n                                                        children: [\n                                                            \"$\",\n                                                            product.price.toFixed(2)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 2623,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            fontSize: \"0.8rem\",\n                                                            color: \"#7f8c8d\"\n                                                        },\n                                                        children: product.taxable ? \"HST\" : \"No HST\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 2624,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2622,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"stock\",\n                                                style: {\n                                                    color: product.stock < 0 ? \"#e74c3c\" : product.stock === 0 ? \"#f39c12\" : product.stock <= product.lowStockThreshold ? \"#f39c12\" : \"#27ae60\"\n                                                },\n                                                children: [\n                                                    \"Stock: \",\n                                                    product.stock,\n                                                    \" \",\n                                                    product.stock < 0 ? \"(Negative Stock)\" : product.stock === 0 ? \"(Out of Stock)\" : product.stock <= product.lowStockThreshold ? \"(Low Stock)\" : \"\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2628,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, product.id, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2613,\n                                        columnNumber: 15\n                                    }, this))\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                            lineNumber: 2554,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                    lineNumber: 1901,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.CheckoutPanel, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                display: \"flex\",\n                                justifyContent: \"space-between\",\n                                alignItems: \"center\",\n                                marginBottom: \"0.5rem\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    style: {\n                                        margin: 0\n                                    },\n                                    children: \"Current Sale\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 2664,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        display: \"flex\",\n                                        gap: \"0.5rem\"\n                                    },\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.Button, {\n                                        onClick: ()=>{\n                                            setIsCreditSale(!isCreditSale);\n                                            if (isCreditSale) {\n                                                setCreditCustomerName(\"\");\n                                                setCreditAmount(0);\n                                                setSelectedCustomer(null);\n                                                setCustomerBalance(0);\n                                            }\n                                        },\n                                        style: {\n                                            background: isCreditSale ? \"#28a745\" : \"#6c757d\",\n                                            color: \"white\",\n                                            padding: \"0.5rem 0.75rem\",\n                                            fontSize: \"0.8rem\",\n                                            fontWeight: \"600\"\n                                        },\n                                        children: \"\\uD83D\\uDCB3 Credit\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2666,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 2665,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                            lineNumber: 2656,\n                            columnNumber: 11\n                        }, this),\n                        isCreditSale && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                padding: \"0.5rem\",\n                                backgroundColor: \"#fff3cd\",\n                                border: \"2px solid #ffc107\",\n                                borderRadius: \"8px\",\n                                marginBottom: \"0.75rem\",\n                                textAlign: \"center\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        fontWeight: \"600\",\n                                        color: \"#856404\",\n                                        fontSize: \"0.9rem\"\n                                    },\n                                    children: \"\\uD83D\\uDCB3 CREDIT SALE MODE ACTIVE\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 2701,\n                                    columnNumber: 15\n                                }, this),\n                                creditCustomerName && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        fontSize: \"0.8rem\",\n                                        color: \"#856404\",\n                                        marginTop: \"0.25rem\"\n                                    },\n                                    children: [\n                                        \"Customer: \",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                            children: creditCustomerName\n                                        }, void 0, false, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2718,\n                                            columnNumber: 29\n                                        }, this),\n                                        selectedCustomer && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            style: {\n                                                marginLeft: \"0.5rem\"\n                                            },\n                                            children: [\n                                                \"(Balance: $\",\n                                                Math.abs(customerBalance).toFixed(2),\n                                                \" \",\n                                                customerBalance > 0 ? \"owed\" : \"credit\",\n                                                \")\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2720,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 2711,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                            lineNumber: 2691,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"cart-items\",\n                            children: cart.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                style: {\n                                    textAlign: \"center\",\n                                    color: \"#7f8c8d\",\n                                    marginTop: \"2rem\"\n                                },\n                                children: \"No items in cart — add products from the left panel\"\n                            }, void 0, false, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 2731,\n                                columnNumber: 15\n                            }, this) : cart.map((item)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.CartItem, {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"item-details\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                    children: item.name\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2744,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    children: [\n                                                        \"$\",\n                                                        item.price.toFixed(2),\n                                                        \" each\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2745,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>toggleItemTax(item.id),\n                                                    style: {\n                                                        fontSize: \"0.75rem\",\n                                                        padding: \"0.25rem 0.5rem\",\n                                                        borderRadius: \"12px\",\n                                                        border: \"none\",\n                                                        background: item.applyTax === true ? \"#27ae60\" : \"#95a5a6\",\n                                                        color: \"white\",\n                                                        cursor: \"pointer\",\n                                                        marginTop: \"0.25rem\"\n                                                    },\n                                                    children: item.applyTax === true ? \"HST ON\" : \"HST OFF\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2746,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2743,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"quantity-controls\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>handleDecreaseQuantity(item.id),\n                                                    disabled: item.quantity <= 1,\n                                                    style: {\n                                                        opacity: item.quantity <= 1 ? 0.5 : 1,\n                                                        cursor: item.quantity <= 1 ? \"not-allowed\" : \"pointer\"\n                                                    },\n                                                    children: \"-\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2764,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: item.quantity\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2774,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>updateCartQuantity(item.id, item.quantity + 1),\n                                                    children: \"+\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2775,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2763,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"item-total\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        \"$\",\n                                                        (item.price * item.quantity).toFixed(2)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2784,\n                                                    columnNumber: 21\n                                                }, this),\n                                                item.applyTax === true && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        fontSize: \"0.75rem\",\n                                                        color: \"#7f8c8d\"\n                                                    },\n                                                    children: [\n                                                        \"+$\",\n                                                        (item.price * item.quantity * 0.13).toFixed(2),\n                                                        \" HST\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2786,\n                                                    columnNumber: 23\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2783,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            className: \"remove-btn\",\n                                            onClick: ()=>removeFromCart(item.id),\n                                            children: \"\\xd7\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2791,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, item.id, true, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 2742,\n                                    columnNumber: 17\n                                }, this))\n                        }, void 0, false, {\n                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                            lineNumber: 2729,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                margin: \"0.5rem 0\",\n                                padding: \"0.5rem\",\n                                backgroundColor: \"#f8f9fa\",\n                                border: \"1px solid #e9ecef\",\n                                borderRadius: \"6px\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    style: {\n                                        display: \"flex\",\n                                        alignItems: \"center\",\n                                        gap: \"0.5rem\",\n                                        cursor: \"pointer\",\n                                        fontWeight: \"500\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"checkbox\",\n                                            checked: cashbackEnabled,\n                                            onChange: (e)=>{\n                                                setCashbackEnabled(e.target.checked);\n                                                if (!e.target.checked) {\n                                                    setCashbackAmount(\"\");\n                                                    setCashbackFee(\"\");\n                                                }\n                                            },\n                                            style: {\n                                                transform: \"scale(1.2)\"\n                                            }\n                                        }, void 0, false, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2821,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            children: \"Add Cashback\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2833,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 2812,\n                                    columnNumber: 13\n                                }, this),\n                                cashbackEnabled && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                marginTop: \"0.5rem\",\n                                                display: \"flex\",\n                                                alignItems: \"center\",\n                                                gap: \"0.5rem\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    style: {\n                                                        minWidth: \"70px\",\n                                                        fontSize: \"0.9rem\"\n                                                    },\n                                                    children: \"Amount:\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2846,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"number\",\n                                                    step: \"0.01\",\n                                                    min: \"0\",\n                                                    value: cashbackAmount,\n                                                    onChange: (e)=>{\n                                                        const value = e.target.value;\n                                                        setCashbackAmount(value === \"\" ? \"\" : Number(value));\n                                                    },\n                                                    style: {\n                                                        padding: \"0.4rem\",\n                                                        flex: 1,\n                                                        borderRadius: \"4px\",\n                                                        border: \"1px solid #ddd\"\n                                                    },\n                                                    placeholder: \"0.00\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2849,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2838,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                marginTop: \"0.5rem\",\n                                                display: \"flex\",\n                                                alignItems: \"center\",\n                                                gap: \"0.5rem\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    style: {\n                                                        minWidth: \"70px\",\n                                                        fontSize: \"0.9rem\",\n                                                        color: \"#e67e22\"\n                                                    },\n                                                    children: \"Fee:\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2876,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"number\",\n                                                    step: \"0.01\",\n                                                    min: \"0\",\n                                                    value: cashbackFee,\n                                                    onChange: (e)=>{\n                                                        const value = e.target.value;\n                                                        setCashbackFee(value === \"\" ? \"\" : Number(value));\n                                                    },\n                                                    style: {\n                                                        padding: \"0.4rem\",\n                                                        flex: 1,\n                                                        borderRadius: \"4px\",\n                                                        border: \"1px solid #e67e22\",\n                                                        backgroundColor: \"#fef5e7\"\n                                                    },\n                                                    placeholder: \"0.00\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2885,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2868,\n                                            columnNumber: 17\n                                        }, this),\n                                        (Number(cashbackFee) || 0) > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                marginTop: \"0.5rem\",\n                                                fontSize: \"0.8rem\",\n                                                color: \"#e67e22\",\n                                                fontStyle: \"italic\",\n                                                backgroundColor: \"#fef5e7\",\n                                                padding: \"0.25rem 0.5rem\",\n                                                borderRadius: \"4px\",\n                                                border: \"1px solid #f4d03f\"\n                                            },\n                                            children: [\n                                                \"\\uD83D\\uDCB0 Cashback fee: $\",\n                                                (Number(cashbackFee) || 0).toFixed(2),\n                                                \" \",\n                                                \"added to total\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2906,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                            lineNumber: 2803,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                margin: \"0.5rem 0\",\n                                padding: \"0.5rem\",\n                                backgroundColor: \"#fff3e0\",\n                                border: \"1px solid #ffcc80\",\n                                borderRadius: \"6px\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        display: \"flex\",\n                                        alignItems: \"center\",\n                                        gap: \"0.5rem\",\n                                        fontWeight: \"500\",\n                                        marginBottom: \"0.5rem\"\n                                    },\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"\\uD83D\\uDCB0 Discount\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2945,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 2936,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        display: \"flex\",\n                                        alignItems: \"center\",\n                                        gap: \"0.5rem\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            style: {\n                                                minWidth: \"70px\",\n                                                fontSize: \"0.9rem\"\n                                            },\n                                            children: \"Amount:\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2954,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"number\",\n                                            step: \"0.01\",\n                                            min: \"0\",\n                                            value: discountAmount,\n                                            onChange: (e)=>{\n                                                const value = e.target.value;\n                                                setDiscountAmount(value === \"\" ? \"\" : Number(value));\n                                            },\n                                            style: {\n                                                padding: \"0.4rem\",\n                                                flex: 1,\n                                                borderRadius: \"4px\",\n                                                border: \"1px solid #ddd\"\n                                            },\n                                            placeholder: \"0.00\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2957,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 2947,\n                                    columnNumber: 13\n                                }, this),\n                                (Number(discountAmount) || 0) > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        marginTop: \"0.5rem\",\n                                        fontSize: \"0.8rem\",\n                                        color: \"#e65100\",\n                                        fontStyle: \"italic\"\n                                    },\n                                    children: [\n                                        \"\\uD83D\\uDCB8 Customer saves $\",\n                                        (Number(discountAmount) || 0).toFixed(2)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 2976,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                            lineNumber: 2927,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                margin: \"0.5rem 0\",\n                                padding: \"0.5rem\",\n                                backgroundColor: \"#f8f4ff\",\n                                border: \"1px solid #d4c5f9\",\n                                borderRadius: \"6px\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        display: \"flex\",\n                                        alignItems: \"center\",\n                                        gap: \"0.5rem\",\n                                        marginBottom: \"0.5rem\",\n                                        fontWeight: \"500\"\n                                    },\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"\\uD83D\\uDCB3 Card Fees\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 3008,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 2999,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        display: \"flex\",\n                                        alignItems: \"center\",\n                                        gap: \"0.5rem\",\n                                        marginBottom: cardFeeEnabled ? \"0.5rem\" : \"0\"\n                                    },\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        style: {\n                                            display: \"flex\",\n                                            alignItems: \"center\",\n                                            gap: \"0.5rem\",\n                                            cursor: \"pointer\",\n                                            fontSize: \"0.9rem\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"checkbox\",\n                                                checked: cardFeeEnabled,\n                                                onChange: (e)=>{\n                                                    const isEnabled = e.target.checked;\n                                                    setCardFeeEnabled(isEnabled);\n                                                    if (!isEnabled) {\n                                                        // When disabling, remove any card fee from totals\n                                                        const currentCardAmount = Number(parseFloat(cardAmount) || 0);\n                                                        const currentCashAmount = Number(parseFloat(cashAmount) || 0);\n                                                        if (cardType === \"credit\" && currentCardAmount >= CARD_FEE_AMOUNT) {\n                                                            const newCardAmount = Math.max(0, currentCardAmount - CARD_FEE_AMOUNT);\n                                                            setCardAmount(String(newCardAmount.toFixed(2)));\n                                                        }\n                                                    }\n                                                },\n                                                style: {\n                                                    marginRight: \"0.25rem\",\n                                                    transform: \"scale(1.1)\"\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 3029,\n                                                columnNumber: 17\n                                            }, this),\n                                            \"Apply card fees (+$\",\n                                            CARD_FEE_AMOUNT.toFixed(2),\n                                            \")\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 3020,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 3012,\n                                    columnNumber: 13\n                                }, this),\n                                cardFeeEnabled && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        display: \"flex\",\n                                        gap: \"1rem\",\n                                        alignItems: \"center\",\n                                        paddingLeft: \"1.5rem\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            style: {\n                                                display: \"flex\",\n                                                alignItems: \"center\",\n                                                gap: \"0.25rem\",\n                                                cursor: \"pointer\",\n                                                fontSize: \"0.85rem\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"radio\",\n                                                    name: \"cardType\",\n                                                    value: \"debit\",\n                                                    checked: cardType === \"debit\",\n                                                    onChange: (e)=>{\n                                                        setCardType(e.target.value);\n                                                        // Remove card fee when switching to debit\n                                                        if (e.target.value === \"debit\") {\n                                                            const currentCardAmount = Number(parseFloat(cardAmount) || 0);\n                                                            if (currentCardAmount >= CARD_FEE_AMOUNT) {\n                                                                const newCardAmount = Math.max(0, currentCardAmount - CARD_FEE_AMOUNT);\n                                                                setCardAmount(String(newCardAmount.toFixed(2)));\n                                                            }\n                                                        }\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 3085,\n                                                    columnNumber: 19\n                                                }, this),\n                                                \"\\uD83D\\uDCB3 Debit (No fee)\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 3076,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            style: {\n                                                display: \"flex\",\n                                                alignItems: \"center\",\n                                                gap: \"0.25rem\",\n                                                cursor: \"pointer\",\n                                                fontSize: \"0.85rem\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"radio\",\n                                                    name: \"cardType\",\n                                                    value: \"credit\",\n                                                    checked: cardType === \"credit\",\n                                                    onChange: (e)=>{\n                                                        setCardType(e.target.value);\n                                                        // Add card fee when switching to credit\n                                                        if (e.target.value === \"credit\") {\n                                                            const currentCardAmount = Number(parseFloat(cardAmount) || 0);\n                                                            const currentCashAmount = Number(parseFloat(cashAmount) || 0);\n                                                            const totalAmount = currentCardAmount + currentCashAmount + CARD_FEE_AMOUNT;\n                                                            setCardAmount(String(totalAmount.toFixed(2)));\n                                                            setCashAmount(\"0\");\n                                                            setLastEdited(\"card\");\n                                                        }\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 3120,\n                                                    columnNumber: 19\n                                                }, this),\n                                                \"\\uD83D\\uDCB3 Credit (+$\",\n                                                CARD_FEE_AMOUNT.toFixed(2),\n                                                \" fee)\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 3111,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 3068,\n                                    columnNumber: 15\n                                }, this),\n                                cardFeeEnabled && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        marginTop: \"0.5rem\",\n                                        padding: \"0.25rem 0.5rem\",\n                                        backgroundColor: cardType === \"credit\" ? \"#fff3cd\" : \"#d4edda\",\n                                        border: \"1px solid \".concat(cardType === \"credit\" ? \"#ffeaa7\" : \"#c3e6cb\"),\n                                        borderRadius: \"4px\",\n                                        fontSize: \"0.8rem\",\n                                        color: cardType === \"credit\" ? \"#856404\" : \"#155724\"\n                                    },\n                                    children: cardType === \"credit\" ? \"\\uD83D\\uDCB0 Credit card fee: $\".concat(CARD_FEE_AMOUNT.toFixed(2), \" added to total\") : \"✅ Debit card: No additional fees\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 3153,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                            lineNumber: 2990,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                margin: \"0.5rem 0\",\n                                padding: \"0.5rem\",\n                                backgroundColor: \"#e8f5e8\",\n                                border: \"1px solid #c3e6c3\",\n                                borderRadius: \"6px\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        display: \"flex\",\n                                        alignItems: \"center\",\n                                        gap: \"0.5rem\",\n                                        fontWeight: \"500\",\n                                        marginBottom: \"0.5rem\"\n                                    },\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"\\uD83C\\uDFB0 Lotto Winnings\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 3196,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 3187,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        display: \"flex\",\n                                        alignItems: \"center\",\n                                        gap: \"0.5rem\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            style: {\n                                                minWidth: \"70px\",\n                                                fontSize: \"0.9rem\"\n                                            },\n                                            children: \"Amount:\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 3206,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"number\",\n                                            step: \"0.01\",\n                                            min: \"0\",\n                                            value: lottoWinnings,\n                                            onChange: (e)=>{\n                                                const value = e.target.value;\n                                                setLottoWinnings(value === \"\" ? \"\" : Number(value));\n                                            },\n                                            style: {\n                                                padding: \"0.4rem\",\n                                                flex: 1,\n                                                borderRadius: \"4px\",\n                                                border: \"1px solid #ddd\"\n                                            },\n                                            placeholder: \"0.00\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 3209,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 3199,\n                                    columnNumber: 13\n                                }, this),\n                                (Number(lottoWinnings) || 0) > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        marginTop: \"0.5rem\",\n                                        fontSize: \"0.8rem\",\n                                        color: \"#28a745\",\n                                        fontStyle: \"italic\"\n                                    },\n                                    children: [\n                                        \"\\uD83D\\uDCB0 Customer won $\",\n                                        (Number(lottoWinnings) || 0).toFixed(2),\n                                        \" in lottery\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 3229,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                            lineNumber: 3178,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"checkout-summary\",\n                            children: (()=>{\n                                var _selectedCustomer_balance;\n                                const originalSubtotal = calculateSubtotal(); // Items total before discount\n                                const discount = Number(parseFloat(discountAmount) || 0);\n                                const subtotal = calculateTotal(); // After discount\n                                const tax = calculateTax();\n                                const total = +(subtotal + tax).toFixed(2);\n                                const cashback = Number(parseFloat(cashbackAmount) || 0);\n                                const lotto = Number(parseFloat(lottoWinnings) || 0);\n                                const paidCash = Number(parseFloat(cashAmount) || 0);\n                                const paidCard = Number(parseFloat(cardAmount) || 0);\n                                const paidTotal = +(paidCash + paidCard).toFixed(2);\n                                // Calculate final total with cashback and lotto winnings\n                                const finalTotal = total + cashback - lotto;\n                                // For cashback transactions, require card payment to cover total + cashback\n                                let isSufficient;\n                                if (cashback > 0 && lotto === 0) {\n                                    const totalNeeded = total + cashback;\n                                    isSufficient = paidCard + 0.0001 >= totalNeeded;\n                                } else if (lotto > 0) {\n                                    // With lotto winnings, customer may owe less or even get money back\n                                    isSufficient = finalTotal <= 0 || paidTotal + 0.0001 >= finalTotal;\n                                } else {\n                                    isSufficient = paidTotal + 0.0001 >= total;\n                                }\n                                const change = cashback > 0 && lotto === 0 ? 0 : Math.max(0, +(paidTotal - finalTotal).toFixed(2));\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.Total, {\n                                            children: [\n                                                getTaxableTotal() > 0 && getNonTaxableTotal() > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                \"Taxable: $\",\n                                                                getTaxableTotal().toFixed(2)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                            lineNumber: 3282,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                \"Non-Taxable: $\",\n                                                                getNonTaxableTotal().toFixed(2)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                            lineNumber: 3283,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true),\n                                                discount > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                \"Items Subtotal: $\",\n                                                                originalSubtotal.toFixed(2)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                            lineNumber: 3290,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            style: {\n                                                                color: \"#e65100\",\n                                                                fontWeight: \"500\"\n                                                            },\n                                                            children: [\n                                                                \"Discount: -$\",\n                                                                discount.toFixed(2)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                            lineNumber: 3293,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                \"Subtotal: $\",\n                                                                subtotal.toFixed(2)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                            lineNumber: 3296,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        \"Subtotal: $\",\n                                                        subtotal.toFixed(2)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 3299,\n                                                    columnNumber: 23\n                                                }, this),\n                                                tax > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        \"HST (13%): $\",\n                                                        tax.toFixed(2)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 3301,\n                                                    columnNumber: 33\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        \"Purchase Total: $\",\n                                                        total.toFixed(2)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 3302,\n                                                    columnNumber: 21\n                                                }, this),\n                                                cashback > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        color: \"#e67e22\",\n                                                        fontWeight: \"500\"\n                                                    },\n                                                    children: [\n                                                        \"Cashback: $\",\n                                                        cashback.toFixed(2)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 3304,\n                                                    columnNumber: 23\n                                                }, this),\n                                                Number(parseFloat(cashbackFee) || 0) > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        color: \"#d35400\",\n                                                        fontWeight: \"500\"\n                                                    },\n                                                    children: [\n                                                        \"Cashback Fee: $\",\n                                                        Number(parseFloat(cashbackFee) || 0).toFixed(2)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 3309,\n                                                    columnNumber: 23\n                                                }, this),\n                                                lotto > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        color: \"#28a745\",\n                                                        fontWeight: \"500\"\n                                                    },\n                                                    children: [\n                                                        \"Lotto Winnings: -$\",\n                                                        lotto.toFixed(2)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 3315,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"final-total\",\n                                                    children: isBalancePayment ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                style: {\n                                                                    color: \"#17a2b8\",\n                                                                    fontWeight: \"600\",\n                                                                    marginBottom: \"5px\"\n                                                                },\n                                                                children: \"\\uD83C\\uDFE6 Customer Balance Payment\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 3322,\n                                                                columnNumber: 27\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                children: [\n                                                                    \"Paying for:\",\n                                                                    \" \",\n                                                                    (selectedCustomer === null || selectedCustomer === void 0 ? void 0 : selectedCustomer.name) || \"Selected Customer\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 3331,\n                                                                columnNumber: 27\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                children: [\n                                                                    \"Current Balance: $\",\n                                                                    (selectedCustomer === null || selectedCustomer === void 0 ? void 0 : (_selectedCustomer_balance = selectedCustomer.balance) === null || _selectedCustomer_balance === void 0 ? void 0 : _selectedCustomer_balance.toFixed(2)) || \"0.00\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 3335,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                        children: [\n                                                            \"Total Amount Due: $\",\n                                                            finalTotal >= 0 ? finalTotal.toFixed(2) : \"(\".concat(Math.abs(finalTotal).toFixed(2), \") Credit\")\n                                                        ]\n                                                    }, void 0, true)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 3319,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 3279,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                marginTop: \"1rem\",\n                                                display: \"flex\",\n                                                flexDirection: \"column\",\n                                                gap: \"0.5rem\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        padding: \"1rem\",\n                                                        backgroundColor: \"#fff3cd\",\n                                                        border: \"2px solid #ffc107\",\n                                                        borderRadius: \"8px\"\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                            style: {\n                                                                display: \"flex\",\n                                                                alignItems: \"center\",\n                                                                gap: \"0.5rem\",\n                                                                cursor: \"pointer\",\n                                                                fontWeight: \"600\",\n                                                                fontSize: \"1.1rem\",\n                                                                color: \"#856404\",\n                                                                marginBottom: isCreditSale ? \"0.75rem\" : \"0\",\n                                                                justifyContent: \"center\"\n                                                            },\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                    type: \"checkbox\",\n                                                                    checked: isCreditSale,\n                                                                    onChange: (e)=>{\n                                                                        setIsCreditSale(e.target.checked);\n                                                                        if (!e.target.checked) {\n                                                                            setCreditCustomerName(\"\");\n                                                                            setCreditAmount(0);\n                                                                        } else {\n                                                                            // Clear existing payments when entering credit mode\n                                                                            setCashAmount(\"\");\n                                                                            setCardAmount(\"\");\n                                                                            setCreditAmount(0);\n                                                                        }\n                                                                    },\n                                                                    style: {\n                                                                        transform: \"scale(1.2)\"\n                                                                    }\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                    lineNumber: 3382,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    children: \"\\uD83D\\uDCB3 Credit Sale Mode\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                    lineNumber: 3399,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                            lineNumber: 3369,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        isCreditSale && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    style: {\n                                                                        marginBottom: \"0.75rem\"\n                                                                    },\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            style: {\n                                                                                display: \"flex\",\n                                                                                alignItems: \"center\",\n                                                                                gap: \"0.5rem\",\n                                                                                marginBottom: \"0.5rem\",\n                                                                                position: \"relative\"\n                                                                            },\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                                    style: {\n                                                                                        minWidth: \"80px\",\n                                                                                        fontSize: \"0.9rem\",\n                                                                                        color: \"#856404\",\n                                                                                        fontWeight: \"500\"\n                                                                                    },\n                                                                                    children: \"Customer:\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                    lineNumber: 3415,\n                                                                                    columnNumber: 31\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    style: {\n                                                                                        flex: 1,\n                                                                                        position: \"relative\",\n                                                                                        display: \"flex\",\n                                                                                        gap: \"0.25rem\"\n                                                                                    },\n                                                                                    children: [\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                                            type: \"text\",\n                                                                                            value: creditCustomerName,\n                                                                                            onChange: (e)=>handleCustomerNameChange(e.target.value),\n                                                                                            style: {\n                                                                                                padding: \"0.4rem\",\n                                                                                                flex: 1,\n                                                                                                borderRadius: \"4px\",\n                                                                                                border: \"1px solid #ddd\"\n                                                                                            },\n                                                                                            placeholder: \"Enter customer name\"\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                            lineNumber: 3433,\n                                                                                            columnNumber: 33\n                                                                                        }, this),\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                            onClick: fetchExistingCustomers,\n                                                                                            style: {\n                                                                                                padding: \"0.4rem\",\n                                                                                                backgroundColor: \"#6c757d\",\n                                                                                                color: \"white\",\n                                                                                                border: \"none\",\n                                                                                                borderRadius: \"4px\",\n                                                                                                cursor: \"pointer\",\n                                                                                                fontSize: \"0.8rem\"\n                                                                                            },\n                                                                                            title: \"Refresh customer list\",\n                                                                                            children: \"\\uD83D\\uDD04\"\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                            lineNumber: 3447,\n                                                                                            columnNumber: 33\n                                                                                        }, this),\n                                                                                        showCustomerSuggestions && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                            style: {\n                                                                                                position: \"absolute\",\n                                                                                                top: \"100%\",\n                                                                                                left: 0,\n                                                                                                right: 0,\n                                                                                                backgroundColor: \"white\",\n                                                                                                border: \"1px solid #ddd\",\n                                                                                                borderRadius: \"4px\",\n                                                                                                boxShadow: \"0 2px 8px rgba(0,0,0,0.1)\",\n                                                                                                zIndex: 1000,\n                                                                                                maxHeight: \"150px\",\n                                                                                                overflowY: \"auto\"\n                                                                                            },\n                                                                                            children: (()=>{\n                                                                                                const filteredCustomers = Array.isArray(existingCustomers) ? existingCustomers.filter((customer)=>customer && customer.customerName && customer.customerName.toLowerCase().includes(creditCustomerName.toLowerCase())) : [];\n                                                                                                const exactMatch = filteredCustomers.find((customer)=>customer.customerName.toLowerCase() === creditCustomerName.toLowerCase());\n                                                                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                                                                    children: [\n                                                                                                        filteredCustomers.map((customer, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                                onClick: ()=>handleCustomerSelection(customer),\n                                                                                                                style: {\n                                                                                                                    padding: \"0.5rem\",\n                                                                                                                    cursor: \"pointer\",\n                                                                                                                    borderBottom: \"1px solid #eee\",\n                                                                                                                    display: \"flex\",\n                                                                                                                    justifyContent: \"space-between\",\n                                                                                                                    alignItems: \"center\"\n                                                                                                                },\n                                                                                                                onMouseEnter: (e)=>e.target.style.backgroundColor = \"#f5f5f5\",\n                                                                                                                onMouseLeave: (e)=>e.target.style.backgroundColor = \"white\",\n                                                                                                                children: [\n                                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                                        children: customer.customerName\n                                                                                                                    }, void 0, false, {\n                                                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                                                        lineNumber: 3532,\n                                                                                                                        columnNumber: 49\n                                                                                                                    }, this),\n                                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                                        style: {\n                                                                                                                            fontSize: \"0.8rem\",\n                                                                                                                            color: customer.balance > 0 ? \"#dc3545\" : \"#28a745\",\n                                                                                                                            fontWeight: \"500\"\n                                                                                                                        },\n                                                                                                                        children: [\n                                                                                                                            \"$\",\n                                                                                                                            Math.abs(customer.balance || 0).toFixed(2),\n                                                                                                                            \" \",\n                                                                                                                            customer.balance > 0 ? \"owed\" : \"credit\"\n                                                                                                                        ]\n                                                                                                                    }, void 0, true, {\n                                                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                                                        lineNumber: 3535,\n                                                                                                                        columnNumber: 49\n                                                                                                                    }, this)\n                                                                                                                ]\n                                                                                                            }, index, true, {\n                                                                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                                                lineNumber: 3506,\n                                                                                                                columnNumber: 47\n                                                                                                            }, this)),\n                                                                                                        creditCustomerName.trim().length > 0 && !exactMatch && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                            onClick: ()=>{\n                                                                                                                // Create new customer with entered name\n                                                                                                                const newCustomer = {\n                                                                                                                    customerName: creditCustomerName.trim(),\n                                                                                                                    balance: 0,\n                                                                                                                    isNewCustomer: true\n                                                                                                                };\n                                                                                                                handleCustomerSelection(newCustomer);\n                                                                                                            },\n                                                                                                            style: {\n                                                                                                                padding: \"0.5rem\",\n                                                                                                                cursor: \"pointer\",\n                                                                                                                borderTop: filteredCustomers.length > 0 ? \"2px solid #e9ecef\" : \"none\",\n                                                                                                                backgroundColor: \"#e8f5e8\",\n                                                                                                                display: \"flex\",\n                                                                                                                alignItems: \"center\",\n                                                                                                                gap: \"0.5rem\",\n                                                                                                                fontWeight: \"500\",\n                                                                                                                color: \"#155724\"\n                                                                                                            },\n                                                                                                            onMouseEnter: (e)=>e.target.style.backgroundColor = \"#d4edda\",\n                                                                                                            onMouseLeave: (e)=>e.target.style.backgroundColor = \"#e8f5e8\",\n                                                                                                            children: [\n                                                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                                    children: \"➕\"\n                                                                                                                }, void 0, false, {\n                                                                                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                                                    lineNumber: 3597,\n                                                                                                                    columnNumber: 49\n                                                                                                                }, this),\n                                                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                                    children: [\n                                                                                                                        'Add \"',\n                                                                                                                        creditCustomerName.trim(),\n                                                                                                                        '\" as new credit customer'\n                                                                                                                    ]\n                                                                                                                }, void 0, true, {\n                                                                                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                                                    lineNumber: 3598,\n                                                                                                                    columnNumber: 49\n                                                                                                                }, this)\n                                                                                                            ]\n                                                                                                        }, void 0, true, {\n                                                                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                                            lineNumber: 3561,\n                                                                                                            columnNumber: 47\n                                                                                                        }, this)\n                                                                                                    ]\n                                                                                                }, void 0, true);\n                                                                                            })()\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                            lineNumber: 3465,\n                                                                                            columnNumber: 35\n                                                                                        }, this)\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                    lineNumber: 3425,\n                                                                                    columnNumber: 31\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                            lineNumber: 3406,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        existingCustomers.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            style: {\n                                                                                fontSize: \"0.8rem\",\n                                                                                color: \"#6c757d\",\n                                                                                marginBottom: \"0.5rem\",\n                                                                                padding: \"0.25rem\",\n                                                                                backgroundColor: \"#f8f9fa\",\n                                                                                borderRadius: \"4px\"\n                                                                            },\n                                                                            children: [\n                                                                                \"Loaded \",\n                                                                                existingCustomers.length,\n                                                                                \" customers.\",\n                                                                                \" \",\n                                                                                creditCustomerName && 'Searching for: \"'.concat(creditCustomerName, '\"')\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                            lineNumber: 3615,\n                                                                            columnNumber: 31\n                                                                        }, this),\n                                                                        selectedCustomer && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            style: {\n                                                                                padding: \"0.5rem\",\n                                                                                backgroundColor: customerBalance > 0 ? \"#f8d7da\" : \"#d4edda\",\n                                                                                border: \"1px solid \".concat(customerBalance > 0 ? \"#f5c6cb\" : \"#c3e6cb\"),\n                                                                                borderRadius: \"4px\",\n                                                                                marginBottom: \"0.5rem\",\n                                                                                fontSize: \"0.9rem\"\n                                                                            },\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                                    children: selectedCustomer.customerName\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                    lineNumber: 3646,\n                                                                                    columnNumber: 33\n                                                                                }, this),\n                                                                                \" \",\n                                                                                \"- Current Balance:\",\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                    style: {\n                                                                                        color: customerBalance > 0 ? \"#721c24\" : \"#155724\",\n                                                                                        fontWeight: \"600\",\n                                                                                        marginLeft: \"0.25rem\"\n                                                                                    },\n                                                                                    children: [\n                                                                                        \"$\",\n                                                                                        Math.abs(customerBalance).toFixed(2),\n                                                                                        \" \",\n                                                                                        customerBalance > 0 ? \"owed\" : \"credit\"\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                    lineNumber: 3648,\n                                                                                    columnNumber: 33\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    style: {\n                                                                                        fontSize: \"0.7rem\",\n                                                                                        color: \"#6c757d\",\n                                                                                        marginTop: \"0.25rem\"\n                                                                                    },\n                                                                                    children: [\n                                                                                        \"ID: \",\n                                                                                        selectedCustomer.id,\n                                                                                        \" | Last updated:\",\n                                                                                        \" \",\n                                                                                        new Date(selectedCustomer.updatedAt).toLocaleTimeString()\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                    lineNumber: 3661,\n                                                                                    columnNumber: 33\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                            lineNumber: 3633,\n                                                                            columnNumber: 31\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                    lineNumber: 3405,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                \" \",\n                                                                (()=>{\n                                                                    const subtotal = calculateTotal();\n                                                                    const tax = calculateTax();\n                                                                    const total = +(subtotal + tax).toFixed(2);\n                                                                    const cashback = Number(parseFloat(cashbackAmount) || 0);\n                                                                    const lotto = Number(parseFloat(lottoWinnings) || 0);\n                                                                    const finalTotal = total + cashback - lotto;\n                                                                    const paidCash = Number(parseFloat(cashAmount) || 0);\n                                                                    const paidCard = Number(parseFloat(cardAmount) || 0);\n                                                                    const paidTotal = paidCash + paidCard;\n                                                                    const specifiedCreditAmount = Number(parseFloat(creditAmount) || 0);\n                                                                    // Use specified credit amount or calculate from payment difference\n                                                                    const creditBalance = specifiedCreditAmount > 0 ? specifiedCreditAmount : Math.max(0, finalTotal - paidTotal);\n                                                                    const requiredPayment = specifiedCreditAmount > 0 ? finalTotal - specifiedCreditAmount : paidTotal;\n                                                                    if (specifiedCreditAmount > 0) {\n                                                                        // Specified credit amount mode\n                                                                        const paymentNeeded = finalTotal - specifiedCreditAmount;\n                                                                        const paymentStatus = paidTotal >= paymentNeeded - 0.001;\n                                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            style: {\n                                                                                backgroundColor: paymentStatus ? \"#e8f5e8\" : \"#fff3cd\",\n                                                                                border: \"1px solid \".concat(paymentStatus ? \"#28a745\" : \"#ffc107\"),\n                                                                                borderRadius: \"4px\",\n                                                                                padding: \"0.5rem\",\n                                                                                fontSize: \"0.9rem\"\n                                                                            },\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                                        children: \"Specified Credit Mode:\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3730,\n                                                                                        columnNumber: 37\n                                                                                    }, this)\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                    lineNumber: 3729,\n                                                                                    columnNumber: 35\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    children: [\n                                                                                        \"� Unpaid Balance: $\",\n                                                                                        specifiedCreditAmount.toFixed(2)\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                    lineNumber: 3732,\n                                                                                    columnNumber: 35\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    children: [\n                                                                                        \"\\uD83D\\uDCB0 Payment Needed: $\",\n                                                                                        paymentNeeded.toFixed(2)\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                    lineNumber: 3736,\n                                                                                    columnNumber: 35\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    children: [\n                                                                                        \"\\uD83D\\uDCCA Payment Status: $\",\n                                                                                        paidTotal.toFixed(2),\n                                                                                        \" / $\",\n                                                                                        paymentNeeded.toFixed(2)\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                    lineNumber: 3740,\n                                                                                    columnNumber: 35\n                                                                                }, this),\n                                                                                !paymentStatus && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    style: {\n                                                                                        color: \"#dc3545\",\n                                                                                        fontWeight: \"500\",\n                                                                                        marginTop: \"0.25rem\"\n                                                                                    },\n                                                                                    children: [\n                                                                                        \"⚠️ Need $\",\n                                                                                        (paymentNeeded - paidTotal).toFixed(2),\n                                                                                        \" \",\n                                                                                        \"more\"\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                    lineNumber: 3745,\n                                                                                    columnNumber: 37\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                            lineNumber: 3716,\n                                                                            columnNumber: 33\n                                                                        }, this);\n                                                                    } else if (paidTotal > 0 && creditBalance > 0) {\n                                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            style: {\n                                                                                backgroundColor: \"#e8f5e8\",\n                                                                                border: \"1px solid #28a745\",\n                                                                                borderRadius: \"4px\",\n                                                                                padding: \"0.5rem\",\n                                                                                fontSize: \"0.9rem\"\n                                                                            },\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                                        children: \"Auto-Calculate Mode:\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3771,\n                                                                                        columnNumber: 37\n                                                                                    }, this)\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                    lineNumber: 3770,\n                                                                                    columnNumber: 35\n                                                                                }, this),\n                                                                                paidCash > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    children: [\n                                                                                        \"\\uD83D\\uDCB5 Cash: $\",\n                                                                                        paidCash.toFixed(2)\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                    lineNumber: 3774,\n                                                                                    columnNumber: 37\n                                                                                }, this),\n                                                                                paidCard > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    children: [\n                                                                                        \"\\uD83D\\uDCB3 Card: $\",\n                                                                                        paidCard.toFixed(2)\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                    lineNumber: 3777,\n                                                                                    columnNumber: 37\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    style: {\n                                                                                        color: \"#dc3545\",\n                                                                                        fontWeight: \"500\"\n                                                                                    },\n                                                                                    children: [\n                                                                                        \"\\uD83D\\uDCDD Credit Balance: $\",\n                                                                                        creditBalance.toFixed(2)\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                    lineNumber: 3779,\n                                                                                    columnNumber: 35\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                            lineNumber: 3761,\n                                                                            columnNumber: 33\n                                                                        }, this);\n                                                                    } else if (paidTotal >= finalTotal) {\n                                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            style: {\n                                                                                backgroundColor: \"#e8f5e8\",\n                                                                                border: \"1px solid #28a745\",\n                                                                                borderRadius: \"4px\",\n                                                                                padding: \"0.5rem\",\n                                                                                fontSize: \"0.9rem\",\n                                                                                textAlign: \"center\"\n                                                                            },\n                                                                            children: [\n                                                                                \"✅\",\n                                                                                \" \",\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                                    children: \"Fully Paid - No Credit Balance\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                    lineNumber: 3803,\n                                                                                    columnNumber: 35\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                            lineNumber: 3792,\n                                                                            columnNumber: 33\n                                                                        }, this);\n                                                                    } else {\n                                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            style: {\n                                                                                backgroundColor: \"#f8d7da\",\n                                                                                border: \"1px solid #dc3545\",\n                                                                                borderRadius: \"4px\",\n                                                                                padding: \"0.5rem\",\n                                                                                fontSize: \"0.9rem\",\n                                                                                textAlign: \"center\"\n                                                                            },\n                                                                            children: [\n                                                                                \"\\uD83D\\uDCDD\",\n                                                                                \" \",\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                                    children: [\n                                                                                        \"Full Credit: $\",\n                                                                                        creditBalance.toFixed(2)\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                    lineNumber: 3821,\n                                                                                    columnNumber: 35\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                            lineNumber: 3810,\n                                                                            columnNumber: 33\n                                                                        }, this);\n                                                                    }\n                                                                })()\n                                                            ]\n                                                        }, void 0, true)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 3360,\n                                                    columnNumber: 21\n                                                }, this),\n                                                !isCreditSale && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        display: \"flex\",\n                                                        gap: \"0.5rem\",\n                                                        alignItems: \"center\",\n                                                        justifyContent: \"space-between\"\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                            style: {\n                                                                display: \"flex\",\n                                                                gap: \"0.5rem\",\n                                                                alignItems: \"center\"\n                                                            },\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                    type: \"checkbox\",\n                                                                    checked: autoFillOther,\n                                                                    onChange: (e)=>setAutoFillOther(!!e.target.checked)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                    lineNumber: 3849,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    style: {\n                                                                        fontSize: \"0.9rem\"\n                                                                    },\n                                                                    children: \"Auto-fill other payment\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                    lineNumber: 3856,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                            lineNumber: 3842,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            style: {\n                                                                fontSize: \"0.85rem\",\n                                                                color: \"#7f8c8d\"\n                                                            },\n                                                            children: \"Toggle to automatically fill the other field\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                            lineNumber: 3860,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 3834,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        display: \"flex\",\n                                                        gap: \"0.5rem\",\n                                                        alignItems: \"center\",\n                                                        position: \"relative\"\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                            style: {\n                                                                minWidth: \"80px\",\n                                                                color: (Number(cashbackAmount) || 0) > 0 ? \"#95a5a6\" : \"inherit\"\n                                                            },\n                                                            children: \"Cash:\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                            lineNumber: 3874,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                            type: \"number\",\n                                                            step: \"0.01\",\n                                                            min: \"0\",\n                                                            value: cashAmount,\n                                                            disabled: (Number(cashbackAmount) || 0) > 0,\n                                                            onChange: (e)=>{\n                                                                const value = e.target.value;\n                                                                setLastEdited(\"cash\");\n                                                                // Always set the raw value first to allow proper typing\n                                                                setCashAmount(value);\n                                                                // Only do validation and auto-fill if value is not empty and not currently being typed\n                                                                if (value !== \"\") {\n                                                                    const parsed = Number(value);\n                                                                    if (isCreditSale) {\n                                                                        // Check if this is a balance payment (no items in cart)\n                                                                        const isBalancePayment = cart.length === 0 && selectedCustomer && customerBalance > 0;\n                                                                        if (isBalancePayment) {\n                                                                            // For balance payments, allow any amount up to the customer's balance\n                                                                            const validCashAmount = Math.min(parsed, customerBalance);\n                                                                            if (parsed > customerBalance) {\n                                                                                setCashAmount(String(validCashAmount));\n                                                                            }\n                                                                            // Clear card when cash is entered\n                                                                            if (validCashAmount > 0) {\n                                                                                setCardAmount(\"\");\n                                                                            }\n                                                                            return;\n                                                                        }\n                                                                        // For regular credit sales with items in cart\n                                                                        const subtotal = calculateTotal();\n                                                                        const tax = calculateTax();\n                                                                        const total = +(subtotal + tax).toFixed(2);\n                                                                        const cashback = Number(parseFloat(cashbackAmount) || 0);\n                                                                        const lotto = Number(parseFloat(lottoWinnings) || 0);\n                                                                        const finalTotal = total + cashback - lotto;\n                                                                        const currentCredit = Number(parseFloat(creditAmount) || 0);\n                                                                        const remainingAmount = Math.max(0, finalTotal - currentCredit);\n                                                                        // If customer has existing balance, allow payment up to transaction total + existing balance\n                                                                        let maxAllowedPayment = remainingAmount;\n                                                                        if (selectedCustomer && customerBalance > 0) {\n                                                                            maxAllowedPayment = finalTotal + customerBalance;\n                                                                        }\n                                                                        // Allow cash up to max allowed payment\n                                                                        const validCashAmount = Math.min(parsed, maxAllowedPayment);\n                                                                        if (parsed > maxAllowedPayment) {\n                                                                            setCashAmount(String(validCashAmount));\n                                                                        }\n                                                                        // If user enters cash, clear card (only one payment method)\n                                                                        if (validCashAmount > 0) {\n                                                                            setCardAmount(\"\");\n                                                                        }\n                                                                        return;\n                                                                    }\n                                                                    if (autoFillOther) {\n                                                                        // Regular mode auto-fill\n                                                                        const subtotal = calculateTotal();\n                                                                        const tax = calculateTax();\n                                                                        const total = +(subtotal + tax).toFixed(2);\n                                                                        const newCard = Math.max(0, +(total - parsed).toFixed(2));\n                                                                        setCardAmount(String(newCard));\n                                                                    }\n                                                                }\n                                                            },\n                                                            style: {\n                                                                padding: \"0.4rem\",\n                                                                flex: 1,\n                                                                backgroundColor: isCreditSale ? \"#f8f9fa\" : \"white\"\n                                                            },\n                                                            placeholder: isCreditSale ? \"Enter partial payment\" : \"0.00\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                            lineNumber: 3885,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 3866,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        display: \"flex\",\n                                                        gap: \"0.5rem\",\n                                                        alignItems: \"center\",\n                                                        position: \"relative\"\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: swapPayments,\n                                                            disabled: isCreditSale,\n                                                            style: {\n                                                                position: \"absolute\",\n                                                                left: \"40px\",\n                                                                top: \"-15px\",\n                                                                background: isCreditSale ? \"#f8f9fa\" : \"linear-gradient(135deg, #3498db, #2980b9)\",\n                                                                border: \"none\",\n                                                                borderRadius: \"50%\",\n                                                                width: \"20px\",\n                                                                height: \"20px\",\n                                                                cursor: isCreditSale ? \"not-allowed\" : \"pointer\",\n                                                                color: \"white\",\n                                                                fontSize: \"10px\",\n                                                                fontWeight: \"bold\",\n                                                                display: \"flex\",\n                                                                alignItems: \"center\",\n                                                                justifyContent: \"center\",\n                                                                boxShadow: isCreditSale ? \"none\" : \"0 1px 4px rgba(52, 152, 219, 0.3)\",\n                                                                transition: \"all 0.2s ease\",\n                                                                opacity: isCreditSale ? 0.4 : 1,\n                                                                zIndex: 10\n                                                            },\n                                                            onMouseEnter: (e)=>{\n                                                                if (!isCreditSale) {\n                                                                    e.target.style.transform = \"rotate(180deg) scale(1.2)\";\n                                                                    e.target.style.boxShadow = \"0 2px 6px rgba(52, 152, 219, 0.4)\";\n                                                                }\n                                                            },\n                                                            onMouseLeave: (e)=>{\n                                                                if (!isCreditSale) {\n                                                                    e.target.style.transform = \"rotate(0deg) scale(1)\";\n                                                                    e.target.style.boxShadow = \"0 1px 4px rgba(52, 152, 219, 0.3)\";\n                                                                }\n                                                            },\n                                                            title: isCreditSale ? \"Swap disabled in credit mode\" : \"Swap cash and card amounts\",\n                                                            children: \"⇅\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                            lineNumber: 4000,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                            style: {\n                                                                minWidth: \"80px\"\n                                                            },\n                                                            children: \"Card:\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                            lineNumber: 4051,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                            type: \"number\",\n                                                            step: \"0.01\",\n                                                            min: \"0\",\n                                                            value: cardAmount,\n                                                            onChange: (e)=>{\n                                                                const value = e.target.value;\n                                                                setLastEdited(\"card\");\n                                                                // Always set the raw value first to allow proper typing\n                                                                setCardAmount(value);\n                                                                // Only do validation and auto-fill if value is not empty and not currently being typed\n                                                                if (value !== \"\") {\n                                                                    const parsed = Number(value);\n                                                                    if (isCreditSale) {\n                                                                        // Check if this is a balance payment (no items in cart)\n                                                                        const isBalancePayment = cart.length === 0 && selectedCustomer && customerBalance > 0;\n                                                                        if (isBalancePayment) {\n                                                                            // For balance payments, allow any amount up to the customer's balance\n                                                                            const validCardAmount = Math.min(parsed, customerBalance);\n                                                                            if (parsed > customerBalance) {\n                                                                                setCardAmount(String(validCardAmount));\n                                                                            }\n                                                                            // Clear cash when card is entered\n                                                                            if (validCardAmount > 0) {\n                                                                                setCashAmount(\"\");\n                                                                            }\n                                                                            return;\n                                                                        }\n                                                                        // For regular credit sales with items in cart\n                                                                        const subtotal = calculateTotal();\n                                                                        const tax = calculateTax();\n                                                                        const total = +(subtotal + tax).toFixed(2);\n                                                                        const cashback = Number(parseFloat(cashbackAmount) || 0);\n                                                                        const lotto = Number(parseFloat(lottoWinnings) || 0);\n                                                                        const finalTotal = total + cashback - lotto;\n                                                                        const currentCredit = Number(parseFloat(creditAmount) || 0);\n                                                                        const remainingAmount = Math.max(0, finalTotal - currentCredit);\n                                                                        // If customer has existing balance, allow payment up to transaction total + existing balance\n                                                                        let maxAllowedPayment = remainingAmount;\n                                                                        if (selectedCustomer && customerBalance > 0) {\n                                                                            maxAllowedPayment = finalTotal + customerBalance;\n                                                                        }\n                                                                        // Allow card up to max allowed payment\n                                                                        const validCardAmount = Math.min(parsed, maxAllowedPayment);\n                                                                        if (parsed > maxAllowedPayment) {\n                                                                            setCardAmount(String(validCardAmount));\n                                                                        }\n                                                                        // If user enters card, clear cash (only one payment method)\n                                                                        if (validCardAmount > 0) {\n                                                                            setCashAmount(\"\");\n                                                                        }\n                                                                        return;\n                                                                    }\n                                                                    if (autoFillOther) {\n                                                                        // Regular mode auto-fill\n                                                                        const subtotal = calculateTotal();\n                                                                        const tax = calculateTax();\n                                                                        const total = +(subtotal + tax).toFixed(2);\n                                                                        const newCash = Math.max(0, +(total - parsed).toFixed(2));\n                                                                        setCashAmount(String(newCash));\n                                                                    }\n                                                                }\n                                                            },\n                                                            style: {\n                                                                padding: \"0.4rem\",\n                                                                flex: 1,\n                                                                backgroundColor: isCreditSale ? \"#f8f9fa\" : \"white\"\n                                                            },\n                                                            placeholder: isCreditSale ? \"Enter partial payment\" : \"0.00\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                            lineNumber: 4052,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: ()=>{\n                                                                // Calculate total for terminal payment\n                                                                const subtotal = calculateTotal();\n                                                                const tax = calculateTax();\n                                                                const total = +(subtotal + tax).toFixed(2);\n                                                                const cashback = Number(parseFloat(cashbackAmount) || 0);\n                                                                const lotto = Number(parseFloat(lottoWinnings) || 0);\n                                                                // Note: total already includes credit card charge from calculateTotal()\n                                                                const finalTotal = total + cashback - lotto;\n                                                                // Process terminal payment\n                                                                handleTerminalPayment(finalTotal);\n                                                            },\n                                                            disabled: isCreditSale || cart.length === 0,\n                                                            style: {\n                                                                padding: \"0.4rem 0.8rem\",\n                                                                backgroundColor: isCreditSale || cart.length === 0 ? \"#f8f9fa\" : \"#6f42c1\",\n                                                                color: isCreditSale || cart.length === 0 ? \"#6c757d\" : \"white\",\n                                                                border: \"none\",\n                                                                borderRadius: \"6px\",\n                                                                cursor: isCreditSale || cart.length === 0 ? \"not-allowed\" : \"pointer\",\n                                                                fontSize: \"0.85rem\",\n                                                                fontWeight: \"600\",\n                                                                marginLeft: \"0.5rem\",\n                                                                transition: \"all 0.2s ease\",\n                                                                opacity: isCreditSale || cart.length === 0 ? 0.6 : 1\n                                                            },\n                                                            title: isCreditSale ? \"Terminal disabled in credit mode\" : cart.length === 0 ? \"Add items to cart first\" : \"Process payment via terminal\",\n                                                            children: \"\\uD83D\\uDCB3 Terminal\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                            lineNumber: 4156,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 3991,\n                                                    columnNumber: 21\n                                                }, this),\n                                                (Number(cashbackAmount) || 0) > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        padding: \"0.5rem\",\n                                                        backgroundColor: \"#e8f4fd\",\n                                                        border: \"1px solid #85c1e9\",\n                                                        borderRadius: \"4px\",\n                                                        fontSize: \"0.85rem\",\n                                                        color: \"#2e86c1\",\n                                                        textAlign: \"center\",\n                                                        fontWeight: \"500\",\n                                                        marginTop: \"0.5rem\"\n                                                    },\n                                                    children: [\n                                                        \"\\uD83D\\uDEAB\",\n                                                        \" \",\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                            children: \"Cash payment disabled for cashback transactions\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                            lineNumber: 4222,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            style: {\n                                                                fontSize: \"0.8rem\",\n                                                                marginTop: \"0.25rem\",\n                                                                opacity: 0.9\n                                                            },\n                                                            children: [\n                                                                \"Customer must pay by card • Cash register: -\",\n                                                                (Number(cashbackAmount) || 0).toFixed(2),\n                                                                \" +\",\n                                                                \" \",\n                                                                (Number(cashbackFee) || 0).toFixed(2),\n                                                                \" profit\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                            lineNumber: 4225,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 4208,\n                                                    columnNumber: 23\n                                                }, this),\n                                                !isCreditSale && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                    children: [\n                                                        cashback > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            style: {\n                                                                padding: \"0.5rem\",\n                                                                backgroundColor: \"#fff3cd\",\n                                                                border: \"1px solid #ffeaa7\",\n                                                                borderRadius: \"4px\",\n                                                                marginTop: \"0.5rem\"\n                                                            },\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                    children: [\n                                                                        \"Cashback: $\",\n                                                                        cashback.toFixed(2)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                    lineNumber: 4251,\n                                                                    columnNumber: 29\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    style: {\n                                                                        fontSize: \"0.85rem\",\n                                                                        color: \"#856404\"\n                                                                    },\n                                                                    children: [\n                                                                        \"Requires card payment: $\",\n                                                                        (total + cashback).toFixed(2),\n                                                                        \" (Purchase: $\",\n                                                                        total.toFixed(2),\n                                                                        \" + Cashback: $\",\n                                                                        cashback.toFixed(2),\n                                                                        \")\"\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                    lineNumber: 4252,\n                                                                    columnNumber: 29\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    style: {\n                                                                        fontSize: \"0.8rem\",\n                                                                        color: \"#d68910\",\n                                                                        marginTop: \"0.25rem\",\n                                                                        fontWeight: \"500\"\n                                                                    },\n                                                                    children: [\n                                                                        \"\\uD83D\\uDCB3 Customer pays by card • \\uD83D\\uDCB5 You give $\",\n                                                                        cashback.toFixed(2),\n                                                                        \" cash from register\"\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                    lineNumber: 4260,\n                                                                    columnNumber: 29\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                            lineNumber: 4242,\n                                                            columnNumber: 27\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            style: {\n                                                                color: isSufficient ? \"#2ecc71\" : \"#e74c3c\",\n                                                                fontWeight: \"600\"\n                                                            },\n                                                            children: isSufficient ? \"Card Payment: $\".concat(paidCard.toFixed(2)).concat(change > 0 && cashback === 0 ? \" — Change: $\".concat(change.toFixed(2)) : \"\").concat(cashback > 0 ? \" — Cashback Given: $\".concat(cashback.toFixed(2)) : \"\") : cashback > 0 ? \"Card payment needed: $\".concat((total + cashback).toFixed(2), \" (Current: $\").concat(paidCard.toFixed(2), \")\") : \"Amount due: $\".concat((total - paidTotal).toFixed(2))\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                            lineNumber: 4274,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        paymentError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            style: {\n                                                                color: \"#e74c3c\"\n                                                            },\n                                                            children: paymentError\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                            lineNumber: 4298,\n                                                            columnNumber: 27\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.CheckoutButton, {\n                                                    onClick: processCheckout,\n                                                    disabled: isCreditSale ? false : !isSufficient,\n                                                    children: (()=>{\n                                                        // Check if this is a balance payment\n                                                        if (isBalancePayment) {\n                                                            const paidCash = Number(parseFloat(cashAmount) || 0);\n                                                            const paidCard = Number(parseFloat(cardAmount) || 0);\n                                                            const paymentTotal = paidCash + paidCard;\n                                                            const customerBalance = (selectedCustomer === null || selectedCustomer === void 0 ? void 0 : selectedCustomer.balance) || 0;\n                                                            const remainingBalance = customerBalance - paymentTotal;\n                                                            if (paymentTotal === 0) {\n                                                                return \"Enter Payment Amount\";\n                                                            } else if (remainingBalance > 0) {\n                                                                return \"Pay $\".concat(paymentTotal.toFixed(2), \" (Balance Remaining: $\").concat(remainingBalance.toFixed(2), \")\");\n                                                            } else {\n                                                                return \"Pay $\".concat(paymentTotal.toFixed(2), \" (Balance Paid)\");\n                                                            }\n                                                        }\n                                                        if (!isCreditSale) return \"Process Payment\";\n                                                        const subtotal = calculateTotal();\n                                                        const tax = calculateTax();\n                                                        const total = +(subtotal + tax).toFixed(2);\n                                                        const cashback = Number(parseFloat(cashbackAmount) || 0);\n                                                        const lotto = Number(parseFloat(lottoWinnings) || 0);\n                                                        const finalTotal = total + cashback - lotto;\n                                                        const paidCash = Number(parseFloat(cashAmount) || 0);\n                                                        const paidCard = Number(parseFloat(cardAmount) || 0);\n                                                        const paidTotal = paidCash + paidCard;\n                                                        const specifiedCreditAmount = Number(parseFloat(creditAmount) || 0);\n                                                        if (specifiedCreditAmount > 0) {\n                                                            const paymentNeeded = finalTotal - specifiedCreditAmount;\n                                                            return \"Process Sale (Payment: $\".concat(paymentNeeded.toFixed(2), \", Credit: $\").concat(specifiedCreditAmount.toFixed(2), \")\");\n                                                        } else {\n                                                            const creditBalance = Math.max(0, finalTotal - paidTotal);\n                                                            if (paidTotal > 0 && creditBalance > 0) {\n                                                                return \"Process Partial Payment (Credit: $\".concat(creditBalance.toFixed(2), \")\");\n                                                            } else if (paidTotal >= finalTotal) {\n                                                                return \"Process Full Payment\";\n                                                            } else {\n                                                                return \"Create Full Credit Sale\";\n                                                            }\n                                                        }\n                                                    })()\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 4303,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 3351,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true);\n                            })()\n                        }, void 0, false, {\n                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                            lineNumber: 3243,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                    lineNumber: 2655,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n            lineNumber: 1900,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n        lineNumber: 1899,\n        columnNumber: 5\n    }, this);\n}\n_s(POSContent, \"LUCxweEl5OxoXe26HlhbYXrmrts=\", false, function() {\n    return [\n        _lib_hooks__WEBPACK_IMPORTED_MODULE_3__.useAppDispatch,\n        _lib_hooks__WEBPACK_IMPORTED_MODULE_3__.useInventoryManager,\n        _lib_withInventory__WEBPACK_IMPORTED_MODULE_4__.useEnsureInventory,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams\n    ];\n});\n_c = POSContent;\nfunction POSPage() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react__WEBPACK_IMPORTED_MODULE_1__.Suspense, {\n        fallback: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                padding: \"2rem\",\n                textAlign: \"center\"\n            },\n            children: \"Loading POS system...\"\n        }, void 0, false, {\n            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n            lineNumber: 4386,\n            columnNumber: 9\n        }, void 0),\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(POSContent, {}, void 0, false, {\n            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n            lineNumber: 4391,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n        lineNumber: 4384,\n        columnNumber: 5\n    }, this);\n}\n_c1 = POSPage;\nvar _c, _c1;\n$RefreshReg$(_c, \"POSContent\");\n$RefreshReg$(_c1, \"POSPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVM7Z0JBQVErQixXQUFXO1lBQVM7c0JBQUc7Ozs7OztrQkFLeEQsNEVBQUN2Vzs7Ozs7Ozs7OztBQUdQO01BWndCMloiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vYXBwL3Bvcy9wYWdlLmpzPzg0ZjAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiwgU3VzcGVuc2UgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVNlYXJjaFBhcmFtcyB9IGZyb20gXCJuZXh0L25hdmlnYXRpb25cIjtcbmltcG9ydCB7IHVzZUludmVudG9yeU1hbmFnZXIsIHVzZUFwcERpc3BhdGNoIH0gZnJvbSBcIi4uL2xpYi9ob29rc1wiO1xuaW1wb3J0IHsgdXNlRW5zdXJlSW52ZW50b3J5IH0gZnJvbSBcIi4uL2xpYi93aXRoSW52ZW50b3J5XCI7XG5pbXBvcnQge1xuICB1cGRhdGVJbnZlbnRvcnlBZnRlclRyYW5zYWN0aW9uLFxuICB1cGRhdGVJdGVtU3RvY2tMb2NhbCxcbiAgbG9hZEludmVudG9yeSxcbn0gZnJvbSBcIi4uL2xpYi9zbGljZXMvaW52ZW50b3J5U2xpY2VcIjtcbmltcG9ydCB7XG4gIENvbnRhaW5lcixcbiAgUE9TR3JpZCxcbiAgUHJvZHVjdHNQYW5lbCxcbiAgQ2hlY2tvdXRQYW5lbCxcbiAgUHJvZHVjdEl0ZW0sXG4gIENhcnRJdGVtLFxuICBTZWFyY2hCYXIsXG4gIEJ1dHRvbixcbiAgQ2F0ZWdvcnlGaWx0ZXIsXG4gIFRvdGFsLFxuICBDaGVja291dEJ1dHRvbixcbiAgUmVjZWlwdFNlY3Rpb24sXG59IGZyb20gXCIuLi9zdHlsZXMvcG9zU3R5bGVzXCI7XG5cbi8vIEluaXRpYWwgaW52ZW50b3J5IGRhdGEgYXMgZmFsbGJhY2tcbmNvbnN0IGluaXRpYWxJbnZlbnRvcnkgPSBbXG4gIHtcbiAgICBpZDogMSxcbiAgICBuYW1lOiBcIkNvY2EgQ29sYSAzNTVtbFwiLFxuICAgIGNhdGVnb3J5OiBcIkJldmVyYWdlc1wiLFxuICAgIHByaWNlOiAxLjUsXG4gICAgc3RvY2s6IDI0LFxuICAgIGxvd1N0b2NrVGhyZXNob2xkOiAxMCxcbiAgICB0YXhhYmxlOiB0cnVlLFxuICB9LFxuICB7XG4gICAgaWQ6IDIsXG4gICAgbmFtZTogXCJMYXlzIENsYXNzaWMgQ2hpcHNcIixcbiAgICBjYXRlZ29yeTogXCJTbmFja3NcIixcbiAgICBwcmljZTogMi45OSxcbiAgICBzdG9jazogOCxcbiAgICBsb3dTdG9ja1RocmVzaG9sZDogMTUsXG4gICAgdGF4YWJsZTogdHJ1ZSxcbiAgfSxcbiAge1xuICAgIGlkOiAzLFxuICAgIG5hbWU6IFwiV29uZGVyIEJyZWFkXCIsXG4gICAgY2F0ZWdvcnk6IFwiQmFrZXJ5XCIsXG4gICAgcHJpY2U6IDMuNDksXG4gICAgc3RvY2s6IDEyLFxuICAgIGxvd1N0b2NrVGhyZXNob2xkOiA1LFxuICAgIHRheGFibGU6IGZhbHNlLFxuICB9LFxuICB7XG4gICAgaWQ6IDQsXG4gICAgbmFtZTogXCJNYXJsYm9ybyBHb2xkXCIsXG4gICAgY2F0ZWdvcnk6IFwiVG9iYWNjb1wiLFxuICAgIHByaWNlOiAxMi45OSxcbiAgICBzdG9jazogMyxcbiAgICBsb3dTdG9ja1RocmVzaG9sZDogNSxcbiAgICB0YXhhYmxlOiB0cnVlLFxuICB9LFxuICB7XG4gICAgaWQ6IDUsXG4gICAgbmFtZTogXCJNYXJsYm9ybyBSZWRcIixcbiAgICBjYXRlZ29yeTogXCJUb2JhY2NvXCIsXG4gICAgcHJpY2U6IDEyLjk5LFxuICAgIHN0b2NrOiA1LFxuICAgIGxvd1N0b2NrVGhyZXNob2xkOiA1LFxuICAgIHRheGFibGU6IHRydWUsXG4gIH0sXG4gIHtcbiAgICBpZDogNixcbiAgICBuYW1lOiBcIkNhbWVsIEJsdWVcIixcbiAgICBjYXRlZ29yeTogXCJUb2JhY2NvXCIsXG4gICAgcHJpY2U6IDEzLjQ5LFxuICAgIHN0b2NrOiA0LFxuICAgIGxvd1N0b2NrVGhyZXNob2xkOiA1LFxuICAgIHRheGFibGU6IHRydWUsXG4gIH0sXG4gIHtcbiAgICBpZDogNyxcbiAgICBuYW1lOiBcIk5ld3BvcnQgTWVudGhvbFwiLFxuICAgIGNhdGVnb3J5OiBcIlRvYmFjY29cIixcbiAgICBwcmljZTogMTMuOTksXG4gICAgc3RvY2s6IDYsXG4gICAgbG93U3RvY2tUaHJlc2hvbGQ6IDUsXG4gICAgdGF4YWJsZTogdHJ1ZSxcbiAgfSxcbiAge1xuICAgIGlkOiA4LFxuICAgIG5hbWU6IFwiUmVkIEJ1bGwgMjUwbWxcIixcbiAgICBjYXRlZ29yeTogXCJCZXZlcmFnZXNcIixcbiAgICBwcmljZTogMy45OSxcbiAgICBzdG9jazogMTgsXG4gICAgbG93U3RvY2tUaHJlc2hvbGQ6IDgsXG4gICAgdGF4YWJsZTogdHJ1ZSxcbiAgfSxcbiAge1xuICAgIGlkOiA5LFxuICAgIG5hbWU6IFwiTWlsayAxTFwiLFxuICAgIGNhdGVnb3J5OiBcIkRhaXJ5XCIsXG4gICAgcHJpY2U6IDIuNzksXG4gICAgc3RvY2s6IDE1LFxuICAgIGxvd1N0b2NrVGhyZXNob2xkOiA1LFxuICAgIHRheGFibGU6IGZhbHNlLFxuICB9LFxuICB7XG4gICAgaWQ6IDEwLFxuICAgIG5hbWU6IFwiQmFuYW5hIChlYWNoKVwiLFxuICAgIGNhdGVnb3J5OiBcIkZyZXNoIFByb2R1Y2VcIixcbiAgICBwcmljZTogMC44OSxcbiAgICBzdG9jazogMjUsXG4gICAgbG93U3RvY2tUaHJlc2hvbGQ6IDEwLFxuICAgIHRheGFibGU6IGZhbHNlLFxuICB9LFxuICB7XG4gICAgaWQ6IDExLFxuICAgIG5hbWU6IFwiQ29mZmVlIEN1cCAxMm96XCIsXG4gICAgY2F0ZWdvcnk6IFwiQmV2ZXJhZ2VzXCIsXG4gICAgcHJpY2U6IDEuOTksXG4gICAgc3RvY2s6IDMwLFxuICAgIGxvd1N0b2NrVGhyZXNob2xkOiAxMCxcbiAgICB0YXhhYmxlOiB0cnVlLFxuICB9LFxuXTtcblxuZnVuY3Rpb24gUE9TQ29udGVudCgpIHtcbiAgY29uc3QgZGlzcGF0Y2ggPSB1c2VBcHBEaXNwYXRjaCgpO1xuICBjb25zdCB7XG4gICAgaXRlbXM6IGludmVudG9yeSxcbiAgICBsb2FkaW5nOiBpbnZlbnRvcnlMb2FkaW5nLFxuICAgIGNhdGVnb3JpZXMsXG4gICAgZ2V0RmlsdGVyZWRJbnZlbnRvcnksXG4gIH0gPSB1c2VJbnZlbnRvcnlNYW5hZ2VyKCk7XG4gIGNvbnN0IHsgaW52ZW50b3J5TG9hZGVkIH0gPSB1c2VFbnN1cmVJbnZlbnRvcnkoKTtcbiAgY29uc3Qgc2VhcmNoUGFyYW1zID0gdXNlU2VhcmNoUGFyYW1zKCk7XG5cbiAgY29uc3QgW2NhcnQsIHNldENhcnRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbc2VhcmNoVGVybSwgc2V0U2VhcmNoVGVybV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2NhdGVnb3J5RmlsdGVyLCBzZXRDYXRlZ29yeUZpbHRlcl0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3Qgc2VhcmNoSW5wdXRSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IFtiYXJjb2RlQnVmZmVyLCBzZXRCYXJjb2RlQnVmZmVyXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbbGFzdEtleVRpbWUsIHNldExhc3RLZXlUaW1lXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbc2hvd1JlY2VpcHQsIHNldFNob3dSZWNlaXB0XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xhc3RUcmFuc2FjdGlvbiwgc2V0TGFzdFRyYW5zYWN0aW9uXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbY2FzaEFtb3VudCwgc2V0Q2FzaEFtb3VudF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2NhcmRBbW91bnQsIHNldENhcmRBbW91bnRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtjYXNoYmFja0Ftb3VudCwgc2V0Q2FzaGJhY2tBbW91bnRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtjYXNoYmFja0ZlZSwgc2V0Q2FzaGJhY2tGZWVdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtjYXNoYmFja0VuYWJsZWQsIHNldENhc2hiYWNrRW5hYmxlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb3R0b1dpbm5pbmdzLCBzZXRMb3R0b1dpbm5pbmdzXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbcGF5bWVudEVycm9yLCBzZXRQYXltZW50RXJyb3JdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFthdXRvRmlsbE90aGVyLCBzZXRBdXRvRmlsbE90aGVyXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbbGFzdEVkaXRlZCwgc2V0TGFzdEVkaXRlZF0gPSB1c2VTdGF0ZShudWxsKTsgLy8gJ2Nhc2gnIHwgJ2NhcmQnIHwgbnVsbFxuXG4gIC8vIENyZWRpdCBzYWxlIHN0YXRlc1xuICBjb25zdCBbaXNDcmVkaXRTYWxlLCBzZXRJc0NyZWRpdFNhbGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY3JlZGl0Q3VzdG9tZXJOYW1lLCBzZXRDcmVkaXRDdXN0b21lck5hbWVdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtjcmVkaXRBbW91bnQsIHNldENyZWRpdEFtb3VudF0gPSB1c2VTdGF0ZSgwKTsgLy8gU3BlY2lmaWMgY3JlZGl0IGFtb3VudFxuICBjb25zdCBbaXNBdXRvQ2FsY3VsYXRpbmcsIHNldElzQXV0b0NhbGN1bGF0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTsgLy8gUHJldmVudCBjaXJjdWxhciB1cGRhdGVzXG5cbiAgLy8gQ3JlZGl0IGN1c3RvbWVyIG1hbmFnZW1lbnQgc3RhdGVzXG4gIGNvbnN0IFtleGlzdGluZ0N1c3RvbWVycywgc2V0RXhpc3RpbmdDdXN0b21lcnNdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbc2hvd0N1c3RvbWVyU3VnZ2VzdGlvbnMsIHNldFNob3dDdXN0b21lclN1Z2dlc3Rpb25zXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3NlbGVjdGVkQ3VzdG9tZXIsIHNldFNlbGVjdGVkQ3VzdG9tZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtjdXN0b21lckJhbGFuY2UsIHNldEN1c3RvbWVyQmFsYW5jZV0gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW3Nob3dQYXltZW50T3B0aW9ucywgc2V0U2hvd1BheW1lbnRPcHRpb25zXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAvLyBDYXJkIGZlZSBzdGF0ZXNcbiAgY29uc3QgW2NhcmRUeXBlLCBzZXRDYXJkVHlwZV0gPSB1c2VTdGF0ZShcImRlYml0XCIpOyAvLyAnZGViaXQnIHwgJ2NyZWRpdCdcbiAgY29uc3QgW2NhcmRGZWVFbmFibGVkLCBzZXRDYXJkRmVlRW5hYmxlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IENBUkRfRkVFX0FNT1VOVCA9IDAuMjU7IC8vICQwLjI1IGZlZSBmb3IgY3JlZGl0IGNhcmRzXG5cbiAgLy8gQ2hlY2sgaWYgdGhpcyBpcyBhIGJhbGFuY2UgcGF5bWVudCAoY3VzdG9tZXIgc2VsZWN0ZWQgYW5kIG5vIGNhcnQgaXRlbXMpXG4gIGNvbnN0IGlzQmFsYW5jZVBheW1lbnQgPSBzZWxlY3RlZEN1c3RvbWVyICYmIGNhcnQubGVuZ3RoID09PSAwO1xuXG4gIC8vIERpc2NvdW50IHN0YXRlc1xuICBjb25zdCBbZGlzY291bnRBbW91bnQsIHNldERpc2NvdW50QW1vdW50XSA9IHVzZVN0YXRlKFwiXCIpO1xuXG4gIC8vIE1hbnVhbCBpdGVtIGVudHJ5IHN0YXRlc1xuICBjb25zdCBbc2hvd01hbnVhbEVudHJ5LCBzZXRTaG93TWFudWFsRW50cnldID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbWFudWFsSXRlbSwgc2V0TWFudWFsSXRlbV0gPSB1c2VTdGF0ZSh7XG4gICAgbmFtZTogXCJcIixcbiAgICBwcmljZTogXCJcIixcbiAgICBjYXRlZ29yeTogY2F0ZWdvcmllcy5sZW5ndGggPiAwID8gY2F0ZWdvcmllc1swXSA6IFwiZ3JvY2VyeS10YXhhYmxlXCIsXG4gICAgcXVhbnRpdHk6IDEsXG4gIH0pO1xuXG4gIC8vIFVzZSBSZWR1eC1tYW5hZ2VkIGludmVudG9yeSB3aXRoIHNtYXJ0IGZpbHRlcmluZ1xuICBjb25zdCBmaWx0ZXJlZEludmVudG9yeSA9IGdldEZpbHRlcmVkSW52ZW50b3J5KHNlYXJjaFRlcm0sIGNhdGVnb3J5RmlsdGVyKTtcblxuICBjb25zdCBhZGRUb0NhcnQgPSAocHJvZHVjdCkgPT4ge1xuICAgIC8vIEZvciBtYW51YWwgaXRlbXMsIGZpbmQgZXhpc3RpbmcgaXRlbSBieSBuYW1lLCBwcmljZSwgYW5kIGNhdGVnb3J5IGluc3RlYWQgb2YgSURcbiAgICBsZXQgZXhpc3RpbmdJdGVtO1xuICAgIGlmIChwcm9kdWN0LmlzTWFudWFsKSB7XG4gICAgICBleGlzdGluZ0l0ZW0gPSBjYXJ0LmZpbmQoXG4gICAgICAgIChpdGVtKSA9PlxuICAgICAgICAgIGl0ZW0uaXNNYW51YWwgJiZcbiAgICAgICAgICBpdGVtLm5hbWUgPT09IHByb2R1Y3QubmFtZSAmJlxuICAgICAgICAgIGl0ZW0ucHJpY2UgPT09IHByb2R1Y3QucHJpY2UgJiZcbiAgICAgICAgICBpdGVtLmNhdGVnb3J5ID09PSBwcm9kdWN0LmNhdGVnb3J5XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBleGlzdGluZ0l0ZW0gPSBjYXJ0LmZpbmQoKGl0ZW0pID0+IGl0ZW0uaWQgPT09IHByb2R1Y3QuaWQpO1xuICAgIH1cblxuICAgIGlmIChleGlzdGluZ0l0ZW0pIHtcbiAgICAgIHNldENhcnQoXG4gICAgICAgIGNhcnQubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgLy8gRm9yIG1hbnVhbCBpdGVtcywgbWF0Y2ggYnkgbmFtZSwgcHJpY2UsIGFuZCBjYXRlZ29yeVxuICAgICAgICAgIGNvbnN0IGlzTWF0Y2ggPSBwcm9kdWN0LmlzTWFudWFsXG4gICAgICAgICAgICA/IGl0ZW0uaXNNYW51YWwgJiZcbiAgICAgICAgICAgICAgaXRlbS5uYW1lID09PSBwcm9kdWN0Lm5hbWUgJiZcbiAgICAgICAgICAgICAgaXRlbS5wcmljZSA9PT0gcHJvZHVjdC5wcmljZSAmJlxuICAgICAgICAgICAgICBpdGVtLmNhdGVnb3J5ID09PSBwcm9kdWN0LmNhdGVnb3J5XG4gICAgICAgICAgICA6IGl0ZW0uaWQgPT09IHByb2R1Y3QuaWQ7XG5cbiAgICAgICAgICByZXR1cm4gaXNNYXRjaCA/IHsgLi4uaXRlbSwgcXVhbnRpdHk6IGl0ZW0ucXVhbnRpdHkgKyAxIH0gOiBpdGVtO1xuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgLy8gVXBkYXRlIGludmVudG9yeSBzdG9jayBpbW1lZGlhdGVseSAob3B0aW1pc3RpYyB1cGRhdGUpXG4gICAgICBpZiAoIXByb2R1Y3QuaXNNYW51YWwgJiYgcHJvZHVjdC5pZCkge1xuICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICB1cGRhdGVJdGVtU3RvY2tMb2NhbCh7XG4gICAgICAgICAgICBpZDogcHJvZHVjdC5pZCxcbiAgICAgICAgICAgIG5ld1N0b2NrOiBwcm9kdWN0LnN0b2NrIC0gMSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzZXRDYXJ0KFtcbiAgICAgICAgLi4uY2FydCxcbiAgICAgICAgeyAuLi5wcm9kdWN0LCBxdWFudGl0eTogMSwgYXBwbHlUYXg6IHByb2R1Y3QudGF4YWJsZSA9PT0gdHJ1ZSB9LFxuICAgICAgXSk7XG5cbiAgICAgIC8vIFVwZGF0ZSBpbnZlbnRvcnkgc3RvY2sgaW1tZWRpYXRlbHkgKG9wdGltaXN0aWMgdXBkYXRlKVxuICAgICAgaWYgKCFwcm9kdWN0LmlzTWFudWFsICYmIHByb2R1Y3QuaWQpIHtcbiAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgdXBkYXRlSXRlbVN0b2NrTG9jYWwoe1xuICAgICAgICAgICAgaWQ6IHByb2R1Y3QuaWQsXG4gICAgICAgICAgICBuZXdTdG9jazogcHJvZHVjdC5zdG9jayAtIDEsXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlVm9pZEl0ZW0gPSAoaXRlbUlkLCBpdGVtTmFtZSkgPT4ge1xuICAgIGNvbnN0IGNvbmZpcm1Wb2lkID0gY29uZmlybShcbiAgICAgIGBWb2lkIGl0ZW06IFwiJHtpdGVtTmFtZX1cIj9cXG5cXG5UaGlzIHdpbGwgcmVtb3ZlIHRoZSBpdGVtIGNvbXBsZXRlbHkgZnJvbSB0aGUgY2FydC5gXG4gICAgKTtcbiAgICBpZiAoY29uZmlybVZvaWQpIHtcbiAgICAgIC8vIEZpbmQgdGhlIGl0ZW0gYmVpbmcgdm9pZGVkIHRvIHJlc3RvcmUgc3RvY2tcbiAgICAgIGNvbnN0IGl0ZW1Ub1ZvaWQgPSBjYXJ0LmZpbmQoKGl0ZW0pID0+IGl0ZW0uaWQgPT09IGl0ZW1JZCk7XG5cbiAgICAgIGlmIChpdGVtVG9Wb2lkICYmICFpdGVtVG9Wb2lkLmlzTWFudWFsKSB7XG4gICAgICAgIC8vIEZpbmQgdGhlIGNvcnJlc3BvbmRpbmcgcHJvZHVjdCBpbiBpbnZlbnRvcnlcbiAgICAgICAgY29uc3QgcHJvZHVjdCA9IGludmVudG9yeS5maW5kKChwKSA9PiBwLmlkID09PSBpdGVtSWQpO1xuXG4gICAgICAgIGlmIChwcm9kdWN0KSB7XG4gICAgICAgICAgLy8gUmVzdG9yZSBzdG9jayBieSBhZGRpbmcgYmFjayB0aGUgcXVhbnRpdHkgYmVpbmcgdm9pZGVkXG4gICAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICB1cGRhdGVJdGVtU3RvY2tMb2NhbCh7XG4gICAgICAgICAgICAgIGlkOiBwcm9kdWN0LmlkLFxuICAgICAgICAgICAgICBuZXdTdG9jazogcHJvZHVjdC5zdG9jayArIGl0ZW1Ub1ZvaWQucXVhbnRpdHksXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc2V0Q2FydChjYXJ0LmZpbHRlcigoaXRlbSkgPT4gaXRlbS5pZCAhPT0gaXRlbUlkKSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZURlY3JlYXNlUXVhbnRpdHkgPSAoaXRlbUlkKSA9PiB7XG4gICAgY29uc3QgaXRlbSA9IGNhcnQuZmluZCgoaXRlbSkgPT4gaXRlbS5pZCA9PT0gaXRlbUlkKTtcbiAgICBpZiAoIWl0ZW0gfHwgaXRlbS5xdWFudGl0eSA8PSAxKSByZXR1cm47IC8vIERvbid0IGFsbG93IGRlY3JlYXNlIGJlbG93IDFcblxuICAgIC8vIERlY3JlYXNlIHF1YW50aXR5IG5vcm1hbGx5XG4gICAgdXBkYXRlQ2FydFF1YW50aXR5KGl0ZW1JZCwgaXRlbS5xdWFudGl0eSAtIDEpO1xuICB9O1xuXG4gIGNvbnN0IHVwZGF0ZUNhcnRRdWFudGl0eSA9IChpZCwgbmV3UXVhbnRpdHkpID0+IHtcbiAgICBpZiAobmV3UXVhbnRpdHkgPT09IDApIHtcbiAgICAgIC8vIFdoZW4gcXVhbnRpdHkgd291bGQgYmVjb21lIDAsIHByb21wdCBmb3Igdm9pZCBjb25maXJtYXRpb25cbiAgICAgIGNvbnN0IGl0ZW0gPSBjYXJ0LmZpbmQoKGl0ZW0pID0+IGl0ZW0uaWQgPT09IGlkKTtcbiAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgIGhhbmRsZVZvaWRJdGVtKGlkLCBpdGVtLm5hbWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGaW5kIHRoZSBpdGVtIGluIGNhcnQgdG8gY2hlY2sgaWYgaXQncyBtYW51YWxcbiAgICAgIGNvbnN0IGNhcnRJdGVtID0gY2FydC5maW5kKChpdGVtKSA9PiBpdGVtLmlkID09PSBpZCk7XG5cbiAgICAgIGlmIChjYXJ0SXRlbSAmJiBjYXJ0SXRlbS5pc01hbnVhbCkge1xuICAgICAgICAvLyBNYW51YWwgaXRlbXMgaGF2ZSB1bmxpbWl0ZWQgc3RvY2tcbiAgICAgICAgc2V0Q2FydChcbiAgICAgICAgICBjYXJ0Lm1hcCgoaXRlbSkgPT5cbiAgICAgICAgICAgIGl0ZW0uaWQgPT09IGlkID8geyAuLi5pdGVtLCBxdWFudGl0eTogbmV3UXVhbnRpdHkgfSA6IGl0ZW1cbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSZWd1bGFyIGludmVudG9yeSBpdGVtcyAtIGNoZWNrIHN0b2NrIGFuZCB1cGRhdGUgaW52ZW50b3J5XG4gICAgICAgIGNvbnN0IHByb2R1Y3QgPSBpbnZlbnRvcnkuZmluZCgocCkgPT4gcC5pZCA9PT0gaWQpO1xuICAgICAgICBjb25zdCBjYXJ0SXRlbSA9IGNhcnQuZmluZCgoaXRlbSkgPT4gaXRlbS5pZCA9PT0gaWQpO1xuXG4gICAgICAgIGlmIChwcm9kdWN0ICYmIGNhcnRJdGVtKSB7XG4gICAgICAgICAgY29uc3QgcXVhbnRpdHlEaWZmID0gbmV3UXVhbnRpdHkgLSBjYXJ0SXRlbS5xdWFudGl0eTtcbiAgICAgICAgICBjb25zdCBuZXdTdG9jayA9IHByb2R1Y3Quc3RvY2sgLSBxdWFudGl0eURpZmY7XG5cbiAgICAgICAgICBzZXRDYXJ0KFxuICAgICAgICAgICAgY2FydC5tYXAoKGl0ZW0pID0+XG4gICAgICAgICAgICAgIGl0ZW0uaWQgPT09IGlkID8geyAuLi5pdGVtLCBxdWFudGl0eTogbmV3UXVhbnRpdHkgfSA6IGl0ZW1cbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgLy8gVXBkYXRlIGludmVudG9yeSBzdG9jayBpbW1lZGlhdGVseVxuICAgICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgICAgdXBkYXRlSXRlbVN0b2NrTG9jYWwoe1xuICAgICAgICAgICAgICBpZDogcHJvZHVjdC5pZCxcbiAgICAgICAgICAgICAgbmV3U3RvY2s6IG5ld1N0b2NrLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHJlbW92ZUZyb21DYXJ0ID0gKGlkKSA9PiB7XG4gICAgLy8gRmluZCB0aGUgaXRlbSBiZWluZyByZW1vdmVkIHRvIHJlc3RvcmUgc3RvY2tcbiAgICBjb25zdCBpdGVtVG9SZW1vdmUgPSBjYXJ0LmZpbmQoKGl0ZW0pID0+IGl0ZW0uaWQgPT09IGlkKTtcblxuICAgIGlmIChpdGVtVG9SZW1vdmUgJiYgIWl0ZW1Ub1JlbW92ZS5pc01hbnVhbCkge1xuICAgICAgLy8gRmluZCB0aGUgY29ycmVzcG9uZGluZyBwcm9kdWN0IGluIGludmVudG9yeVxuICAgICAgY29uc3QgcHJvZHVjdCA9IGludmVudG9yeS5maW5kKChwKSA9PiBwLmlkID09PSBpZCk7XG5cbiAgICAgIGlmIChwcm9kdWN0KSB7XG4gICAgICAgIC8vIFJlc3RvcmUgc3RvY2sgYnkgYWRkaW5nIGJhY2sgdGhlIHF1YW50aXR5IGJlaW5nIHJlbW92ZWRcbiAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgdXBkYXRlSXRlbVN0b2NrTG9jYWwoe1xuICAgICAgICAgICAgaWQ6IHByb2R1Y3QuaWQsXG4gICAgICAgICAgICBuZXdTdG9jazogcHJvZHVjdC5zdG9jayArIGl0ZW1Ub1JlbW92ZS5xdWFudGl0eSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNldENhcnQoY2FydC5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uaWQgIT09IGlkKSk7XG4gIH07XG5cbiAgY29uc3QgdG9nZ2xlSXRlbVRheCA9IChpZCkgPT4ge1xuICAgIHNldENhcnQoXG4gICAgICBjYXJ0Lm1hcCgoaXRlbSkgPT5cbiAgICAgICAgaXRlbS5pZCA9PT0gaWQgPyB7IC4uLml0ZW0sIGFwcGx5VGF4OiAhaXRlbS5hcHBseVRheCB9IDogaXRlbVxuICAgICAgKVxuICAgICk7XG4gIH07XG5cbiAgLy8gRnVuY3Rpb24gdG8gaGFuZGxlIHNlYXJjaCB3aGVuIEVudGVyIGlzIHByZXNzZWRcbiAgY29uc3QgaGFuZGxlU2VhcmNoRW50ZXIgPSAoKSA9PiB7XG4gICAgaWYgKCFzZWFyY2hUZXJtLnRyaW0oKSkgcmV0dXJuO1xuXG4gICAgLy8gQ2hlY2sgaWYgYW55IHByb2R1Y3RzIG1hdGNoIHRoZSBzZWFyY2ggdGVybVxuICAgIGNvbnN0IHNlYXJjaFJlc3VsdHMgPSBmaWx0ZXJlZEludmVudG9yeTtcblxuICAgIGlmIChzZWFyY2hSZXN1bHRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgLy8gTm8gcHJvZHVjdHMgZm91bmQsIHByb21wdCBmb3IgbWFudWFsIGVudHJ5XG4gICAgICBjb25zdCBpdGVtTmFtZSA9IHNlYXJjaFRlcm0udHJpbSgpO1xuICAgICAgc2V0TWFudWFsSXRlbSgocHJldikgPT4gKHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgbmFtZTogaXRlbU5hbWUsXG4gICAgICB9KSk7XG4gICAgICBzZXRTaG93TWFudWFsRW50cnkodHJ1ZSk7XG4gICAgfSBlbHNlIGlmIChzZWFyY2hSZXN1bHRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgLy8gRXhhY3RseSBvbmUgcHJvZHVjdCBmb3VuZCAtIGF1dG9tYXRpY2FsbHkgYWRkIHRvIGNhcnRcbiAgICAgIGNvbnN0IGZvdW5kSXRlbSA9IHNlYXJjaFJlc3VsdHNbMF07XG4gICAgICBhZGRUb0NhcnQoZm91bmRJdGVtKTtcbiAgICAgIHNldFNlYXJjaFRlcm0oXCJcIik7IC8vIENsZWFyIHNlYXJjaCBhZnRlciBhZGRpbmdcblxuICAgICAgLy8gRm9jdXMgYmFjayBvbiBzZWFyY2ggaW5wdXQgZm9yIG5leHQgc2NhblxuICAgICAgaWYgKHNlYXJjaElucHV0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgc2VhcmNoSW5wdXRSZWYuY3VycmVudC5mb2N1cygpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBJZiBtdWx0aXBsZSByZXN1bHRzLCBkbyBub3RoaW5nIC0gbGV0IHVzZXIgc2VlIHRoZSByZXN1bHRzIGFuZCBjbGljayBtYW51YWxseVxuICB9O1xuXG4gIC8vIERlYnVnIGZ1bmN0aW9uIHRvIGZvcmNlIHJlZnJlc2ggaW52ZW50b3J5IGZyb20gZGF0YWJhc2VcbiAgY29uc3QgaGFuZGxlRGVidWdSZWZyZXNoID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwiPT09IERFQlVHIFJFRlJFU0ggVFJJR0dFUkVEID09PVwiKTtcbiAgICBjb25zb2xlLmxvZyhcIkN1cnJlbnQgaW52ZW50b3J5IGNvdW50OlwiLCBpbnZlbnRvcnkubGVuZ3RoKTtcblxuICAgIC8vIENsZWFyIHNlYXJjaCBhbmQgZmlsdGVyc1xuICAgIHNldFNlYXJjaFRlcm0oXCJcIik7XG4gICAgc2V0Q2F0ZWdvcnlGaWx0ZXIoXCJcIik7XG5cbiAgICAvLyBGb3JjZSByZWZyZXNoIGludmVudG9yeSBieSBieXBhc3NpbmcgY2FjaGVcbiAgICBhd2FpdCBkaXNwYXRjaChsb2FkSW52ZW50b3J5KHRydWUpKTtcblxuICAgIGNvbnNvbGUubG9nKFwiPT09IERFQlVHIFJFRlJFU0ggQ09NUExFVEVEID09PVwiKTtcbiAgICBjb25zb2xlLmxvZyhcIk5ldyBpbnZlbnRvcnkgY291bnQ6XCIsIGludmVudG9yeS5sZW5ndGgpO1xuXG4gICAgLy8gRm9jdXMgYmFjayBvbiBzZWFyY2ggaW5wdXRcbiAgICBpZiAoc2VhcmNoSW5wdXRSZWYuY3VycmVudCkge1xuICAgICAgc2VhcmNoSW5wdXRSZWYuY3VycmVudC5mb2N1cygpO1xuICAgIH1cbiAgfTtcblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGlmIGEgY2F0ZWdvcnkgc2hvdWxkIGJlIHRheGFibGVcbiAgY29uc3QgaXNDYXRlZ29yeVRheGFibGUgPSAoY2F0ZWdvcnkpID0+IHtcbiAgICAvLyBDaGVjayBpZiBjYXRlZ29yeSBuYW1lIGNvbnRhaW5zIGluZGljYXRvcnMgb2YgdGF4YWJsZSBpdGVtc1xuICAgIGNvbnN0IHRheGFibGVLZXl3b3JkcyA9IFtcbiAgICAgIFwidGF4YWJsZVwiLFxuICAgICAgXCJsb3R0b1wiLFxuICAgICAgXCJsb3R0ZXJ5XCIsXG4gICAgICBcInRvYmFjY29cIixcbiAgICAgIFwiYWxjb2hvbFwiLFxuICAgIF07XG4gICAgY29uc3Qgbm9uVGF4YWJsZUtleXdvcmRzID0gW1xuICAgICAgXCJub24tdGF4YWJsZVwiLFxuICAgICAgXCJ1bnRheGFibGVcIixcbiAgICAgIFwiYmFzaWNcIixcbiAgICAgIFwiZXNzZW50aWFsXCIsXG4gICAgXTtcblxuICAgIGNvbnN0IGNhdGVnb3J5TG93ZXIgPSBjYXRlZ29yeS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgLy8gRmlyc3QgY2hlY2sgZm9yIGV4cGxpY2l0IG5vbi10YXhhYmxlIGluZGljYXRvcnNcbiAgICBpZiAobm9uVGF4YWJsZUtleXdvcmRzLnNvbWUoKGtleXdvcmQpID0+IGNhdGVnb3J5TG93ZXIuaW5jbHVkZXMoa2V5d29yZCkpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gVGhlbiBjaGVjayBmb3IgZXhwbGljaXQgdGF4YWJsZSBpbmRpY2F0b3JzXG4gICAgaWYgKHRheGFibGVLZXl3b3Jkcy5zb21lKChrZXl3b3JkKSA9PiBjYXRlZ29yeUxvd2VyLmluY2x1ZGVzKGtleXdvcmQpKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gRGVmYXVsdCB0byB0YXhhYmxlIGZvciB1bmtub3duIGNhdGVnb3JpZXMgKHNhZmVyIGZvciB0YXggY29tcGxpYW5jZSlcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICAvLyBGdW5jdGlvbiB0byBhZGQgbWFudWFsIGl0ZW0gdG8gY2FydFxuICBjb25zdCBhZGRNYW51YWxJdGVtID0gKCkgPT4ge1xuICAgIGlmIChcbiAgICAgICFtYW51YWxJdGVtLm5hbWUudHJpbSgpIHx8XG4gICAgICAhbWFudWFsSXRlbS5wcmljZSB8fFxuICAgICAgcGFyc2VGbG9hdChtYW51YWxJdGVtLnByaWNlKSA8PSAwXG4gICAgKSB7XG4gICAgICBhbGVydChcIlBsZWFzZSBlbnRlciBpdGVtIG5hbWUgYW5kIHZhbGlkIHByaWNlXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENyZWF0ZSBhIGNvbnNpc3RlbnQgSUQgYmFzZWQgb24gbmFtZSwgcHJpY2UsIGFuZCBjYXRlZ29yeSBmb3IgbWFudWFsIGl0ZW1zXG4gICAgY29uc3Qgbm9ybWFsaXplZE5hbWUgPSBtYW51YWxJdGVtLm5hbWVcbiAgICAgIC50cmltKClcbiAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAucmVwbGFjZSgvXFxzKy9nLCBcIi1cIik7XG4gICAgY29uc3QgcHJpY2VTdHIgPSBwYXJzZUZsb2F0KG1hbnVhbEl0ZW0ucHJpY2UpLnRvRml4ZWQoMik7XG4gICAgY29uc3QgbWFudWFsSWQgPSBgbWFudWFsLSR7bm9ybWFsaXplZE5hbWV9LSR7cHJpY2VTdHJ9LSR7bWFudWFsSXRlbS5jYXRlZ29yeX1gO1xuXG4gICAgY29uc3QgbmV3SXRlbSA9IHtcbiAgICAgIGlkOiBtYW51YWxJZCwgLy8gQ29uc2lzdGVudCBJRCBmb3Igc2FtZSBtYW51YWwgaXRlbXNcbiAgICAgIG5hbWU6IG1hbnVhbEl0ZW0ubmFtZS50cmltKCksXG4gICAgICBwcmljZTogcGFyc2VGbG9hdChtYW51YWxJdGVtLnByaWNlKSxcbiAgICAgIGNhdGVnb3J5OiBtYW51YWxJdGVtLmNhdGVnb3J5LFxuICAgICAgYXBwbHlUYXg6IGlzQ2F0ZWdvcnlUYXhhYmxlKG1hbnVhbEl0ZW0uY2F0ZWdvcnkpLFxuICAgICAgc3RvY2s6IDk5OSwgLy8gTWFudWFsIGl0ZW1zIGRvbid0IGFmZmVjdCBpbnZlbnRvcnlcbiAgICAgIGlzTWFudWFsOiB0cnVlLCAvLyBGbGFnIHRvIGlkZW50aWZ5IG1hbnVhbCBpdGVtc1xuICAgIH07XG5cbiAgICAvLyBBZGQgdG8gY2FydCB3aXRoIHNwZWNpZmllZCBxdWFudGl0eVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWFudWFsSXRlbS5xdWFudGl0eTsgaSsrKSB7XG4gICAgICBhZGRUb0NhcnQobmV3SXRlbSk7XG4gICAgfVxuXG4gICAgLy8gUmVzZXQgbWFudWFsIGl0ZW0gZm9ybSBhbmQgY2xlYXIgc2VhcmNoXG4gICAgc2V0TWFudWFsSXRlbSh7XG4gICAgICBuYW1lOiBcIlwiLFxuICAgICAgcHJpY2U6IFwiXCIsXG4gICAgICBjYXRlZ29yeTogY2F0ZWdvcmllcy5sZW5ndGggPiAwID8gY2F0ZWdvcmllc1swXSA6IFwiZ3JvY2VyeS10YXhhYmxlXCIsXG4gICAgICBxdWFudGl0eTogMSxcbiAgICB9KTtcbiAgICBzZXRTaG93TWFudWFsRW50cnkoZmFsc2UpO1xuICAgIHNldFNlYXJjaFRlcm0oXCJcIik7IC8vIENsZWFyIHNlYXJjaCB0ZXJtIGFmdGVyIGFkZGluZyBpdGVtXG4gIH07XG5cbiAgY29uc3QgY2FsY3VsYXRlU3VidG90YWwgPSAoKSA9PiB7XG4gICAgcmV0dXJuIGNhcnQucmVkdWNlKCh0b3RhbCwgaXRlbSkgPT4gdG90YWwgKyBpdGVtLnByaWNlICogaXRlbS5xdWFudGl0eSwgMCk7XG4gIH07XG5cbiAgY29uc3QgY2FsY3VsYXRlVG90YWwgPSAoKSA9PiB7XG4gICAgY29uc3Qgc3VidG90YWwgPSBjYWxjdWxhdGVTdWJ0b3RhbCgpO1xuICAgIGNvbnN0IGRpc2NvdW50ID0gTnVtYmVyKHBhcnNlRmxvYXQoZGlzY291bnRBbW91bnQpIHx8IDApO1xuICAgIGNvbnN0IGNiRmVlID0gTnVtYmVyKHBhcnNlRmxvYXQoY2FzaGJhY2tGZWUpIHx8IDApOyAvLyBBZGQgY2FzaGJhY2sgZmVlIGlmIHByZXNlbnRcblxuICAgIC8vIE5ldyBjYXJkIGZlZSBsb2dpYyAtIG9ubHkgY2hhcmdlIGZvciBjcmVkaXQgY2FyZHMsIG5vdCBkZWJpdFxuICAgIGNvbnN0IGNhcmRGZWVJblRvdGFsID1cbiAgICAgIGNhcmRGZWVFbmFibGVkICYmIGNhcmRUeXBlID09PSBcImNyZWRpdFwiID8gQ0FSRF9GRUVfQU1PVU5UIDogMDtcblxuICAgIC8vIFVzZSB0aGUgaGlnaGVyIG9mIG5ldyBjYXJkIGZlZSBvciBsZWdhY3kgY2hhcmdlIChub3QgYm90aClcbiAgICBjb25zdCB0b3RhbENhcmRGZWUgPSBjYXJkRmVlSW5Ub3RhbDtcblxuICAgIHJldHVybiBNYXRoLm1heCgwLCBzdWJ0b3RhbCAtIGRpc2NvdW50ICsgY2JGZWUgKyB0b3RhbENhcmRGZWUpOyAvLyBFbnN1cmUgdG90YWwgZG9lc24ndCBnbyBuZWdhdGl2ZVxuICB9O1xuXG4gIGNvbnN0IGNhbGN1bGF0ZVRheCA9ICgpID0+IHtcbiAgICAvLyBDYWxjdWxhdGUgdGF4IG9uIGRpc2NvdW50ZWQgYW1vdW50IGZvciB0YXhhYmxlIGl0ZW1zXG4gICAgY29uc3QgZGlzY291bnRlZFN1YnRvdGFsID0gY2FsY3VsYXRlVG90YWwoKTsgLy8gVGhpcyBhbHJlYWR5IGhhcyBkaXNjb3VudCBhcHBsaWVkXG4gICAgY29uc3Qgb3JpZ2luYWxTdWJ0b3RhbCA9IGNhbGN1bGF0ZVN1YnRvdGFsKCk7XG4gICAgY29uc3QgdGF4YWJsZU9yaWdpbmFsID0gZ2V0VGF4YWJsZVRvdGFsKCk7XG5cbiAgICBpZiAob3JpZ2luYWxTdWJ0b3RhbCA9PT0gMCkgcmV0dXJuIDA7XG5cbiAgICAvLyBDYWxjdWxhdGUgcHJvcG9ydGlvbmFsIGRpc2NvdW50IG9uIHRheGFibGUgaXRlbXNcbiAgICBjb25zdCB0YXhhYmxlRGlzY291bnRlZCA9XG4gICAgICB0YXhhYmxlT3JpZ2luYWwgKiAoZGlzY291bnRlZFN1YnRvdGFsIC8gb3JpZ2luYWxTdWJ0b3RhbCk7XG4gICAgcmV0dXJuIHRheGFibGVEaXNjb3VudGVkICogMC4xMzsgLy8gMTMlIEhTVCBmb3IgT250YXJpbywgQ2FuYWRhXG4gIH07XG5cbiAgY29uc3QgZ2V0VGF4YWJsZVRvdGFsID0gKCkgPT4ge1xuICAgIHJldHVybiBjYXJ0LnJlZHVjZSgodG90YWwsIGl0ZW0pID0+IHtcbiAgICAgIGlmIChpdGVtLmFwcGx5VGF4ID09PSB0cnVlKSB7XG4gICAgICAgIHJldHVybiB0b3RhbCArIGl0ZW0ucHJpY2UgKiBpdGVtLnF1YW50aXR5O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRvdGFsO1xuICAgIH0sIDApO1xuICB9O1xuXG4gIGNvbnN0IGdldE5vblRheGFibGVUb3RhbCA9ICgpID0+IHtcbiAgICByZXR1cm4gY2FydC5yZWR1Y2UoKHRvdGFsLCBpdGVtKSA9PiB7XG4gICAgICBpZiAoaXRlbS5hcHBseVRheCAhPT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gdG90YWwgKyBpdGVtLnByaWNlICogaXRlbS5xdWFudGl0eTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0b3RhbDtcbiAgICB9LCAwKTtcbiAgfTtcblxuICAvLyBQcm9jZXNzIHBheW1lbnQgZm9yIGV4aXN0aW5nIGN1c3RvbWVyIGJhbGFuY2VcbiAgY29uc3QgcHJvY2Vzc0N1c3RvbWVyQmFsYW5jZVBheW1lbnQgPSBhc3luYyAoXG4gICAgcGF5bWVudFRvdGFsLFxuICAgIGNhc2hQYWlkLFxuICAgIGNhcmRQYWlkXG4gICkgPT4ge1xuICAgIGlmICghc2VsZWN0ZWRDdXN0b21lciB8fCBjdXN0b21lckJhbGFuY2UgPD0gMCkge1xuICAgICAgYWxlcnQoXCJObyBjdXN0b21lciBzZWxlY3RlZCBvciBjdXN0b21lciBoYXMgbm8gb3V0c3RhbmRpbmcgYmFsYW5jZVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocGF5bWVudFRvdGFsIDw9IDApIHtcbiAgICAgIGFsZXJ0KFwiUGxlYXNlIGVudGVyIGEgcGF5bWVudCBhbW91bnQgaW4gY2FzaCBvciBjYXJkXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENhbGN1bGF0ZSByZW1haW5pbmcgYmFsYW5jZSBhZnRlciBwYXltZW50XG4gICAgY29uc3QgcmVtYWluaW5nQmFsYW5jZSA9IE1hdGgubWF4KDAsIGN1c3RvbWVyQmFsYW5jZSAtIHBheW1lbnRUb3RhbCk7XG5cbiAgICB0cnkge1xuICAgICAgLy8gUHJvY2VzcyB0aGUgcGF5bWVudCBhZ2FpbnN0IGN1c3RvbWVyJ3MgYWNjb3VudFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcIi9hcGkvY3JlZGl0L2FjY291bnRzXCIsIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgYWN0aW9uOiBcInBheW1lbnRcIixcbiAgICAgICAgICBjdXN0b21lck5hbWU6IHNlbGVjdGVkQ3VzdG9tZXIuY3VzdG9tZXJOYW1lLFxuICAgICAgICAgIGFtb3VudDogcGF5bWVudFRvdGFsLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yRGF0YS5lcnJvciB8fCBcIlBheW1lbnQgcHJvY2Vzc2luZyBmYWlsZWRcIik7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQ3JlYXRlIGEgcGF5bWVudCB0cmFuc2FjdGlvbiByZWNvcmRcbiAgICAgIGNvbnN0IHBheW1lbnRUcmFuc2FjdGlvbiA9IHtcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIGl0ZW1zOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6IFwiYmFsYW5jZS1wYXltZW50XCIsXG4gICAgICAgICAgICBuYW1lOiBgQmFsYW5jZSBQYXltZW50IC0gJHtzZWxlY3RlZEN1c3RvbWVyLmN1c3RvbWVyTmFtZX1gLFxuICAgICAgICAgICAgcXVhbnRpdHk6IDEsXG4gICAgICAgICAgICBwcmljZTogcGF5bWVudFRvdGFsLFxuICAgICAgICAgICAgYXBwbHlUYXg6IGZhbHNlLFxuICAgICAgICAgICAgY2F0ZWdvcnk6IFwiUGF5bWVudFwiLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICAgIG9yaWdpbmFsU3VidG90YWw6IHBheW1lbnRUb3RhbCxcbiAgICAgICAgZGlzY291bnQ6IDAsXG4gICAgICAgIHN1YnRvdGFsOiBwYXltZW50VG90YWwsXG4gICAgICAgIHRheGFibGVBbW91bnQ6IDAsXG4gICAgICAgIG5vblRheGFibGVBbW91bnQ6IHBheW1lbnRUb3RhbCxcbiAgICAgICAgdGF4OiAwLFxuICAgICAgICB0b3RhbDogcGF5bWVudFRvdGFsLFxuICAgICAgICBmaW5hbFRvdGFsOiBwYXltZW50VG90YWwsXG4gICAgICAgIGNhc2hiYWNrOiAwLFxuICAgICAgICBwYXltZW50QnJlYWtkb3duOiBbXG4gICAgICAgICAgLi4uKGNhc2hQYWlkID4gMCA/IFt7IG1ldGhvZDogXCJjYXNoXCIsIGFtb3VudDogY2FzaFBhaWQgfV0gOiBbXSksXG4gICAgICAgICAgLi4uKGNhcmRQYWlkID4gMCA/IFt7IG1ldGhvZDogXCJjYXJkXCIsIGFtb3VudDogY2FyZFBhaWQgfV0gOiBbXSksXG4gICAgICAgIF0sXG4gICAgICAgIGNoYW5nZTogMCxcbiAgICAgICAgaXNDcmVkaXRTYWxlOiBmYWxzZSxcbiAgICAgICAgaXNQYXJ0aWFsUGF5bWVudDogZmFsc2UsXG4gICAgICAgIGNyZWRpdEJhbGFuY2U6IDAsXG4gICAgICAgIHBhaWRBbW91bnQ6IHBheW1lbnRUb3RhbCxcbiAgICAgICAgY3JlZGl0Q3VzdG9tZXJOYW1lOiBzZWxlY3RlZEN1c3RvbWVyLmN1c3RvbWVyTmFtZSxcbiAgICAgICAgY3JlZGl0U3RhdHVzOiBcInBheW1lbnRcIixcbiAgICAgICAgbG90dG9XaW5uaW5nczogMCxcbiAgICAgICAgaXNCYWxhbmNlUGF5bWVudDogdHJ1ZSwgLy8gU3BlY2lhbCBmbGFnIGZvciBiYWxhbmNlIHBheW1lbnRzXG4gICAgICAgIHByZXZpb3VzQmFsYW5jZTogY3VzdG9tZXJCYWxhbmNlLFxuICAgICAgICBuZXdCYWxhbmNlOiByZW1haW5pbmdCYWxhbmNlLFxuICAgICAgfTtcblxuICAgICAgLy8gU2F2ZSB0aGUgcGF5bWVudCB0cmFuc2FjdGlvblxuICAgICAgY29uc3QgdHJhbnNhY3Rpb25SZXNwb25zZSA9IGF3YWl0IGZldGNoKFwiL2FwaS90cmFuc2FjdGlvblwiLCB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICBcIngtYXBpLWtleVwiOiBcImRldi1zZWNyZXRcIixcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bWVudFRyYW5zYWN0aW9uKSxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAodHJhbnNhY3Rpb25SZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCB0cmFuc2FjdGlvbkRhdGEgPSBhd2FpdCB0cmFuc2FjdGlvblJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgICAvLyBTaG93IHN1Y2Nlc3MgbWVzc2FnZSBhbmQgcmVjZWlwdFxuICAgICAgICBzZXRMYXN0VHJhbnNhY3Rpb24oe1xuICAgICAgICAgIGlkOiB0cmFuc2FjdGlvbkRhdGEuaWQsXG4gICAgICAgICAgLi4ucGF5bWVudFRyYW5zYWN0aW9uLFxuICAgICAgICB9KTtcbiAgICAgICAgc2V0U2hvd1JlY2VpcHQodHJ1ZSk7XG5cbiAgICAgICAgLy8gVXBkYXRlIGxvY2FsIHN0YXRlXG4gICAgICAgIHNldEN1c3RvbWVyQmFsYW5jZShyZW1haW5pbmdCYWxhbmNlKTtcbiAgICAgICAgc2V0U2VsZWN0ZWRDdXN0b21lcih7IC4uLnNlbGVjdGVkQ3VzdG9tZXIsIGJhbGFuY2U6IHJlbWFpbmluZ0JhbGFuY2UgfSk7XG4gICAgICAgIHNldEV4aXN0aW5nQ3VzdG9tZXJzKChwcmV2KSA9PlxuICAgICAgICAgIHByZXYubWFwKChjKSA9PlxuICAgICAgICAgICAgYy5jdXN0b21lck5hbWUgPT09IHNlbGVjdGVkQ3VzdG9tZXIuY3VzdG9tZXJOYW1lXG4gICAgICAgICAgICAgID8geyAuLi5jLCBiYWxhbmNlOiByZW1haW5pbmdCYWxhbmNlIH1cbiAgICAgICAgICAgICAgOiBjXG4gICAgICAgICAgKVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIFJlc2V0IHBheW1lbnQgZmllbGRzXG4gICAgICAgIHNldENhc2hBbW91bnQoXCJcIik7XG4gICAgICAgIHNldENhcmRBbW91bnQoXCJcIik7XG4gICAgICAgIHNldFBheW1lbnRFcnJvcihcIlwiKTtcblxuICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICBgUGF5bWVudCBwcm9jZXNzZWQ6ICQke3BheW1lbnRUb3RhbC50b0ZpeGVkKFxuICAgICAgICAgICAgMlxuICAgICAgICAgICl9IHBhaWQsIHJlbWFpbmluZyBiYWxhbmNlOiAkJHtyZW1haW5pbmdCYWxhbmNlLnRvRml4ZWQoMil9YFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIHJlY29yZCBwYXltZW50IHRyYW5zYWN0aW9uXCIpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcHJvY2Vzc2luZyBjdXN0b21lciBwYXltZW50OlwiLCBlcnJvcik7XG4gICAgICBzZXRQYXltZW50RXJyb3IoZXJyb3IubWVzc2FnZSB8fCBcIkZhaWxlZCB0byBwcm9jZXNzIHBheW1lbnRcIik7XG4gICAgfVxuICB9O1xuXG4gIC8vIFRlcm1pbmFsIFBheW1lbnQgSGFuZGxlclxuICBjb25zdCBoYW5kbGVUZXJtaW5hbFBheW1lbnQgPSBhc3luYyAoYW1vdW50KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFNob3cgcHJvY2Vzc2luZyBpbmRpY2F0b3JcbiAgICAgIHNldFBheW1lbnRFcnJvcihcbiAgICAgICAgXCJQcm9jZXNzaW5nIHBheW1lbnQgdmlhIHRlcm1pbmFsLi4uIFBsZWFzZSBwcmVzZW50IGNhcmQuXCJcbiAgICAgICk7XG5cbiAgICAgIC8vIENhbGwgdGVybWluYWwgQVBJXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFwiL2FwaS90ZXJtaW5hbFwiLCB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGFtb3VudDogYW1vdW50LFxuICAgICAgICAgIHByb2Nlc3NvcjogXCJjaGFzZVwiLCAvLyBVc2luZyBDaGFzZSB0ZXJtaW5hbFxuICAgICAgICAgIHRlcm1pbmFsSWQ6IG51bGwsIC8vIFdpbGwgdXNlIGRlZmF1bHQgQ2hhc2UgdGVybWluYWwgSUQgZnJvbSBlbnZcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgdGVybWluYWxSZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHRlcm1pbmFsUmVzdWx0LmVycm9yIHx8IFwiVGVybWluYWwgcmVxdWVzdCBmYWlsZWRcIik7XG4gICAgICB9XG5cbiAgICAgIGlmICh0ZXJtaW5hbFJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIC8vIFNldCBwYXltZW50IGFtb3VudHMgZm9yIHN1Y2Nlc3NmdWwgdGVybWluYWwgcGF5bWVudFxuICAgICAgICBzZXRDYXNoQW1vdW50KFwiMFwiKTtcbiAgICAgICAgc2V0Q2FyZEFtb3VudChTdHJpbmcoYW1vdW50LnRvRml4ZWQoMikpKTtcbiAgICAgICAgc2V0TGFzdEVkaXRlZChcImNhcmRcIik7XG5cbiAgICAgICAgLy8gQXV0by1wcm9jZXNzIGNoZWNrb3V0IGFmdGVyIHN1Y2Nlc3NmdWwgdGVybWluYWwgcGF5bWVudFxuICAgICAgICBhbGVydChcbiAgICAgICAgICBg4pyFIFBheW1lbnQgQXBwcm92ZWQhXFxuXFxuVHJhbnNhY3Rpb24gSUQ6ICR7XG4gICAgICAgICAgICB0ZXJtaW5hbFJlc3VsdC50cmFuc2FjdGlvbklkXG4gICAgICAgICAgfVxcbkNhcmQ6ICR7dGVybWluYWxSZXN1bHQuY2FyZFR5cGV9ICoqKioke1xuICAgICAgICAgICAgdGVybWluYWxSZXN1bHQubGFzdDRcbiAgICAgICAgICB9XFxuQW1vdW50OiAkJHthbW91bnQudG9GaXhlZCgyKX1cXG5cXG5Qcm9jZXNzaW5nIHNhbGUuLi5gXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gVHJpZ2dlciBjaGVja291dCBhZnRlciBzaG9ydCBkZWxheVxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBwcm9jZXNzQ2hlY2tvdXQoKTtcbiAgICAgICAgfSwgNTAwKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIlRlcm1pbmFsIHBheW1lbnQgZmFpbGVkOlwiLCBlcnJvcik7XG4gICAgICBhbGVydChcbiAgICAgICAgYOKdjCBQYXltZW50IEZhaWxlZFxcblxcbiR7ZXJyb3IubWVzc2FnZX1cXG5cXG5QbGVhc2UgdHJ5IGFnYWluIG9yIHVzZSBtYW51YWwgcGF5bWVudCBlbnRyeS5gXG4gICAgICApO1xuICAgICAgc2V0UGF5bWVudEVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBwcm9jZXNzQ2hlY2tvdXQgPSAoKSA9PiB7XG4gICAgY29uc3Qgb3JpZ2luYWxTdWJ0b3RhbCA9IGNhbGN1bGF0ZVN1YnRvdGFsKCk7IC8vIEl0ZW1zIHRvdGFsIGJlZm9yZSBkaXNjb3VudFxuICAgIGNvbnN0IGRpc2NvdW50ID0gTnVtYmVyKHBhcnNlRmxvYXQoZGlzY291bnRBbW91bnQpIHx8IDApO1xuICAgIGNvbnN0IHN1YnRvdGFsV2l0aEZlZXMgPSBjYWxjdWxhdGVUb3RhbCgpOyAvLyBVc2UgY2FsY3VsYXRlVG90YWwoKSB3aGljaCBpbmNsdWRlcyBkaXNjb3VudCBhbmQgY2FyZCBmZWVzXG4gICAgY29uc3QgdGF4ID0gY2FsY3VsYXRlVGF4KCk7XG4gICAgY29uc3QgdG90YWwgPSBzdWJ0b3RhbFdpdGhGZWVzICsgdGF4O1xuICAgIGNvbnN0IGNhc2hiYWNrID0gTnVtYmVyKHBhcnNlRmxvYXQoY2FzaGJhY2tBbW91bnQpIHx8IDApO1xuICAgIGNvbnN0IGNiRmVlID0gTnVtYmVyKHBhcnNlRmxvYXQoY2FzaGJhY2tGZWUpIHx8IDApO1xuXG4gICAgLy8gR2V0IHBheW1lbnQgYW1vdW50c1xuICAgIGNvbnN0IHBhaWRDYXNoID0gTnVtYmVyKHBhcnNlRmxvYXQoY2FzaEFtb3VudCkgfHwgMCk7XG4gICAgY29uc3QgcGFpZENhcmQgPSBOdW1iZXIocGFyc2VGbG9hdChjYXJkQW1vdW50KSB8fCAwKTtcbiAgICBjb25zdCBwYWlkVG90YWwgPSBwYWlkQ2FzaCArIHBhaWRDYXJkO1xuICAgIGNvbnN0IHRlbXBMb3R0b0Ftb3VudCA9IE51bWJlcihwYXJzZUZsb2F0KGxvdHRvV2lubmluZ3MpIHx8IDApO1xuXG4gICAgLy8gU3BlY2lhbCBjYXNlOiBDdXN0b21lciBiYWxhbmNlIHBheW1lbnQgKG5vIGl0ZW1zIGluIGNhcnQsIGp1c3QgcGF5aW5nIGV4aXN0aW5nIGRlYnQpXG4gICAgaWYgKFxuICAgICAgc2VsZWN0ZWRDdXN0b21lciAmJlxuICAgICAgY3VzdG9tZXJCYWxhbmNlID4gMCAmJlxuICAgICAgY2FydC5sZW5ndGggPT09IDAgJiZcbiAgICAgIHBhaWRUb3RhbCA+IDBcbiAgICApIHtcbiAgICAgIHByb2Nlc3NDdXN0b21lckJhbGFuY2VQYXltZW50KHBhaWRUb3RhbCwgcGFpZENhc2gsIHBhaWRDYXJkKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiB0aGVyZSdzIGFueXRoaW5nIHRvIHByb2Nlc3MgKGl0ZW1zLCBjYXNoYmFjaywgb3IgbG90dG8gd2lubmluZ3MpXG4gICAgaWYgKGNhcnQubGVuZ3RoID09PSAwICYmIGNhc2hiYWNrID09PSAwICYmIHRlbXBMb3R0b0Ftb3VudCA9PT0gMCkge1xuICAgICAgYWxlcnQoXG4gICAgICAgIFwiTm8gaXRlbXMgaW4gY2FydCwgbm8gY2FzaGJhY2sgYW1vdW50LCBhbmQgbm8gbG90dG8gd2lubmluZ3MgZW50ZXJlZFwiXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIGNyZWRpdCBzYWxlXG4gICAgaWYgKGlzQ3JlZGl0U2FsZSAmJiAhY3JlZGl0Q3VzdG9tZXJOYW1lLnRyaW0oKSkge1xuICAgICAgYWxlcnQoXCJQbGVhc2UgZW50ZXIgY3VzdG9tZXIgbmFtZSBmb3IgY3JlZGl0IHNhbGVcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSW5pdGlhbGl6ZSBwYXltZW50IHZhcmlhYmxlcyAocmV1c2UgdGhlIG9uZXMgYWxyZWFkeSBkZWNsYXJlZCBhYm92ZSlcbiAgICBjb25zdCBsb3R0b0Ftb3VudCA9IE51bWJlcihwYXJzZUZsb2F0KGxvdHRvV2lubmluZ3MpIHx8IDApO1xuICAgIGxldCB0b3RhbFdpdGhDYXNoYmFjayA9IHRvdGFsICsgY2FzaGJhY2s7XG4gICAgbGV0IGNoYW5nZSA9IDA7XG4gICAgbGV0IGNyZWRpdEJhbGFuY2UgPSAwO1xuICAgIGxldCBpc1BhcnRpYWxQYXltZW50ID0gZmFsc2U7XG5cbiAgICBpZiAoXG4gICAgICBpc05hTihwYWlkQ2FzaCkgfHxcbiAgICAgIGlzTmFOKHBhaWRDYXJkKSB8fFxuICAgICAgaXNOYU4oY2FzaGJhY2spIHx8XG4gICAgICBpc05hTihsb3R0b0Ftb3VudCkgfHxcbiAgICAgIHBhaWRDYXNoIDwgMCB8fFxuICAgICAgcGFpZENhcmQgPCAwIHx8XG4gICAgICBjYXNoYmFjayA8IDAgfHxcbiAgICAgIGxvdHRvQW1vdW50IDwgMFxuICAgICkge1xuICAgICAgc2V0UGF5bWVudEVycm9yKFwiSW52YWxpZCBwYXltZW50IGFtb3VudHNcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2FsY3VsYXRlIHRvdGFsIGluY2x1ZGluZyBjYXNoYmFjayBhcyBsaW5lIGl0ZW0sIG1pbnVzIGxvdHRvIHdpbm5pbmdzXG4gICAgLy8gTm90ZTogY2FyZCBmZWUgaXMgYWxyZWFkeSBpbmNsdWRlZCBpbiB0b3RhbCBmcm9tIGNhbGN1bGF0ZVRvdGFsKClcbiAgICBjb25zdCBjYXJkRmVlRm9yQ2FsYyA9XG4gICAgICBjYXJkRmVlRW5hYmxlZCAmJiBjYXJkVHlwZSA9PT0gXCJjcmVkaXRcIiA/IENBUkRfRkVFX0FNT1VOVCA6IDA7XG4gICAgY29uc3QgdG90YWxDYXJkRmVlID0gY2FyZEZlZUZvckNhbGM7XG5cbiAgICB0b3RhbFdpdGhDYXNoYmFjayA9IHRvdGFsICsgY2FzaGJhY2sgLSBsb3R0b0Ftb3VudDtcblxuICAgIGlmIChpc0NyZWRpdFNhbGUpIHtcbiAgICAgIC8vIFVzZSBzcGVjaWZpYyBjcmVkaXQgYW1vdW50IGlmIHByb3ZpZGVkLCBvdGhlcndpc2UgY2FsY3VsYXRlIGZyb20gcGF5bWVudCBkaWZmZXJlbmNlXG4gICAgICBjb25zdCBzcGVjaWZpZWRDcmVkaXRBbW91bnQgPSBOdW1iZXIocGFyc2VGbG9hdChjcmVkaXRBbW91bnQpIHx8IDApO1xuXG4gICAgICBpZiAoc3BlY2lmaWVkQ3JlZGl0QW1vdW50ID4gMCkge1xuICAgICAgICAvLyBDdXN0b21lciBzcGVjaWZpZWQgZXhhY3QgY3JlZGl0IGFtb3VudFxuICAgICAgICBjcmVkaXRCYWxhbmNlID0gc3BlY2lmaWVkQ3JlZGl0QW1vdW50O1xuICAgICAgICBjb25zdCByZXF1aXJlZFBheW1lbnQgPSB0b3RhbFdpdGhDYXNoYmFjayAtIGNyZWRpdEJhbGFuY2U7XG5cbiAgICAgICAgaWYgKHJlcXVpcmVkUGF5bWVudCA+IHBhaWRUb3RhbCArIDAuMDAxKSB7XG4gICAgICAgICAgc2V0UGF5bWVudEVycm9yKFxuICAgICAgICAgICAgYE5lZWQgJCR7cmVxdWlyZWRQYXltZW50LnRvRml4ZWQoXG4gICAgICAgICAgICAgIDJcbiAgICAgICAgICAgICl9IHBheW1lbnQgZm9yICQke2NyZWRpdEJhbGFuY2UudG9GaXhlZChcbiAgICAgICAgICAgICAgMlxuICAgICAgICAgICAgKX0gY3JlZGl0IChDdXJyZW50bHkgcGFpZDogJCR7cGFpZFRvdGFsLnRvRml4ZWQoMil9KWBcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlzUGFydGlhbFBheW1lbnQgPSBjcmVkaXRCYWxhbmNlID4gMCAmJiBwYWlkVG90YWwgPiAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVHJhZGl0aW9uYWwgbW9kZTogY3JlZGl0ID0gcmVtYWluaW5nIGJhbGFuY2UgYWZ0ZXIgcGF5bWVudFxuICAgICAgICBjcmVkaXRCYWxhbmNlID0gTWF0aC5tYXgoMCwgdG90YWxXaXRoQ2FzaGJhY2sgLSBwYWlkVG90YWwpO1xuICAgICAgICBpc1BhcnRpYWxQYXltZW50ID0gcGFpZFRvdGFsID4gMCAmJiBjcmVkaXRCYWxhbmNlID4gMDtcbiAgICAgIH1cblxuICAgICAgLy8gVmFsaWRhdGUgY3VzdG9tZXIgbmFtZSBmb3IgYW55IGNyZWRpdCBhbW91bnRcbiAgICAgIGlmIChjcmVkaXRCYWxhbmNlID4gMCAmJiAhY3JlZGl0Q3VzdG9tZXJOYW1lLnRyaW0oKSkge1xuICAgICAgICBhbGVydChcIlBsZWFzZSBlbnRlciBjdXN0b21lciBuYW1lIGZvciBjcmVkaXQgYW1vdW50XCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIElmIG5vIHBheW1lbnQgYW5kIG5vIGNyZWRpdCBhbW91bnQgc3BlY2lmaWVkLCByZXF1aXJlIGN1c3RvbWVyIG5hbWVcbiAgICAgIGlmIChcbiAgICAgICAgcGFpZFRvdGFsID09PSAwICYmXG4gICAgICAgIGNyZWRpdEJhbGFuY2UgPT09IDAgJiZcbiAgICAgICAgIWNyZWRpdEN1c3RvbWVyTmFtZS50cmltKClcbiAgICAgICkge1xuICAgICAgICBhbGVydChcIlBsZWFzZSBlbnRlciBjdXN0b21lciBuYW1lIG9yIHNwZWNpZnkgcGF5bWVudC9jcmVkaXQgYW1vdW50c1wiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGb3Igbm9uLWNyZWRpdCBzYWxlcywgcmVxdWlyZSBmdWxsIHBheW1lbnRcbiAgICAgIC8vIEZvciBjYXNoYmFjayB0cmFuc2FjdGlvbnMsIHJlcXVpcmUgY2FyZCBwYXltZW50IHRvIGNvdmVyIHRvdGFsIGluY2x1ZGluZyBjYXNoYmFja1xuICAgICAgaWYgKGNhc2hiYWNrID4gMCkge1xuICAgICAgICBpZiAocGFpZENhcmQgPCB0b3RhbFdpdGhDYXNoYmFjayAtIDAuMDAxKSB7XG4gICAgICAgICAgc2V0UGF5bWVudEVycm9yKFxuICAgICAgICAgICAgYENhc2hiYWNrIHJlcXVpcmVzIGNhcmQgcGF5bWVudCBvZiAkJHt0b3RhbFdpdGhDYXNoYmFjay50b0ZpeGVkKFxuICAgICAgICAgICAgICAyXG4gICAgICAgICAgICApfSAoVG90YWwgd2l0aCBDYXNoYmFjazogJCR7dG90YWxXaXRoQ2FzaGJhY2sudG9GaXhlZCgyKX0pYFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSZWd1bGFyIHRyYW5zYWN0aW9uIHdpdGhvdXQgY2FzaGJhY2tcbiAgICAgICAgaWYgKHBhaWRUb3RhbCA8IHRvdGFsV2l0aENhc2hiYWNrIC0gMC4wMDEpIHtcbiAgICAgICAgICBzZXRQYXltZW50RXJyb3IoXG4gICAgICAgICAgICBgUGF5bWVudCBpcyBpbnN1ZmZpY2llbnQuIE5lZWQgJCR7dG90YWxXaXRoQ2FzaGJhY2sudG9GaXhlZChcbiAgICAgICAgICAgICAgMlxuICAgICAgICAgICAgKX0gZm9yIHB1cmNoYXNlYFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNoYW5nZSA9XG4gICAgICAgIGNhc2hiYWNrID4gMFxuICAgICAgICAgID8gMFxuICAgICAgICAgIDogTWF0aC5tYXgoMCwgKyhwYWlkVG90YWwgLSB0b3RhbFdpdGhDYXNoYmFjaykudG9GaXhlZCgyKSk7XG4gICAgfVxuXG4gICAgLy8gUGF5bWVudCBicmVha2Rvd24gZm9yIGRpZmZlcmVudCB0cmFuc2FjdGlvbiB0eXBlc1xuICAgIGxldCBmaW5hbENhc2hBbW91bnQgPSAwO1xuICAgIGxldCBmaW5hbENhcmRBbW91bnQgPSAwO1xuXG4gICAgaWYgKGlzQ3JlZGl0U2FsZSkge1xuICAgICAgLy8gQ3JlZGl0IHNhbGUgLSBubyBpbW1lZGlhdGUgcGF5bWVudFxuICAgICAgZmluYWxDYXNoQW1vdW50ID0gMDtcbiAgICAgIGZpbmFsQ2FyZEFtb3VudCA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlZ3VsYXIgcGF5bWVudCBoYW5kbGluZyAtIHJlY29yZCBvbmx5IHRoZSBhY3R1YWwgc2FsZSBhbW91bnQsIG5vdCBvdmVycGF5bWVudFxuICAgICAgLy8gQ2FzaCBhbW91bnQgc2hvdWxkIGJlIHRoZSBwb3J0aW9uIG9mIHRoZSB0b3RhbCB0aGF0IHdhcyBwYWlkIGluIGNhc2ggKHVwIHRvIHRvdGFsIG93ZWQpXG4gICAgICBjb25zdCB0b3RhbE93ZWQgPSB0b3RhbFdpdGhDYXNoYmFjaztcbiAgICAgIGZpbmFsQ2FzaEFtb3VudCA9IE1hdGgubWluKHBhaWRDYXNoLCBNYXRoLm1heCgwLCB0b3RhbE93ZWQpKTtcbiAgICAgIGZpbmFsQ2FyZEFtb3VudCA9IE1hdGgubWluKFxuICAgICAgICBwYWlkQ2FyZCxcbiAgICAgICAgTWF0aC5tYXgoMCwgdG90YWxPd2VkIC0gZmluYWxDYXNoQW1vdW50KVxuICAgICAgKTtcblxuICAgICAgaWYgKGNhc2hiYWNrID4gMCkge1xuICAgICAgICAvLyBDYXNoYmFjayB0cmFuc2FjdGlvbnM6IHJlY29yZCBjYXNoIGdvaW5nIG91dCBhbmQgY2FyZCBwYXltZW50XG4gICAgICAgIGZpbmFsQ2FzaEFtb3VudCA9IC1jYXNoYmFjazsgLy8gQ2FzaCByZWR1Y2VkIGZyb20gcmVnaXN0ZXJcbiAgICAgICAgZmluYWxDYXJkQW1vdW50ID0gcGFpZENhcmQ7IC8vIENhcmQgcGF5bWVudCBjb3ZlcnMgcHVyY2hhc2UgKyBjYXNoYmFja1xuICAgICAgfVxuXG4gICAgICAvLyBIYW5kbGUgbG90dG8gd2lubmluZ3MgLSBjdXN0b21lciBnZXRzIGNhc2ggYmFjayBpZiB0b3RhbCBpcyBuZWdhdGl2ZVxuICAgICAgaWYgKGxvdHRvQW1vdW50ID4gMCAmJiB0b3RhbFdpdGhDYXNoYmFjayA8IDApIHtcbiAgICAgICAgLy8gQ3VzdG9tZXIgb3dlcyBub3RoaW5nIGFuZCBnZXRzIG1vbmV5IGJhY2sgKGxvdHRvIHdpbm5pbmdzIGV4Y2VlZCBwdXJjaGFzZSB0b3RhbClcbiAgICAgICAgZmluYWxDYXNoQW1vdW50ID0gdG90YWxXaXRoQ2FzaGJhY2s7IC8vIE5lZ2F0aXZlIGNhc2ggYW1vdW50ID0gY2FzaCBnb2luZyBvdXQgb2YgcmVnaXN0ZXJcbiAgICAgICAgZmluYWxDYXJkQW1vdW50ID0gMDsgLy8gTm8gY2FyZCBwYXltZW50IG5lZWRlZFxuICAgICAgfSBlbHNlIGlmIChsb3R0b0Ftb3VudCA+IDApIHtcbiAgICAgICAgLy8gTG90dG8gd2lubmluZ3MgcmVkdWNlIHRoZSBhbW91bnQgY3VzdG9tZXIgbmVlZHMgdG8gcGF5XG4gICAgICAgIC8vIEFkanVzdCBwYXltZW50IGFtb3VudHMgcHJvcG9ydGlvbmFsbHlcbiAgICAgICAgY29uc3QgcmVtYWluaW5nVG90YWwgPSB0b3RhbFdpdGhDYXNoYmFjaztcbiAgICAgICAgaWYgKHJlbWFpbmluZ1RvdGFsID4gMCkge1xuICAgICAgICAgIGNvbnN0IGNhc2hSYXRpbyA9IHBhaWRDYXNoIC8gcGFpZFRvdGFsO1xuICAgICAgICAgIGNvbnN0IGNhcmRSYXRpbyA9IHBhaWRDYXJkIC8gcGFpZFRvdGFsO1xuICAgICAgICAgIGZpbmFsQ2FzaEFtb3VudCA9IHJlbWFpbmluZ1RvdGFsICogY2FzaFJhdGlvO1xuICAgICAgICAgIGZpbmFsQ2FyZEFtb3VudCA9IHJlbWFpbmluZ1RvdGFsICogY2FyZFJhdGlvO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcGF5bWVudEJyZWFrZG93biA9IFtdO1xuICAgIGlmIChpc0NyZWRpdFNhbGUpIHtcbiAgICAgIC8vIEZvciBwYXJ0aWFsIHBheW1lbnRzLCByZWNvcmQgYm90aCBwYXltZW50IGFuZCBjcmVkaXRcbiAgICAgIGlmIChpc1BhcnRpYWxQYXltZW50KSB7XG4gICAgICAgIGlmIChwYWlkQ2FzaCA+IDApXG4gICAgICAgICAgcGF5bWVudEJyZWFrZG93bi5wdXNoKHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJjYXNoXCIsXG4gICAgICAgICAgICBhbW91bnQ6ICtwYWlkQ2FzaC50b0ZpeGVkKDIpLFxuICAgICAgICAgIH0pO1xuICAgICAgICBpZiAocGFpZENhcmQgPiAwKVxuICAgICAgICAgIHBheW1lbnRCcmVha2Rvd24ucHVzaCh7XG4gICAgICAgICAgICBtZXRob2Q6IFwiY2FyZFwiLFxuICAgICAgICAgICAgYW1vdW50OiArcGFpZENhcmQudG9GaXhlZCgyKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgcGF5bWVudEJyZWFrZG93bi5wdXNoKHtcbiAgICAgICAgICBtZXRob2Q6IFwiY3JlZGl0XCIsXG4gICAgICAgICAgYW1vdW50OiArY3JlZGl0QmFsYW5jZS50b0ZpeGVkKDIpLFxuICAgICAgICAgIGN1c3RvbWVyTmFtZTogY3JlZGl0Q3VzdG9tZXJOYW1lLnRyaW0oKSxcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGdWxsIGNyZWRpdCBzYWxlIChubyBwYXltZW50KVxuICAgICAgICBwYXltZW50QnJlYWtkb3duLnB1c2goe1xuICAgICAgICAgIG1ldGhvZDogXCJjcmVkaXRcIixcbiAgICAgICAgICBhbW91bnQ6ICt0b3RhbFdpdGhDYXNoYmFjay50b0ZpeGVkKDIpLFxuICAgICAgICAgIGN1c3RvbWVyTmFtZTogY3JlZGl0Q3VzdG9tZXJOYW1lLnRyaW0oKSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChmaW5hbENhc2hBbW91bnQgIT09IDApXG4gICAgICAgIHBheW1lbnRCcmVha2Rvd24ucHVzaCh7XG4gICAgICAgICAgbWV0aG9kOiBcImNhc2hcIixcbiAgICAgICAgICBhbW91bnQ6ICtmaW5hbENhc2hBbW91bnQudG9GaXhlZCgyKSxcbiAgICAgICAgfSk7XG4gICAgICBpZiAoZmluYWxDYXJkQW1vdW50ID4gMClcbiAgICAgICAgcGF5bWVudEJyZWFrZG93bi5wdXNoKHtcbiAgICAgICAgICBtZXRob2Q6IFwiY2FyZFwiLFxuICAgICAgICAgIGFtb3VudDogK2ZpbmFsQ2FyZEFtb3VudC50b0ZpeGVkKDIpLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBZGQgbG90dG8gd2lubmluZ3MgdG8gcGF5bWVudCBicmVha2Rvd24gZm9yIHRyYWNraW5nXG4gICAgaWYgKGxvdHRvQW1vdW50ID4gMClcbiAgICAgIHBheW1lbnRCcmVha2Rvd24ucHVzaCh7XG4gICAgICAgIG1ldGhvZDogXCJsb3R0b1wiLFxuICAgICAgICBhbW91bnQ6ICtsb3R0b0Ftb3VudC50b0ZpeGVkKDIpLFxuICAgICAgfSk7XG5cbiAgICAvLyBJbmNsdWRlIGNhc2hiYWNrIGFzIGFuIGl0ZW0gaWYgcHJlc2VudFxuICAgIGNvbnN0IHRyYW5zYWN0aW9uSXRlbXMgPSBjYXJ0Lm1hcCgoYykgPT4gKHtcbiAgICAgIGlkOiBjLmlkLFxuICAgICAgbmFtZTogYy5uYW1lLFxuICAgICAgcXVhbnRpdHk6IGMucXVhbnRpdHksXG4gICAgICBwcmljZTogYy5wcmljZSxcbiAgICAgIGFwcGx5VGF4OiBjLmFwcGx5VGF4LFxuICAgICAgY2F0ZWdvcnk6IGMuY2F0ZWdvcnksXG4gICAgfSkpO1xuXG4gICAgLy8gQWRkIGNhc2hiYWNrIGFzIGEgbGluZSBpdGVtIGlmIHByZXNlbnRcbiAgICBpZiAoY2FzaGJhY2sgPiAwKSB7XG4gICAgICB0cmFuc2FjdGlvbkl0ZW1zLnB1c2goe1xuICAgICAgICBpZDogXCJjYXNoYmFjay1pdGVtXCIsXG4gICAgICAgIG5hbWU6IFwiQ2FzaGJhY2tcIixcbiAgICAgICAgcXVhbnRpdHk6IDEsXG4gICAgICAgIHByaWNlOiBjYXNoYmFjayxcbiAgICAgICAgYXBwbHlUYXg6IGZhbHNlLFxuICAgICAgICBjYXRlZ29yeTogXCJDYXNoYmFja1wiLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gQWRkIGNhc2hiYWNrIGZlZSBhcyBhIGxpbmUgaXRlbSBpZiBwcmVzZW50XG4gICAgaWYgKGNiRmVlID4gMCkge1xuICAgICAgdHJhbnNhY3Rpb25JdGVtcy5wdXNoKHtcbiAgICAgICAgaWQ6IFwiY2FzaGJhY2stZmVlLWl0ZW1cIixcbiAgICAgICAgbmFtZTogXCJDYXNoYmFjayBGZWVcIixcbiAgICAgICAgcXVhbnRpdHk6IDEsXG4gICAgICAgIHByaWNlOiBjYkZlZSxcbiAgICAgICAgYXBwbHlUYXg6IHRydWUsIC8vIENhc2hiYWNrIGZlZXMgYXJlIHR5cGljYWxseSB0YXhhYmxlXG4gICAgICAgIGNhdGVnb3J5OiBcIkZlZXNcIixcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEFkZCBjYXJkIGZlZSBhcyBhIGxpbmUgaXRlbSBpZiBwcmVzZW50XG4gICAgY29uc3QgY2FyZEZlZUZvckl0ZW0gPVxuICAgICAgY2FyZEZlZUVuYWJsZWQgJiYgY2FyZFR5cGUgPT09IFwiY3JlZGl0XCIgPyBDQVJEX0ZFRV9BTU9VTlQgOiAwO1xuICAgIGNvbnN0IGNjQ2hhcmdlRm9yTGluZUl0ZW0gPSBjYXJkRmVlRm9ySXRlbTtcbiAgICBpZiAoY2NDaGFyZ2VGb3JMaW5lSXRlbSA+IDApIHtcbiAgICAgIHRyYW5zYWN0aW9uSXRlbXMucHVzaCh7XG4gICAgICAgIGlkOiBcImNhcmQtcHJvY2Vzc2luZy1mZWUtaXRlbVwiLFxuICAgICAgICBuYW1lOlxuICAgICAgICAgIGNhcmRGZWVFbmFibGVkICYmIGNhcmRUeXBlID09PSBcImNyZWRpdFwiXG4gICAgICAgICAgICA/IFwiQ3JlZGl0IENhcmQgRmVlXCJcbiAgICAgICAgICAgIDogXCJDYXJkIFByb2Nlc3NpbmcgRmVlXCIsXG4gICAgICAgIHF1YW50aXR5OiAxLFxuICAgICAgICBwcmljZTogY2NDaGFyZ2VGb3JMaW5lSXRlbSxcbiAgICAgICAgYXBwbHlUYXg6IGZhbHNlLCAvLyBDYXJkIHByb2Nlc3NpbmcgZmVlcyBhcmUgdHlwaWNhbGx5IG5vdCB0YXhhYmxlXG4gICAgICAgIGNhdGVnb3J5OiBcIkZlZXNcIixcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEFkZCBsb3R0byB3aW5uaW5ncyBhcyBhIGxpbmUgaXRlbSBpZiBwcmVzZW50IChuZWdhdGl2ZSBwcmljZSA9IGRpc2NvdW50KVxuICAgIGlmIChsb3R0b0Ftb3VudCA+IDApIHtcbiAgICAgIHRyYW5zYWN0aW9uSXRlbXMucHVzaCh7XG4gICAgICAgIGlkOiBcImxvdHRvLXdpbm5pbmdzXCIsXG4gICAgICAgIG5hbWU6IFwiTG90dG8gV2lubmluZ3NcIixcbiAgICAgICAgcXVhbnRpdHk6IDEsXG4gICAgICAgIHByaWNlOiAtbG90dG9BbW91bnQsIC8vIE5lZ2F0aXZlIHByaWNlID0gY3JlZGl0L2Rpc2NvdW50XG4gICAgICAgIGFwcGx5VGF4OiBmYWxzZSxcbiAgICAgICAgY2F0ZWdvcnk6IFwiTG90dG9cIixcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEFkZCBkaXNjb3VudCBhcyBhIGxpbmUgaXRlbSBpZiBwcmVzZW50IChuZWdhdGl2ZSBwcmljZSA9IGRpc2NvdW50KVxuICAgIGlmIChkaXNjb3VudCA+IDApIHtcbiAgICAgIHRyYW5zYWN0aW9uSXRlbXMucHVzaCh7XG4gICAgICAgIGlkOiBcImRpc2NvdW50LWl0ZW1cIixcbiAgICAgICAgbmFtZTogXCJEaXNjb3VudFwiLFxuICAgICAgICBxdWFudGl0eTogMSxcbiAgICAgICAgcHJpY2U6IC1kaXNjb3VudCxcbiAgICAgICAgYXBwbHlUYXg6IGZhbHNlLFxuICAgICAgICBjYXRlZ29yeTogXCJEaXNjb3VudFwiLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gUmVjYWxjdWxhdGUgdG90YWxzIHdpdGggY2FzaGJhY2ssIGxvdHRvIHdpbm5pbmdzLCBkaXNjb3VudCwgYW5kIGNhc2hiYWNrIGZlZSBpbmNsdWRlZCBhcyBpdGVtc1xuICAgIGNvbnN0IG5ld1N1YnRvdGFsID1cbiAgICAgIG9yaWdpbmFsU3VidG90YWwgKyBjYXNoYmFjayAtIGxvdHRvQW1vdW50IC0gZGlzY291bnQgKyBjYkZlZTtcbiAgICBjb25zdCBuZXdUYXhhYmxlVG90YWwgPSBnZXRUYXhhYmxlVG90YWwoKSArIGNiRmVlOyAvLyBjYXNoYmFjayBmZWUgaXMgdGF4YWJsZSwgZGlzY291bnQvY2FzaGJhY2svbG90dG8gYXJlIG5vbi10YXhhYmxlXG4gICAgY29uc3QgbmV3Tm9uVGF4YWJsZVRvdGFsID1cbiAgICAgIGdldE5vblRheGFibGVUb3RhbCgpICsgY2FzaGJhY2sgLSBsb3R0b0Ftb3VudCAtIGRpc2NvdW50O1xuICAgIGNvbnN0IG5ld1RheCA9IHRheDsgLy8gdGF4IGFscmVhZHkgY2FsY3VsYXRlZCBvbiBkaXNjb3VudGVkIGFtb3VudFxuICAgIGNvbnN0IG5ld1RvdGFsID0gdG90YWwgKyBjYXNoYmFjayAtIGxvdHRvQW1vdW50ICsgY2NDaGFyZ2VGb3JMaW5lSXRlbTtcblxuICAgIGNvbnN0IHRyYW5zYWN0aW9uID0ge1xuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBpdGVtczogdHJhbnNhY3Rpb25JdGVtcyxcbiAgICAgIG9yaWdpbmFsU3VidG90YWw6IG9yaWdpbmFsU3VidG90YWwsIC8vIEl0ZW1zIHRvdGFsIGJlZm9yZSBkaXNjb3VudFxuICAgICAgZGlzY291bnQ6IGRpc2NvdW50LFxuICAgICAgc3VidG90YWw6IG5ld1N1YnRvdGFsLFxuICAgICAgdGF4YWJsZUFtb3VudDogbmV3VGF4YWJsZVRvdGFsLFxuICAgICAgbm9uVGF4YWJsZUFtb3VudDogbmV3Tm9uVGF4YWJsZVRvdGFsLFxuICAgICAgdGF4OiBuZXdUYXgsXG4gICAgICB0b3RhbDogbmV3VG90YWwsXG4gICAgICBmaW5hbFRvdGFsOiB0b3RhbFdpdGhDYXNoYmFjaywgLy8gVG90YWwgYW1vdW50IGN1c3RvbWVyIG93ZXNcbiAgICAgIGNhc2hiYWNrOiBjYXNoYmFjayxcbiAgICAgIHBheW1lbnRCcmVha2Rvd24sXG4gICAgICBjaGFuZ2UsXG4gICAgICBpc0NyZWRpdFNhbGU6IGlzQ3JlZGl0U2FsZSxcbiAgICAgIGlzUGFydGlhbFBheW1lbnQ6IGlzUGFydGlhbFBheW1lbnQsXG4gICAgICBjcmVkaXRCYWxhbmNlOiBjcmVkaXRCYWxhbmNlLFxuICAgICAgcGFpZEFtb3VudDogcGFpZFRvdGFsLFxuICAgICAgY3JlZGl0Q3VzdG9tZXJOYW1lOiBpc0NyZWRpdFNhbGUgPyBjcmVkaXRDdXN0b21lck5hbWUudHJpbSgpIDogbnVsbCxcbiAgICAgIGNyZWRpdFN0YXR1czogaXNDcmVkaXRTYWxlXG4gICAgICAgID8gY3JlZGl0QmFsYW5jZSA+IDBcbiAgICAgICAgICA/IFwidW5wYWlkXCJcbiAgICAgICAgICA6IFwicGFpZFwiXG4gICAgICAgIDogbnVsbCxcbiAgICAgIGxvdHRvV2lubmluZ3M6IGxvdHRvQW1vdW50LFxuICAgICAgLy8gRW5oYW5jZWQgY2FyZCBmZWUgdHJhY2tpbmdcbiAgICAgIGNhcmRUeXBlOiBjYXJkVHlwZSxcbiAgICAgIGNhcmRGZWVFbmFibGVkOiBjYXJkRmVlRW5hYmxlZCxcbiAgICB9O1xuXG4gICAgLy8gc2VuZCB0byBzZXJ2ZXJcbiAgICBmZXRjaChcIi9hcGkvdHJhbnNhY3Rpb25cIiwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIFwieC1hcGkta2V5XCI6IFwiZGV2LXNlY3JldFwiLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHRyYW5zYWN0aW9uKSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHIpID0+IHIuanNvbigpKVxuICAgICAgLnRoZW4oYXN5bmMgKGRhdGEpID0+IHtcbiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS50cmFuc2FjdGlvbikge1xuICAgICAgICAgIHNldExhc3RUcmFuc2FjdGlvbih7IGlkOiBkYXRhLmlkLCAuLi5kYXRhLnRyYW5zYWN0aW9uIH0pO1xuICAgICAgICAgIHNldFNob3dSZWNlaXB0KHRydWUpO1xuICAgICAgICAgIHNldENhcnQoW10pO1xuICAgICAgICAgIHNldENhc2hBbW91bnQoXCJcIik7XG4gICAgICAgICAgc2V0Q2FyZEFtb3VudChcIlwiKTtcbiAgICAgICAgICBzZXRDYXNoYmFja0Ftb3VudChcIlwiKTtcbiAgICAgICAgICBzZXRMb3R0b1dpbm5pbmdzKFwiXCIpO1xuICAgICAgICAgIHNldERpc2NvdW50QW1vdW50KFwiXCIpO1xuICAgICAgICAgIHNldElzQ3JlZGl0U2FsZShmYWxzZSk7XG4gICAgICAgICAgc2V0Q3JlZGl0Q3VzdG9tZXJOYW1lKFwiXCIpO1xuICAgICAgICAgIHNldENyZWRpdEFtb3VudCgwKTtcbiAgICAgICAgICBzZXRQYXltZW50RXJyb3IoXCJcIik7XG4gICAgICAgICAgLy8gUmVzZXQgY2FyZCBmZWUgc3RhdGVzXG4gICAgICAgICAgc2V0Q2FyZFR5cGUoXCJkZWJpdFwiKTtcbiAgICAgICAgICBzZXRDYXJkRmVlRW5hYmxlZChmYWxzZSk7XG4gICAgICAgICAgLy8gVXBkYXRlIGludmVudG9yeSBmb3IgYWxsIHNhbGVzIGV4Y2VwdCBmdWxsIGNyZWRpdCBzYWxlcyAobm8gcGF5bWVudClcbiAgICAgICAgICAvLyBQYXJ0aWFsIHBheW1lbnRzIHNob3VsZCB1cGRhdGUgaW52ZW50b3J5IHNpbmNlIGdvb2RzIGFyZSBkZWxpdmVyZWRcbiAgICAgICAgICBpZiAoIWlzQ3JlZGl0U2FsZSB8fCBpc1BhcnRpYWxQYXltZW50KSB7XG4gICAgICAgICAgICBkaXNwYXRjaCh1cGRhdGVJbnZlbnRvcnlBZnRlclRyYW5zYWN0aW9uKGNhcnQpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBVcGRhdGUgY3JlZGl0IGFjY291bnQgaWYgdGhpcyBpcyBhIGNyZWRpdCBzYWxlXG4gICAgICAgICAgaWYgKGlzQ3JlZGl0U2FsZSAmJiBjcmVkaXRDdXN0b21lck5hbWUudHJpbSgpKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCBjcmVkaXRBY2NvdW50UmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgICAgICAgICBcIi9hcGkvY3JlZGl0L2FjY291bnRzXCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiYWRkQ3JlZGl0XCIsXG4gICAgICAgICAgICAgICAgICAgIGN1c3RvbWVyTmFtZTogY3JlZGl0Q3VzdG9tZXJOYW1lLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBjcmVkaXRCYWxhbmNlLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbklkOiBkYXRhLmlkLFxuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgIGlmICghY3JlZGl0QWNjb3VudFJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICAgICAgXCJGYWlsZWQgdG8gdXBkYXRlIGNyZWRpdCBhY2NvdW50OlwiLFxuICAgICAgICAgICAgICAgICAgYXdhaXQgY3JlZGl0QWNjb3VudFJlc3BvbnNlLnRleHQoKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZEN1c3RvbWVyUmVzcG9uc2UgPVxuICAgICAgICAgICAgICAgICAgYXdhaXQgY3JlZGl0QWNjb3VudFJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkQWNjb3VudCA9IHVwZGF0ZWRDdXN0b21lclJlc3BvbnNlLmFjY291bnQ7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgICAgICBcIkNyZWRpdCBhY2NvdW50IHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5IGZvciBjdXN0b21lcjpcIixcbiAgICAgICAgICAgICAgICAgIGNyZWRpdEN1c3RvbWVyTmFtZS50cmltKCksXG4gICAgICAgICAgICAgICAgICBcIk5ldyBiYWxhbmNlOlwiLFxuICAgICAgICAgICAgICAgICAgdXBkYXRlZEFjY291bnQuYmFsYW5jZVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgbG9jYWwgc3RhdGUgaWYgdGhpcyBjdXN0b21lciB3YXMgc2VsZWN0ZWRcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICBzZWxlY3RlZEN1c3RvbWVyICYmXG4gICAgICAgICAgICAgICAgICBzZWxlY3RlZEN1c3RvbWVyLmN1c3RvbWVyTmFtZSA9PT0gY3JlZGl0Q3VzdG9tZXJOYW1lLnRyaW0oKVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgc2V0Q3VzdG9tZXJCYWxhbmNlKHVwZGF0ZWRBY2NvdW50LmJhbGFuY2UpO1xuICAgICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRDdXN0b21lcih1cGRhdGVkQWNjb3VudCk7XG5cbiAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgY3VzdG9tZXJzIGxpc3RcbiAgICAgICAgICAgICAgICAgIHNldEV4aXN0aW5nQ3VzdG9tZXJzKChwcmV2KSA9PlxuICAgICAgICAgICAgICAgICAgICBwcmV2Lm1hcCgoYykgPT5cbiAgICAgICAgICAgICAgICAgICAgICBjLmN1c3RvbWVyTmFtZSA9PT0gY3JlZGl0Q3VzdG9tZXJOYW1lLnRyaW0oKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyB1cGRhdGVkQWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBjXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIC8vIElmIG5vIGN1c3RvbWVyIHNlbGVjdGVkLCByZWZyZXNoIHRoZSBlbnRpcmUgbGlzdFxuICAgICAgICAgICAgICAgICAgZmV0Y2hFeGlzdGluZ0N1c3RvbWVycygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkVycm9yIHVwZGF0aW5nIGNyZWRpdCBhY2NvdW50OlwiLCBlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5leHBlY3RlZCByZXNwb25zZSBmcm9tIHRyYW5zYWN0aW9uIEFQSVwiLCBkYXRhKTtcbiAgICAgICAgICBzZXRQYXltZW50RXJyb3IoXCJGYWlsZWQgdG8gY29tcGxldGUgdHJhbnNhY3Rpb25cIik7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiVHJhbnNhY3Rpb24gQVBJIGVycm9yXCIsIGVycik7XG4gICAgICAgIHNldFBheW1lbnRFcnJvcihcIkZhaWxlZCB0byBjb21wbGV0ZSB0cmFuc2FjdGlvblwiKTtcbiAgICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IHN0YXJ0TmV3U2FsZSA9ICgpID0+IHtcbiAgICBzZXRTaG93UmVjZWlwdChmYWxzZSk7XG4gICAgc2V0TGFzdFRyYW5zYWN0aW9uKG51bGwpO1xuICAgIHNldENhcnQoW10pO1xuICAgIHNldENhc2hBbW91bnQoXCJcIik7XG4gICAgc2V0Q2FyZEFtb3VudChcIlwiKTtcbiAgICBzZXRDYXNoYmFja0Ftb3VudChcIlwiKTtcbiAgICBzZXRDYXNoYmFja0ZlZShcIlwiKTtcbiAgICBzZXRDYXNoYmFja0VuYWJsZWQoZmFsc2UpO1xuICAgIHNldExvdHRvV2lubmluZ3MoXCJcIik7XG4gICAgc2V0RGlzY291bnRBbW91bnQoXCJcIik7XG4gICAgc2V0SXNDcmVkaXRTYWxlKGZhbHNlKTtcbiAgICBzZXRDcmVkaXRDdXN0b21lck5hbWUoXCJcIik7XG4gICAgc2V0Q3JlZGl0QW1vdW50KDApO1xuICAgIHNldFBheW1lbnRFcnJvcihcIlwiKTtcbiAgICAvLyBSZXNldCBjYXJkIGZlZSBzdGF0ZXNcbiAgICBzZXRDYXJkVHlwZShcImRlYml0XCIpO1xuICAgIHNldENhcmRGZWVFbmFibGVkKGZhbHNlKTtcbiAgfTtcblxuICAvLyBDcmVkaXQgY3VzdG9tZXIgbWFuYWdlbWVudCBmdW5jdGlvbnNcbiAgY29uc3QgZmV0Y2hFeGlzdGluZ0N1c3RvbWVycyA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcIi9hcGkvY3JlZGl0L2FjY291bnRzXCIpO1xuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIC8vIFRoZSBBUEkgcmV0dXJucyBhY2NvdW50cyBpbiBhbiAnYWNjb3VudHMnIHByb3BlcnR5XG4gICAgICAgIGNvbnN0IGN1c3RvbWVycyA9IGRhdGEuYWNjb3VudHMgfHwgW107XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRmV0Y2hlZCBleGlzdGluZyBjdXN0b21lcnM6XCIsIGN1c3RvbWVycyk7XG4gICAgICAgIHNldEV4aXN0aW5nQ3VzdG9tZXJzKGN1c3RvbWVycyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGZldGNoIGV4aXN0aW5nIGN1c3RvbWVyc1wiKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBjdXN0b21lcnM6XCIsIGVycik7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUN1c3RvbWVyTmFtZUNoYW5nZSA9ICh2YWx1ZSkgPT4ge1xuICAgIHNldENyZWRpdEN1c3RvbWVyTmFtZSh2YWx1ZSk7XG5cbiAgICBpZiAodmFsdWUubGVuZ3RoID4gMCAmJiBBcnJheS5pc0FycmF5KGV4aXN0aW5nQ3VzdG9tZXJzKSkge1xuICAgICAgY29uc3QgbWF0Y2hpbmdDdXN0b21lcnMgPSBleGlzdGluZ0N1c3RvbWVycy5maWx0ZXIoXG4gICAgICAgIChjdXN0b21lcikgPT5cbiAgICAgICAgICBjdXN0b21lciAmJlxuICAgICAgICAgIGN1c3RvbWVyLmN1c3RvbWVyTmFtZSAmJlxuICAgICAgICAgIGN1c3RvbWVyLmN1c3RvbWVyTmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHZhbHVlLnRvTG93ZXJDYXNlKCkpXG4gICAgICApO1xuICAgICAgLy8gQWx3YXlzIHNob3cgc3VnZ2VzdGlvbnMgd2hlbiB0eXBpbmcgKGZvciBleGlzdGluZyBjdXN0b21lcnMgb3IgbmV3IGN1c3RvbWVyIG9wdGlvbilcbiAgICAgIHNldFNob3dDdXN0b21lclN1Z2dlc3Rpb25zKHRydWUpO1xuXG4gICAgICAvLyBBdXRvLXNlbGVjdCBpZiBleGFjdCBtYXRjaFxuICAgICAgY29uc3QgZXhhY3RNYXRjaCA9IGV4aXN0aW5nQ3VzdG9tZXJzLmZpbmQoXG4gICAgICAgIChjdXN0b21lcikgPT5cbiAgICAgICAgICBjdXN0b21lciAmJlxuICAgICAgICAgIGN1c3RvbWVyLmN1c3RvbWVyTmFtZSAmJlxuICAgICAgICAgIGN1c3RvbWVyLmN1c3RvbWVyTmFtZS50b0xvd2VyQ2FzZSgpID09PSB2YWx1ZS50b0xvd2VyQ2FzZSgpXG4gICAgICApO1xuICAgICAgaWYgKGV4YWN0TWF0Y2gpIHtcbiAgICAgICAgc2V0U2VsZWN0ZWRDdXN0b21lcihleGFjdE1hdGNoKTtcbiAgICAgICAgc2V0Q3VzdG9tZXJCYWxhbmNlKGV4YWN0TWF0Y2guYmFsYW5jZSB8fCAwKTtcbiAgICAgICAgc2V0U2hvd1BheW1lbnRPcHRpb25zKHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0U2VsZWN0ZWRDdXN0b21lcihudWxsKTtcbiAgICAgICAgc2V0Q3VzdG9tZXJCYWxhbmNlKDApO1xuICAgICAgICBzZXRTaG93UGF5bWVudE9wdGlvbnMoZmFsc2UpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzZXRTaG93Q3VzdG9tZXJTdWdnZXN0aW9ucyhmYWxzZSk7XG4gICAgICBzZXRTZWxlY3RlZEN1c3RvbWVyKG51bGwpO1xuICAgICAgc2V0Q3VzdG9tZXJCYWxhbmNlKDApO1xuICAgICAgc2V0U2hvd1BheW1lbnRPcHRpb25zKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQ3VzdG9tZXJTZWxlY3Rpb24gPSAoY3VzdG9tZXIpID0+IHtcbiAgICBzZXRDcmVkaXRDdXN0b21lck5hbWUoY3VzdG9tZXIuY3VzdG9tZXJOYW1lKTtcbiAgICBzZXRTZWxlY3RlZEN1c3RvbWVyKGN1c3RvbWVyKTtcbiAgICBzZXRDdXN0b21lckJhbGFuY2UoY3VzdG9tZXIuYmFsYW5jZSB8fCAwKTtcbiAgICBzZXRTaG93Q3VzdG9tZXJTdWdnZXN0aW9ucyhmYWxzZSk7XG4gICAgc2V0U2hvd1BheW1lbnRPcHRpb25zKHRydWUpO1xuICB9O1xuXG4gIGNvbnN0IHByb2Nlc3NDdXN0b21lclBheW1lbnQgPSBhc3luYyAocGF5bWVudEFtb3VudCkgPT4ge1xuICAgIGlmICghc2VsZWN0ZWRDdXN0b21lcikgcmV0dXJuO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXCIvYXBpL2NyZWRpdC9hY2NvdW50c1wiLCB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGFjdGlvbjogXCJwYXltZW50XCIsXG4gICAgICAgICAgY3VzdG9tZXJOYW1lOiBzZWxlY3RlZEN1c3RvbWVyLmN1c3RvbWVyTmFtZSxcbiAgICAgICAgICBhbW91bnQ6IHBheW1lbnRBbW91bnQsXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCB1cGRhdGVkQ3VzdG9tZXIgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHNldEN1c3RvbWVyQmFsYW5jZSh1cGRhdGVkQ3VzdG9tZXIuYmFsYW5jZSk7XG4gICAgICAgIHNldFNlbGVjdGVkQ3VzdG9tZXIodXBkYXRlZEN1c3RvbWVyKTtcblxuICAgICAgICAvLyBVcGRhdGUgdGhlIGN1c3RvbWVycyBsaXN0XG4gICAgICAgIHNldEV4aXN0aW5nQ3VzdG9tZXJzKChwcmV2KSA9PlxuICAgICAgICAgIHByZXYubWFwKChjKSA9PlxuICAgICAgICAgICAgYy5jdXN0b21lck5hbWUgPT09IHVwZGF0ZWRDdXN0b21lci5jdXN0b21lck5hbWVcbiAgICAgICAgICAgICAgPyB1cGRhdGVkQ3VzdG9tZXJcbiAgICAgICAgICAgICAgOiBjXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHByb2Nlc3NpbmcgcGF5bWVudDpcIiwgZXJyKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gTG9hZCBleGlzdGluZyBjdXN0b21lcnMgd2hlbiBjcmVkaXQgc2FsZSBtb2RlIGlzIGFjdGl2YXRlZFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc0NyZWRpdFNhbGUgJiYgZXhpc3RpbmdDdXN0b21lcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICBmZXRjaEV4aXN0aW5nQ3VzdG9tZXJzKCk7XG4gICAgfVxuICB9LCBbaXNDcmVkaXRTYWxlXSk7XG5cbiAgLy8gSGFuZGxlIGNyZWRpdFBheW1lbnQgVVJMIHBhcmFtZXRlciBmcm9tIGNyZWRpdCBtYW5hZ2VtZW50IHBhZ2VcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBjcmVkaXRQYXltZW50UGFyYW0gPSBzZWFyY2hQYXJhbXM/LmdldChcImNyZWRpdFBheW1lbnRcIik7XG4gICAgaWYgKGNyZWRpdFBheW1lbnRQYXJhbSkge1xuICAgICAgY29uc29sZS5sb2coXCJDcmVkaXQgcGF5bWVudCBwYXJhbWV0ZXIgZGV0ZWN0ZWQ6XCIsIGNyZWRpdFBheW1lbnRQYXJhbSk7XG5cbiAgICAgIC8vIEVuYWJsZSBjcmVkaXQgc2FsZSBtb2RlXG4gICAgICBzZXRJc0NyZWRpdFNhbGUodHJ1ZSk7XG5cbiAgICAgIC8vIFNldCB0aGUgY3VzdG9tZXIgbmFtZVxuICAgICAgc2V0Q3JlZGl0Q3VzdG9tZXJOYW1lKGNyZWRpdFBheW1lbnRQYXJhbSk7XG5cbiAgICAgIC8vIEZldGNoIGV4aXN0aW5nIGN1c3RvbWVycyB0byBmaW5kIHRoaXMgc3BlY2lmaWMgY3VzdG9tZXJcbiAgICAgIGZldGNoRXhpc3RpbmdDdXN0b21lcnMoKS50aGVuKCgpID0+IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIGJlIGhhbmRsZWQgYnkgdGhlIG5leHQgdXNlRWZmZWN0IHdoZW4gZXhpc3RpbmdDdXN0b21lcnMgdXBkYXRlc1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbc2VhcmNoUGFyYW1zXSk7XG5cbiAgLy8gQXV0by1zZWxlY3QgY3VzdG9tZXIgd2hlbiBjcmVkaXRQYXltZW50IHBhcmFtZXRlciBpcyB1c2VkXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY3JlZGl0UGF5bWVudFBhcmFtID0gc2VhcmNoUGFyYW1zPy5nZXQoXCJjcmVkaXRQYXltZW50XCIpO1xuICAgIGlmIChjcmVkaXRQYXltZW50UGFyYW0gJiYgZXhpc3RpbmdDdXN0b21lcnMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgdGFyZ2V0Q3VzdG9tZXIgPSBleGlzdGluZ0N1c3RvbWVycy5maW5kKFxuICAgICAgICAoY3VzdG9tZXIpID0+XG4gICAgICAgICAgY3VzdG9tZXIuY3VzdG9tZXJOYW1lLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgY3JlZGl0UGF5bWVudFBhcmFtLnRvTG93ZXJDYXNlKClcbiAgICAgICk7XG5cbiAgICAgIGlmICh0YXJnZXRDdXN0b21lcikge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkF1dG8tc2VsZWN0aW5nIGN1c3RvbWVyOlwiLCB0YXJnZXRDdXN0b21lcik7XG4gICAgICAgIHNldFNlbGVjdGVkQ3VzdG9tZXIodGFyZ2V0Q3VzdG9tZXIpO1xuICAgICAgICBzZXRDdXN0b21lckJhbGFuY2UodGFyZ2V0Q3VzdG9tZXIuYmFsYW5jZSB8fCAwKTtcbiAgICAgICAgc2V0U2hvd1BheW1lbnRPcHRpb25zKHRydWUpO1xuICAgICAgICBzZXRTaG93Q3VzdG9tZXJTdWdnZXN0aW9ucyhmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbZXhpc3RpbmdDdXN0b21lcnMsIHNlYXJjaFBhcmFtc10pO1xuXG4gIC8vIFJlc2V0IHRvIG5ldyBzYWxlIHdoZW4gbmF2aWdhdGluZyB0byBQT1MgKGUuZy4sIGZyb20gaGVhZGVyIG5hdmlnYXRpb24pXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgbmV3U2FsZVBhcmFtID0gc2VhcmNoUGFyYW1zPy5nZXQoXCJuZXdTYWxlXCIpO1xuICAgIGlmIChuZXdTYWxlUGFyYW0gPT09IFwidHJ1ZVwiKSB7XG4gICAgICAvLyBBdXRvLXN0YXJ0IG5ldyBzYWxlIHdoZW4gbmV3U2FsZT10cnVlIHBhcmFtZXRlciBpcyBwcmVzZW50XG4gICAgICBzdGFydE5ld1NhbGUoKTtcblxuICAgICAgLy8gQ2xlYXIgdGhlIG5ld1NhbGUgcGFyYW1ldGVyIGZyb20gVVJMIHdpdGhvdXQgcGFnZSByZWxvYWRcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uKTtcbiAgICAgIHVybC5zZWFyY2hQYXJhbXMuZGVsZXRlKFwibmV3U2FsZVwiKTtcbiAgICAgIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh7fSwgXCJcIiwgdXJsKTtcbiAgICB9XG4gIH0sIFtzZWFyY2hQYXJhbXNdKTtcblxuICBjb25zdCBzd2FwUGF5bWVudHMgPSAoKSA9PiB7XG4gICAgY29uc3QgY3VycmVudENhc2ggPSBjYXNoQW1vdW50O1xuICAgIGNvbnN0IGN1cnJlbnRDYXJkID0gY2FyZEFtb3VudDtcblxuICAgIHNldENhc2hBbW91bnQoY3VycmVudENhcmQpO1xuICAgIHNldENhcmRBbW91bnQoY3VycmVudENhc2gpO1xuXG4gICAgLy8gVXBkYXRlIGxhc3QgZWRpdGVkIHRvIHJlZmxlY3QgdGhlIHN3YXBcbiAgICBpZiAoKE51bWJlcihjdXJyZW50Q2FyZCkgfHwgMCkgPiAwKSB7XG4gICAgICBzZXRMYXN0RWRpdGVkKFwiY2FzaFwiKTtcbiAgICB9IGVsc2UgaWYgKChOdW1iZXIoY3VycmVudENhc2gpIHx8IDApID4gMCkge1xuICAgICAgc2V0TGFzdEVkaXRlZChcImNhcmRcIik7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHByaW50UmVjZWlwdCA9ICgpID0+IHtcbiAgICBpZiAoIWxhc3RUcmFuc2FjdGlvbikgcmV0dXJuO1xuXG4gICAgY29uc3QgcHJpbnRXaW5kb3cgPSB3aW5kb3cub3BlbihcIlwiLCBcIl9ibGFua1wiKTtcbiAgICBjb25zdCByZWNlaXB0Q29udGVudCA9IGBcbiAgICAgIDwhRE9DVFlQRSBodG1sPlxuICAgICAgPGh0bWw+XG4gICAgICAgIDxoZWFkPlxuICAgICAgICAgIDx0aXRsZT5SZWNlaXB0IC0gVHJhbnNhY3Rpb24gIyR7KGxhc3RUcmFuc2FjdGlvbi5pZCB8fCBcIk4vQVwiKVxuICAgICAgICAgICAgLnRvU3RyaW5nKClcbiAgICAgICAgICAgIC5zbGljZSgtOCl9PC90aXRsZT5cbiAgICAgICAgICA8c3R5bGU+XG4gICAgICAgICAgICBib2R5IHtcbiAgICAgICAgICAgICAgZm9udC1mYW1pbHk6ICdDb3VyaWVyIE5ldycsIG1vbm9zcGFjZTtcbiAgICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgICAgICAgICAgIG1heC13aWR0aDogMzAwcHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuaGVhZGVyIHtcbiAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLnN0b3JlLW5hbWUge1xuICAgICAgICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA1cHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAucmVjZWlwdC1pdGVtIHtcbiAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICAgICAgICBtYXJnaW46IDJweCAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLnJlY2VpcHQtdG90YWxzIHtcbiAgICAgICAgICAgICAgbWFyZ2luLXRvcDogMTBweDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC50b3RhbCB7XG4gICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgIzAwMDtcbiAgICAgICAgICAgICAgcGFkZGluZy10b3A6IDVweDtcbiAgICAgICAgICAgICAgbWFyZ2luLXRvcDogNXB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaHIge1xuICAgICAgICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjMDAwO1xuICAgICAgICAgICAgICBtYXJnaW46IDEwcHggMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5jZW50ZXIge1xuICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBAbWVkaWEgcHJpbnQge1xuICAgICAgICAgICAgICBib2R5IHsgbWFyZ2luOiAwOyBwYWRkaW5nOiAxMHB4OyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgPC9oZWFkPlxuICAgICAgICA8Ym9keT5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RvcmUtbmFtZVwiPkNPTlZFTklFTkNFIFNUT1JFPC9kaXY+XG4gICAgICAgICAgICA8ZGl2PlNjYXJib3JvdWdoLCBPbnRhcmlvPC9kaXY+XG4gICAgICAgICAgICA8ZGl2PlRyYW5zYWN0aW9uICMkeyhsYXN0VHJhbnNhY3Rpb24uaWQgfHwgXCJOL0FcIilcbiAgICAgICAgICAgICAgLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgLnNsaWNlKC04KX08L2Rpdj5cbiAgICAgICAgICAgIDxkaXY+JHtuZXcgRGF0ZShsYXN0VHJhbnNhY3Rpb24udGltZXN0YW1wKS50b0xvY2FsZVN0cmluZygpfTwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDxocj5cbiAgICAgICAgICBcbiAgICAgICAgICAke2xhc3RUcmFuc2FjdGlvbi5pdGVtc1xuICAgICAgICAgICAgLm1hcChcbiAgICAgICAgICAgICAgKGl0ZW0pID0+IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWNlaXB0LWl0ZW1cIj5cbiAgICAgICAgICAgICAgPGRpdj4ke2l0ZW0ubmFtZX0gJHshaXRlbS50YXhhYmxlID8gXCIoTm8gSFNUKVwiIDogXCJcIn08L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJlY2VpcHQtaXRlbVwiPlxuICAgICAgICAgICAgICA8ZGl2PiR7aXRlbS5xdWFudGl0eX0geCAkJHtpdGVtLnByaWNlLnRvRml4ZWQoMil9PC9kaXY+XG4gICAgICAgICAgICAgIDxkaXY+JCR7KGl0ZW0ucXVhbnRpdHkgKiBpdGVtLnByaWNlKS50b0ZpeGVkKDIpfTwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgYFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLmpvaW4oXCJcIil9XG4gICAgICAgICAgXG4gICAgICAgICAgPGhyPlxuICAgICAgICAgIFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWNlaXB0LXRvdGFsc1wiPlxuICAgICAgICAgICAgJHtcbiAgICAgICAgICAgICAgbGFzdFRyYW5zYWN0aW9uLnRheGFibGVBbW91bnQgPiAwICYmXG4gICAgICAgICAgICAgIGxhc3RUcmFuc2FjdGlvbi5ub25UYXhhYmxlQW1vdW50ID4gMFxuICAgICAgICAgICAgICAgID8gYFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVjZWlwdC1pdGVtXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4+VGF4YWJsZSBJdGVtczo8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4+JCR7bGFzdFRyYW5zYWN0aW9uLnRheGFibGVBbW91bnQudG9GaXhlZCgyKX08L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVjZWlwdC1pdGVtXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4+Tm9uLVRheGFibGUgSXRlbXM6PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuPiQke2xhc3RUcmFuc2FjdGlvbi5ub25UYXhhYmxlQW1vdW50LnRvRml4ZWQoMil9PC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICA6IFwiXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgJHtcbiAgICAgICAgICAgICAgbGFzdFRyYW5zYWN0aW9uLmRpc2NvdW50ID4gMFxuICAgICAgICAgICAgICAgID8gYFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVjZWlwdC1pdGVtXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4+SXRlbXMgU3VidG90YWw6PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuPiQke2xhc3RUcmFuc2FjdGlvbi5vcmlnaW5hbFN1YnRvdGFsLnRvRml4ZWQoMil9PC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJlY2VpcHQtaXRlbVwiIHN0eWxlPVwiZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAjZTY1MTAwO1wiPlxuICAgICAgICAgICAgICAgIDxzcGFuPkRpc2NvdW50Ojwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3Bhbj4tJCR7bGFzdFRyYW5zYWN0aW9uLmRpc2NvdW50LnRvRml4ZWQoMil9PC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJlY2VpcHQtaXRlbVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuPlN1YnRvdGFsOjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3Bhbj4kJHtsYXN0VHJhbnNhY3Rpb24uc3VidG90YWwudG9GaXhlZCgyKX08L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYFxuICAgICAgICAgICAgICAgIDogYFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVjZWlwdC1pdGVtXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4+U3VidG90YWw6PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuPiQke2xhc3RUcmFuc2FjdGlvbi5zdWJ0b3RhbC50b0ZpeGVkKDIpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICR7XG4gICAgICAgICAgICAgIGxhc3RUcmFuc2FjdGlvbi5pbmNsdWRlVGF4ICYmIGxhc3RUcmFuc2FjdGlvbi50YXggPiAwXG4gICAgICAgICAgICAgICAgPyBgXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWNlaXB0LWl0ZW1cIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj5IU1QgKDEzJSk6PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuPiQke2xhc3RUcmFuc2FjdGlvbi50YXgudG9GaXhlZCgyKX08L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYFxuICAgICAgICAgICAgICAgIDogXCJcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVjZWlwdC1pdGVtIHRvdGFsXCI+XG4gICAgICAgICAgICAgIDxzcGFuPlRvdGFsOjwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4+JCR7bGFzdFRyYW5zYWN0aW9uLnRvdGFsLnRvRml4ZWQoMil9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICR7XG4gICAgICAgICAgICAgIGxhc3RUcmFuc2FjdGlvbi5jYXNoYmFjayA+IDBcbiAgICAgICAgICAgICAgICA/IGBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJlY2VpcHQtaXRlbVwiIHN0eWxlPVwiZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAjZTY3ZTIyO1wiPlxuICAgICAgICAgICAgICAgIDxzcGFuPkNhc2hiYWNrOjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3Bhbj4kJHtsYXN0VHJhbnNhY3Rpb24uY2FzaGJhY2sudG9GaXhlZCgyKX08L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYFxuICAgICAgICAgICAgICAgIDogXCJcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAke1xuICAgICAgICAgICAgICBsYXN0VHJhbnNhY3Rpb24ucGF5bWVudEJyZWFrZG93biAmJlxuICAgICAgICAgICAgICBsYXN0VHJhbnNhY3Rpb24ucGF5bWVudEJyZWFrZG93bi5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgPyBgXG4gICAgICAgICAgICAgIDxocj5cbiAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cImZvbnQtd2VpZ2h0OiBib2xkOyBtYXJnaW4tYm90dG9tOiA1cHg7XCI+UGF5bWVudHM8L2Rpdj5cbiAgICAgICAgICAgICAgJHtsYXN0VHJhbnNhY3Rpb24ucGF5bWVudEJyZWFrZG93blxuICAgICAgICAgICAgICAgIC5tYXAoXG4gICAgICAgICAgICAgICAgICAocCkgPT4gYFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWNlaXB0LWl0ZW1cIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuPiR7cC5tZXRob2QudG9VcHBlckNhc2UoKX06PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPHNwYW4+JCR7cC5hbW91bnQudG9GaXhlZCgyKX08L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgLmpvaW4oXCJcIil9XG4gICAgICAgICAgICAgICR7XG4gICAgICAgICAgICAgICAgbGFzdFRyYW5zYWN0aW9uLmNoYW5nZSA+IDBcbiAgICAgICAgICAgICAgICAgID8gYFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWNlaXB0LWl0ZW1cIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuPkNoYW5nZTo8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8c3Bhbj4kJHtsYXN0VHJhbnNhY3Rpb24uY2hhbmdlLnRvRml4ZWQoMil9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICBgXG4gICAgICAgICAgICAgICAgICA6IFwiXCJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYFxuICAgICAgICAgICAgICAgIDogXCJcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDxocj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2VudGVyXCI+VGhhbmsgeW91IGZvciB5b3VyIGJ1c2luZXNzITwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICAgICB3aW5kb3cub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHdpbmRvdy5wcmludCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIDwvc2NyaXB0PlxuICAgICAgICA8L2JvZHk+XG4gICAgICA8L2h0bWw+XG4gICAgYDtcblxuICAgIHByaW50V2luZG93LmRvY3VtZW50LndyaXRlKHJlY2VpcHRDb250ZW50KTtcbiAgICBwcmludFdpbmRvdy5kb2N1bWVudC5jbG9zZSgpO1xuICB9O1xuXG4gIC8vIFdoZW4gY2FydCBjaGFuZ2VzLCByZXNldCBwYXltZW50IGFtb3VudHMgKGRlZmF1bHQgY2FyZCBmb3IgY2FzaGJhY2ssIG90aGVyd2lzZSBjYXNoKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIERvbid0IGF1dG8tcmVzZXQgcGF5bWVudCBhbW91bnRzIHdoZW4gaW4gY3JlZGl0IHNhbGUgbW9kZSAtIGxldCB1c2VyIGNvbnRyb2wgdGhlbVxuICAgIGlmIChpc0NyZWRpdFNhbGUpIHtcbiAgICAgIHNldFBheW1lbnRFcnJvcihcIlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzdWJ0b3RhbCA9IGNhbGN1bGF0ZVRvdGFsKCk7XG4gICAgY29uc3QgdGF4ID0gY2FsY3VsYXRlVGF4KCk7XG4gICAgY29uc3QgdG90YWwgPSArKHN1YnRvdGFsICsgdGF4KS50b0ZpeGVkKDIpO1xuICAgIGNvbnN0IGNhc2hiYWNrID0gTnVtYmVyKHBhcnNlRmxvYXQoY2FzaGJhY2tBbW91bnQpIHx8IDApO1xuICAgIGNvbnN0IGxvdHRvID0gTnVtYmVyKHBhcnNlRmxvYXQobG90dG9XaW5uaW5ncykgfHwgMCk7XG4gICAgY29uc3QgdG90YWxXaXRoQ2FzaGJhY2sgPSB0b3RhbCArIGNhc2hiYWNrIC0gbG90dG87XG5cbiAgICAvLyBGb3IgY2FzaGJhY2sgdHJhbnNhY3Rpb25zLCBmb3JjZSBjYXJkIHBheW1lbnQgb25seVxuICAgIGlmIChjYXNoYmFjayA+IDApIHtcbiAgICAgIHNldENhc2hBbW91bnQoXCJcIik7XG4gICAgICBzZXRDYXJkQW1vdW50KE1hdGgubWF4KDAsIHRvdGFsV2l0aENhc2hiYWNrKSk7XG4gICAgICBzZXRMYXN0RWRpdGVkKFwiY2FyZFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRGVmYXVsdDogY2FzaCBjb3ZlcnMgdGhlIHRvdGFsIG1pbnVzIGxvdHRvIHdpbm5pbmdzXG4gICAgICBzZXRDYXNoQW1vdW50KE1hdGgubWF4KDAsIHRvdGFsV2l0aENhc2hiYWNrKSk7XG4gICAgICBzZXRDYXJkQW1vdW50KDApO1xuICAgICAgc2V0TGFzdEVkaXRlZChcImNhc2hcIik7XG4gICAgfVxuICAgIHNldFBheW1lbnRFcnJvcihcIlwiKTtcbiAgfSwgW1xuICAgIGNhcnQsXG4gICAgY2FzaGJhY2tBbW91bnQsXG4gICAgY2FzaGJhY2tGZWUsXG4gICAgbG90dG9XaW5uaW5ncyxcbiAgICBkaXNjb3VudEFtb3VudCxcbiAgICBpc0NyZWRpdFNhbGUsXG4gICAgY2FyZFR5cGUsXG4gICAgY2FyZEZlZUVuYWJsZWQsXG4gIF0pO1xuXG4gIC8vIElmIGF1dG8tZmlsbCBpcyBlbmFibGVkIGFuZCBsYXN0RWRpdGVkIGlzIHNldCwgdXBkYXRlIHRoZSBvdGhlciBhbW91bnRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWF1dG9GaWxsT3RoZXIgfHwgIWxhc3RFZGl0ZWQgfHwgaXNDcmVkaXRTYWxlKSByZXR1cm47IC8vIERvbid0IGF1dG8tZmlsbCBpbiBjcmVkaXQgc2FsZSBtb2RlXG4gICAgY29uc3Qgc3VidG90YWwgPSBjYWxjdWxhdGVUb3RhbCgpO1xuICAgIGNvbnN0IHRheCA9IGNhbGN1bGF0ZVRheCgpO1xuICAgIGNvbnN0IHRvdGFsID0gKyhzdWJ0b3RhbCArIHRheCkudG9GaXhlZCgyKTtcbiAgICBjb25zdCBjYXNoYmFjayA9IE51bWJlcihwYXJzZUZsb2F0KGNhc2hiYWNrQW1vdW50KSB8fCAwKTtcbiAgICBjb25zdCBsb3R0byA9IE51bWJlcihwYXJzZUZsb2F0KGxvdHRvV2lubmluZ3MpIHx8IDApO1xuICAgIGNvbnN0IHRvdGFsV2l0aENhc2hiYWNrID0gdG90YWwgKyBjYXNoYmFjayAtIGxvdHRvO1xuXG4gICAgLy8gRm9yIGNhc2hiYWNrIHRyYW5zYWN0aW9ucywgb25seSBhbGxvdyBjYXJkIHBheW1lbnRcbiAgICBpZiAoY2FzaGJhY2sgPiAwKSB7XG4gICAgICBzZXRDYXNoQW1vdW50KFwiXCIpO1xuICAgICAgc2V0Q2FyZEFtb3VudChNYXRoLm1heCgwLCB0b3RhbFdpdGhDYXNoYmFjaykpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChsYXN0RWRpdGVkID09PSBcImNhc2hcIikge1xuICAgICAgY29uc3QgcGFpZENhc2ggPSBOdW1iZXIocGFyc2VGbG9hdChjYXNoQW1vdW50KSB8fCAwKTtcbiAgICAgIGNvbnN0IG5ld0NhcmQgPSBNYXRoLm1heCgwLCArKHRvdGFsV2l0aENhc2hiYWNrIC0gcGFpZENhc2gpLnRvRml4ZWQoMikpO1xuICAgICAgc2V0Q2FyZEFtb3VudChuZXdDYXJkKTtcbiAgICB9IGVsc2UgaWYgKGxhc3RFZGl0ZWQgPT09IFwiY2FyZFwiKSB7XG4gICAgICBjb25zdCBwYWlkQ2FyZCA9IE51bWJlcihwYXJzZUZsb2F0KGNhcmRBbW91bnQpIHx8IDApO1xuICAgICAgY29uc3QgbmV3Q2FzaCA9IE1hdGgubWF4KDAsICsodG90YWxXaXRoQ2FzaGJhY2sgLSBwYWlkQ2FyZCkudG9GaXhlZCgyKSk7XG4gICAgICBzZXRDYXNoQW1vdW50KG5ld0Nhc2gpO1xuICAgIH1cbiAgfSwgW1xuICAgIGF1dG9GaWxsT3RoZXIsXG4gICAgbGFzdEVkaXRlZCxcbiAgICBjYXNoQW1vdW50LFxuICAgIGNhcmRBbW91bnQsXG4gICAgY2FydCxcbiAgICBjYXNoYmFja0Ftb3VudCxcbiAgICBjYXNoYmFja0ZlZSxcbiAgICBsb3R0b1dpbm5pbmdzLFxuICAgIGRpc2NvdW50QW1vdW50LFxuICAgIGlzQ3JlZGl0U2FsZSxcbiAgICBjYXJkVHlwZSxcbiAgICBjYXJkRmVlRW5hYmxlZCxcbiAgXSk7XG5cbiAgLy8gQmFyY29kZSBTY2FubmVyIEZ1bmN0aW9uYWxpdHlcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBBdXRvLWZvY3VzIHNlYXJjaCBpbnB1dCB3aGVuIGNvbXBvbmVudCBtb3VudHNcbiAgICBpZiAoc2VhcmNoSW5wdXRSZWYuY3VycmVudCkge1xuICAgICAgc2VhcmNoSW5wdXRSZWYuY3VycmVudC5mb2N1cygpO1xuICAgIH1cblxuICAgIGNvbnN0IGhhbmRsZUtleURvd24gPSAoZXZlbnQpID0+IHtcbiAgICAgIC8vIERvbid0IGludGVyZmVyZSB3aXRoIGJhcmNvZGUgc2Nhbm5lciB3aGVuIG1hbnVhbCBlbnRyeSBtb2RhbCBpcyBvcGVuXG4gICAgICBpZiAoc2hvd01hbnVhbEVudHJ5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gRG9uJ3QgaW50ZXJmZXJlIGlmIHVzZXIgaXMgdHlwaW5nIGluIGlucHV0IGZpZWxkcyBvciBmb3JtIGVsZW1lbnRzXG4gICAgICBjb25zdCBhY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICAgIGNvbnN0IGlzVHlwaW5nSW5JbnB1dCA9XG4gICAgICAgIGFjdGl2ZUVsZW1lbnQgJiZcbiAgICAgICAgKGFjdGl2ZUVsZW1lbnQudGFnTmFtZSA9PT0gXCJJTlBVVFwiIHx8XG4gICAgICAgICAgYWN0aXZlRWxlbWVudC50YWdOYW1lID09PSBcIlRFWFRBUkVBXCIgfHxcbiAgICAgICAgICBhY3RpdmVFbGVtZW50LnRhZ05hbWUgPT09IFwiU0VMRUNUXCIgfHxcbiAgICAgICAgICBhY3RpdmVFbGVtZW50LmNvbnRlbnRFZGl0YWJsZSA9PT0gXCJ0cnVlXCIpO1xuXG4gICAgICBpZiAoaXNUeXBpbmdJbklucHV0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgY29uc3QgdGltZURpZmYgPSBjdXJyZW50VGltZSAtIGxhc3RLZXlUaW1lO1xuXG4gICAgICAvLyBJZiB0aW1lIGJldHdlZW4ga2V5c3Ryb2tlcyBpcyBsZXNzIHRoYW4gNTBtcywgaXQncyBsaWtlbHkgYSBiYXJjb2RlIHNjYW5uZXJcbiAgICAgIC8vIEJhcmNvZGUgc2Nhbm5lcnMgdHlwZSB2ZXJ5IGZhc3QgKHR5cGljYWxseSAxMC0zMG1zIGJldHdlZW4gY2hhcmFjdGVycylcbiAgICAgIGNvbnN0IGlzU2Nhbm5lcklucHV0ID0gdGltZURpZmYgPCA1MCAmJiB0aW1lRGlmZiA+IDA7XG5cbiAgICAgIC8vIE9ubHkgZm9jdXMgc2VhcmNoIGlucHV0IGlmIHVzZXIgaXMgbm90IHR5cGluZyBpbiBhbnkgaW5wdXQgZmllbGQgYW5kIGl0J3Mgbm90IGFscmVhZHkgZm9jdXNlZFxuICAgICAgaWYgKFxuICAgICAgICBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSBzZWFyY2hJbnB1dFJlZi5jdXJyZW50ICYmXG4gICAgICAgICFpc1R5cGluZ0luSW5wdXQgJiZcbiAgICAgICAgIVtcbiAgICAgICAgICBcIlRhYlwiLFxuICAgICAgICAgIFwiRXNjYXBlXCIsXG4gICAgICAgICAgXCJGMVwiLFxuICAgICAgICAgIFwiRjJcIixcbiAgICAgICAgICBcIkYzXCIsXG4gICAgICAgICAgXCJGNFwiLFxuICAgICAgICAgIFwiRjVcIixcbiAgICAgICAgICBcIkY2XCIsXG4gICAgICAgICAgXCJGN1wiLFxuICAgICAgICAgIFwiRjhcIixcbiAgICAgICAgICBcIkY5XCIsXG4gICAgICAgICAgXCJGMTBcIixcbiAgICAgICAgICBcIkYxMVwiLFxuICAgICAgICAgIFwiRjEyXCIsXG4gICAgICAgIF0uaW5jbHVkZXMoZXZlbnQua2V5KVxuICAgICAgKSB7XG4gICAgICAgIHNlYXJjaElucHV0UmVmLmN1cnJlbnQ/LmZvY3VzKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIEhhbmRsZSBiYXJjb2RlIHNjYW5uaW5nIChvbmx5IGlmIG5vdCB0eXBpbmcgaW4gaW5wdXQgZmllbGRzKVxuICAgICAgaWYgKCFpc1R5cGluZ0luSW5wdXQpIHtcbiAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICAgICAgLy8gRW5kIG9mIGJhcmNvZGUgc2NhbiAtIHByb2Nlc3MgdGhlIGJ1ZmZlclxuICAgICAgICAgIGlmIChiYXJjb2RlQnVmZmVyLnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBoYW5kbGVCYXJjb2RlU2Nhbm5lZChiYXJjb2RlQnVmZmVyLnRyaW0oKSk7XG4gICAgICAgICAgICBzZXRCYXJjb2RlQnVmZmVyKFwiXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChpc1NjYW5uZXJJbnB1dCAmJiBldmVudC5rZXkubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgLy8gQWRkIGNoYXJhY3RlciB0byBiYXJjb2RlIGJ1ZmZlclxuICAgICAgICAgIHNldEJhcmNvZGVCdWZmZXIoKHByZXYpID0+IHByZXYgKyBldmVudC5rZXkpO1xuICAgICAgICB9IGVsc2UgaWYgKCFpc1NjYW5uZXJJbnB1dCkge1xuICAgICAgICAgIC8vIFJlc2V0IGJ1ZmZlciBpZiB0eXBpbmcgaXMgdG9vIHNsb3cgKG1hbnVhbCB0eXBpbmcpXG4gICAgICAgICAgc2V0QmFyY29kZUJ1ZmZlcihcIlwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzZXRMYXN0S2V5VGltZShjdXJyZW50VGltZSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUZvY3VzQW55d2hlcmUgPSAoZXZlbnQpID0+IHtcbiAgICAgIC8vIERvbid0IGludGVyZmVyZSB3aGVuIG1hbnVhbCBlbnRyeSBtb2RhbCBpcyBvcGVuXG4gICAgICBpZiAoc2hvd01hbnVhbEVudHJ5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gRG9uJ3QgcmVmb2N1cyBpZiBjbGlja2luZyBvbiBmb3JtIGVsZW1lbnRzIHRoYXQgbmVlZCBmb2N1c1xuICAgICAgY29uc3QgY2xpY2tlZEVsZW1lbnQgPSBldmVudC50YXJnZXQ7XG4gICAgICBjb25zdCBpc0Zvcm1FbGVtZW50ID1cbiAgICAgICAgY2xpY2tlZEVsZW1lbnQudGFnTmFtZSA9PT0gXCJTRUxFQ1RcIiB8fFxuICAgICAgICBjbGlja2VkRWxlbWVudC50YWdOYW1lID09PSBcIk9QVElPTlwiIHx8XG4gICAgICAgIGNsaWNrZWRFbGVtZW50LnRhZ05hbWUgPT09IFwiSU5QVVRcIiB8fFxuICAgICAgICBjbGlja2VkRWxlbWVudC50YWdOYW1lID09PSBcIkJVVFRPTlwiIHx8XG4gICAgICAgIGNsaWNrZWRFbGVtZW50LnRhZ05hbWUgPT09IFwiVEVYVEFSRUFcIjtcblxuICAgICAgLy8gRG9uJ3QgcmVmb2N1cyBpZiBjbGlja2luZyBvbiB0aGUgY2F0ZWdvcnkgZmlsdGVyIG9yIGl0cyBvcHRpb25zXG4gICAgICBjb25zdCBpc0NhdGVnb3J5RmlsdGVyID1cbiAgICAgICAgY2xpY2tlZEVsZW1lbnQuY2xvc2VzdChcInNlbGVjdFwiKSB8fCBjbGlja2VkRWxlbWVudC50YWdOYW1lID09PSBcIlNFTEVDVFwiO1xuXG4gICAgICBpZiAoaXNGb3JtRWxlbWVudCB8fCBpc0NhdGVnb3J5RmlsdGVyKSB7XG4gICAgICAgIHJldHVybjsgLy8gTGV0IHRoZSBmb3JtIGVsZW1lbnQgaGFuZGxlIGl0cyBvd24gZm9jdXNcbiAgICAgIH1cblxuICAgICAgLy8gRW5zdXJlIHNlYXJjaCBpbnB1dCBzdGF5cyBmb2N1c2VkIHdoZW4gY2xpY2tpbmcgZWxzZXdoZXJlIG9uIHRoZSBwYWdlXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHNlYXJjaElucHV0UmVmLmN1cnJlbnQgJiZcbiAgICAgICAgICBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSBzZWFyY2hJbnB1dFJlZi5jdXJyZW50ICYmXG4gICAgICAgICAgIWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuY2xvc2VzdChcInNlbGVjdFwiKVxuICAgICAgICApIHtcbiAgICAgICAgICBzZWFyY2hJbnB1dFJlZi5jdXJyZW50LmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIDEwMCk7XG4gICAgfTtcblxuICAgIC8vIEFkZCBldmVudCBsaXN0ZW5lcnNcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVLZXlEb3duKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlRm9jdXNBbnl3aGVyZSk7XG5cbiAgICAvLyBDbGVhbnVwIGZ1bmN0aW9uXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUtleURvd24pO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUZvY3VzQW55d2hlcmUpO1xuICAgIH07XG4gIH0sIFtiYXJjb2RlQnVmZmVyLCBsYXN0S2V5VGltZSwgc2hvd01hbnVhbEVudHJ5XSk7XG5cbiAgLy8gSGFuZGxlIGJhcmNvZGUgc2Nhbm5lZFxuICBjb25zdCBoYW5kbGVCYXJjb2RlU2Nhbm5lZCA9IChiYXJjb2RlKSA9PiB7XG4gICAgY29uc29sZS5sb2coXCJCYXJjb2RlIHNjYW5uZWQ6XCIsIGJhcmNvZGUpO1xuXG4gICAgLy8gVXNlIHRoZSBlbmhhbmNlZCBzZWFyY2ggZnVuY3Rpb25hbGl0eSB0byBmaW5kIHByb2R1Y3RzXG4gICAgLy8gVGhpcyB3aWxsIHNlYXJjaCBieSBiYXJjb2RlLCBwcm9kdWN0SWQsIGlkLCBuYW1lLCBhbmQgY2F0ZWdvcnlcbiAgICBjb25zdCBzZWFyY2hSZXN1bHRzID0gZ2V0RmlsdGVyZWRJbnZlbnRvcnkoYmFyY29kZSk7XG5cbiAgICBpZiAoc2VhcmNoUmVzdWx0cy5sZW5ndGggPT09IDEpIHtcbiAgICAgIC8vIEV4YWN0bHkgb25lIHByb2R1Y3QgZm91bmQgLSBhdXRvbWF0aWNhbGx5IGFkZCB0byBjYXJ0XG4gICAgICBjb25zdCBmb3VuZFByb2R1Y3QgPSBzZWFyY2hSZXN1bHRzWzBdO1xuICAgICAgYWRkVG9DYXJ0KGZvdW5kUHJvZHVjdCk7XG4gICAgICBjb25zb2xlLmxvZyhcIlByb2R1Y3QgYWRkZWQgdG8gY2FydCB2aWEgYmFyY29kZTpcIiwgZm91bmRQcm9kdWN0Lm5hbWUpO1xuICAgIH0gZWxzZSBpZiAoc2VhcmNoUmVzdWx0cy5sZW5ndGggPiAxKSB7XG4gICAgICAvLyBNdWx0aXBsZSBtYXRjaGVzIC0gc2hvdyBpbiBzZWFyY2ggcmVzdWx0cyBmb3IgdXNlciB0byBjaG9vc2VcbiAgICAgIHNldFNlYXJjaFRlcm0oYmFyY29kZSk7XG4gICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgYE11bHRpcGxlIHByb2R1Y3RzIGZvdW5kIGZvciBiYXJjb2RlICR7YmFyY29kZX06YCxcbiAgICAgICAgc2VhcmNoUmVzdWx0cy5tYXAoKHApID0+IHAubmFtZSlcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5vIHByb2R1Y3QgZm91bmQgLSBhdXRvbWF0aWNhbGx5IHByb21wdCBmb3IgbWFudWFsIGVudHJ5XG4gICAgICBzZXRTZWFyY2hUZXJtKGJhcmNvZGUpO1xuICAgICAgc2V0TWFudWFsSXRlbSgocHJldikgPT4gKHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgbmFtZTogYmFyY29kZSxcbiAgICAgIH0pKTtcbiAgICAgIHNldFNob3dNYW51YWxFbnRyeSh0cnVlKTtcbiAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICBcIlByb2R1Y3Qgbm90IGZvdW5kIGZvciBiYXJjb2RlOlwiLFxuICAgICAgICBiYXJjb2RlLFxuICAgICAgICBcIi0gb3BlbmluZyBtYW51YWwgZW50cnlcIlxuICAgICAgKTtcbiAgICB9XG4gIH07XG5cbiAgaWYgKHNob3dSZWNlaXB0ICYmIGxhc3RUcmFuc2FjdGlvbikge1xuICAgIHJldHVybiAoXG4gICAgICA8Q29udGFpbmVyPlxuICAgICAgICA8UmVjZWlwdFNlY3Rpb24+XG4gICAgICAgICAgPGgyPlRyYW5zYWN0aW9uIENvbXBsZXRlITwvaDI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWNlaXB0XCI+XG4gICAgICAgICAgICA8aDM+Q09OVkVOSUVOQ0UgU1RPUkU8L2gzPlxuICAgICAgICAgICAgPHA+U2NhcmJvcm91Z2gsIE9udGFyaW88L3A+XG4gICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgVHJhbnNhY3Rpb24gI3sobGFzdFRyYW5zYWN0aW9uLmlkIHx8IFwiTi9BXCIpLnRvU3RyaW5nKCkuc2xpY2UoLTgpfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPHA+e25ldyBEYXRlKGxhc3RUcmFuc2FjdGlvbi50aW1lc3RhbXApLnRvTG9jYWxlU3RyaW5nKCl9PC9wPlxuICAgICAgICAgICAgPGhyIC8+XG4gICAgICAgICAgICB7bGFzdFRyYW5zYWN0aW9uLml0ZW1zLm1hcCgoaXRlbSkgPT4gKFxuICAgICAgICAgICAgICA8ZGl2IGtleT17aXRlbS5pZH0gY2xhc3NOYW1lPVwicmVjZWlwdC1pdGVtXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgICB7aXRlbS5uYW1lfSB7IWl0ZW0udGF4YWJsZSAmJiBcIihObyBIU1QpXCJ9XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgICAge2l0ZW0ucXVhbnRpdHl9IHggJHtpdGVtLnByaWNlLnRvRml4ZWQoMil9ID0gJFxuICAgICAgICAgICAgICAgICAgeyhpdGVtLnF1YW50aXR5ICogaXRlbS5wcmljZSkudG9GaXhlZCgyKX1cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVjZWlwdC10b3RhbHNcIj5cbiAgICAgICAgICAgICAge2xhc3RUcmFuc2FjdGlvbi50YXhhYmxlQW1vdW50ID4gMCAmJlxuICAgICAgICAgICAgICAgIGxhc3RUcmFuc2FjdGlvbi5ub25UYXhhYmxlQW1vdW50ID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIFRheGFibGUgSXRlbXM6ICR7bGFzdFRyYW5zYWN0aW9uLnRheGFibGVBbW91bnQudG9GaXhlZCgyKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgTm9uLVRheGFibGUgSXRlbXM6ICRcbiAgICAgICAgICAgICAgICAgICAgICB7bGFzdFRyYW5zYWN0aW9uLm5vblRheGFibGVBbW91bnQudG9GaXhlZCgyKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICB7bGFzdFRyYW5zYWN0aW9uLmRpc2NvdW50ID4gMCA/IChcbiAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgSXRlbXMgU3VidG90YWw6ICRcbiAgICAgICAgICAgICAgICAgICAge2xhc3RUcmFuc2FjdGlvbi5vcmlnaW5hbFN1YnRvdGFsLnRvRml4ZWQoMil9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZm9udFdlaWdodDogXCI2MDBcIiwgY29sb3I6IFwiI2U2NTEwMFwiIH19PlxuICAgICAgICAgICAgICAgICAgICBEaXNjb3VudDogLSR7bGFzdFRyYW5zYWN0aW9uLmRpc2NvdW50LnRvRml4ZWQoMil9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXY+U3VidG90YWw6ICR7bGFzdFRyYW5zYWN0aW9uLnN1YnRvdGFsLnRvRml4ZWQoMil9PC9kaXY+XG4gICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPGRpdj5TdWJ0b3RhbDogJHtsYXN0VHJhbnNhY3Rpb24uc3VidG90YWwudG9GaXhlZCgyKX08L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAge2xhc3RUcmFuc2FjdGlvbi5pbmNsdWRlVGF4ICYmIGxhc3RUcmFuc2FjdGlvbi50YXggPiAwICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2PkhTVCAoMTMlKTogJHtsYXN0VHJhbnNhY3Rpb24udGF4LnRvRml4ZWQoMil9PC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG90YWxcIj5cbiAgICAgICAgICAgICAgICBUb3RhbDogJHtsYXN0VHJhbnNhY3Rpb24udG90YWwudG9GaXhlZCgyKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIHtsYXN0VHJhbnNhY3Rpb24uY2FzaGJhY2sgPiAwICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRXZWlnaHQ6IFwiNjAwXCIsIGNvbG9yOiBcIiNlNjdlMjJcIiB9fT5cbiAgICAgICAgICAgICAgICAgIENhc2hiYWNrOiAke2xhc3RUcmFuc2FjdGlvbi5jYXNoYmFjay50b0ZpeGVkKDIpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICB7bGFzdFRyYW5zYWN0aW9uLnBheW1lbnRCcmVha2Rvd24gJiZcbiAgICAgICAgICAgICAgICBsYXN0VHJhbnNhY3Rpb24ucGF5bWVudEJyZWFrZG93bi5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+UGF5bWVudHM8L3N0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIHtsYXN0VHJhbnNhY3Rpb24ucGF5bWVudEJyZWFrZG93bi5tYXAoKHAsIGlkeCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtgcGF5bWVudC0ke3AubWV0aG9kfS0ke2lkeH1gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtwLm1ldGhvZC50b1VwcGVyQ2FzZSgpfTogJHtwLmFtb3VudC50b0ZpeGVkKDIpfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAge2xhc3RUcmFuc2FjdGlvbi5jaGFuZ2UgPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2PkNoYW5nZTogJHtsYXN0VHJhbnNhY3Rpb24uY2hhbmdlLnRvRml4ZWQoMil9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgIDxwPlRoYW5rIHlvdSBmb3IgeW91ciBidXNpbmVzcyE8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiBcImZsZXhcIiwgZ2FwOiBcIjFyZW1cIiwgbWFyZ2luVG9wOiBcIjJyZW1cIiB9fT5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17cHJpbnRSZWNlaXB0fVxuICAgICAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6IFwiIzI3YWU2MFwiLCBjb2xvcjogXCJ3aGl0ZVwiIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIPCflqjvuI8gUHJpbnQgUmVjZWlwdFxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e3N0YXJ0TmV3U2FsZX0+TmV3IFNhbGU8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9SZWNlaXB0U2VjdGlvbj5cbiAgICAgIDwvQ29udGFpbmVyPlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxDb250YWluZXI+XG4gICAgICA8UE9TR3JpZD5cbiAgICAgICAgPFByb2R1Y3RzUGFuZWw+XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcInNwYWNlLWJldHdlZW5cIixcbiAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBcIjFyZW1cIixcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGgyPlByb2R1Y3RzPC9oMj5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjc1cmVtXCIsXG4gICAgICAgICAgICAgICAgY29sb3I6IFwiIzdmOGM4ZFwiLFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC4yNXJlbSAwLjVyZW1cIixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIiNmOGY5ZmFcIixcbiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtpbnZlbnRvcnkubGVuZ3RofSBpdGVtcyBsb2FkZWRcbiAgICAgICAgICAgICAge2ludmVudG9yeUxvYWRlZCAmJiAoXG4gICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbkxlZnQ6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBpbnZlbnRvcnlMb2FkaW5nID8gXCIjZjM5YzEyXCIgOiBcIiMyN2FlNjBcIixcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAg4oCiIHtpbnZlbnRvcnlMb2FkaW5nID8gXCJzeW5jaW5nLi4uXCIgOiBcInJlYWR5XCJ9XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiBcImZsZXhcIiwgZ2FwOiBcIjFyZW1cIiwgbWFyZ2luQm90dG9tOiBcIjFyZW1cIiB9fT5cbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgcG9zaXRpb246IFwicmVsYXRpdmVcIiwgZmxleDogMSwgZGlzcGxheTogXCJmbGV4XCIgfX0+XG4gICAgICAgICAgICAgIDxTZWFyY2hCYXJcbiAgICAgICAgICAgICAgICByZWY9e3NlYXJjaElucHV0UmVmfVxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlYXJjaCBwcm9kdWN0cy4uLiAoQmFyY29kZSBTY2FubmVyIFJlYWR5KVwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e3NlYXJjaFRlcm19XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTZWFyY2hUZXJtKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICBvbktleURvd249eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoZS5rZXkgPT09IFwiRW50ZXJcIikge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVTZWFyY2hFbnRlcigpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIHtiYXJjb2RlQnVmZmVyICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICAgICAgICAgICAgICB0b3A6IFwiLTI1cHhcIixcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IFwiMFwiLFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIiMyN2FlNjBcIixcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwid2hpdGVcIixcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIycHggOHB4XCIsXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC44cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiYm9sZFwiLFxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICDwn5O3IFNjYW5uaW5nLi4uXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlRGVidWdSZWZyZXNofVxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC41cmVtIDFyZW1cIixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIiNlNzRjM2NcIixcbiAgICAgICAgICAgICAgICBjb2xvcjogXCJ3aGl0ZVwiLFxuICAgICAgICAgICAgICAgIGJvcmRlcjogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC45cmVtXCIsXG4gICAgICAgICAgICAgICAgd2hpdGVTcGFjZTogXCJub3dyYXBcIixcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgdGl0bGU9XCJGb3JjZSByZWZyZXNoIGludmVudG9yeSBmcm9tIGRhdGFiYXNlIChEZWJ1ZylcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICDwn5SEIFJlZnJlc2hcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPENhdGVnb3J5RmlsdGVyXG4gICAgICAgICAgICAgIHZhbHVlPXtjYXRlZ29yeUZpbHRlcn1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0Q2F0ZWdvcnlGaWx0ZXIoZS50YXJnZXQudmFsdWUpO1xuICAgICAgICAgICAgICAgIC8vIEFmdGVyIHNlbGVjdGlvbiwgcmV0dXJuIGZvY3VzIHRvIHNlYXJjaCBiYXJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChzZWFyY2hJbnB1dFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHNlYXJjaElucHV0UmVmLmN1cnJlbnQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBvbkJsdXI9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gV2hlbiBkcm9wZG93biBsb3NlcyBmb2N1cyAoYWZ0ZXIgc2VsZWN0aW9uIG9yIGNsaWNraW5nIGF3YXkpLCByZXR1cm4gdG8gc2VhcmNoXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIHNlYXJjaElucHV0UmVmLmN1cnJlbnQgJiZcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gc2VhcmNoSW5wdXRSZWYuY3VycmVudFxuICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlYXJjaElucHV0UmVmLmN1cnJlbnQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCI+QWxsIENhdGVnb3JpZXM8L29wdGlvbj5cbiAgICAgICAgICAgICAge2NhdGVnb3JpZXMubWFwKChjYXRlZ29yeSkgPT4gKFxuICAgICAgICAgICAgICAgIDxvcHRpb24ga2V5PXtjYXRlZ29yeX0gdmFsdWU9e2NhdGVnb3J5fT5cbiAgICAgICAgICAgICAgICAgIHtjYXRlZ29yeX1cbiAgICAgICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L0NhdGVnb3J5RmlsdGVyPlxuXG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dNYW51YWxFbnRyeSh0cnVlKX1cbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBtYXJnaW5MZWZ0OiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC41cmVtIDFyZW1cIixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzM0OThkYlwiLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBcIndoaXRlXCIsXG4gICAgICAgICAgICAgICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcImJvbGRcIixcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgKyBNYW51YWwgSXRlbVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogQ2F0ZWdvcnkgQ2FyZHMgKi99XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgZGlzcGxheTogXCJncmlkXCIsXG4gICAgICAgICAgICAgIGdyaWRUZW1wbGF0ZUNvbHVtbnM6IFwicmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMTYwcHgsIDFmcikpXCIsXG4gICAgICAgICAgICAgIGdhcDogXCIwLjhyZW1cIixcbiAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBcIjEuNXJlbVwiLFxuICAgICAgICAgICAgICBtYXhIZWlnaHQ6IFwiMjAwcHhcIixcbiAgICAgICAgICAgICAgb3ZlcmZsb3dYOiBcImF1dG9cIixcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAge1tcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiTG90dG9cIixcbiAgICAgICAgICAgICAgICBrZXk6IFwiTG90dG9cIixcbiAgICAgICAgICAgICAgICBpY29uOiBcIvCfjrJcIixcbiAgICAgICAgICAgICAgICBjb2xvcjogXCIjZTc0YzNjXCIsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiVHlwZSBhbW91bnQgJiBjbGljayB0byBhZGRcIixcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiR3JvY2VyeVwiLFxuICAgICAgICAgICAgICAgIGtleTogXCJHcm9jZXJ5XCIsXG4gICAgICAgICAgICAgICAgaWNvbjogXCLwn5uSXCIsXG4gICAgICAgICAgICAgICAgY29sb3I6IFwiIzI3YWU2MFwiLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIlR5cGUgYW1vdW50ICYgY2xpY2sgdG8gYWRkXCIsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIldlc3Rlcm4gVW5pb25cIixcbiAgICAgICAgICAgICAgICBrZXk6IFwiV2VzdGVyblVuaW9uXCIsXG4gICAgICAgICAgICAgICAgaWNvbjogXCLwn5K4XCIsXG4gICAgICAgICAgICAgICAgY29sb3I6IFwiIzhlNDRhZFwiLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIlR5cGUgYW1vdW50ICYgY2xpY2sgdG8gYWRkXCIsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIlRlYVwiLFxuICAgICAgICAgICAgICAgIGtleTogXCJUZWFcIixcbiAgICAgICAgICAgICAgICBpY29uOiBcIvCfjbVcIixcbiAgICAgICAgICAgICAgICBjb2xvcjogXCIjZDM1NDAwXCIsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiVHlwZSBhbW91bnQgJiBjbGljayB0byBhZGRcIixcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiQmFrZXJ5XCIsXG4gICAgICAgICAgICAgICAga2V5OiBcIkJha2VyeVwiLFxuICAgICAgICAgICAgICAgIGljb246IFwi8J+NnlwiLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNmMzljMTJcIixcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJCcmVhZCAmIEJha2VkIEdvb2RzXCIsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIkRhaXJ5XCIsXG4gICAgICAgICAgICAgICAga2V5OiBcIkRhaXJ5XCIsXG4gICAgICAgICAgICAgICAgaWNvbjogXCLwn6WbXCIsXG4gICAgICAgICAgICAgICAgY29sb3I6IFwiIzE2YTA4NVwiLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIk1pbGsgJiBEYWlyeSBQcm9kdWN0c1wiLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJCZXZlcmFnZXNcIixcbiAgICAgICAgICAgICAgICBrZXk6IFwiQmV2ZXJhZ2VzXCIsXG4gICAgICAgICAgICAgICAgaWNvbjogXCLwn6WkXCIsXG4gICAgICAgICAgICAgICAgY29sb3I6IFwiIzM0OThkYlwiLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIkRyaW5rcyAmIFJlZnJlc2htZW50c1wiLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJUb2JhY2NvXCIsXG4gICAgICAgICAgICAgICAga2V5OiBcIlRvYmFjY29cIixcbiAgICAgICAgICAgICAgICBpY29uOiBcIvCfmqxcIixcbiAgICAgICAgICAgICAgICBjb2xvcjogXCIjOTVhNWE2XCIsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiQ2lnYXJldHRlcyAmIENpZ2Fyc1wiLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJTbmFja3NcIixcbiAgICAgICAgICAgICAgICBrZXk6IFwiU25hY2tzXCIsXG4gICAgICAgICAgICAgICAgaWNvbjogXCLwn42/XCIsXG4gICAgICAgICAgICAgICAgY29sb3I6IFwiI2U2N2UyMlwiLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIkNoaXBzICYgU25hY2tzXCIsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLm1hcCgoY2F0ZWdvcnkpID0+IChcbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGtleT17Y2F0ZWdvcnkua2V5fVxuICAgICAgICAgICAgICAgIGRhdGEtY2F0ZWdvcnk9e2NhdGVnb3J5LmtleX1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAvLyBTcGVjaWFsIGhhbmRsaW5nIGZvciBMb3R0bywgR3JvY2VyeSwgV2VzdGVybiBVbmlvbiwgYW5kIFRlYSBjYXRlZ29yaWVzXG4gICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIChjYXRlZ29yeS5rZXkgPT09IFwiTG90dG9cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5LmtleSA9PT0gXCJHcm9jZXJ5XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeS5rZXkgPT09IFwiV2VzdGVyblVuaW9uXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeS5rZXkgPT09IFwiVGVhXCIpICYmXG4gICAgICAgICAgICAgICAgICAgIHNlYXJjaFRlcm0udHJpbSgpXG4gICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VhcmNoVmFsdWUgPSBzZWFyY2hUZXJtLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbnVtZXJpY1ZhbHVlID0gcGFyc2VGbG9hdChzZWFyY2hWYWx1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgc2VhcmNoIHRlcm0gaXMgYSB2YWxpZCBudW1iZXJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc05hTihudW1lcmljVmFsdWUpICYmIG51bWVyaWNWYWx1ZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgaXRlbSB3aXRoIHRoZSBzcGVjaWZpZWQgYW1vdW50IGJhc2VkIG9uIGNhdGVnb3J5XG4gICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld0l0ZW07XG5cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoY2F0ZWdvcnkua2V5ID09PSBcIkxvdHRvXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0l0ZW0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBgbG90dG8tJHtEYXRlLm5vdygpfWAsIC8vIFVuaXF1ZSBJRCBmb3IgbWFudWFsIGxvdHRvIGl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogYExvdHRvICQke251bWVyaWNWYWx1ZS50b0ZpeGVkKDIpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBcIkxvdHRvXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlOiBudW1lcmljVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0b2NrOiA5OTksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxvd1N0b2NrVGhyZXNob2xkOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBseVRheDogdHJ1ZSwgLy8gTG90dG8gaXMgdHlwaWNhbGx5IHRheGFibGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaXNNYW51YWw6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2F0ZWdvcnkua2V5ID09PSBcIkdyb2NlcnlcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3SXRlbSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGBncm9jZXJ5LSR7RGF0ZS5ub3coKX1gLCAvLyBVbmlxdWUgSUQgZm9yIG1hbnVhbCBncm9jZXJ5IGl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogYEdyb2NlcnkgSXRlbSAkJHtudW1lcmljVmFsdWUudG9GaXhlZCgyKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogXCJHcm9jZXJ5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlOiBudW1lcmljVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0b2NrOiA5OTksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxvd1N0b2NrVGhyZXNob2xkOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBseVRheDogdHJ1ZSwgLy8gR3JvY2VyeSBpcyB0eXBpY2FsbHkgdGF4YWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICBpc01hbnVhbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjYXRlZ29yeS5rZXkgPT09IFwiV2VzdGVyblVuaW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0l0ZW0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBgd2VzdGVybi11bmlvbi0ke0RhdGUubm93KCl9YCwgLy8gVW5pcXVlIElEIGZvciBtYW51YWwgV2VzdGVybiBVbmlvbiBpdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGBXZXN0ZXJuIFVuaW9uICQke251bWVyaWNWYWx1ZS50b0ZpeGVkKDIpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBcIldlc3Rlcm4gVW5pb25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2U6IG51bWVyaWNWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvY2s6IDk5OSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbG93U3RvY2tUaHJlc2hvbGQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5VGF4OiB0cnVlLCAvLyBXZXN0ZXJuIFVuaW9uIGlzIHR5cGljYWxseSB0YXhhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlzTWFudWFsOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNhdGVnb3J5LmtleSA9PT0gXCJUZWFcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3SXRlbSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGB0ZWEtJHtEYXRlLm5vdygpfWAsIC8vIFVuaXF1ZSBJRCBmb3IgbWFudWFsIFRlYSBpdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGBUZWEgJCR7bnVtZXJpY1ZhbHVlLnRvRml4ZWQoMil9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IFwiVGVhXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlOiBudW1lcmljVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0b2NrOiA5OTksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxvd1N0b2NrVGhyZXNob2xkOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBseVRheDogdHJ1ZSwgLy8gVGVhIGlzIHR5cGljYWxseSB0YXhhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlzTWFudWFsOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdG8gY2FydFxuICAgICAgICAgICAgICAgICAgICAgIGFkZFRvQ2FydChuZXdJdGVtKTtcblxuICAgICAgICAgICAgICAgICAgICAgIC8vIENsZWFyIHNlYXJjaCB0ZXJtIGFmdGVyIGFkZGluZ1xuICAgICAgICAgICAgICAgICAgICAgIHNldFNlYXJjaFRlcm0oXCJcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAvLyBTaG93IHN1Y2Nlc3MgZmVlZGJhY2tcbiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgQWRkZWQgJHtuZXdJdGVtLm5hbWV9IHRvIGNhcnRgKTtcblxuICAgICAgICAgICAgICAgICAgICAgIC8vIEJyaWVmIHZpc3VhbCBmZWVkYmFjayBieSB0ZW1wb3JhcmlseSBoaWdobGlnaHRpbmcgdGhlIGNhcmRcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50Q2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICAgICAgICAgICAgICBgW2RhdGEtY2F0ZWdvcnk9XCIke2NhdGVnb3J5LmtleX1cIl1gXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudENhcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRDYXJkLnN0eWxlLnRyYW5zZm9ybSA9IFwic2NhbGUoMS4wNSlcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q2FyZC5zdHlsZS50cmFuc2Zvcm0gPSBcInNjYWxlKDEpXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAyMDApO1xuICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgIC8vIFJldHVybiBmb2N1cyB0byBzZWFyY2ggYmFyXG4gICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VhcmNoSW5wdXRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hJbnB1dFJlZi5jdXJyZW50LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSwgMTAwKTtcblxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gRG9uJ3Qgc2V0IGNhdGVnb3J5IGZpbHRlciwganVzdCBhZGQgdGhlIGl0ZW1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAvLyBEZWZhdWx0IGJlaGF2aW9yOiBzZXQgY2F0ZWdvcnkgZmlsdGVyXG4gICAgICAgICAgICAgICAgICBzZXRDYXRlZ29yeUZpbHRlcihjYXRlZ29yeS5rZXkpO1xuICAgICAgICAgICAgICAgICAgLy8gUmV0dXJuIGZvY3VzIHRvIHNlYXJjaCBiYXIgYWZ0ZXIgY2F0ZWdvcnkgc2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlYXJjaElucHV0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hJbnB1dFJlZi5jdXJyZW50LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogYGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICR7Y2F0ZWdvcnkuY29sb3J9LCAke2NhdGVnb3J5LmNvbG9yfWRkKWAsXG4gICAgICAgICAgICAgICAgICBjb2xvcjogXCJ3aGl0ZVwiLFxuICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjhyZW1cIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCIxMHB4XCIsXG4gICAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogXCJhbGwgMC4ycyBlYXNlXCIsXG4gICAgICAgICAgICAgICAgICBib3hTaGFkb3c6XG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5RmlsdGVyID09PSBjYXRlZ29yeS5rZXlcbiAgICAgICAgICAgICAgICAgICAgICA/IGAwIDhweCAyNXB4ICR7Y2F0ZWdvcnkuY29sb3J9NDBgXG4gICAgICAgICAgICAgICAgICAgICAgOiBcIjAgNHB4IDE1cHggcmdiYSgwLDAsMCwwLjEpXCIsXG4gICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06XG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5RmlsdGVyID09PSBjYXRlZ29yeS5rZXlcbiAgICAgICAgICAgICAgICAgICAgICA/IFwidHJhbnNsYXRlWSgtMnB4KVwiXG4gICAgICAgICAgICAgICAgICAgICAgOiBcInRyYW5zbGF0ZVkoMClcIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlcjpcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlGaWx0ZXIgPT09IGNhdGVnb3J5LmtleVxuICAgICAgICAgICAgICAgICAgICAgID8gYDNweCBzb2xpZCAke2NhdGVnb3J5LmNvbG9yfWBcbiAgICAgICAgICAgICAgICAgICAgICA6IFwiM3B4IHNvbGlkIHRyYW5zcGFyZW50XCIsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoY2F0ZWdvcnlGaWx0ZXIgIT09IGNhdGVnb3J5LmtleSkge1xuICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoLTFweClcIjtcbiAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUuYm94U2hhZG93ID0gYDAgNnB4IDIwcHggJHtjYXRlZ29yeS5jb2xvcn0zMGA7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoY2F0ZWdvcnlGaWx0ZXIgIT09IGNhdGVnb3J5LmtleSkge1xuICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMClcIjtcbiAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUuYm94U2hhZG93ID0gXCIwIDRweCAxNXB4IHJnYmEoMCwwLDAsMC4xKVwiO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRTaXplOiBcIjJyZW1cIiwgbWFyZ2luQm90dG9tOiBcIjAuNXJlbVwiIH19PlxuICAgICAgICAgICAgICAgICAge2NhdGVnb3J5Lmljb259XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIjYwMFwiLFxuICAgICAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiMC4yNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7Y2F0ZWdvcnkubmFtZX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRTaXplOiBcIjAuOHJlbVwiLCBvcGFjaXR5OiAwLjkgfX0+XG4gICAgICAgICAgICAgICAgICB7Y2F0ZWdvcnkuZGVzY3JpcHRpb259XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSl9XG5cbiAgICAgICAgICAgIHsvKiBDbGVhciBGaWx0ZXIgQ2FyZCAqL31cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldENhdGVnb3J5RmlsdGVyKFwiXCIpO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKHNlYXJjaElucHV0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoSW5wdXRSZWYuY3VycmVudC5mb2N1cygpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDpcbiAgICAgICAgICAgICAgICAgIGNhdGVnb3J5RmlsdGVyID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgID8gXCJsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjMmMzZTUwLCAjMzQ0OTVlKVwiXG4gICAgICAgICAgICAgICAgICAgIDogXCJsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjZWNmMGYxLCAjYmRjM2M3KVwiLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBjYXRlZ29yeUZpbHRlciA9PT0gXCJcIiA/IFwid2hpdGVcIiA6IFwiIzJjM2U1MFwiLFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC44cmVtXCIsXG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjEwcHhcIixcbiAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBcImFsbCAwLjJzIGVhc2VcIixcbiAgICAgICAgICAgICAgICBib3hTaGFkb3c6XG4gICAgICAgICAgICAgICAgICBjYXRlZ29yeUZpbHRlciA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICA/IFwiMCA4cHggMjVweCByZ2JhKDQ0LDYyLDgwLDAuMylcIlxuICAgICAgICAgICAgICAgICAgICA6IFwiMCA0cHggMTVweCByZ2JhKDAsMCwwLDAuMSlcIixcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06XG4gICAgICAgICAgICAgICAgICBjYXRlZ29yeUZpbHRlciA9PT0gXCJcIiA/IFwidHJhbnNsYXRlWSgtMnB4KVwiIDogXCJ0cmFuc2xhdGVZKDApXCIsXG4gICAgICAgICAgICAgICAgYm9yZGVyOlxuICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlGaWx0ZXIgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgPyBcIjNweCBzb2xpZCAjMmMzZTUwXCJcbiAgICAgICAgICAgICAgICAgICAgOiBcIjNweCBzb2xpZCB0cmFuc3BhcmVudFwiLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNhdGVnb3J5RmlsdGVyICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICBlLnRhcmdldC5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoLTFweClcIjtcbiAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnN0eWxlLmJveFNoYWRvdyA9IFwiMCA2cHggIDIwcHggcmdiYSg0NCw2Miw4MCwwLjIpXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNhdGVnb3J5RmlsdGVyICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICBlLnRhcmdldC5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMClcIjtcbiAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnN0eWxlLmJveFNoYWRvdyA9IFwiMCA0cHggMTVweCByZ2JhKDAsMCwwLDAuMSlcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZm9udFNpemU6IFwiMnJlbVwiLCBtYXJnaW5Cb3R0b206IFwiMC41cmVtXCIgfX0+8J+PqjwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjFyZW1cIixcbiAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiNjAwXCIsXG4gICAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiMC4yNXJlbVwiLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBBbGwgQ2F0ZWdvcmllc1xuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogXCIwLjhyZW1cIiwgb3BhY2l0eTogMC45IH19PlxuICAgICAgICAgICAgICAgIFZpZXcgQWxsIFByb2R1Y3RzXG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogTWFudWFsIEVudHJ5IE1vZGFsICovfVxuICAgICAgICAgIHtzaG93TWFudWFsRW50cnkgJiYgKFxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImZpeGVkXCIsXG4gICAgICAgICAgICAgICAgdG9wOiBcIjBcIixcbiAgICAgICAgICAgICAgICBsZWZ0OiBcIjBcIixcbiAgICAgICAgICAgICAgICByaWdodDogXCIwXCIsXG4gICAgICAgICAgICAgICAgYm90dG9tOiBcIjBcIixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwicmdiYSgwLCAwLCAwLCAwLjUpXCIsXG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICB6SW5kZXg6IDEwMDAsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIndoaXRlXCIsXG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjJyZW1cIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI4cHhcIixcbiAgICAgICAgICAgICAgICAgIG1pbldpZHRoOiBcIjQwMHB4XCIsXG4gICAgICAgICAgICAgICAgICBtYXhXaWR0aDogXCI1MDBweFwiLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgb25LZXlEb3duPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFNob3dNYW51YWxFbnRyeShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHNldE1hbnVhbEl0ZW0oe1xuICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgcHJpY2U6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBjYXRlZ29yaWVzWzBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJncm9jZXJ5LXRheGFibGVcIixcbiAgICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogMSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxoMyBzdHlsZT17eyBtYXJnaW5Cb3R0b206IFwiMXJlbVwiLCBjb2xvcjogXCIjMmMzZTUwXCIgfX0+XG4gICAgICAgICAgICAgICAgICBBZGQgTWFudWFsIEl0ZW1cbiAgICAgICAgICAgICAgICA8L2gzPlxuXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Cb3R0b206IFwiMXJlbVwiIH19PlxuICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJibG9ja1wiLFxuICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcImJvbGRcIixcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgSXRlbSBOYW1lOlxuICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXttYW51YWxJdGVtLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICBzZXRNYW51YWxJdGVtKChwcmV2KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRW50ZXIgaXRlbSBuYW1lIG9yIGRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICNkZGRcIixcbiAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGF1dG9Gb2N1c1xuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiBcIjFyZW1cIiB9fT5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiYmxvY2tcIixcbiAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCJib2xkXCIsXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIFByaWNlOlxuICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgICAgc3RlcD1cIjAuMDFcIlxuICAgICAgICAgICAgICAgICAgICBtaW49XCIwXCJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e21hbnVhbEl0ZW0ucHJpY2V9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICBzZXRNYW51YWxJdGVtKChwcmV2KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIjAuMDBcIlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgI2RkZFwiLFxuICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogXCIxcmVtXCIgfX0+XG4gICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImJsb2NrXCIsXG4gICAgICAgICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiYm9sZFwiLFxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBDYXRlZ29yeTpcbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXttYW51YWxJdGVtLmNhdGVnb3J5fVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgc2V0TWFudWFsSXRlbSgocHJldikgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICNkZGRcIixcbiAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHtjYXRlZ29yaWVzLmxlbmd0aCA+IDAgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgLy8gVXNlIGNhdGVnb3JpZXMgZnJvbSBSZWR1eC9kYXRhYmFzZVxuICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXMubWFwKChjYXRlZ29yeSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiBrZXk9e2NhdGVnb3J5fSB2YWx1ZT17Y2F0ZWdvcnl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2F0ZWdvcnl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIGhhcmRjb2RlZCBvcHRpb25zIGlmIG5vIGNhdGVnb3JpZXMgbG9hZGVkXG4gICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJncm9jZXJ5LXRheGFibGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvY2VyeSAoVGF4YWJsZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImdyb2Nlcnktbm9uLXRheGFibGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvY2VyeSAoTm9uLVRheGFibGUpXG4gICAgICAgICAgICAgICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJsb3R0b1wiPkxvdHRvIChUYXhhYmxlKTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogXCIxLjVyZW1cIiB9fT5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiYmxvY2tcIixcbiAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCJib2xkXCIsXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIFF1YW50aXR5OlxuICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgICAgbWluPVwiMVwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXttYW51YWxJdGVtLnF1YW50aXR5fVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgc2V0TWFudWFsSXRlbSgocHJldikgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogcGFyc2VJbnQoZS50YXJnZXQudmFsdWUpIHx8IDEsXG4gICAgICAgICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICNkZGRcIixcbiAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgIGdhcDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiZmxleC1lbmRcIixcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0U2hvd01hbnVhbEVudHJ5KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRNYW51YWxJdGVtKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmljZTogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGNhdGVnb3JpZXNbMF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiZ3JvY2VyeS10YXhhYmxlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogMSxcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbSAxcmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiM5NWE1YTZcIixcbiAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCJ3aGl0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIENhbmNlbFxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2FkZE1hbnVhbEl0ZW19XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjVyZW0gMXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMjdhZTYwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwid2hpdGVcIixcbiAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiYm9sZFwiLFxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBBZGQgdG8gQ2FydFxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvZHVjdHMtZ3JpZFwiPlxuICAgICAgICAgICAge2ZpbHRlcmVkSW52ZW50b3J5Lmxlbmd0aCA9PT0gMCAmJlxuICAgICAgICAgICAgICBpbnZlbnRvcnkubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgICBzZWFyY2hUZXJtICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjJyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIjZjM5YzEyXCIsXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxoMz5ObyBwcm9kdWN0cyBtYXRjaCB5b3VyIHNlYXJjaDwvaDM+XG4gICAgICAgICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgICAgICAgU2VhcmNoOiBcIntzZWFyY2hUZXJtfVwie1wiIFwifVxuICAgICAgICAgICAgICAgICAgICB7Y2F0ZWdvcnlGaWx0ZXIgJiYgYHwgQ2F0ZWdvcnk6IFwiJHtjYXRlZ29yeUZpbHRlcn1cImB9XG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiBcIjFyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNzVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2ZmZjNjZFwiLFxuICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgI2ZmZWFhN1wiLFxuICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIjODU2NDA0XCIsXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIPCfkqEgPHN0cm9uZz5QcmVzcyBFbnRlcjwvc3Ryb25nPiB0byBhZGQgXCJ7c2VhcmNoVGVybX1cIiBhcyBhXG4gICAgICAgICAgICAgICAgICAgIG1hbnVhbCBpdGVtIHdpdGggY3VzdG9tIHByaWNlXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHtpbnZlbnRvcnlMb2FkaW5nICYmIChcbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjJyZW1cIixcbiAgICAgICAgICAgICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiMzNDk4ZGJcIixcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGgzPkxvYWRpbmcgcHJvZHVjdHMuLi48L2gzPlxuICAgICAgICAgICAgICAgIDxwPlBsZWFzZSB3YWl0IHdoaWxlIHdlIGxvYWQgdGhlIGludmVudG9yeSBmcm9tIGRhdGFiYXNlPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7aW52ZW50b3J5Lmxlbmd0aCA9PT0gMCAmJiAhaW52ZW50b3J5TG9hZGluZyAmJiAoXG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIycmVtXCIsXG4gICAgICAgICAgICAgICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICBjb2xvcjogXCIjZTc0YzNjXCIsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxoMz5ObyBwcm9kdWN0cyBhdmFpbGFibGU8L2gzPlxuICAgICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgICAgTm8gaW52ZW50b3J5IGl0ZW1zIGZvdW5kLiBQbGVhc2UgY2hlY2sgeW91ciBjb25uZWN0aW9uIG9yXG4gICAgICAgICAgICAgICAgICBjb250YWN0IHN1cHBvcnQuXG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7ZmlsdGVyZWRJbnZlbnRvcnkubWFwKChwcm9kdWN0KSA9PiAoXG4gICAgICAgICAgICAgIDxQcm9kdWN0SXRlbVxuICAgICAgICAgICAgICAgIGtleT17cHJvZHVjdC5pZH1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBhZGRUb0NhcnQocHJvZHVjdCl9XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IHByb2R1Y3Quc3RvY2sgPD0gMCA/IDAuNyA6IDEsXG4gICAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8aDQ+e3Byb2R1Y3QubmFtZX08L2g0PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJpY2Utcm93XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInByaWNlXCI+JHtwcm9kdWN0LnByaWNlLnRvRml4ZWQoMil9PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRTaXplOiBcIjAuOHJlbVwiLCBjb2xvcjogXCIjN2Y4YzhkXCIgfX0+XG4gICAgICAgICAgICAgICAgICAgIHtwcm9kdWN0LnRheGFibGUgPyBcIkhTVFwiIDogXCJObyBIU1RcIn1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInN0b2NrXCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOlxuICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3Quc3RvY2sgPCAwXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFwiI2U3NGMzY1wiXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHByb2R1Y3Quc3RvY2sgPT09IDBcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXCIjZjM5YzEyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcHJvZHVjdC5zdG9jayA8PSBwcm9kdWN0Lmxvd1N0b2NrVGhyZXNob2xkXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFwiI2YzOWMxMlwiXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFwiIzI3YWU2MFwiLFxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBTdG9jazoge3Byb2R1Y3Quc3RvY2t9e1wiIFwifVxuICAgICAgICAgICAgICAgICAge3Byb2R1Y3Quc3RvY2sgPCAwXG4gICAgICAgICAgICAgICAgICAgID8gXCIoTmVnYXRpdmUgU3RvY2spXCJcbiAgICAgICAgICAgICAgICAgICAgOiBwcm9kdWN0LnN0b2NrID09PSAwXG4gICAgICAgICAgICAgICAgICAgID8gXCIoT3V0IG9mIFN0b2NrKVwiXG4gICAgICAgICAgICAgICAgICAgIDogcHJvZHVjdC5zdG9jayA8PSBwcm9kdWN0Lmxvd1N0b2NrVGhyZXNob2xkXG4gICAgICAgICAgICAgICAgICAgID8gXCIoTG93IFN0b2NrKVwiXG4gICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9Qcm9kdWN0SXRlbT5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L1Byb2R1Y3RzUGFuZWw+XG5cbiAgICAgICAgPENoZWNrb3V0UGFuZWw+XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcInNwYWNlLWJldHdlZW5cIixcbiAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8aDIgc3R5bGU9e3sgbWFyZ2luOiAwIH19PkN1cnJlbnQgU2FsZTwvaDI+XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6IFwiZmxleFwiLCBnYXA6IFwiMC41cmVtXCIgfX0+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRJc0NyZWRpdFNhbGUoIWlzQ3JlZGl0U2FsZSk7XG4gICAgICAgICAgICAgICAgICBpZiAoaXNDcmVkaXRTYWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldENyZWRpdEN1c3RvbWVyTmFtZShcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0Q3JlZGl0QW1vdW50KDApO1xuICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZEN1c3RvbWVyKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICBzZXRDdXN0b21lckJhbGFuY2UoMCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogaXNDcmVkaXRTYWxlID8gXCIjMjhhNzQ1XCIgOiBcIiM2Yzc1N2RcIixcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIndoaXRlXCIsXG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbSAwLjc1cmVtXCIsXG4gICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjhyZW1cIixcbiAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiNjAwXCIsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIPCfkrMgQ3JlZGl0XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogQ3JlZGl0IFNhbGUgU3RhdHVzIEluZGljYXRvciAqL31cbiAgICAgICAgICB7aXNDcmVkaXRTYWxlICYmIChcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZmZmM2NkXCIsXG4gICAgICAgICAgICAgICAgYm9yZGVyOiBcIjJweCBzb2xpZCAjZmZjMTA3XCIsXG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjhweFwiLFxuICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogXCIwLjc1cmVtXCIsXG4gICAgICAgICAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiNjAwXCIsXG4gICAgICAgICAgICAgICAgICBjb2xvcjogXCIjODU2NDA0XCIsXG4gICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjlyZW1cIixcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAg8J+SsyBDUkVESVQgU0FMRSBNT0RFIEFDVElWRVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAge2NyZWRpdEN1c3RvbWVyTmFtZSAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC44cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiM4NTY0MDRcIixcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiBcIjAuMjVyZW1cIixcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgQ3VzdG9tZXI6IDxzdHJvbmc+e2NyZWRpdEN1c3RvbWVyTmFtZX08L3N0cm9uZz5cbiAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZEN1c3RvbWVyICYmIChcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgbWFyZ2luTGVmdDogXCIwLjVyZW1cIiB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAoQmFsYW5jZTogJHtNYXRoLmFicyhjdXN0b21lckJhbGFuY2UpLnRvRml4ZWQoMil9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgIHtjdXN0b21lckJhbGFuY2UgPiAwID8gXCJvd2VkXCIgOiBcImNyZWRpdFwifSlcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJ0LWl0ZW1zXCI+XG4gICAgICAgICAgICB7Y2FydC5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgICAgIDxwXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiM3ZjhjOGRcIixcbiAgICAgICAgICAgICAgICAgIG1hcmdpblRvcDogXCIycmVtXCIsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIE5vIGl0ZW1zIGluIGNhcnQg4oCUIGFkZCBwcm9kdWN0cyBmcm9tIHRoZSBsZWZ0IHBhbmVsXG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIGNhcnQubWFwKChpdGVtKSA9PiAoXG4gICAgICAgICAgICAgICAgPENhcnRJdGVtIGtleT17aXRlbS5pZH0+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIml0ZW0tZGV0YWlsc1wiPlxuICAgICAgICAgICAgICAgICAgICA8aDQ+e2l0ZW0ubmFtZX08L2g0PlxuICAgICAgICAgICAgICAgICAgICA8cD4ke2l0ZW0ucHJpY2UudG9GaXhlZCgyKX0gZWFjaDwvcD5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRvZ2dsZUl0ZW1UYXgoaXRlbS5pZCl9XG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuNzVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC4yNXJlbSAwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCIxMnB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5hcHBseVRheCA9PT0gdHJ1ZSA/IFwiIzI3YWU2MFwiIDogXCIjOTVhNWE2XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCJ3aGl0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblRvcDogXCIwLjI1cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIHtpdGVtLmFwcGx5VGF4ID09PSB0cnVlID8gXCJIU1QgT05cIiA6IFwiSFNUIE9GRlwifVxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJxdWFudGl0eS1jb250cm9sc1wiPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlRGVjcmVhc2VRdWFudGl0eShpdGVtLmlkKX1cbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXRlbS5xdWFudGl0eSA8PSAxfVxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiBpdGVtLnF1YW50aXR5IDw9IDEgPyAwLjUgOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBpdGVtLnF1YW50aXR5IDw9IDEgPyBcIm5vdC1hbGxvd2VkXCIgOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgLVxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+e2l0ZW0ucXVhbnRpdHl9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNhcnRRdWFudGl0eShpdGVtLmlkLCBpdGVtLnF1YW50aXR5ICsgMSlcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICArXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIml0ZW0tdG90YWxcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj4keyhpdGVtLnByaWNlICogaXRlbS5xdWFudGl0eSkudG9GaXhlZCgyKX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAge2l0ZW0uYXBwbHlUYXggPT09IHRydWUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZm9udFNpemU6IFwiMC43NXJlbVwiLCBjb2xvcjogXCIjN2Y4YzhkXCIgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICArJHsoaXRlbS5wcmljZSAqIGl0ZW0ucXVhbnRpdHkgKiAwLjEzKS50b0ZpeGVkKDIpfSBIU1RcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyZW1vdmUtYnRuXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gcmVtb3ZlRnJvbUNhcnQoaXRlbS5pZCl9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIMOXXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L0NhcnRJdGVtPlxuICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiBDYXNoYmFjayBPcHRpb24gKi99XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgbWFyZ2luOiBcIjAuNXJlbSAwXCIsXG4gICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZjhmOWZhXCIsXG4gICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgI2U5ZWNlZlwiLFxuICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNnB4XCIsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgZ2FwOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCI1MDBcIixcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICBjaGVja2VkPXtjYXNoYmFja0VuYWJsZWR9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRDYXNoYmFja0VuYWJsZWQoZS50YXJnZXQuY2hlY2tlZCk7XG4gICAgICAgICAgICAgICAgICBpZiAoIWUudGFyZ2V0LmNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0Q2FzaGJhY2tBbW91bnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgIHNldENhc2hiYWNrRmVlKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgdHJhbnNmb3JtOiBcInNjYWxlKDEuMilcIiB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8c3Bhbj5BZGQgQ2FzaGJhY2s8L3NwYW4+XG4gICAgICAgICAgICA8L2xhYmVsPlxuXG4gICAgICAgICAgICB7Y2FzaGJhY2tFbmFibGVkICYmIChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICBnYXA6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBzdHlsZT17eyBtaW5XaWR0aDogXCI3MHB4XCIsIGZvbnRTaXplOiBcIjAuOXJlbVwiIH19PlxuICAgICAgICAgICAgICAgICAgICBBbW91bnQ6XG4gICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgICAgICAgICAgICBzdGVwPVwiMC4wMVwiXG4gICAgICAgICAgICAgICAgICAgIG1pbj1cIjBcIlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Y2FzaGJhY2tBbW91bnR9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0Q2FzaGJhY2tBbW91bnQodmFsdWUgPT09IFwiXCIgPyBcIlwiIDogTnVtYmVyKHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjRyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICNkZGRcIixcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCIwLjAwXCJcbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICBnYXA6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgIG1pbldpZHRoOiBcIjcwcHhcIixcbiAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjlyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIjZTY3ZTIyXCIsXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIEZlZTpcbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjAxXCJcbiAgICAgICAgICAgICAgICAgICAgbWluPVwiMFwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtjYXNoYmFja0ZlZX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRDYXNoYmFja0ZlZSh2YWx1ZSA9PT0gXCJcIiA/IFwiXCIgOiBOdW1iZXIodmFsdWUpKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNHJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGZsZXg6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgI2U2N2UyMlwiLFxuICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZmVmNWU3XCIsXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiMC4wMFwiXG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgeyhOdW1iZXIoY2FzaGJhY2tGZWUpIHx8IDApID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuOHJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNlNjdlMjJcIixcbiAgICAgICAgICAgICAgICAgICAgICBmb250U3R5bGU6IFwiaXRhbGljXCIsXG4gICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmZWY1ZTdcIixcbiAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuMjVyZW0gMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgI2Y0ZDAzZlwiLFxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICDwn5KwIENhc2hiYWNrIGZlZTogJHsoTnVtYmVyKGNhc2hiYWNrRmVlKSB8fCAwKS50b0ZpeGVkKDIpfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgYWRkZWQgdG8gdG90YWxcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiBEaXNjb3VudCAqL31cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBtYXJnaW46IFwiMC41cmVtIDBcIixcbiAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmZmYzZTBcIixcbiAgICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjZmZjYzgwXCIsXG4gICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI2cHhcIixcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgZ2FwOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiNTAwXCIsXG4gICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3Bhbj7wn5KwIERpc2NvdW50PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBnYXA6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxsYWJlbCBzdHlsZT17eyBtaW5XaWR0aDogXCI3MHB4XCIsIGZvbnRTaXplOiBcIjAuOXJlbVwiIH19PlxuICAgICAgICAgICAgICAgIEFtb3VudDpcbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICAgICAgc3RlcD1cIjAuMDFcIlxuICAgICAgICAgICAgICAgIG1pbj1cIjBcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXtkaXNjb3VudEFtb3VudH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICBzZXREaXNjb3VudEFtb3VudCh2YWx1ZSA9PT0gXCJcIiA/IFwiXCIgOiBOdW1iZXIodmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNHJlbVwiLFxuICAgICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgI2RkZFwiLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCIwLjAwXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgeyhOdW1iZXIoZGlzY291bnRBbW91bnQpIHx8IDApID4gMCAmJiAoXG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC44cmVtXCIsXG4gICAgICAgICAgICAgICAgICBjb2xvcjogXCIjZTY1MTAwXCIsXG4gICAgICAgICAgICAgICAgICBmb250U3R5bGU6IFwiaXRhbGljXCIsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIPCfkrggQ3VzdG9tZXIgc2F2ZXMgJHsoTnVtYmVyKGRpc2NvdW50QW1vdW50KSB8fCAwKS50b0ZpeGVkKDIpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogRW5oYW5jZWQgQ2FyZCBGZWUgU2VjdGlvbiAqL31cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBtYXJnaW46IFwiMC41cmVtIDBcIixcbiAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmOGY0ZmZcIixcbiAgICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjZDRjNWY5XCIsXG4gICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI2cHhcIixcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgZ2FwOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIjUwMFwiLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3Bhbj7wn5KzIENhcmQgRmVlczwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogQ2FyZCBGZWUgRW5hYmxlL0Rpc2FibGUgKi99XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBnYXA6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBjYXJkRmVlRW5hYmxlZCA/IFwiMC41cmVtXCIgOiBcIjBcIixcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgIGdhcDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjlyZW1cIixcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y2FyZEZlZUVuYWJsZWR9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNFbmFibGVkID0gZS50YXJnZXQuY2hlY2tlZDtcbiAgICAgICAgICAgICAgICAgICAgc2V0Q2FyZEZlZUVuYWJsZWQoaXNFbmFibGVkKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gZGlzYWJsaW5nLCByZW1vdmUgYW55IGNhcmQgZmVlIGZyb20gdG90YWxzXG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudENhcmRBbW91bnQgPSBOdW1iZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KGNhcmRBbW91bnQpIHx8IDBcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRDYXNoQW1vdW50ID0gTnVtYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChjYXNoQW1vdW50KSB8fCAwXG4gICAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRUeXBlID09PSBcImNyZWRpdFwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q2FyZEFtb3VudCA+PSBDQVJEX0ZFRV9BTU9VTlRcbiAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0NhcmRBbW91bnQgPSBNYXRoLm1heChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENhcmRBbW91bnQgLSBDQVJEX0ZFRV9BTU9VTlRcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRDYXJkQW1vdW50KFN0cmluZyhuZXdDYXJkQW1vdW50LnRvRml4ZWQoMikpKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBtYXJnaW5SaWdodDogXCIwLjI1cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogXCJzY2FsZSgxLjEpXCIsXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgQXBwbHkgY2FyZCBmZWVzICgrJHtDQVJEX0ZFRV9BTU9VTlQudG9GaXhlZCgyKX0pXG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgey8qIENhcmQgVHlwZSBTZWxlY3Rpb24gKG9ubHkgdmlzaWJsZSB3aGVuIGNhcmQgZmVlcyBhcmUgZW5hYmxlZCkgKi99XG4gICAgICAgICAgICB7Y2FyZEZlZUVuYWJsZWQgJiYgKFxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgZ2FwOiBcIjFyZW1cIixcbiAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICBwYWRkaW5nTGVmdDogXCIxLjVyZW1cIixcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgZ2FwOiBcIjAuMjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC44NXJlbVwiLFxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInJhZGlvXCJcbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cImNhcmRUeXBlXCJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCJkZWJpdFwiXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2NhcmRUeXBlID09PSBcImRlYml0XCJ9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldENhcmRUeXBlKGUudGFyZ2V0LnZhbHVlKTtcblxuICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBjYXJkIGZlZSB3aGVuIHN3aXRjaGluZyB0byBkZWJpdFxuICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC52YWx1ZSA9PT0gXCJkZWJpdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50Q2FyZEFtb3VudCA9IE51bWJlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChjYXJkQW1vdW50KSB8fCAwXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRDYXJkQW1vdW50ID49IENBUkRfRkVFX0FNT1VOVCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdDYXJkQW1vdW50ID0gTWF0aC5tYXgoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q2FyZEFtb3VudCAtIENBUkRfRkVFX0FNT1VOVFxuICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDYXJkQW1vdW50KFN0cmluZyhuZXdDYXJkQW1vdW50LnRvRml4ZWQoMikpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAg8J+SsyBEZWJpdCAoTm8gZmVlKVxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG5cbiAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICBnYXA6IFwiMC4yNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjg1cmVtXCIsXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwicmFkaW9cIlxuICAgICAgICAgICAgICAgICAgICBuYW1lPVwiY2FyZFR5cGVcIlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT1cImNyZWRpdFwiXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2NhcmRUeXBlID09PSBcImNyZWRpdFwifVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRDYXJkVHlwZShlLnRhcmdldC52YWx1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgY2FyZCBmZWUgd2hlbiBzd2l0Y2hpbmcgdG8gY3JlZGl0XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcImNyZWRpdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50Q2FyZEFtb3VudCA9IE51bWJlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChjYXJkQW1vdW50KSB8fCAwXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudENhc2hBbW91bnQgPSBOdW1iZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQoY2FzaEFtb3VudCkgfHwgMFxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsQW1vdW50ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENhcmRBbW91bnQgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q2FzaEFtb3VudCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgIENBUkRfRkVFX0FNT1VOVDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldENhcmRBbW91bnQoU3RyaW5nKHRvdGFsQW1vdW50LnRvRml4ZWQoMikpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldENhc2hBbW91bnQoXCIwXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0TGFzdEVkaXRlZChcImNhcmRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIPCfkrMgQ3JlZGl0ICgrJHtDQVJEX0ZFRV9BTU9VTlQudG9GaXhlZCgyKX0gZmVlKVxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgey8qIEZlZSBTdGF0dXMgRGlzcGxheSAqL31cbiAgICAgICAgICAgIHtjYXJkRmVlRW5hYmxlZCAmJiAoXG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjI1cmVtIDAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOlxuICAgICAgICAgICAgICAgICAgICBjYXJkVHlwZSA9PT0gXCJjcmVkaXRcIiA/IFwiI2ZmZjNjZFwiIDogXCIjZDRlZGRhXCIsXG4gICAgICAgICAgICAgICAgICBib3JkZXI6IGAxcHggc29saWQgJHtcbiAgICAgICAgICAgICAgICAgICAgY2FyZFR5cGUgPT09IFwiY3JlZGl0XCIgPyBcIiNmZmVhYTdcIiA6IFwiI2MzZTZjYlwiXG4gICAgICAgICAgICAgICAgICB9YCxcbiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuOHJlbVwiLFxuICAgICAgICAgICAgICAgICAgY29sb3I6IGNhcmRUeXBlID09PSBcImNyZWRpdFwiID8gXCIjODU2NDA0XCIgOiBcIiMxNTU3MjRcIixcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2NhcmRUeXBlID09PSBcImNyZWRpdFwiXG4gICAgICAgICAgICAgICAgICA/IGDwn5KwIENyZWRpdCBjYXJkIGZlZTogJCR7Q0FSRF9GRUVfQU1PVU5ULnRvRml4ZWQoXG4gICAgICAgICAgICAgICAgICAgICAgMlxuICAgICAgICAgICAgICAgICAgICApfSBhZGRlZCB0byB0b3RhbGBcbiAgICAgICAgICAgICAgICAgIDogXCLinIUgRGViaXQgY2FyZDogTm8gYWRkaXRpb25hbCBmZWVzXCJ9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIExvdHRvIFdpbm5pbmdzICovfVxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgIG1hcmdpbjogXCIwLjVyZW0gMFwiLFxuICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2U4ZjVlOFwiLFxuICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICNjM2U2YzNcIixcbiAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjZweFwiLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBnYXA6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCI1MDBcIixcbiAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuPvCfjrAgTG90dG8gV2lubmluZ3M8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgZ2FwOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8bGFiZWwgc3R5bGU9e3sgbWluV2lkdGg6IFwiNzBweFwiLCBmb250U2l6ZTogXCIwLjlyZW1cIiB9fT5cbiAgICAgICAgICAgICAgICBBbW91bnQ6XG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjAxXCJcbiAgICAgICAgICAgICAgICBtaW49XCIwXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17bG90dG9XaW5uaW5nc31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICBzZXRMb3R0b1dpbm5pbmdzKHZhbHVlID09PSBcIlwiID8gXCJcIiA6IE51bWJlcih2YWx1ZSkpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC40cmVtXCIsXG4gICAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjZGRkXCIsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIjAuMDBcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIHsoTnVtYmVyKGxvdHRvV2lubmluZ3MpIHx8IDApID4gMCAmJiAoXG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC44cmVtXCIsXG4gICAgICAgICAgICAgICAgICBjb2xvcjogXCIjMjhhNzQ1XCIsXG4gICAgICAgICAgICAgICAgICBmb250U3R5bGU6IFwiaXRhbGljXCIsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIPCfkrAgQ3VzdG9tZXIgd29uICR7KE51bWJlcihsb3R0b1dpbm5pbmdzKSB8fCAwKS50b0ZpeGVkKDIpfSBpblxuICAgICAgICAgICAgICAgIGxvdHRlcnlcbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGVja291dC1zdW1tYXJ5XCI+XG4gICAgICAgICAgICB7KCgpID0+IHtcbiAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxTdWJ0b3RhbCA9IGNhbGN1bGF0ZVN1YnRvdGFsKCk7IC8vIEl0ZW1zIHRvdGFsIGJlZm9yZSBkaXNjb3VudFxuICAgICAgICAgICAgICBjb25zdCBkaXNjb3VudCA9IE51bWJlcihwYXJzZUZsb2F0KGRpc2NvdW50QW1vdW50KSB8fCAwKTtcbiAgICAgICAgICAgICAgY29uc3Qgc3VidG90YWwgPSBjYWxjdWxhdGVUb3RhbCgpOyAvLyBBZnRlciBkaXNjb3VudFxuICAgICAgICAgICAgICBjb25zdCB0YXggPSBjYWxjdWxhdGVUYXgoKTtcbiAgICAgICAgICAgICAgY29uc3QgdG90YWwgPSArKHN1YnRvdGFsICsgdGF4KS50b0ZpeGVkKDIpO1xuICAgICAgICAgICAgICBjb25zdCBjYXNoYmFjayA9IE51bWJlcihwYXJzZUZsb2F0KGNhc2hiYWNrQW1vdW50KSB8fCAwKTtcbiAgICAgICAgICAgICAgY29uc3QgbG90dG8gPSBOdW1iZXIocGFyc2VGbG9hdChsb3R0b1dpbm5pbmdzKSB8fCAwKTtcbiAgICAgICAgICAgICAgY29uc3QgcGFpZENhc2ggPSBOdW1iZXIocGFyc2VGbG9hdChjYXNoQW1vdW50KSB8fCAwKTtcbiAgICAgICAgICAgICAgY29uc3QgcGFpZENhcmQgPSBOdW1iZXIocGFyc2VGbG9hdChjYXJkQW1vdW50KSB8fCAwKTtcbiAgICAgICAgICAgICAgY29uc3QgcGFpZFRvdGFsID0gKyhwYWlkQ2FzaCArIHBhaWRDYXJkKS50b0ZpeGVkKDIpO1xuXG4gICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBmaW5hbCB0b3RhbCB3aXRoIGNhc2hiYWNrIGFuZCBsb3R0byB3aW5uaW5nc1xuICAgICAgICAgICAgICBjb25zdCBmaW5hbFRvdGFsID0gdG90YWwgKyBjYXNoYmFjayAtIGxvdHRvO1xuXG4gICAgICAgICAgICAgIC8vIEZvciBjYXNoYmFjayB0cmFuc2FjdGlvbnMsIHJlcXVpcmUgY2FyZCBwYXltZW50IHRvIGNvdmVyIHRvdGFsICsgY2FzaGJhY2tcbiAgICAgICAgICAgICAgbGV0IGlzU3VmZmljaWVudDtcbiAgICAgICAgICAgICAgaWYgKGNhc2hiYWNrID4gMCAmJiBsb3R0byA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsTmVlZGVkID0gdG90YWwgKyBjYXNoYmFjaztcbiAgICAgICAgICAgICAgICBpc1N1ZmZpY2llbnQgPSBwYWlkQ2FyZCArIDAuMDAwMSA+PSB0b3RhbE5lZWRlZDtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChsb3R0byA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyBXaXRoIGxvdHRvIHdpbm5pbmdzLCBjdXN0b21lciBtYXkgb3dlIGxlc3Mgb3IgZXZlbiBnZXQgbW9uZXkgYmFja1xuICAgICAgICAgICAgICAgIGlzU3VmZmljaWVudCA9XG4gICAgICAgICAgICAgICAgICBmaW5hbFRvdGFsIDw9IDAgfHwgcGFpZFRvdGFsICsgMC4wMDAxID49IGZpbmFsVG90YWw7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaXNTdWZmaWNpZW50ID0gcGFpZFRvdGFsICsgMC4wMDAxID49IHRvdGFsO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgY29uc3QgY2hhbmdlID1cbiAgICAgICAgICAgICAgICBjYXNoYmFjayA+IDAgJiYgbG90dG8gPT09IDBcbiAgICAgICAgICAgICAgICAgID8gMFxuICAgICAgICAgICAgICAgICAgOiBNYXRoLm1heCgwLCArKHBhaWRUb3RhbCAtIGZpbmFsVG90YWwpLnRvRml4ZWQoMikpO1xuXG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgIDxUb3RhbD5cbiAgICAgICAgICAgICAgICAgICAge2dldFRheGFibGVUb3RhbCgpID4gMCAmJiBnZXROb25UYXhhYmxlVG90YWwoKSA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlRheGFibGU6ICR7Z2V0VGF4YWJsZVRvdGFsKCkudG9GaXhlZCgyKX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIE5vbi1UYXhhYmxlOiAke2dldE5vblRheGFibGVUb3RhbCgpLnRvRml4ZWQoMil9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAge2Rpc2NvdW50ID4gMCA/IChcbiAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgSXRlbXMgU3VidG90YWw6ICR7b3JpZ2luYWxTdWJ0b3RhbC50b0ZpeGVkKDIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBcIiNlNjUxMDBcIiwgZm9udFdlaWdodDogXCI1MDBcIiB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgRGlzY291bnQ6IC0ke2Rpc2NvdW50LnRvRml4ZWQoMil9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+U3VidG90YWw6ICR7c3VidG90YWwudG9GaXhlZCgyKX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlN1YnRvdGFsOiAke3N1YnRvdGFsLnRvRml4ZWQoMil9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIHt0YXggPiAwICYmIDxkaXY+SFNUICgxMyUpOiAke3RheC50b0ZpeGVkKDIpfTwvZGl2Pn1cbiAgICAgICAgICAgICAgICAgICAgPGRpdj5QdXJjaGFzZSBUb3RhbDogJHt0b3RhbC50b0ZpeGVkKDIpfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB7Y2FzaGJhY2sgPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBcIiNlNjdlMjJcIiwgZm9udFdlaWdodDogXCI1MDBcIiB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgIENhc2hiYWNrOiAke2Nhc2hiYWNrLnRvRml4ZWQoMil9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIHtOdW1iZXIocGFyc2VGbG9hdChjYXNoYmFja0ZlZSkgfHwgMCkgPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBcIiNkMzU0MDBcIiwgZm9udFdlaWdodDogXCI1MDBcIiB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgIENhc2hiYWNrIEZlZTogJFxuICAgICAgICAgICAgICAgICAgICAgICAge051bWJlcihwYXJzZUZsb2F0KGNhc2hiYWNrRmVlKSB8fCAwKS50b0ZpeGVkKDIpfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICB7bG90dG8gPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBcIiMyOGE3NDVcIiwgZm9udFdlaWdodDogXCI1MDBcIiB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgIExvdHRvIFdpbm5pbmdzOiAtJHtsb3R0by50b0ZpeGVkKDIpfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpbmFsLXRvdGFsXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2lzQmFsYW5jZVBheW1lbnQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiMxN2EyYjhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiNjAwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiNXB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCfj6YgQ3VzdG9tZXIgQmFsYW5jZSBQYXltZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBheWluZyBmb3I6e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZEN1c3RvbWVyPy5uYW1lIHx8IFwiU2VsZWN0ZWQgQ3VzdG9tZXJcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ3VycmVudCBCYWxhbmNlOiAkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkQ3VzdG9tZXI/LmJhbGFuY2U/LnRvRml4ZWQoMikgfHwgXCIwLjAwXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFRvdGFsIEFtb3VudCBEdWU6ICRcbiAgICAgICAgICAgICAgICAgICAgICAgICAge2ZpbmFsVG90YWwgPj0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZmluYWxUb3RhbC50b0ZpeGVkKDIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBgKCR7TWF0aC5hYnMoZmluYWxUb3RhbCkudG9GaXhlZCgyKX0pIENyZWRpdGB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvVG90YWw+XG5cbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6IFwiMXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgZ2FwOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7LyogQ3JlZGl0IFNhbGUgU2VjdGlvbiAqL31cbiAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjFyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZmZmM2NkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwiMnB4IHNvbGlkICNmZmMxMDdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI4cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgey8qIENyZWRpdCBTYWxlIFRvZ2dsZSAqL31cbiAgICAgICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBnYXA6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiNjAwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjEuMXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIjODU2NDA0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogaXNDcmVkaXRTYWxlID8gXCIwLjc1cmVtXCIgOiBcIjBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtpc0NyZWRpdFNhbGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldElzQ3JlZGl0U2FsZShlLnRhcmdldC5jaGVja2VkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWUudGFyZ2V0LmNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldENyZWRpdEN1c3RvbWVyTmFtZShcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldENyZWRpdEFtb3VudCgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgZXhpc3RpbmcgcGF5bWVudHMgd2hlbiBlbnRlcmluZyBjcmVkaXQgbW9kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2FzaEFtb3VudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldENhcmRBbW91bnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDcmVkaXRBbW91bnQoMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB0cmFuc2Zvcm06IFwic2NhbGUoMS4yKVwiIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+8J+SsyBDcmVkaXQgU2FsZSBNb2RlPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG5cbiAgICAgICAgICAgICAgICAgICAgICB7aXNDcmVkaXRTYWxlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBDcmVkaXQgU2FsZSBJbnB1dHMgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiBcIjAuNzVyZW1cIiB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FwOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbldpZHRoOiBcIjgwcHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjlyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIjODU2NDA0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCI1MDBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ3VzdG9tZXI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsZXg6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYXA6IFwiMC4yNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2NyZWRpdEN1c3RvbWVyTmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVDdXN0b21lck5hbWVDaGFuZ2UoZS50YXJnZXQudmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNHJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgI2RkZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciBjdXN0b21lciBuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2ZldGNoRXhpc3RpbmdDdXN0b21lcnN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC40cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzZjNzU3ZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwid2hpdGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC44cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIlJlZnJlc2ggY3VzdG9tZXIgbGlzdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn5SEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBDdXN0b21lciBzdWdnZXN0aW9ucyBkcm9wZG93biAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3Nob3dDdXN0b21lclN1Z2dlc3Rpb25zICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWdodDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIndoaXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgI2RkZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJveFNoYWRvdzogXCIwIDJweCA4cHggcmdiYSgwLDAsMCwwLjEpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpJbmRleDogMTAwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4SGVpZ2h0OiBcIjE1MHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJlZEN1c3RvbWVycyA9IEFycmF5LmlzQXJyYXkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdDdXN0b21lcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZXhpc3RpbmdDdXN0b21lcnMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY3VzdG9tZXIpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lci5jdXN0b21lck5hbWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lci5jdXN0b21lck5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5jbHVkZXMoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRpdEN1c3RvbWVyTmFtZS50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBbXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBleGFjdE1hdGNoID0gZmlsdGVyZWRDdXN0b21lcnMuZmluZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY3VzdG9tZXIpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lci5jdXN0b21lck5hbWUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRpdEN1c3RvbWVyTmFtZS50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2ZpbHRlcmVkQ3VzdG9tZXJzLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGN1c3RvbWVyLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVDdXN0b21lclNlbGVjdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJCb3R0b206XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIxcHggc29saWQgI2VlZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzcGFjZS1iZXR3ZWVuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGUudGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIjZjVmNWY1XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZS50YXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIndoaXRlXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXN0b21lci5jdXN0b21lck5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuOHJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXIuYmFsYW5jZSA+IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIiNkYzM1NDVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiIzI4YTc0NVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiNTAwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge01hdGguYWJzKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbWVyLmJhbGFuY2UgfHwgMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLnRvRml4ZWQoMil9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VzdG9tZXIuYmFsYW5jZSA+IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwib3dlZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcImNyZWRpdFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogQWRkIE5ldyBDdXN0b21lciBvcHRpb24gd2hlbiBubyBleGFjdCBtYXRjaCBmb3VuZCAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjcmVkaXRDdXN0b21lck5hbWUudHJpbSgpLmxlbmd0aCA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIWV4YWN0TWF0Y2ggJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIG5ldyBjdXN0b21lciB3aXRoIGVudGVyZWQgbmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdDdXN0b21lciA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lck5hbWU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVkaXRDdXN0b21lck5hbWUudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhbGFuY2U6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNOZXdDdXN0b21lcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlQ3VzdG9tZXJTZWxlY3Rpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q3VzdG9tZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJUb3A6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRDdXN0b21lcnMubGVuZ3RoID4gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIjJweCBzb2xpZCAjZTllY2VmXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZThmNWU4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYXA6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiNTAwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiMxNTU3MjRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZS50YXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiNkNGVkZGFcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChlLnRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiI2U4ZjVlOFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPuKelTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBZGQgXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NyZWRpdEN1c3RvbWVyTmFtZS50cmltKCl9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXMgbmV3IGNyZWRpdCBjdXN0b21lclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIERlYnVnIGluZm8gZm9yIGN1c3RvbWVyIGRhdGEgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2V4aXN0aW5nQ3VzdG9tZXJzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuOHJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiM2Yzc1N2RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjI1cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmOGY5ZmFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvYWRlZCB7ZXhpc3RpbmdDdXN0b21lcnMubGVuZ3RofSBjdXN0b21lcnMue1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3JlZGl0Q3VzdG9tZXJOYW1lICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYFNlYXJjaGluZyBmb3I6IFwiJHtjcmVkaXRDdXN0b21lck5hbWV9XCJgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBDdXN0b21lciBiYWxhbmNlIGRpc3BsYXkgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkQ3VzdG9tZXIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXJCYWxhbmNlID4gMCA/IFwiI2Y4ZDdkYVwiIDogXCIjZDRlZGRhXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBgMXB4IHNvbGlkICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lckJhbGFuY2UgPiAwID8gXCIjZjVjNmNiXCIgOiBcIiNjM2U2Y2JcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC45cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+e3NlbGVjdGVkQ3VzdG9tZXIuY3VzdG9tZXJOYW1lfTwvc3Ryb25nPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLSBDdXJyZW50IEJhbGFuY2U6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lckJhbGFuY2UgPiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIiM3MjFjMjRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCIjMTU1NzI0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIjYwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luTGVmdDogXCIwLjI1cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7TWF0aC5hYnMoY3VzdG9tZXJCYWxhbmNlKS50b0ZpeGVkKDIpfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VzdG9tZXJCYWxhbmNlID4gMCA/IFwib3dlZFwiIDogXCJjcmVkaXRcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuN3JlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiIzZjNzU3ZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiBcIjAuMjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSUQ6IHtzZWxlY3RlZEN1c3RvbWVyLmlkfSB8IExhc3QgdXBkYXRlZDp7XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge25ldyBEYXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRDdXN0b21lci51cGRhdGVkQXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLnRvTG9jYWxlVGltZVN0cmluZygpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgeygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3VidG90YWwgPSBjYWxjdWxhdGVUb3RhbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRheCA9IGNhbGN1bGF0ZVRheCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsID0gKyhzdWJ0b3RhbCArIHRheCkudG9GaXhlZCgyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXNoYmFjayA9IE51bWJlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQoY2FzaGJhY2tBbW91bnQpIHx8IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvdHRvID0gTnVtYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChsb3R0b1dpbm5pbmdzKSB8fCAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaW5hbFRvdGFsID0gdG90YWwgKyBjYXNoYmFjayAtIGxvdHRvO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhaWRDYXNoID0gTnVtYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChjYXNoQW1vdW50KSB8fCAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWlkQ2FyZCA9IE51bWJlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQoY2FyZEFtb3VudCkgfHwgMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFpZFRvdGFsID0gcGFpZENhc2ggKyBwYWlkQ2FyZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzcGVjaWZpZWRDcmVkaXRBbW91bnQgPSBOdW1iZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KGNyZWRpdEFtb3VudCkgfHwgMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2Ugc3BlY2lmaWVkIGNyZWRpdCBhbW91bnQgb3IgY2FsY3VsYXRlIGZyb20gcGF5bWVudCBkaWZmZXJlbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3JlZGl0QmFsYW5jZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGVjaWZpZWRDcmVkaXRBbW91bnQgPiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gc3BlY2lmaWVkQ3JlZGl0QW1vdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogTWF0aC5tYXgoMCwgZmluYWxUb3RhbCAtIHBhaWRUb3RhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVxdWlyZWRQYXltZW50ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwZWNpZmllZENyZWRpdEFtb3VudCA+IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBmaW5hbFRvdGFsIC0gc3BlY2lmaWVkQ3JlZGl0QW1vdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogcGFpZFRvdGFsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNwZWNpZmllZENyZWRpdEFtb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNwZWNpZmllZCBjcmVkaXQgYW1vdW50IG1vZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBheW1lbnROZWVkZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbFRvdGFsIC0gc3BlY2lmaWVkQ3JlZGl0QW1vdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF5bWVudFN0YXR1cyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhaWRUb3RhbCA+PSBwYXltZW50TmVlZGVkIC0gMC4wMDE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBwYXltZW50U3RhdHVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCIjZThmNWU4XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIiNmZmYzY2RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogYDFweCBzb2xpZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXltZW50U3RhdHVzID8gXCIjMjhhNzQ1XCIgOiBcIiNmZmMxMDdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC45cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPlNwZWNpZmllZCBDcmVkaXQgTW9kZTo8L3N0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg77+9IFVucGFpZCBCYWxhbmNlOiAkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c3BlY2lmaWVkQ3JlZGl0QW1vdW50LnRvRml4ZWQoMil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCfkrAgUGF5bWVudCBOZWVkZWQ6ICRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtwYXltZW50TmVlZGVkLnRvRml4ZWQoMil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCfk4ogUGF5bWVudCBTdGF0dXM6ICR7cGFpZFRvdGFsLnRvRml4ZWQoMil9IC9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7cGF5bWVudE5lZWRlZC50b0ZpeGVkKDIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHshcGF5bWVudFN0YXR1cyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiI2RjMzU0NVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiNTAwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiBcIjAuMjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pqg77iPIE5lZWQgJFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KHBheW1lbnROZWVkZWQgLSBwYWlkVG90YWwpLnRvRml4ZWQoMil9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3JlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYWlkVG90YWwgPiAwICYmIGNyZWRpdEJhbGFuY2UgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZThmNWU4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICMyOGE3NDVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjlyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+QXV0by1DYWxjdWxhdGUgTW9kZTo8L3N0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cGFpZENhc2ggPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+8J+StSBDYXNoOiAke3BhaWRDYXNoLnRvRml4ZWQoMil9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cGFpZENhcmQgPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+8J+SsyBDYXJkOiAke3BhaWRDYXJkLnRvRml4ZWQoMil9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIjZGMzNTQ1XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiNTAwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCfk50gQ3JlZGl0IEJhbGFuY2U6ICRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjcmVkaXRCYWxhbmNlLnRvRml4ZWQoMil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhaWRUb3RhbCA+PSBmaW5hbFRvdGFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZThmNWU4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICMyOGE3NDVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjlyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pyFe1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGdWxseSBQYWlkIC0gTm8gQ3JlZGl0IEJhbGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZjhkN2RhXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICNkYzM1NDVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjlyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+TnXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRnVsbCBDcmVkaXQ6ICR7Y3JlZGl0QmFsYW5jZS50b0ZpeGVkKDIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Ryb25nPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KSgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgey8qIFBheW1lbnQgSW5wdXQgRmllbGRzIC0gQWx3YXlzIFZpc2libGUgKi99XG4gICAgICAgICAgICAgICAgICAgIHshaXNDcmVkaXRTYWxlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FwOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzcGFjZS1iZXR3ZWVuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhcDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2F1dG9GaWxsT3RoZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QXV0b0ZpbGxPdGhlcighIWUudGFyZ2V0LmNoZWNrZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250U2l6ZTogXCIwLjlyZW1cIiB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRvLWZpbGwgb3RoZXIgcGF5bWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogXCIwLjg1cmVtXCIsIGNvbG9yOiBcIiM3ZjhjOGRcIiB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgVG9nZ2xlIHRvIGF1dG9tYXRpY2FsbHkgZmlsbCB0aGUgb3RoZXIgZmllbGRcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBnYXA6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5XaWR0aDogXCI4MHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChOdW1iZXIoY2FzaGJhY2tBbW91bnQpIHx8IDApID4gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIiM5NWE1YTZcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcImluaGVyaXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgQ2FzaDpcbiAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGVwPVwiMC4wMVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW49XCIwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtjYXNoQW1vdW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyhOdW1iZXIoY2FzaGJhY2tBbW91bnQpIHx8IDApID4gMH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRMYXN0RWRpdGVkKFwiY2FzaFwiKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBbHdheXMgc2V0IHRoZSByYXcgdmFsdWUgZmlyc3QgdG8gYWxsb3cgcHJvcGVyIHR5cGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDYXNoQW1vdW50KHZhbHVlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IGRvIHZhbGlkYXRpb24gYW5kIGF1dG8tZmlsbCBpZiB2YWx1ZSBpcyBub3QgZW1wdHkgYW5kIG5vdCBjdXJyZW50bHkgYmVpbmcgdHlwZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gTnVtYmVyKHZhbHVlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0NyZWRpdFNhbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgYSBiYWxhbmNlIHBheW1lbnQgKG5vIGl0ZW1zIGluIGNhcnQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0JhbGFuY2VQYXltZW50ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FydC5sZW5ndGggPT09IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRDdXN0b21lciAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lckJhbGFuY2UgPiAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNCYWxhbmNlUGF5bWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3IgYmFsYW5jZSBwYXltZW50cywgYWxsb3cgYW55IGFtb3VudCB1cCB0byB0aGUgY3VzdG9tZXIncyBiYWxhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbGlkQ2FzaEFtb3VudCA9IE1hdGgubWluKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lckJhbGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZCA+IGN1c3RvbWVyQmFsYW5jZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldENhc2hBbW91bnQoU3RyaW5nKHZhbGlkQ2FzaEFtb3VudCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENsZWFyIGNhcmQgd2hlbiBjYXNoIGlzIGVudGVyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkQ2FzaEFtb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDYXJkQW1vdW50KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9yIHJlZ3VsYXIgY3JlZGl0IHNhbGVzIHdpdGggaXRlbXMgaW4gY2FydFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3VidG90YWwgPSBjYWxjdWxhdGVUb3RhbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGF4ID0gY2FsY3VsYXRlVGF4KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b3RhbCA9ICsoc3VidG90YWwgKyB0YXgpLnRvRml4ZWQoMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXNoYmFjayA9IE51bWJlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChjYXNoYmFja0Ftb3VudCkgfHwgMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvdHRvID0gTnVtYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KGxvdHRvV2lubmluZ3MpIHx8IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaW5hbFRvdGFsID0gdG90YWwgKyBjYXNoYmFjayAtIGxvdHRvO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudENyZWRpdCA9IE51bWJlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChjcmVkaXRBbW91bnQpIHx8IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZW1haW5pbmdBbW91bnQgPSBNYXRoLm1heChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxUb3RhbCAtIGN1cnJlbnRDcmVkaXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIGN1c3RvbWVyIGhhcyBleGlzdGluZyBiYWxhbmNlLCBhbGxvdyBwYXltZW50IHVwIHRvIHRyYW5zYWN0aW9uIHRvdGFsICsgZXhpc3RpbmcgYmFsYW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1heEFsbG93ZWRQYXltZW50ID0gcmVtYWluaW5nQW1vdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkQ3VzdG9tZXIgJiYgY3VzdG9tZXJCYWxhbmNlID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhBbGxvd2VkUGF5bWVudCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxUb3RhbCArIGN1c3RvbWVyQmFsYW5jZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWxsb3cgY2FzaCB1cCB0byBtYXggYWxsb3dlZCBwYXltZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWxpZENhc2hBbW91bnQgPSBNYXRoLm1pbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhBbGxvd2VkUGF5bWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWQgPiBtYXhBbGxvd2VkUGF5bWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDYXNoQW1vdW50KFN0cmluZyh2YWxpZENhc2hBbW91bnQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdXNlciBlbnRlcnMgY2FzaCwgY2xlYXIgY2FyZCAob25seSBvbmUgcGF5bWVudCBtZXRob2QpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRDYXNoQW1vdW50ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDYXJkQW1vdW50KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdXRvRmlsbE90aGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWd1bGFyIG1vZGUgYXV0by1maWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdWJ0b3RhbCA9IGNhbGN1bGF0ZVRvdGFsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXggPSBjYWxjdWxhdGVUYXgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsID0gKyhzdWJ0b3RhbCArIHRheCkudG9GaXhlZCgyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0NhcmQgPSBNYXRoLm1heChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyh0b3RhbCAtIHBhcnNlZCkudG9GaXhlZCgyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldENhcmRBbW91bnQoU3RyaW5nKG5ld0NhcmQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNHJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGlzQ3JlZGl0U2FsZSA/IFwiI2Y4ZjlmYVwiIDogXCJ3aGl0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaXNDcmVkaXRTYWxlID8gXCJFbnRlciBwYXJ0aWFsIHBheW1lbnRcIiA6IFwiMC4wMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhcDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7LyogU3dhcCBCdXR0b24gLSBBYnNvbHV0ZWx5IHBvc2l0aW9uZWQgYmV0d2VlbiBDYXNoIGFuZCBDYXJkICovfVxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3N3YXBQYXltZW50c31cbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc0NyZWRpdFNhbGV9XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBcIjQwcHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiBcIi0xNXB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IGlzQ3JlZGl0U2FsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCIjZjhmOWZhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwibGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzM0OThkYiwgIzI5ODBiOSlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjUwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIyMHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCIyMHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogaXNDcmVkaXRTYWxlID8gXCJub3QtYWxsb3dlZFwiIDogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIndoaXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjEwcHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCJib2xkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYm94U2hhZG93OiBpc0NyZWRpdFNhbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwibm9uZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIjAgMXB4IDRweCByZ2JhKDUyLCAxNTIsIDIxOSwgMC4zKVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBcImFsbCAwLjJzIGVhc2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogaXNDcmVkaXRTYWxlID8gMC40IDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgekluZGV4OiAxMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNDcmVkaXRTYWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUudHJhbnNmb3JtID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicm90YXRlKDE4MGRlZykgc2NhbGUoMS4yKVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnN0eWxlLmJveFNoYWRvdyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjAgMnB4IDZweCByZ2JhKDUyLCAxNTIsIDIxOSwgMC40KVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzQ3JlZGl0U2FsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnN0eWxlLnRyYW5zZm9ybSA9IFwicm90YXRlKDBkZWcpIHNjYWxlKDEpXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUuYm94U2hhZG93ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiMCAxcHggNHB4IHJnYmEoNTIsIDE1MiwgMjE5LCAwLjMpXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlzQ3JlZGl0U2FsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTd2FwIGRpc2FibGVkIGluIGNyZWRpdCBtb2RlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiU3dhcCBjYXNoIGFuZCBjYXJkIGFtb3VudHNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIOKHhVxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBzdHlsZT17eyBtaW5XaWR0aDogXCI4MHB4XCIgfX0+Q2FyZDo8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGVwPVwiMC4wMVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW49XCIwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtjYXJkQW1vdW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldExhc3RFZGl0ZWQoXCJjYXJkXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFsd2F5cyBzZXQgdGhlIHJhdyB2YWx1ZSBmaXJzdCB0byBhbGxvdyBwcm9wZXIgdHlwaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldENhcmRBbW91bnQodmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgZG8gdmFsaWRhdGlvbiBhbmQgYXV0by1maWxsIGlmIHZhbHVlIGlzIG5vdCBlbXB0eSBhbmQgbm90IGN1cnJlbnRseSBiZWluZyB0eXBlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBOdW1iZXIodmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ3JlZGl0U2FsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBpcyBhIGJhbGFuY2UgcGF5bWVudCAobm8gaXRlbXMgaW4gY2FydClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQmFsYW5jZVBheW1lbnQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJ0Lmxlbmd0aCA9PT0gMCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEN1c3RvbWVyICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbWVyQmFsYW5jZSA+IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0JhbGFuY2VQYXltZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvciBiYWxhbmNlIHBheW1lbnRzLCBhbGxvdyBhbnkgYW1vdW50IHVwIHRvIHRoZSBjdXN0b21lcidzIGJhbGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsaWRDYXJkQW1vdW50ID0gTWF0aC5taW4oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbWVyQmFsYW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VkID4gY3VzdG9tZXJCYWxhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2FyZEFtb3VudChTdHJpbmcodmFsaWRDYXJkQW1vdW50KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgY2FzaCB3aGVuIGNhcmQgaXMgZW50ZXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRDYXJkQW1vdW50ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldENhc2hBbW91bnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3IgcmVndWxhciBjcmVkaXQgc2FsZXMgd2l0aCBpdGVtcyBpbiBjYXJ0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdWJ0b3RhbCA9IGNhbGN1bGF0ZVRvdGFsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXggPSBjYWxjdWxhdGVUYXgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsID0gKyhzdWJ0b3RhbCArIHRheCkudG9GaXhlZCgyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhc2hiYWNrID0gTnVtYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KGNhc2hiYWNrQW1vdW50KSB8fCAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbG90dG8gPSBOdW1iZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQobG90dG9XaW5uaW5ncykgfHwgMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsVG90YWwgPSB0b3RhbCArIGNhc2hiYWNrIC0gbG90dG87XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50Q3JlZGl0ID0gTnVtYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KGNyZWRpdEFtb3VudCkgfHwgMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbWFpbmluZ0Ftb3VudCA9IE1hdGgubWF4KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbFRvdGFsIC0gY3VycmVudENyZWRpdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgY3VzdG9tZXIgaGFzIGV4aXN0aW5nIGJhbGFuY2UsIGFsbG93IHBheW1lbnQgdXAgdG8gdHJhbnNhY3Rpb24gdG90YWwgKyBleGlzdGluZyBiYWxhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWF4QWxsb3dlZFBheW1lbnQgPSByZW1haW5pbmdBbW91bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRDdXN0b21lciAmJiBjdXN0b21lckJhbGFuY2UgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEFsbG93ZWRQYXltZW50ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbFRvdGFsICsgY3VzdG9tZXJCYWxhbmNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBbGxvdyBjYXJkIHVwIHRvIG1heCBhbGxvd2VkIHBheW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbGlkQ2FyZEFtb3VudCA9IE1hdGgubWluKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEFsbG93ZWRQYXltZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZCA+IG1heEFsbG93ZWRQYXltZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldENhcmRBbW91bnQoU3RyaW5nKHZhbGlkQ2FyZEFtb3VudCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB1c2VyIGVudGVycyBjYXJkLCBjbGVhciBjYXNoIChvbmx5IG9uZSBwYXltZW50IG1ldGhvZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZENhcmRBbW91bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldENhc2hBbW91bnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF1dG9GaWxsT3RoZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlZ3VsYXIgbW9kZSBhdXRvLWZpbGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1YnRvdGFsID0gY2FsY3VsYXRlVG90YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRheCA9IGNhbGN1bGF0ZVRheCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG90YWwgPSArKHN1YnRvdGFsICsgdGF4KS50b0ZpeGVkKDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3Q2FzaCA9IE1hdGgubWF4KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArKHRvdGFsIC0gcGFyc2VkKS50b0ZpeGVkKDIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2FzaEFtb3VudChTdHJpbmcobmV3Q2FzaCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC40cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZsZXg6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogaXNDcmVkaXRTYWxlID8gXCIjZjhmOWZhXCIgOiBcIndoaXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpc0NyZWRpdFNhbGUgPyBcIkVudGVyIHBhcnRpYWwgcGF5bWVudFwiIDogXCIwLjAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgIHsvKiBQYXltZW50IFRlcm1pbmFsIEJ1dHRvbiAqL31cbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0b3RhbCBmb3IgdGVybWluYWwgcGF5bWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdWJ0b3RhbCA9IGNhbGN1bGF0ZVRvdGFsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRheCA9IGNhbGN1bGF0ZVRheCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b3RhbCA9ICsoc3VidG90YWwgKyB0YXgpLnRvRml4ZWQoMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhc2hiYWNrID0gTnVtYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQoY2FzaGJhY2tBbW91bnQpIHx8IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbG90dG8gPSBOdW1iZXIocGFyc2VGbG9hdChsb3R0b1dpbm5pbmdzKSB8fCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm90ZTogdG90YWwgYWxyZWFkeSBpbmNsdWRlcyBjcmVkaXQgY2FyZCBjaGFyZ2UgZnJvbSBjYWxjdWxhdGVUb3RhbCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsVG90YWwgPSB0b3RhbCArIGNhc2hiYWNrIC0gbG90dG87XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJvY2VzcyB0ZXJtaW5hbCBwYXltZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVRlcm1pbmFsUGF5bWVudChmaW5hbFRvdGFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNDcmVkaXRTYWxlIHx8IGNhcnQubGVuZ3RoID09PSAwfVxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjRyZW0gMC44cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0NyZWRpdFNhbGUgfHwgY2FydC5sZW5ndGggPT09IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCIjZjhmOWZhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCIjNmY0MmMxXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQ3JlZGl0U2FsZSB8fCBjYXJ0Lmxlbmd0aCA9PT0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIiM2Yzc1N2RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIndoaXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI2cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBpc0NyZWRpdFNhbGUgfHwgY2FydC5sZW5ndGggPT09IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwibm90LWFsbG93ZWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuODVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCI2MDBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luTGVmdDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogXCJhbGwgMC4ycyBlYXNlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IGlzQ3JlZGl0U2FsZSB8fCBjYXJ0Lmxlbmd0aCA9PT0gMCA/IDAuNiA6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpc0NyZWRpdFNhbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiVGVybWluYWwgZGlzYWJsZWQgaW4gY3JlZGl0IG1vZGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogY2FydC5sZW5ndGggPT09IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiQWRkIGl0ZW1zIHRvIGNhcnQgZmlyc3RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJQcm9jZXNzIHBheW1lbnQgdmlhIHRlcm1pbmFsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICDwn5KzIFRlcm1pbmFsXG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIHsvKiBDYXNoYmFjayBDYXJkLU9ubHkgTm90aWNlICovfVxuICAgICAgICAgICAgICAgICAgICB7KE51bWJlcihjYXNoYmFja0Ftb3VudCkgfHwgMCkgPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2U4ZjRmZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICM4NWMxZTlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjg1cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiMyZTg2YzFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIjUwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIPCfmqt7XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBDYXNoIHBheW1lbnQgZGlzYWJsZWQgZm9yIGNhc2hiYWNrIHRyYW5zYWN0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHJvbmc+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC44cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiBcIjAuMjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIEN1c3RvbWVyIG11c3QgcGF5IGJ5IGNhcmQg4oCiIENhc2ggcmVnaXN0ZXI6IC1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgeyhOdW1iZXIoY2FzaGJhY2tBbW91bnQpIHx8IDApLnRvRml4ZWQoMil9ICt7XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsoTnVtYmVyKGNhc2hiYWNrRmVlKSB8fCAwKS50b0ZpeGVkKDIpfSBwcm9maXRcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgIHshaXNDcmVkaXRTYWxlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAge2Nhc2hiYWNrID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZmZmM2NkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICNmZmVhYTdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblRvcDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz5DYXNoYmFjazogJHtjYXNoYmFjay50b0ZpeGVkKDIpfTwvc3Ryb25nPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBcIjAuODVyZW1cIiwgY29sb3I6IFwiIzg1NjQwNFwiIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVxdWlyZXMgY2FyZCBwYXltZW50OiAkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KHRvdGFsICsgY2FzaGJhY2spLnRvRml4ZWQoMil9IChQdXJjaGFzZTogJFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RvdGFsLnRvRml4ZWQoMil9ICsgQ2FzaGJhY2s6ICRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjYXNoYmFjay50b0ZpeGVkKDIpfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjhyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiI2Q2ODkxMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6IFwiMC4yNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIjUwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn5KzIEN1c3RvbWVyIHBheXMgYnkgY2FyZCDigKIg8J+StSBZb3UgZ2l2ZSAkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2FzaGJhY2sudG9GaXhlZCgyKX0gY2FzaCBmcm9tIHJlZ2lzdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBpc1N1ZmZpY2llbnQgPyBcIiMyZWNjNzFcIiA6IFwiI2U3NGMzY1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiNjAwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtpc1N1ZmZpY2llbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGBDYXJkIFBheW1lbnQ6ICQke3BhaWRDYXJkLnRvRml4ZWQoMil9JHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlID4gMCAmJiBjYXNoYmFjayA9PT0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYCDigJQgQ2hhbmdlOiAkJHtjaGFuZ2UudG9GaXhlZCgyKX1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9JHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzaGJhY2sgPiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBgIOKAlCBDYXNoYmFjayBHaXZlbjogJCR7Y2FzaGJhY2sudG9GaXhlZCgyKX1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogY2FzaGJhY2sgPiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBgQ2FyZCBwYXltZW50IG5lZWRlZDogJCR7KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbCArIGNhc2hiYWNrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLnRvRml4ZWQoMil9IChDdXJyZW50OiAkJHtwYWlkQ2FyZC50b0ZpeGVkKDIpfSlgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBgQW1vdW50IGR1ZTogJCR7KHRvdGFsIC0gcGFpZFRvdGFsKS50b0ZpeGVkKDIpfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAge3BheW1lbnRFcnJvciAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6IFwiI2U3NGMzY1wiIH19PntwYXltZW50RXJyb3J9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgIDxDaGVja291dEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3Byb2Nlc3NDaGVja291dH1cbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNDcmVkaXRTYWxlID8gZmFsc2UgOiAhaXNTdWZmaWNpZW50fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgeygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGEgYmFsYW5jZSBwYXltZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNCYWxhbmNlUGF5bWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWlkQ2FzaCA9IE51bWJlcihwYXJzZUZsb2F0KGNhc2hBbW91bnQpIHx8IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWlkQ2FyZCA9IE51bWJlcihwYXJzZUZsb2F0KGNhcmRBbW91bnQpIHx8IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXltZW50VG90YWwgPSBwYWlkQ2FzaCArIHBhaWRDYXJkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXN0b21lckJhbGFuY2UgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkQ3VzdG9tZXI/LmJhbGFuY2UgfHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nQmFsYW5jZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXJCYWxhbmNlIC0gcGF5bWVudFRvdGFsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXltZW50VG90YWwgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJFbnRlciBQYXltZW50IEFtb3VudFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlbWFpbmluZ0JhbGFuY2UgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBQYXkgJCR7cGF5bWVudFRvdGFsLnRvRml4ZWQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX0gKEJhbGFuY2UgUmVtYWluaW5nOiAkJHtyZW1haW5pbmdCYWxhbmNlLnRvRml4ZWQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX0pYDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFBheSAkJHtwYXltZW50VG90YWwudG9GaXhlZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfSAoQmFsYW5jZSBQYWlkKWA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0NyZWRpdFNhbGUpIHJldHVybiBcIlByb2Nlc3MgUGF5bWVudFwiO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdWJ0b3RhbCA9IGNhbGN1bGF0ZVRvdGFsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXggPSBjYWxjdWxhdGVUYXgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsID0gKyhzdWJ0b3RhbCArIHRheCkudG9GaXhlZCgyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhc2hiYWNrID0gTnVtYmVyKHBhcnNlRmxvYXQoY2FzaGJhY2tBbW91bnQpIHx8IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbG90dG8gPSBOdW1iZXIocGFyc2VGbG9hdChsb3R0b1dpbm5pbmdzKSB8fCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsVG90YWwgPSB0b3RhbCArIGNhc2hiYWNrIC0gbG90dG87XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWlkQ2FzaCA9IE51bWJlcihwYXJzZUZsb2F0KGNhc2hBbW91bnQpIHx8IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFpZENhcmQgPSBOdW1iZXIocGFyc2VGbG9hdChjYXJkQW1vdW50KSB8fCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhaWRUb3RhbCA9IHBhaWRDYXNoICsgcGFpZENhcmQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzcGVjaWZpZWRDcmVkaXRBbW91bnQgPSBOdW1iZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQoY3JlZGl0QW1vdW50KSB8fCAwXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3BlY2lmaWVkQ3JlZGl0QW1vdW50ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXltZW50TmVlZGVkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbFRvdGFsIC0gc3BlY2lmaWVkQ3JlZGl0QW1vdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFByb2Nlc3MgU2FsZSAoUGF5bWVudDogJCR7cGF5bWVudE5lZWRlZC50b0ZpeGVkKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX0sIENyZWRpdDogJCR7c3BlY2lmaWVkQ3JlZGl0QW1vdW50LnRvRml4ZWQoMil9KWA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjcmVkaXRCYWxhbmNlID0gTWF0aC5tYXgoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbFRvdGFsIC0gcGFpZFRvdGFsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYWlkVG90YWwgPiAwICYmIGNyZWRpdEJhbGFuY2UgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBQcm9jZXNzIFBhcnRpYWwgUGF5bWVudCAoQ3JlZGl0OiAkJHtjcmVkaXRCYWxhbmNlLnRvRml4ZWQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX0pYDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYWlkVG90YWwgPj0gZmluYWxUb3RhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlByb2Nlc3MgRnVsbCBQYXltZW50XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiQ3JlYXRlIEZ1bGwgQ3JlZGl0IFNhbGVcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0pKCl9XG4gICAgICAgICAgICAgICAgICAgIDwvQ2hlY2tvdXRCdXR0b24+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pKCl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvQ2hlY2tvdXRQYW5lbD5cbiAgICAgIDwvUE9TR3JpZD5cbiAgICA8L0NvbnRhaW5lcj5cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUE9TUGFnZSgpIHtcbiAgcmV0dXJuIChcbiAgICA8U3VzcGVuc2VcbiAgICAgIGZhbGxiYWNrPXtcbiAgICAgICAgPGRpdiBzdHlsZT17eyBwYWRkaW5nOiBcIjJyZW1cIiwgdGV4dEFsaWduOiBcImNlbnRlclwiIH19PlxuICAgICAgICAgIExvYWRpbmcgUE9TIHN5c3RlbS4uLlxuICAgICAgICA8L2Rpdj5cbiAgICAgIH1cbiAgICA+XG4gICAgICA8UE9TQ29udGVudCAvPlxuICAgIDwvU3VzcGVuc2U+XG4gICk7XG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJTdXNwZW5zZSIsInVzZVNlYXJjaFBhcmFtcyIsInVzZUludmVudG9yeU1hbmFnZXIiLCJ1c2VBcHBEaXNwYXRjaCIsInVzZUVuc3VyZUludmVudG9yeSIsInVwZGF0ZUludmVudG9yeUFmdGVyVHJhbnNhY3Rpb24iLCJ1cGRhdGVJdGVtU3RvY2tMb2NhbCIsImxvYWRJbnZlbnRvcnkiLCJDb250YWluZXIiLCJQT1NHcmlkIiwiUHJvZHVjdHNQYW5lbCIsIkNoZWNrb3V0UGFuZWwiLCJQcm9kdWN0SXRlbSIsIkNhcnRJdGVtIiwiU2VhcmNoQmFyIiwiQnV0dG9uIiwiQ2F0ZWdvcnlGaWx0ZXIiLCJUb3RhbCIsIkNoZWNrb3V0QnV0dG9uIiwiUmVjZWlwdFNlY3Rpb24iLCJpbml0aWFsSW52ZW50b3J5IiwiaWQiLCJuYW1lIiwiY2F0ZWdvcnkiLCJwcmljZSIsInN0b2NrIiwibG93U3RvY2tUaHJlc2hvbGQiLCJ0YXhhYmxlIiwiUE9TQ29udGVudCIsImRpc3BhdGNoIiwiaXRlbXMiLCJpbnZlbnRvcnkiLCJsb2FkaW5nIiwiaW52ZW50b3J5TG9hZGluZyIsImNhdGVnb3JpZXMiLCJnZXRGaWx0ZXJlZEludmVudG9yeSIsImludmVudG9yeUxvYWRlZCIsInNlYXJjaFBhcmFtcyIsImNhcnQiLCJzZXRDYXJ0Iiwic2VhcmNoVGVybSIsInNldFNlYXJjaFRlcm0iLCJjYXRlZ29yeUZpbHRlciIsInNldENhdGVnb3J5RmlsdGVyIiwic2VhcmNoSW5wdXRSZWYiLCJiYXJjb2RlQnVmZmVyIiwic2V0QmFyY29kZUJ1ZmZlciIsImxhc3RLZXlUaW1lIiwic2V0TGFzdEtleVRpbWUiLCJzaG93UmVjZWlwdCIsInNldFNob3dSZWNlaXB0IiwibGFzdFRyYW5zYWN0aW9uIiwic2V0TGFzdFRyYW5zYWN0aW9uIiwiY2FzaEFtb3VudCIsInNldENhc2hBbW91bnQiLCJjYXJkQW1vdW50Iiwic2V0Q2FyZEFtb3VudCIsImNhc2hiYWNrQW1vdW50Iiwic2V0Q2FzaGJhY2tBbW91bnQiLCJjYXNoYmFja0ZlZSIsInNldENhc2hiYWNrRmVlIiwiY2FzaGJhY2tFbmFibGVkIiwic2V0Q2FzaGJhY2tFbmFibGVkIiwibG90dG9XaW5uaW5ncyIsInNldExvdHRvV2lubmluZ3MiLCJwYXltZW50RXJyb3IiLCJzZXRQYXltZW50RXJyb3IiLCJhdXRvRmlsbE90aGVyIiwic2V0QXV0b0ZpbGxPdGhlciIsImxhc3RFZGl0ZWQiLCJzZXRMYXN0RWRpdGVkIiwiaXNDcmVkaXRTYWxlIiwic2V0SXNDcmVkaXRTYWxlIiwiY3JlZGl0Q3VzdG9tZXJOYW1lIiwic2V0Q3JlZGl0Q3VzdG9tZXJOYW1lIiwiY3JlZGl0QW1vdW50Iiwic2V0Q3JlZGl0QW1vdW50IiwiaXNBdXRvQ2FsY3VsYXRpbmciLCJzZXRJc0F1dG9DYWxjdWxhdGluZyIsImV4aXN0aW5nQ3VzdG9tZXJzIiwic2V0RXhpc3RpbmdDdXN0b21lcnMiLCJzaG93Q3VzdG9tZXJTdWdnZXN0aW9ucyIsInNldFNob3dDdXN0b21lclN1Z2dlc3Rpb25zIiwic2VsZWN0ZWRDdXN0b21lciIsInNldFNlbGVjdGVkQ3VzdG9tZXIiLCJjdXN0b21lckJhbGFuY2UiLCJzZXRDdXN0b21lckJhbGFuY2UiLCJzaG93UGF5bWVudE9wdGlvbnMiLCJzZXRTaG93UGF5bWVudE9wdGlvbnMiLCJjYXJkVHlwZSIsInNldENhcmRUeXBlIiwiY2FyZEZlZUVuYWJsZWQiLCJzZXRDYXJkRmVlRW5hYmxlZCIsIkNBUkRfRkVFX0FNT1VOVCIsImlzQmFsYW5jZVBheW1lbnQiLCJsZW5ndGgiLCJkaXNjb3VudEFtb3VudCIsInNldERpc2NvdW50QW1vdW50Iiwic2hvd01hbnVhbEVudHJ5Iiwic2V0U2hvd01hbnVhbEVudHJ5IiwibWFudWFsSXRlbSIsInNldE1hbnVhbEl0ZW0iLCJxdWFudGl0eSIsImZpbHRlcmVkSW52ZW50b3J5IiwiYWRkVG9DYXJ0IiwicHJvZHVjdCIsImV4aXN0aW5nSXRlbSIsImlzTWFudWFsIiwiZmluZCIsIml0ZW0iLCJtYXAiLCJpc01hdGNoIiwibmV3U3RvY2siLCJhcHBseVRheCIsImhhbmRsZVZvaWRJdGVtIiwiaXRlbUlkIiwiaXRlbU5hbWUiLCJjb25maXJtVm9pZCIsImNvbmZpcm0iLCJpdGVtVG9Wb2lkIiwicCIsImZpbHRlciIsImhhbmRsZURlY3JlYXNlUXVhbnRpdHkiLCJ1cGRhdGVDYXJ0UXVhbnRpdHkiLCJuZXdRdWFudGl0eSIsImNhcnRJdGVtIiwicXVhbnRpdHlEaWZmIiwicmVtb3ZlRnJvbUNhcnQiLCJpdGVtVG9SZW1vdmUiLCJ0b2dnbGVJdGVtVGF4IiwiaGFuZGxlU2VhcmNoRW50ZXIiLCJ0cmltIiwic2VhcmNoUmVzdWx0cyIsInByZXYiLCJmb3VuZEl0ZW0iLCJjdXJyZW50IiwiZm9jdXMiLCJoYW5kbGVEZWJ1Z1JlZnJlc2giLCJjb25zb2xlIiwibG9nIiwiaXNDYXRlZ29yeVRheGFibGUiLCJ0YXhhYmxlS2V5d29yZHMiLCJub25UYXhhYmxlS2V5d29yZHMiLCJjYXRlZ29yeUxvd2VyIiwidG9Mb3dlckNhc2UiLCJzb21lIiwia2V5d29yZCIsImluY2x1ZGVzIiwiYWRkTWFudWFsSXRlbSIsInBhcnNlRmxvYXQiLCJhbGVydCIsIm5vcm1hbGl6ZWROYW1lIiwicmVwbGFjZSIsInByaWNlU3RyIiwidG9GaXhlZCIsIm1hbnVhbElkIiwibmV3SXRlbSIsImkiLCJjYWxjdWxhdGVTdWJ0b3RhbCIsInJlZHVjZSIsInRvdGFsIiwiY2FsY3VsYXRlVG90YWwiLCJzdWJ0b3RhbCIsImRpc2NvdW50IiwiTnVtYmVyIiwiY2JGZWUiLCJjYXJkRmVlSW5Ub3RhbCIsInRvdGFsQ2FyZEZlZSIsIk1hdGgiLCJtYXgiLCJjYWxjdWxhdGVUYXgiLCJkaXNjb3VudGVkU3VidG90YWwiLCJvcmlnaW5hbFN1YnRvdGFsIiwidGF4YWJsZU9yaWdpbmFsIiwiZ2V0VGF4YWJsZVRvdGFsIiwidGF4YWJsZURpc2NvdW50ZWQiLCJnZXROb25UYXhhYmxlVG90YWwiLCJwcm9jZXNzQ3VzdG9tZXJCYWxhbmNlUGF5bWVudCIsInBheW1lbnRUb3RhbCIsImNhc2hQYWlkIiwiY2FyZFBhaWQiLCJyZW1haW5pbmdCYWxhbmNlIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImFjdGlvbiIsImN1c3RvbWVyTmFtZSIsImFtb3VudCIsIm9rIiwiZXJyb3JEYXRhIiwianNvbiIsIkVycm9yIiwiZXJyb3IiLCJyZXN1bHQiLCJwYXltZW50VHJhbnNhY3Rpb24iLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJ0YXhhYmxlQW1vdW50Iiwibm9uVGF4YWJsZUFtb3VudCIsInRheCIsImZpbmFsVG90YWwiLCJjYXNoYmFjayIsInBheW1lbnRCcmVha2Rvd24iLCJjaGFuZ2UiLCJpc1BhcnRpYWxQYXltZW50IiwiY3JlZGl0QmFsYW5jZSIsInBhaWRBbW91bnQiLCJjcmVkaXRTdGF0dXMiLCJwcmV2aW91c0JhbGFuY2UiLCJuZXdCYWxhbmNlIiwidHJhbnNhY3Rpb25SZXNwb25zZSIsInRyYW5zYWN0aW9uRGF0YSIsImJhbGFuY2UiLCJjIiwibWVzc2FnZSIsImhhbmRsZVRlcm1pbmFsUGF5bWVudCIsInByb2Nlc3NvciIsInRlcm1pbmFsSWQiLCJ0ZXJtaW5hbFJlc3VsdCIsInN1Y2Nlc3MiLCJTdHJpbmciLCJ0cmFuc2FjdGlvbklkIiwibGFzdDQiLCJzZXRUaW1lb3V0IiwicHJvY2Vzc0NoZWNrb3V0Iiwic3VidG90YWxXaXRoRmVlcyIsInBhaWRDYXNoIiwicGFpZENhcmQiLCJwYWlkVG90YWwiLCJ0ZW1wTG90dG9BbW91bnQiLCJsb3R0b0Ftb3VudCIsInRvdGFsV2l0aENhc2hiYWNrIiwiaXNOYU4iLCJjYXJkRmVlRm9yQ2FsYyIsInNwZWNpZmllZENyZWRpdEFtb3VudCIsInJlcXVpcmVkUGF5bWVudCIsImZpbmFsQ2FzaEFtb3VudCIsImZpbmFsQ2FyZEFtb3VudCIsInRvdGFsT3dlZCIsIm1pbiIsInJlbWFpbmluZ1RvdGFsIiwiY2FzaFJhdGlvIiwiY2FyZFJhdGlvIiwicHVzaCIsInRyYW5zYWN0aW9uSXRlbXMiLCJjYXJkRmVlRm9ySXRlbSIsImNjQ2hhcmdlRm9yTGluZUl0ZW0iLCJuZXdTdWJ0b3RhbCIsIm5ld1RheGFibGVUb3RhbCIsIm5ld05vblRheGFibGVUb3RhbCIsIm5ld1RheCIsIm5ld1RvdGFsIiwidHJhbnNhY3Rpb24iLCJ0aGVuIiwiciIsImRhdGEiLCJjcmVkaXRBY2NvdW50UmVzcG9uc2UiLCJ3YXJuIiwidGV4dCIsInVwZGF0ZWRDdXN0b21lclJlc3BvbnNlIiwidXBkYXRlZEFjY291bnQiLCJhY2NvdW50IiwiZmV0Y2hFeGlzdGluZ0N1c3RvbWVycyIsImVyciIsImNhdGNoIiwic3RhcnROZXdTYWxlIiwiY3VzdG9tZXJzIiwiYWNjb3VudHMiLCJoYW5kbGVDdXN0b21lck5hbWVDaGFuZ2UiLCJ2YWx1ZSIsIkFycmF5IiwiaXNBcnJheSIsIm1hdGNoaW5nQ3VzdG9tZXJzIiwiY3VzdG9tZXIiLCJleGFjdE1hdGNoIiwiaGFuZGxlQ3VzdG9tZXJTZWxlY3Rpb24iLCJwcm9jZXNzQ3VzdG9tZXJQYXltZW50IiwicGF5bWVudEFtb3VudCIsInVwZGF0ZWRDdXN0b21lciIsImNyZWRpdFBheW1lbnRQYXJhbSIsImdldCIsInRhcmdldEN1c3RvbWVyIiwibmV3U2FsZVBhcmFtIiwidXJsIiwiVVJMIiwid2luZG93IiwibG9jYXRpb24iLCJkZWxldGUiLCJoaXN0b3J5IiwicmVwbGFjZVN0YXRlIiwic3dhcFBheW1lbnRzIiwiY3VycmVudENhc2giLCJjdXJyZW50Q2FyZCIsInByaW50UmVjZWlwdCIsInByaW50V2luZG93Iiwib3BlbiIsInJlY2VpcHRDb250ZW50IiwidG9TdHJpbmciLCJzbGljZSIsInRvTG9jYWxlU3RyaW5nIiwiam9pbiIsImluY2x1ZGVUYXgiLCJ0b1VwcGVyQ2FzZSIsImRvY3VtZW50Iiwid3JpdGUiLCJjbG9zZSIsImxvdHRvIiwibmV3Q2FyZCIsIm5ld0Nhc2giLCJoYW5kbGVLZXlEb3duIiwiZXZlbnQiLCJhY3RpdmVFbGVtZW50IiwiaXNUeXBpbmdJbklucHV0IiwidGFnTmFtZSIsImNvbnRlbnRFZGl0YWJsZSIsImN1cnJlbnRUaW1lIiwibm93IiwidGltZURpZmYiLCJpc1NjYW5uZXJJbnB1dCIsImtleSIsImhhbmRsZUJhcmNvZGVTY2FubmVkIiwiaGFuZGxlRm9jdXNBbnl3aGVyZSIsImNsaWNrZWRFbGVtZW50IiwidGFyZ2V0IiwiaXNGb3JtRWxlbWVudCIsImlzQ2F0ZWdvcnlGaWx0ZXIiLCJjbG9zZXN0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJiYXJjb2RlIiwiZm91bmRQcm9kdWN0IiwiaDIiLCJkaXYiLCJjbGFzc05hbWUiLCJoMyIsImhyIiwic3BhbiIsInN0eWxlIiwiZm9udFdlaWdodCIsImNvbG9yIiwic3Ryb25nIiwiaWR4IiwiZGlzcGxheSIsImdhcCIsIm1hcmdpblRvcCIsIm9uQ2xpY2siLCJiYWNrZ3JvdW5kQ29sb3IiLCJqdXN0aWZ5Q29udGVudCIsImFsaWduSXRlbXMiLCJtYXJnaW5Cb3R0b20iLCJmb250U2l6ZSIsInBhZGRpbmciLCJiYWNrZ3JvdW5kIiwiYm9yZGVyUmFkaXVzIiwibWFyZ2luTGVmdCIsInBvc2l0aW9uIiwiZmxleCIsInJlZiIsInR5cGUiLCJwbGFjZWhvbGRlciIsIm9uQ2hhbmdlIiwiZSIsIm9uS2V5RG93biIsInRvcCIsInJpZ2h0IiwiYnV0dG9uIiwiYm9yZGVyIiwiY3Vyc29yIiwid2hpdGVTcGFjZSIsInRpdGxlIiwib25CbHVyIiwib3B0aW9uIiwiZ3JpZFRlbXBsYXRlQ29sdW1ucyIsIm1heEhlaWdodCIsIm92ZXJmbG93WCIsImljb24iLCJkZXNjcmlwdGlvbiIsImRhdGEtY2F0ZWdvcnkiLCJzZWFyY2hWYWx1ZSIsIm51bWVyaWNWYWx1ZSIsInF1ZXJ5U2VsZWN0b3IiLCJ0cmFuc2Zvcm0iLCJ0ZXh0QWxpZ24iLCJ0cmFuc2l0aW9uIiwiYm94U2hhZG93Iiwib25Nb3VzZUVudGVyIiwib25Nb3VzZUxlYXZlIiwib3BhY2l0eSIsImxlZnQiLCJib3R0b20iLCJ6SW5kZXgiLCJtaW5XaWR0aCIsIm1heFdpZHRoIiwibGFiZWwiLCJpbnB1dCIsIndpZHRoIiwiYXV0b0ZvY3VzIiwic3RlcCIsInNlbGVjdCIsInBhcnNlSW50IiwiaDQiLCJtYXJnaW4iLCJhYnMiLCJkaXNhYmxlZCIsImNoZWNrZWQiLCJmb250U3R5bGUiLCJpc0VuYWJsZWQiLCJjdXJyZW50Q2FyZEFtb3VudCIsImN1cnJlbnRDYXNoQW1vdW50IiwibmV3Q2FyZEFtb3VudCIsIm1hcmdpblJpZ2h0IiwicGFkZGluZ0xlZnQiLCJ0b3RhbEFtb3VudCIsImlzU3VmZmljaWVudCIsInRvdGFsTmVlZGVkIiwiZmxleERpcmVjdGlvbiIsIm92ZXJmbG93WSIsImZpbHRlcmVkQ3VzdG9tZXJzIiwiaW5kZXgiLCJib3JkZXJCb3R0b20iLCJuZXdDdXN0b21lciIsImlzTmV3Q3VzdG9tZXIiLCJib3JkZXJUb3AiLCJ1cGRhdGVkQXQiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJwYXltZW50TmVlZGVkIiwicGF5bWVudFN0YXR1cyIsInBhcnNlZCIsInZhbGlkQ2FzaEFtb3VudCIsImN1cnJlbnRDcmVkaXQiLCJyZW1haW5pbmdBbW91bnQiLCJtYXhBbGxvd2VkUGF5bWVudCIsImhlaWdodCIsInZhbGlkQ2FyZEFtb3VudCIsIlBPU1BhZ2UiLCJmYWxsYmFjayJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/pos/page.js\n"));

/***/ })

});