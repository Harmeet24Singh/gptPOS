"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/pos/page",{

/***/ "(app-pages-browser)/./app/pos/page.js":
/*!*************************!*\
  !*** ./app/pos/page.js ***!
  \*************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ POSPage; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _lib_hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/hooks */ \"(app-pages-browser)/./app/lib/hooks.js\");\n/* harmony import */ var _lib_withInventory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/withInventory */ \"(app-pages-browser)/./app/lib/withInventory.js\");\n/* harmony import */ var _lib_slices_inventorySlice__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/slices/inventorySlice */ \"(app-pages-browser)/./app/lib/slices/inventorySlice.js\");\n/* harmony import */ var _styles_posStyles__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../styles/posStyles */ \"(app-pages-browser)/./app/styles/posStyles.js\");\n/* harmony import */ var _components_OnScreenKeyboard__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/OnScreenKeyboard */ \"(app-pages-browser)/./app/components/OnScreenKeyboard.js\");\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! styled-components */ \"(app-pages-browser)/./node_modules/styled-components/dist/styled-components.browser.esm.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n// Wrapper to handle keyboard spacing\nconst POSWrapper = styled_components__WEBPACK_IMPORTED_MODULE_8__[\"default\"].div.withConfig({\n    displayName: \"page__POSWrapper\",\n    componentId: \"sc-c03b995-0\"\n})([\n    \"display:flex;flex-direction:column;min-height:100vh;max-height:100vh;overflow:hidden;\"\n]);\n_c = POSWrapper;\nconst KeyboardArea = styled_components__WEBPACK_IMPORTED_MODULE_8__[\"default\"].div.withConfig({\n    displayName: \"page__KeyboardArea\",\n    componentId: \"sc-c03b995-1\"\n})([\n    \"height:180px;background:#f8f9fa;border:1px solid #dee2e6;border-radius:8px;margin:0.5rem 0;display:flex;flex-direction:column;flex-shrink:0;\"\n]);\n_c1 = KeyboardArea;\n// Initial inventory data as fallback\nconst initialInventory = [\n    {\n        id: 1,\n        name: \"Coca Cola 355ml\",\n        category: \"Beverages\",\n        price: 1.5,\n        stock: 24,\n        lowStockThreshold: 10,\n        taxable: true\n    },\n    {\n        id: 2,\n        name: \"Lays Classic Chips\",\n        category: \"Snacks\",\n        price: 2.99,\n        stock: 8,\n        lowStockThreshold: 15,\n        taxable: true\n    },\n    {\n        id: 3,\n        name: \"Wonder Bread\",\n        category: \"Bakery\",\n        price: 3.49,\n        stock: 12,\n        lowStockThreshold: 5,\n        taxable: false\n    },\n    {\n        id: 4,\n        name: \"Marlboro Gold\",\n        category: \"Tobacco\",\n        price: 12.99,\n        stock: 3,\n        lowStockThreshold: 5,\n        taxable: true\n    },\n    {\n        id: 5,\n        name: \"Marlboro Red\",\n        category: \"Tobacco\",\n        price: 12.99,\n        stock: 5,\n        lowStockThreshold: 5,\n        taxable: true\n    },\n    {\n        id: 6,\n        name: \"Camel Blue\",\n        category: \"Tobacco\",\n        price: 13.49,\n        stock: 4,\n        lowStockThreshold: 5,\n        taxable: true\n    },\n    {\n        id: 7,\n        name: \"Newport Menthol\",\n        category: \"Tobacco\",\n        price: 13.99,\n        stock: 6,\n        lowStockThreshold: 5,\n        taxable: true\n    },\n    {\n        id: 8,\n        name: \"Red Bull 250ml\",\n        category: \"Beverages\",\n        price: 3.99,\n        stock: 18,\n        lowStockThreshold: 8,\n        taxable: true\n    },\n    {\n        id: 9,\n        name: \"Milk 1L\",\n        category: \"Dairy\",\n        price: 2.79,\n        stock: 15,\n        lowStockThreshold: 5,\n        taxable: false\n    },\n    {\n        id: 10,\n        name: \"Banana (each)\",\n        category: \"Fresh Produce\",\n        price: 0.89,\n        stock: 25,\n        lowStockThreshold: 10,\n        taxable: false\n    },\n    {\n        id: 11,\n        name: \"Coffee Cup 12oz\",\n        category: \"Beverages\",\n        price: 1.99,\n        stock: 30,\n        lowStockThreshold: 10,\n        taxable: true\n    }\n];\nfunction POSContent() {\n    _s();\n    const dispatch = (0,_lib_hooks__WEBPACK_IMPORTED_MODULE_3__.useAppDispatch)();\n    const { items: inventory, loading: inventoryLoading, categories, getFilteredInventory } = (0,_lib_hooks__WEBPACK_IMPORTED_MODULE_3__.useInventoryManager)();\n    const { inventoryLoaded } = (0,_lib_withInventory__WEBPACK_IMPORTED_MODULE_4__.useEnsureInventory)();\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)();\n    const [cart, setCart] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [searchTerm, setSearchTerm] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [categoryFilter, setCategoryFilter] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const searchInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const cashAmountRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const cardAmountRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const discountRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const cashbackAmountRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const cashbackFeeRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const lottoWinningsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const creditCustomerNameRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [barcodeBuffer, setBarcodeBuffer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [lastKeyTime, setLastKeyTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [showReceipt, setShowReceipt] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [lastTransaction, setLastTransaction] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [cashAmount, setCashAmount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [cardAmount, setCardAmount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [cashbackAmount, setCashbackAmount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [cashbackFee, setCashbackFee] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [cashbackEnabled, setCashbackEnabled] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [lottoWinnings, setLottoWinnings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [paymentError, setPaymentError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [autoFillOther, setAutoFillOther] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [lastEdited, setLastEdited] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null); // 'cash' | 'card' | null\n    // Virtual keyboard states\n    const [showKeyboard, setShowKeyboard] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [activeInputRef, setActiveInputRef] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [keyboardMode, setKeyboardMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"numeric\"); // 'full' or 'numeric'\n    // Helper function to handle input focus and show appropriate keyboard\n    const handleInputFocus = function(inputRef) {\n        let isNumeric = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n        setActiveInputRef(inputRef);\n        // Only change keyboard mode if it's not already active for this input\n        // This preserves manual mode changes made by the user\n        if (activeInputRef !== inputRef) {\n            setKeyboardMode(isNumeric ? \"numeric\" : \"full\");\n        }\n        setShowKeyboard(true);\n    };\n    // Function to show keyboard for already active input without changing mode\n    const showKeyboardForInput = (inputRef)=>{\n        setActiveInputRef(inputRef);\n        setShowKeyboard(true);\n    // Don't change keyboard mode - preserve user's choice\n    };\n    // Credit sale states\n    const [isCreditSale, setIsCreditSale] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [creditCustomerName, setCreditCustomerName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [creditAmount, setCreditAmount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0); // Specific credit amount\n    const [isAutoCalculating, setIsAutoCalculating] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false); // Prevent circular updates\n    // Credit customer management states\n    const [existingCustomers, setExistingCustomers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [showCustomerSuggestions, setShowCustomerSuggestions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [selectedCustomer, setSelectedCustomer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [customerBalance, setCustomerBalance] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [showPaymentOptions, setShowPaymentOptions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Card fee states\n    const [cardType, setCardType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"debit\"); // 'debit' | 'credit'\n    const [cardFeeEnabled, setCardFeeEnabled] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const CARD_FEE_AMOUNT = 0.25; // $0.25 fee for credit cards\n    // Check if this is a balance payment (customer selected and no cart items)\n    const isBalancePayment = selectedCustomer && cart.length === 0;\n    // Discount states\n    const [discountAmount, setDiscountAmount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    // Manual item entry states\n    const [showManualEntry, setShowManualEntry] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [manualItem, setManualItem] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        name: \"\",\n        price: \"\",\n        category: categories.length > 0 ? categories[0] : \"grocery-taxable\",\n        quantity: 1\n    });\n    // Use Redux-managed inventory with smart filtering\n    const filteredInventory = getFilteredInventory(searchTerm, categoryFilter);\n    const addToCart = (product)=>{\n        // For manual items, find existing item by name, price, and category instead of ID\n        let existingItem;\n        if (product.isManual) {\n            existingItem = cart.find((item)=>item.isManual && item.name === product.name && item.price === product.price && item.category === product.category);\n        } else {\n            existingItem = cart.find((item)=>item.id === product.id);\n        }\n        if (existingItem) {\n            setCart(cart.map((item)=>{\n                // For manual items, match by name, price, and category\n                const isMatch = product.isManual ? item.isManual && item.name === product.name && item.price === product.price && item.category === product.category : item.id === product.id;\n                return isMatch ? {\n                    ...item,\n                    quantity: item.quantity + 1\n                } : item;\n            }));\n            // Update inventory stock immediately (optimistic update)\n            if (!product.isManual && product.id) {\n                dispatch((0,_lib_slices_inventorySlice__WEBPACK_IMPORTED_MODULE_5__.updateItemStockLocal)({\n                    id: product.id,\n                    newStock: product.stock - 1\n                }));\n            }\n        } else {\n            setCart([\n                ...cart,\n                {\n                    ...product,\n                    quantity: 1,\n                    applyTax: product.taxable === true\n                }\n            ]);\n            // Update inventory stock immediately (optimistic update)\n            if (!product.isManual && product.id) {\n                dispatch((0,_lib_slices_inventorySlice__WEBPACK_IMPORTED_MODULE_5__.updateItemStockLocal)({\n                    id: product.id,\n                    newStock: product.stock - 1\n                }));\n            }\n        }\n    };\n    const handleVoidItem = (itemId, itemName)=>{\n        const confirmVoid = confirm('Void item: \"'.concat(itemName, '\"?\\n\\nThis will remove the item completely from the cart.'));\n        if (confirmVoid) {\n            // Find the item being voided to restore stock\n            const itemToVoid = cart.find((item)=>item.id === itemId);\n            if (itemToVoid && !itemToVoid.isManual) {\n                // Find the corresponding product in inventory\n                const product = inventory.find((p)=>p.id === itemId);\n                if (product) {\n                    // Restore stock by adding back the quantity being voided\n                    dispatch((0,_lib_slices_inventorySlice__WEBPACK_IMPORTED_MODULE_5__.updateItemStockLocal)({\n                        id: product.id,\n                        newStock: product.stock + itemToVoid.quantity\n                    }));\n                }\n            }\n            setCart(cart.filter((item)=>item.id !== itemId));\n        }\n    };\n    const handleDecreaseQuantity = (itemId)=>{\n        const item = cart.find((item)=>item.id === itemId);\n        if (!item || item.quantity <= 1) return; // Don't allow decrease below 1\n        // Decrease quantity normally\n        updateCartQuantity(itemId, item.quantity - 1);\n    };\n    const updateCartQuantity = (id, newQuantity)=>{\n        if (newQuantity === 0) {\n            // When quantity would become 0, prompt for void confirmation\n            const item = cart.find((item)=>item.id === id);\n            if (item) {\n                handleVoidItem(id, item.name);\n            }\n        } else {\n            // Find the item in cart to check if it's manual\n            const cartItem = cart.find((item)=>item.id === id);\n            if (cartItem && cartItem.isManual) {\n                // Manual items have unlimited stock\n                setCart(cart.map((item)=>item.id === id ? {\n                        ...item,\n                        quantity: newQuantity\n                    } : item));\n            } else {\n                // Regular inventory items - check stock and update inventory\n                const product = inventory.find((p)=>p.id === id);\n                const cartItem = cart.find((item)=>item.id === id);\n                if (product && cartItem) {\n                    const quantityDiff = newQuantity - cartItem.quantity;\n                    const newStock = product.stock - quantityDiff;\n                    setCart(cart.map((item)=>item.id === id ? {\n                            ...item,\n                            quantity: newQuantity\n                        } : item));\n                    // Update inventory stock immediately\n                    dispatch((0,_lib_slices_inventorySlice__WEBPACK_IMPORTED_MODULE_5__.updateItemStockLocal)({\n                        id: product.id,\n                        newStock: newStock\n                    }));\n                }\n            }\n        }\n    };\n    const removeFromCart = (id)=>{\n        // Find the item being removed to restore stock\n        const itemToRemove = cart.find((item)=>item.id === id);\n        if (itemToRemove && !itemToRemove.isManual) {\n            // Find the corresponding product in inventory\n            const product = inventory.find((p)=>p.id === id);\n            if (product) {\n                // Restore stock by adding back the quantity being removed\n                dispatch((0,_lib_slices_inventorySlice__WEBPACK_IMPORTED_MODULE_5__.updateItemStockLocal)({\n                    id: product.id,\n                    newStock: product.stock + itemToRemove.quantity\n                }));\n            }\n        }\n        setCart(cart.filter((item)=>item.id !== id));\n    };\n    const toggleItemTax = (id)=>{\n        setCart(cart.map((item)=>item.id === id ? {\n                ...item,\n                applyTax: !item.applyTax\n            } : item));\n    };\n    // Function to handle search when Enter is pressed\n    const handleSearchEnter = ()=>{\n        if (!searchTerm.trim()) return;\n        // Check if any products match the search term\n        const searchResults = filteredInventory;\n        if (searchResults.length === 0) {\n            // No products found, prompt for manual entry\n            const itemName = searchTerm.trim();\n            setManualItem((prev)=>({\n                    ...prev,\n                    name: itemName\n                }));\n            setShowManualEntry(true);\n        } else if (searchResults.length === 1) {\n            // Exactly one product found - automatically add to cart\n            const foundItem = searchResults[0];\n            addToCart(foundItem);\n            setSearchTerm(\"\"); // Clear search after adding\n            // Focus back on search input for next scan\n            if (searchInputRef.current) {\n                searchInputRef.current.focus();\n            }\n        }\n    // If multiple results, do nothing - let user see the results and click manually\n    };\n    // Debug function to force refresh inventory from database\n    const handleDebugRefresh = async ()=>{\n        console.log(\"=== DEBUG REFRESH TRIGGERED ===\");\n        console.log(\"Current inventory count:\", inventory.length);\n        // Clear search and filters\n        setSearchTerm(\"\");\n        setCategoryFilter(\"\");\n        // Force refresh inventory by bypassing cache\n        await dispatch((0,_lib_slices_inventorySlice__WEBPACK_IMPORTED_MODULE_5__.loadInventory)(true));\n        console.log(\"=== DEBUG REFRESH COMPLETED ===\");\n        console.log(\"New inventory count:\", inventory.length);\n        // Focus back on search input\n        if (searchInputRef.current) {\n            searchInputRef.current.focus();\n        }\n    };\n    // Helper function to determine if a category should be taxable\n    const isCategoryTaxable = (category)=>{\n        // Check if category name contains indicators of taxable items\n        const taxableKeywords = [\n            \"taxable\",\n            \"lotto\",\n            \"lottery\",\n            \"tobacco\",\n            \"alcohol\"\n        ];\n        const nonTaxableKeywords = [\n            \"non-taxable\",\n            \"untaxable\",\n            \"basic\",\n            \"essential\"\n        ];\n        const categoryLower = category.toLowerCase();\n        // First check for explicit non-taxable indicators\n        if (nonTaxableKeywords.some((keyword)=>categoryLower.includes(keyword))) {\n            return false;\n        }\n        // Then check for explicit taxable indicators\n        if (taxableKeywords.some((keyword)=>categoryLower.includes(keyword))) {\n            return true;\n        }\n        // Default to taxable for unknown categories (safer for tax compliance)\n        return true;\n    };\n    // Function to add manual item to cart\n    const addManualItem = ()=>{\n        if (!manualItem.name.trim() || !manualItem.price || parseFloat(manualItem.price) <= 0) {\n            alert(\"Please enter item name and valid price\");\n            return;\n        }\n        // Create a consistent ID based on name, price, and category for manual items\n        const normalizedName = manualItem.name.trim().toLowerCase().replace(/\\s+/g, \"-\");\n        const priceStr = parseFloat(manualItem.price).toFixed(2);\n        const manualId = \"manual-\".concat(normalizedName, \"-\").concat(priceStr, \"-\").concat(manualItem.category);\n        const newItem = {\n            id: manualId,\n            name: manualItem.name.trim(),\n            price: parseFloat(manualItem.price),\n            category: manualItem.category,\n            applyTax: isCategoryTaxable(manualItem.category),\n            stock: 999,\n            isManual: true\n        };\n        // Add to cart with specified quantity\n        for(let i = 0; i < manualItem.quantity; i++){\n            addToCart(newItem);\n        }\n        // Reset manual item form and clear search\n        setManualItem({\n            name: \"\",\n            price: \"\",\n            category: categories.length > 0 ? categories[0] : \"grocery-taxable\",\n            quantity: 1\n        });\n        setShowManualEntry(false);\n        setSearchTerm(\"\"); // Clear search term after adding item\n    };\n    const calculateSubtotal = ()=>{\n        return cart.reduce((total, item)=>total + item.price * item.quantity, 0);\n    };\n    const calculateTotal = ()=>{\n        const subtotal = calculateSubtotal();\n        const discount = Number(parseFloat(discountAmount) || 0);\n        const cbFee = Number(parseFloat(cashbackFee) || 0); // Add cashback fee if present\n        // Card fee logic - apply fee when enabled\n        const cardFeeInTotal = cardFeeEnabled ? CARD_FEE_AMOUNT : 0;\n        return Math.max(0, subtotal - discount + cbFee + cardFeeInTotal); // Ensure total doesn't go negative\n    };\n    const calculateTax = ()=>{\n        // Calculate tax on discounted amount for taxable items\n        const discountedSubtotal = calculateTotal(); // This already has discount applied\n        const originalSubtotal = calculateSubtotal();\n        const taxableOriginal = getTaxableTotal();\n        if (originalSubtotal === 0) return 0;\n        // Calculate proportional discount on taxable items\n        const taxableDiscounted = taxableOriginal * (discountedSubtotal / originalSubtotal);\n        return taxableDiscounted * 0.13; // 13% HST for Ontario, Canada\n    };\n    const getTaxableTotal = ()=>{\n        return cart.reduce((total, item)=>{\n            if (item.applyTax === true) {\n                return total + item.price * item.quantity;\n            }\n            return total;\n        }, 0);\n    };\n    const getNonTaxableTotal = ()=>{\n        return cart.reduce((total, item)=>{\n            if (item.applyTax !== true) {\n                return total + item.price * item.quantity;\n            }\n            return total;\n        }, 0);\n    };\n    // Process payment for existing customer balance\n    const processCustomerBalancePayment = async (paymentTotal, cashPaid, cardPaid)=>{\n        if (!selectedCustomer || customerBalance <= 0) {\n            alert(\"No customer selected or customer has no outstanding balance\");\n            return;\n        }\n        if (paymentTotal <= 0) {\n            alert(\"Please enter a payment amount in cash or card\");\n            return;\n        }\n        // Calculate remaining balance after payment\n        const remainingBalance = Math.max(0, customerBalance - paymentTotal);\n        try {\n            // Process the payment against customer's account\n            const response = await fetch(\"/api/credit/accounts\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    action: \"payment\",\n                    customerName: selectedCustomer.customerName,\n                    amount: paymentTotal\n                })\n            });\n            if (!response.ok) {\n                const errorData = await response.json();\n                throw new Error(errorData.error || \"Payment processing failed\");\n            }\n            const result = await response.json();\n            // Create a payment transaction record\n            const paymentTransaction = {\n                timestamp: new Date().toISOString(),\n                items: [\n                    {\n                        id: \"balance-payment\",\n                        name: \"Balance Payment - \".concat(selectedCustomer.customerName),\n                        quantity: 1,\n                        price: paymentTotal,\n                        applyTax: false,\n                        category: \"Payment\"\n                    }\n                ],\n                originalSubtotal: paymentTotal,\n                discount: 0,\n                subtotal: paymentTotal,\n                taxableAmount: 0,\n                nonTaxableAmount: paymentTotal,\n                tax: 0,\n                total: paymentTotal,\n                finalTotal: paymentTotal,\n                cashback: 0,\n                paymentBreakdown: [\n                    ...cashPaid > 0 ? [\n                        {\n                            method: \"cash\",\n                            amount: cashPaid\n                        }\n                    ] : [],\n                    ...cardPaid > 0 ? [\n                        {\n                            method: \"card\",\n                            amount: cardPaid\n                        }\n                    ] : []\n                ],\n                change: 0,\n                isCreditSale: false,\n                isPartialPayment: false,\n                creditBalance: 0,\n                paidAmount: paymentTotal,\n                creditCustomerName: selectedCustomer.customerName,\n                creditStatus: \"payment\",\n                lottoWinnings: 0,\n                isBalancePayment: true,\n                previousBalance: customerBalance,\n                newBalance: remainingBalance\n            };\n            // Save the payment transaction\n            const transactionResponse = await fetch(\"/api/transaction\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"x-api-key\": \"dev-secret\"\n                },\n                body: JSON.stringify(paymentTransaction)\n            });\n            if (transactionResponse.ok) {\n                const transactionData = await transactionResponse.json();\n                // Show success message and receipt\n                setLastTransaction({\n                    id: transactionData.id,\n                    ...paymentTransaction\n                });\n                setShowReceipt(true);\n                // Update local state\n                setCustomerBalance(remainingBalance);\n                setSelectedCustomer({\n                    ...selectedCustomer,\n                    balance: remainingBalance\n                });\n                setExistingCustomers((prev)=>prev.map((c)=>c.customerName === selectedCustomer.customerName ? {\n                            ...c,\n                            balance: remainingBalance\n                        } : c));\n                // Reset payment fields\n                setCashAmount(\"\");\n                setCardAmount(\"\");\n                setPaymentError(\"\");\n                console.log(\"Payment processed: $\".concat(paymentTotal.toFixed(2), \" paid, remaining balance: $\").concat(remainingBalance.toFixed(2)));\n            } else {\n                throw new Error(\"Failed to record payment transaction\");\n            }\n        } catch (error) {\n            console.error(\"Error processing customer payment:\", error);\n            setPaymentError(error.message || \"Failed to process payment\");\n        }\n    };\n    // Terminal Payment Handler\n    const handleTerminalPayment = async (amount)=>{\n        try {\n            // Show processing indicator\n            setPaymentError(\"Processing payment via terminal... Please present card.\");\n            // Call terminal API\n            const response = await fetch(\"/api/terminal\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    amount: amount,\n                    processor: \"chase\",\n                    terminalId: null\n                })\n            });\n            const terminalResult = await response.json();\n            if (!response.ok) {\n                throw new Error(terminalResult.error || \"Terminal request failed\");\n            }\n            if (terminalResult.success) {\n                // Set payment amounts for successful terminal payment\n                setCashAmount(\"0\");\n                setCardAmount(String(amount.toFixed(2)));\n                setLastEdited(\"card\");\n                // Auto-process checkout after successful terminal payment\n                alert(\"✅ Payment Approved!\\n\\nTransaction ID: \".concat(terminalResult.transactionId, \"\\nCard: \").concat(terminalResult.cardType, \" ****\").concat(terminalResult.last4, \"\\nAmount: $\").concat(amount.toFixed(2), \"\\n\\nProcessing sale...\"));\n                // Trigger checkout after short delay\n                setTimeout(()=>{\n                    processCheckout();\n                }, 500);\n            }\n        } catch (error) {\n            console.error(\"Terminal payment failed:\", error);\n            alert(\"❌ Payment Failed\\n\\n\".concat(error.message, \"\\n\\nPlease try again or use manual payment entry.\"));\n            setPaymentError(error.message);\n        }\n    };\n    const processCheckout = ()=>{\n        const originalSubtotal = calculateSubtotal(); // Items total before discount\n        const discount = Number(parseFloat(discountAmount) || 0);\n        const subtotalWithFees = calculateTotal(); // Use calculateTotal() which includes discount and card fees\n        const tax = calculateTax();\n        const total = subtotalWithFees + tax;\n        const cashback = Number(parseFloat(cashbackAmount) || 0);\n        const cbFee = Number(parseFloat(cashbackFee) || 0);\n        // Get payment amounts\n        const paidCash = Number(parseFloat(cashAmount) || 0);\n        const paidCard = Number(parseFloat(cardAmount) || 0);\n        const paidTotal = paidCash + paidCard;\n        const tempLottoAmount = Number(parseFloat(lottoWinnings) || 0);\n        // Special case: Customer balance payment (no items in cart, just paying existing debt)\n        if (selectedCustomer && customerBalance > 0 && cart.length === 0 && paidTotal > 0) {\n            processCustomerBalancePayment(paidTotal, paidCash, paidCard);\n            return;\n        }\n        // Check if there's anything to process (items, cashback, or lotto winnings)\n        if (cart.length === 0 && cashback === 0 && tempLottoAmount === 0) {\n            alert(\"No items in cart, no cashback amount, and no lotto winnings entered\");\n            return;\n        }\n        // Validate credit sale\n        if (isCreditSale && !creditCustomerName.trim()) {\n            alert(\"Please enter customer name for credit sale\");\n            return;\n        }\n        // Initialize payment variables (reuse the ones already declared above)\n        const lottoAmount = Number(parseFloat(lottoWinnings) || 0);\n        let totalWithCashback = total + cashback;\n        let change = 0;\n        let creditBalance = 0;\n        let isPartialPayment = false;\n        if (isNaN(paidCash) || isNaN(paidCard) || isNaN(cashback) || isNaN(lottoAmount) || paidCash < 0 || paidCard < 0 || cashback < 0 || lottoAmount < 0) {\n            setPaymentError(\"Invalid payment amounts\");\n            return;\n        }\n        // Calculate total including cashback as line item, minus lotto winnings\n        // Note: card fee is already included in total from calculateTotal()\n        const cardFeeForCalc = cardFeeEnabled ? CARD_FEE_AMOUNT : 0;\n        const totalCardFee = cardFeeForCalc;\n        totalWithCashback = total + cashback - lottoAmount;\n        if (isCreditSale) {\n            // Use specific credit amount if provided, otherwise calculate from payment difference\n            const specifiedCreditAmount = Number(parseFloat(creditAmount) || 0);\n            if (specifiedCreditAmount > 0) {\n                // Customer specified exact credit amount\n                creditBalance = specifiedCreditAmount;\n                const requiredPayment = totalWithCashback - creditBalance;\n                if (requiredPayment > paidTotal + 0.001) {\n                    setPaymentError(\"Need $\".concat(requiredPayment.toFixed(2), \" payment for $\").concat(creditBalance.toFixed(2), \" credit (Currently paid: $\").concat(paidTotal.toFixed(2), \")\"));\n                    return;\n                }\n                isPartialPayment = creditBalance > 0 && paidTotal > 0;\n            } else {\n                // Traditional mode: credit = remaining balance after payment\n                creditBalance = Math.max(0, totalWithCashback - paidTotal);\n                isPartialPayment = paidTotal > 0 && creditBalance > 0;\n            }\n            // Validate customer name for any credit amount\n            if (creditBalance > 0 && !creditCustomerName.trim()) {\n                alert(\"Please enter customer name for credit amount\");\n                return;\n            }\n            // If no payment and no credit amount specified, require customer name\n            if (paidTotal === 0 && creditBalance === 0 && !creditCustomerName.trim()) {\n                alert(\"Please enter customer name or specify payment/credit amounts\");\n                return;\n            }\n        } else {\n            // For non-credit sales, require full payment\n            // For cashback transactions, require card payment to cover total including cashback\n            if (cashback > 0) {\n                if (paidCard < totalWithCashback - 0.001) {\n                    setPaymentError(\"Cashback requires card payment of $\".concat(totalWithCashback.toFixed(2), \" (Total with Cashback: $\").concat(totalWithCashback.toFixed(2), \")\"));\n                    return;\n                }\n            } else {\n                // Regular transaction without cashback\n                if (paidTotal < totalWithCashback - 0.001) {\n                    setPaymentError(\"Payment is insufficient. Need $\".concat(totalWithCashback.toFixed(2), \" for purchase\"));\n                    return;\n                }\n            }\n            change = cashback > 0 ? 0 : Math.max(0, +(paidTotal - totalWithCashback).toFixed(2));\n        }\n        // Payment breakdown for different transaction types\n        let finalCashAmount = 0;\n        let finalCardAmount = 0;\n        if (isCreditSale) {\n            // Credit sale - no immediate payment\n            finalCashAmount = 0;\n            finalCardAmount = 0;\n        } else {\n            // Regular payment handling - record only the actual sale amount, not overpayment\n            // Cash amount should be the portion of the total that was paid in cash (up to total owed)\n            const totalOwed = totalWithCashback;\n            finalCashAmount = Math.min(paidCash, Math.max(0, totalOwed));\n            finalCardAmount = Math.min(paidCard, Math.max(0, totalOwed - finalCashAmount));\n            if (cashback > 0) {\n                // Cashback transactions: record cash going out and card payment\n                finalCashAmount = -cashback; // Cash reduced from register\n                finalCardAmount = paidCard; // Card payment covers purchase + cashback\n            }\n            // Handle lotto winnings - customer gets cash back if total is negative\n            if (lottoAmount > 0 && totalWithCashback < 0) {\n                // Customer owes nothing and gets money back (lotto winnings exceed purchase total)\n                finalCashAmount = totalWithCashback; // Negative cash amount = cash going out of register\n                finalCardAmount = 0; // No card payment needed\n            } else if (lottoAmount > 0) {\n                // Lotto winnings reduce the amount customer needs to pay\n                // Adjust payment amounts proportionally\n                const remainingTotal = totalWithCashback;\n                if (remainingTotal > 0) {\n                    const cashRatio = paidCash / paidTotal;\n                    const cardRatio = paidCard / paidTotal;\n                    finalCashAmount = remainingTotal * cashRatio;\n                    finalCardAmount = remainingTotal * cardRatio;\n                }\n            }\n        }\n        const paymentBreakdown = [];\n        if (isCreditSale) {\n            // For partial payments, record both payment and credit\n            if (isPartialPayment) {\n                if (paidCash > 0) paymentBreakdown.push({\n                    method: \"cash\",\n                    amount: +paidCash.toFixed(2)\n                });\n                if (paidCard > 0) paymentBreakdown.push({\n                    method: \"card\",\n                    amount: +paidCard.toFixed(2)\n                });\n                paymentBreakdown.push({\n                    method: \"credit\",\n                    amount: +creditBalance.toFixed(2),\n                    customerName: creditCustomerName.trim()\n                });\n            } else {\n                // Full credit sale (no payment)\n                paymentBreakdown.push({\n                    method: \"credit\",\n                    amount: +totalWithCashback.toFixed(2),\n                    customerName: creditCustomerName.trim()\n                });\n            }\n        } else {\n            if (finalCashAmount !== 0) paymentBreakdown.push({\n                method: \"cash\",\n                amount: +finalCashAmount.toFixed(2)\n            });\n            if (finalCardAmount > 0) paymentBreakdown.push({\n                method: \"card\",\n                amount: +finalCardAmount.toFixed(2)\n            });\n        }\n        // Add lotto winnings to payment breakdown for tracking\n        if (lottoAmount > 0) paymentBreakdown.push({\n            method: \"lotto\",\n            amount: +lottoAmount.toFixed(2)\n        });\n        // Include cashback as an item if present\n        const transactionItems = cart.map((c)=>({\n                id: c.id,\n                name: c.name,\n                quantity: c.quantity,\n                price: c.price,\n                applyTax: c.applyTax,\n                category: c.category\n            }));\n        // Add cashback as a line item if present\n        if (cashback > 0) {\n            transactionItems.push({\n                id: \"cashback-item\",\n                name: \"Cashback\",\n                quantity: 1,\n                price: cashback,\n                applyTax: false,\n                category: \"Cashback\"\n            });\n        }\n        // Add cashback fee as a line item if present\n        if (cbFee > 0) {\n            transactionItems.push({\n                id: \"cashback-fee-item\",\n                name: \"Cashback Fee\",\n                quantity: 1,\n                price: cbFee,\n                applyTax: true,\n                category: \"Fees\"\n            });\n        }\n        // Add card fee as a line item if present\n        const cardFeeForItem = cardFeeEnabled ? CARD_FEE_AMOUNT : 0;\n        const ccChargeForLineItem = cardFeeForItem;\n        if (ccChargeForLineItem > 0) {\n            transactionItems.push({\n                id: \"card-processing-fee-item\",\n                name: \"Card Processing Fee\",\n                quantity: 1,\n                price: ccChargeForLineItem,\n                applyTax: false,\n                category: \"Fees\"\n            });\n        }\n        // Add lotto winnings as a line item if present (negative price = discount)\n        if (lottoAmount > 0) {\n            transactionItems.push({\n                id: \"lotto-winnings\",\n                name: \"Lotto Winnings\",\n                quantity: 1,\n                price: -lottoAmount,\n                applyTax: false,\n                category: \"Lotto\"\n            });\n        }\n        // Add discount as a line item if present (negative price = discount)\n        if (discount > 0) {\n            transactionItems.push({\n                id: \"discount-item\",\n                name: \"Discount\",\n                quantity: 1,\n                price: -discount,\n                applyTax: false,\n                category: \"Discount\"\n            });\n        }\n        // Recalculate totals with cashback, lotto winnings, discount, and cashback fee included as items\n        const newSubtotal = originalSubtotal + cashback - lottoAmount - discount + cbFee;\n        const newTaxableTotal = getTaxableTotal() + cbFee; // cashback fee is taxable, discount/cashback/lotto are non-taxable\n        const newNonTaxableTotal = getNonTaxableTotal() + cashback - lottoAmount - discount;\n        const newTax = tax; // tax already calculated on discounted amount\n        const newTotal = total + cashback - lottoAmount + ccChargeForLineItem;\n        const transaction = {\n            timestamp: new Date().toISOString(),\n            items: transactionItems,\n            originalSubtotal: originalSubtotal,\n            discount: discount,\n            subtotal: newSubtotal,\n            taxableAmount: newTaxableTotal,\n            nonTaxableAmount: newNonTaxableTotal,\n            tax: newTax,\n            total: newTotal,\n            finalTotal: totalWithCashback,\n            cashback: cashback,\n            paymentBreakdown,\n            change,\n            isCreditSale: isCreditSale,\n            isPartialPayment: isPartialPayment,\n            creditBalance: creditBalance,\n            paidAmount: paidTotal,\n            creditCustomerName: isCreditSale ? creditCustomerName.trim() : null,\n            creditStatus: isCreditSale ? creditBalance > 0 ? \"unpaid\" : \"paid\" : null,\n            lottoWinnings: lottoAmount,\n            // Enhanced card fee tracking\n            cardType: cardType,\n            cardFeeEnabled: cardFeeEnabled\n        };\n        // send to server\n        fetch(\"/api/transaction\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"x-api-key\": \"dev-secret\"\n            },\n            body: JSON.stringify(transaction)\n        }).then((r)=>r.json()).then(async (data)=>{\n            if (data && data.transaction) {\n                setLastTransaction({\n                    id: data.id,\n                    ...data.transaction\n                });\n                setShowReceipt(true);\n                setCart([]);\n                setCashAmount(\"\");\n                setCardAmount(\"\");\n                setCashbackAmount(\"\");\n                setLottoWinnings(\"\");\n                setDiscountAmount(\"\");\n                setIsCreditSale(false);\n                setCreditCustomerName(\"\");\n                setCreditAmount(0);\n                setPaymentError(\"\");\n                // Reset card fee states\n                setCardType(\"debit\");\n                setCardFeeEnabled(false);\n                // Update inventory for all sales except full credit sales (no payment)\n                // Partial payments should update inventory since goods are delivered\n                if (!isCreditSale || isPartialPayment) {\n                    dispatch((0,_lib_slices_inventorySlice__WEBPACK_IMPORTED_MODULE_5__.updateInventoryAfterTransaction)(cart));\n                }\n                // Update credit account if this is a credit sale\n                if (isCreditSale && creditCustomerName.trim()) {\n                    try {\n                        const creditAccountResponse = await fetch(\"/api/credit/accounts\", {\n                            method: \"POST\",\n                            headers: {\n                                \"Content-Type\": \"application/json\"\n                            },\n                            body: JSON.stringify({\n                                action: \"addCredit\",\n                                customerName: creditCustomerName.trim(),\n                                amount: creditBalance,\n                                transactionId: data.id\n                            })\n                        });\n                        if (!creditAccountResponse.ok) {\n                            console.warn(\"Failed to update credit account:\", await creditAccountResponse.text());\n                        } else {\n                            const updatedCustomerResponse = await creditAccountResponse.json();\n                            const updatedAccount = updatedCustomerResponse.account;\n                            console.log(\"Credit account updated successfully for customer:\", creditCustomerName.trim(), \"New balance:\", updatedAccount.balance);\n                            // Update local state if this customer was selected\n                            if (selectedCustomer && selectedCustomer.customerName === creditCustomerName.trim()) {\n                                setCustomerBalance(updatedAccount.balance);\n                                setSelectedCustomer(updatedAccount);\n                                // Update the customers list\n                                setExistingCustomers((prev)=>prev.map((c)=>c.customerName === creditCustomerName.trim() ? updatedAccount : c));\n                            } else {\n                                // If no customer selected, refresh the entire list\n                                fetchExistingCustomers();\n                            }\n                        }\n                    } catch (err) {\n                        console.warn(\"Error updating credit account:\", err);\n                    }\n                }\n            } else {\n                console.error(\"Unexpected response from transaction API\", data);\n                setPaymentError(\"Failed to complete transaction\");\n            }\n        }).catch((err)=>{\n            console.error(\"Transaction API error\", err);\n            setPaymentError(\"Failed to complete transaction\");\n        });\n    };\n    const startNewSale = ()=>{\n        setShowReceipt(false);\n        setLastTransaction(null);\n        setCart([]);\n        setCashAmount(\"\");\n        setCardAmount(\"\");\n        setCashbackAmount(\"\");\n        setCashbackFee(\"\");\n        setCashbackEnabled(false);\n        setLottoWinnings(\"\");\n        setDiscountAmount(\"\");\n        setIsCreditSale(false);\n        setCreditCustomerName(\"\");\n        setCreditAmount(0);\n        setPaymentError(\"\");\n        // Reset card fee states\n        setCardType(\"debit\");\n        setCardFeeEnabled(false);\n    };\n    // Credit customer management functions\n    const fetchExistingCustomers = async ()=>{\n        try {\n            const response = await fetch(\"/api/credit/accounts\");\n            if (response.ok) {\n                const data = await response.json();\n                // The API returns accounts in an 'accounts' property\n                const customers = data.accounts || [];\n                console.log(\"Fetched existing customers:\", customers);\n                setExistingCustomers(customers);\n            } else {\n                console.error(\"Failed to fetch existing customers\");\n            }\n        } catch (err) {\n            console.error(\"Error fetching customers:\", err);\n        }\n    };\n    const handleCustomerNameChange = (value)=>{\n        setCreditCustomerName(value);\n        if (value.length > 0 && Array.isArray(existingCustomers)) {\n            const matchingCustomers = existingCustomers.filter((customer)=>customer && customer.customerName && customer.customerName.toLowerCase().includes(value.toLowerCase()));\n            // Always show suggestions when typing (for existing customers or new customer option)\n            setShowCustomerSuggestions(true);\n            // Auto-select if exact match\n            const exactMatch = existingCustomers.find((customer)=>customer && customer.customerName && customer.customerName.toLowerCase() === value.toLowerCase());\n            if (exactMatch) {\n                setSelectedCustomer(exactMatch);\n                setCustomerBalance(exactMatch.balance || 0);\n                setShowPaymentOptions(true);\n            } else {\n                setSelectedCustomer(null);\n                setCustomerBalance(0);\n                setShowPaymentOptions(false);\n            }\n        } else {\n            setShowCustomerSuggestions(false);\n            setSelectedCustomer(null);\n            setCustomerBalance(0);\n            setShowPaymentOptions(false);\n        }\n    };\n    const handleCustomerSelection = (customer)=>{\n        setCreditCustomerName(customer.customerName);\n        setSelectedCustomer(customer);\n        setCustomerBalance(customer.balance || 0);\n        setShowCustomerSuggestions(false);\n        setShowPaymentOptions(true);\n    };\n    const processCustomerPayment = async (paymentAmount)=>{\n        if (!selectedCustomer) return;\n        try {\n            const response = await fetch(\"/api/credit/accounts\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    action: \"payment\",\n                    customerName: selectedCustomer.customerName,\n                    amount: paymentAmount\n                })\n            });\n            if (response.ok) {\n                const updatedCustomer = await response.json();\n                setCustomerBalance(updatedCustomer.balance);\n                setSelectedCustomer(updatedCustomer);\n                // Update the customers list\n                setExistingCustomers((prev)=>prev.map((c)=>c.customerName === updatedCustomer.customerName ? updatedCustomer : c));\n            }\n        } catch (err) {\n            console.error(\"Error processing payment:\", err);\n        }\n    };\n    // Load existing customers when credit sale mode is activated\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isCreditSale && existingCustomers.length === 0) {\n            fetchExistingCustomers();\n        }\n    }, [\n        isCreditSale\n    ]);\n    // Handle creditPayment URL parameter from credit management page\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const creditPaymentParam = searchParams === null || searchParams === void 0 ? void 0 : searchParams.get(\"creditPayment\");\n        if (creditPaymentParam) {\n            console.log(\"Credit payment parameter detected:\", creditPaymentParam);\n            // Enable credit sale mode\n            setIsCreditSale(true);\n            // Set the customer name\n            setCreditCustomerName(creditPaymentParam);\n            // Fetch existing customers to find this specific customer\n            fetchExistingCustomers().then(()=>{\n            // This will be handled by the next useEffect when existingCustomers updates\n            });\n        }\n    }, [\n        searchParams\n    ]);\n    // Auto-select customer when creditPayment parameter is used\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const creditPaymentParam = searchParams === null || searchParams === void 0 ? void 0 : searchParams.get(\"creditPayment\");\n        if (creditPaymentParam && existingCustomers.length > 0) {\n            const targetCustomer = existingCustomers.find((customer)=>customer.customerName.toLowerCase() === creditPaymentParam.toLowerCase());\n            if (targetCustomer) {\n                console.log(\"Auto-selecting customer:\", targetCustomer);\n                setSelectedCustomer(targetCustomer);\n                setCustomerBalance(targetCustomer.balance || 0);\n                setShowPaymentOptions(true);\n                setShowCustomerSuggestions(false);\n            }\n        }\n    }, [\n        existingCustomers,\n        searchParams\n    ]);\n    // Reset to new sale when navigating to POS (e.g., from header navigation)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const newSaleParam = searchParams === null || searchParams === void 0 ? void 0 : searchParams.get(\"newSale\");\n        if (newSaleParam === \"true\") {\n            // Auto-start new sale when newSale=true parameter is present\n            startNewSale();\n            // Clear the newSale parameter from URL without page reload\n            const url = new URL(window.location);\n            url.searchParams.delete(\"newSale\");\n            window.history.replaceState({}, \"\", url);\n        }\n    }, [\n        searchParams\n    ]);\n    const swapPayments = ()=>{\n        const currentCash = cashAmount;\n        const currentCard = cardAmount;\n        setCashAmount(currentCard);\n        setCardAmount(currentCash);\n        // Update last edited to reflect the swap\n        if ((Number(currentCard) || 0) > 0) {\n            setLastEdited(\"cash\");\n        } else if ((Number(currentCash) || 0) > 0) {\n            setLastEdited(\"card\");\n        }\n    };\n    const printReceipt = ()=>{\n        if (!lastTransaction) return;\n        const printWindow = window.open(\"\", \"_blank\");\n        const receiptContent = \"\\n      <!DOCTYPE html>\\n      <html>\\n        <head>\\n          <title>Receipt - Transaction #\".concat((lastTransaction.id || \"N/A\").toString().slice(-8), '</title>\\n          <style>\\n            body {\\n              font-family: \\'Courier New\\', monospace;\\n              font-size: 12px;\\n              margin: 0;\\n              padding: 20px;\\n              max-width: 300px;\\n            }\\n            .header {\\n              text-align: center;\\n              margin-bottom: 20px;\\n            }\\n            .store-name {\\n              font-size: 16px;\\n              font-weight: bold;\\n              margin-bottom: 5px;\\n            }\\n            .receipt-item {\\n              display: flex;\\n              justify-content: space-between;\\n              margin: 2px 0;\\n            }\\n            .receipt-totals {\\n              margin-top: 10px;\\n            }\\n            .total {\\n              font-weight: bold;\\n              border-top: 1px solid #000;\\n              padding-top: 5px;\\n              margin-top: 5px;\\n            }\\n            hr {\\n              border: none;\\n              border-top: 1px solid #000;\\n              margin: 10px 0;\\n            }\\n            .center {\\n              text-align: center;\\n            }\\n            @media print {\\n              body { margin: 0; padding: 10px; }\\n            }\\n          </style>\\n        </head>\\n        <body>\\n          <div class=\"header\">\\n            <div class=\"store-name\">CONVENIENCE STORE</div>\\n            <div>Scarborough, Ontario</div>\\n            <div>Transaction #').concat((lastTransaction.id || \"N/A\").toString().slice(-8), \"</div>\\n            <div>\").concat(new Date(lastTransaction.timestamp).toLocaleString(), \"</div>\\n          </div>\\n          \\n          <hr>\\n          \\n          \").concat(lastTransaction.items.map((item)=>'\\n            <div class=\"receipt-item\">\\n              <div>'.concat(item.name, \" \").concat(!item.taxable ? \"(No HST)\" : \"\", '</div>\\n            </div>\\n            <div class=\"receipt-item\">\\n              <div>').concat(item.quantity, \" x $\").concat(item.price.toFixed(2), \"</div>\\n              <div>$\").concat((item.quantity * item.price).toFixed(2), \"</div>\\n            </div>\\n          \")).join(\"\"), '\\n          \\n          <hr>\\n          \\n          <div class=\"receipt-totals\">\\n            ').concat(lastTransaction.taxableAmount > 0 && lastTransaction.nonTaxableAmount > 0 ? '\\n              <div class=\"receipt-item\">\\n                <span>Taxable Items:</span>\\n                <span>$'.concat(lastTransaction.taxableAmount.toFixed(2), '</span>\\n              </div>\\n              <div class=\"receipt-item\">\\n                <span>Non-Taxable Items:</span>\\n                <span>$').concat(lastTransaction.nonTaxableAmount.toFixed(2), \"</span>\\n              </div>\\n            \") : \"\", \"\\n            \\n            \").concat(lastTransaction.discount > 0 ? '\\n              <div class=\"receipt-item\">\\n                <span>Items Subtotal:</span>\\n                <span>$'.concat(lastTransaction.originalSubtotal.toFixed(2), '</span>\\n              </div>\\n              <div class=\"receipt-item\" style=\"font-weight: bold; color: #e65100;\">\\n                <span>Discount:</span>\\n                <span>-$').concat(lastTransaction.discount.toFixed(2), '</span>\\n              </div>\\n              <div class=\"receipt-item\">\\n                <span>Subtotal:</span>\\n                <span>$').concat(lastTransaction.subtotal.toFixed(2), \"</span>\\n              </div>\\n            \") : '\\n              <div class=\"receipt-item\">\\n                <span>Subtotal:</span>\\n                <span>$'.concat(lastTransaction.subtotal.toFixed(2), \"</span>\\n              </div>\\n            \"), \"\\n            \\n            \").concat(lastTransaction.includeTax && lastTransaction.tax > 0 ? '\\n              <div class=\"receipt-item\">\\n                <span>HST (13%):</span>\\n                <span>$'.concat(lastTransaction.tax.toFixed(2), \"</span>\\n              </div>\\n            \") : \"\", '\\n            \\n            <div class=\"receipt-item total\">\\n              <span>Total:</span>\\n              <span>$').concat(lastTransaction.total.toFixed(2), \"</span>\\n            </div>\\n            \\n            \").concat(lastTransaction.cashback > 0 ? '\\n              <div class=\"receipt-item\" style=\"font-weight: bold; color: #e67e22;\">\\n                <span>Cashback:</span>\\n                <span>$'.concat(lastTransaction.cashback.toFixed(2), \"</span>\\n              </div>\\n            \") : \"\", \"\\n            \\n            \").concat(lastTransaction.paymentBreakdown && lastTransaction.paymentBreakdown.length > 0 ? '\\n              <hr>\\n              <div style=\"font-weight: bold; margin-bottom: 5px;\">Payments</div>\\n              '.concat(lastTransaction.paymentBreakdown.map((p)=>'\\n                <div class=\"receipt-item\">\\n                  <span>'.concat(p.method.toUpperCase(), \":</span>\\n                  <span>$\").concat(p.amount.toFixed(2), \"</span>\\n                </div>\\n              \")).join(\"\"), \"\\n              \").concat(lastTransaction.change > 0 ? '\\n                <div class=\"receipt-item\">\\n                  <span>Change:</span>\\n                  <span>$'.concat(lastTransaction.change.toFixed(2), \"</span>\\n                </div>\\n              \") : \"\", \"\\n            \") : \"\", '\\n          </div>\\n          \\n          <hr>\\n          <div class=\"center\">Thank you for your business!</div>\\n          \\n          <script>\\n            window.onload = function() {\\n              window.print();\\n            }\\n          </script>\\n        </body>\\n      </html>\\n    ');\n        printWindow.document.write(receiptContent);\n        printWindow.document.close();\n    };\n    // When cart changes, reset payment amounts (default card for cashback, otherwise cash)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Don't auto-reset payment amounts when in credit sale mode - let user control them\n        if (isCreditSale) {\n            setPaymentError(\"\");\n            return;\n        }\n        const subtotal = calculateTotal();\n        const tax = calculateTax();\n        const total = +(subtotal + tax).toFixed(2);\n        const cashback = Number(parseFloat(cashbackAmount) || 0);\n        const lotto = Number(parseFloat(lottoWinnings) || 0);\n        const totalWithCashback = total + cashback - lotto;\n        // For cashback transactions, force card payment only\n        if (cashback > 0) {\n            setCashAmount(\"\");\n            setCardAmount(Math.max(0, totalWithCashback));\n            setLastEdited(\"card\");\n        } else {\n            // Default: cash covers the total minus lotto winnings\n            setCashAmount(Math.max(0, totalWithCashback));\n            setCardAmount(0);\n            setLastEdited(\"cash\");\n        }\n        setPaymentError(\"\");\n    }, [\n        cart,\n        cashbackAmount,\n        cashbackFee,\n        lottoWinnings,\n        discountAmount,\n        isCreditSale,\n        cardFeeEnabled\n    ]);\n    // If auto-fill is enabled and lastEdited is set, update the other amount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!autoFillOther || !lastEdited || isCreditSale) return; // Don't auto-fill in credit sale mode\n        const subtotal = calculateTotal();\n        const tax = calculateTax();\n        const total = +(subtotal + tax).toFixed(2);\n        const cashback = Number(parseFloat(cashbackAmount) || 0);\n        const lotto = Number(parseFloat(lottoWinnings) || 0);\n        const totalWithCashback = total + cashback - lotto;\n        // For cashback transactions, only allow card payment\n        if (cashback > 0) {\n            setCashAmount(\"\");\n            setCardAmount(Math.max(0, totalWithCashback));\n            return;\n        }\n        if (lastEdited === \"cash\") {\n            const paidCash = Number(parseFloat(cashAmount) || 0);\n            const newCard = Math.max(0, +(totalWithCashback - paidCash).toFixed(2));\n            setCardAmount(newCard);\n        } else if (lastEdited === \"card\") {\n            const paidCard = Number(parseFloat(cardAmount) || 0);\n            const newCash = Math.max(0, +(totalWithCashback - paidCard).toFixed(2));\n            setCashAmount(newCash);\n        }\n    }, [\n        autoFillOther,\n        lastEdited,\n        cashAmount,\n        cardAmount,\n        cart,\n        cashbackAmount,\n        cashbackFee,\n        lottoWinnings,\n        discountAmount,\n        isCreditSale,\n        cardFeeEnabled\n    ]);\n    // Barcode Scanner Functionality\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Auto-focus search input when component mounts\n        if (searchInputRef.current) {\n            searchInputRef.current.focus();\n        }\n        const handleKeyDown = (event)=>{\n            // Don't interfere with barcode scanner when manual entry modal is open\n            if (showManualEntry) {\n                return;\n            }\n            // Don't interfere if user is typing in input fields or form elements\n            const activeElement = document.activeElement;\n            const isTypingInInput = activeElement && (activeElement.tagName === \"INPUT\" || activeElement.tagName === \"TEXTAREA\" || activeElement.tagName === \"SELECT\" || activeElement.contentEditable === \"true\");\n            if (isTypingInInput) {\n                return;\n            }\n            const currentTime = Date.now();\n            const timeDiff = currentTime - lastKeyTime;\n            // If time between keystrokes is less than 50ms, it's likely a barcode scanner\n            // Barcode scanners type very fast (typically 10-30ms between characters)\n            const isScannerInput = timeDiff < 50 && timeDiff > 0;\n            // Only focus search input if user is not typing in any input field and it's not already focused\n            if (document.activeElement !== searchInputRef.current && !isTypingInInput && ![\n                \"Tab\",\n                \"Escape\",\n                \"F1\",\n                \"F2\",\n                \"F3\",\n                \"F4\",\n                \"F5\",\n                \"F6\",\n                \"F7\",\n                \"F8\",\n                \"F9\",\n                \"F10\",\n                \"F11\",\n                \"F12\"\n            ].includes(event.key)) {\n                var _searchInputRef_current;\n                (_searchInputRef_current = searchInputRef.current) === null || _searchInputRef_current === void 0 ? void 0 : _searchInputRef_current.focus();\n            }\n            // Handle barcode scanning (only if not typing in input fields)\n            if (!isTypingInInput) {\n                if (event.key === \"Enter\") {\n                    // End of barcode scan - process the buffer\n                    if (barcodeBuffer.trim().length > 0) {\n                        handleBarcodeScanned(barcodeBuffer.trim());\n                        setBarcodeBuffer(\"\");\n                    }\n                } else if (isScannerInput && event.key.length === 1) {\n                    // Add character to barcode buffer\n                    setBarcodeBuffer((prev)=>prev + event.key);\n                } else if (!isScannerInput) {\n                    // Reset buffer if typing is too slow (manual typing)\n                    setBarcodeBuffer(\"\");\n                }\n            }\n            setLastKeyTime(currentTime);\n        };\n        const handleFocusAnywhere = (event)=>{\n            // Don't interfere when manual entry modal is open\n            if (showManualEntry) {\n                return;\n            }\n            // Don't refocus if clicking on form elements that need focus\n            const clickedElement = event.target;\n            const isFormElement = clickedElement.tagName === \"SELECT\" || clickedElement.tagName === \"OPTION\" || clickedElement.tagName === \"INPUT\" || clickedElement.tagName === \"BUTTON\" || clickedElement.tagName === \"TEXTAREA\";\n            // Don't refocus if clicking on the category filter or its options\n            const isCategoryFilter = clickedElement.closest(\"select\") || clickedElement.tagName === \"SELECT\";\n            if (isFormElement || isCategoryFilter) {\n                return; // Let the form element handle its own focus\n            }\n            // Ensure search input stays focused when clicking elsewhere on the page\n            setTimeout(()=>{\n                if (searchInputRef.current && document.activeElement !== searchInputRef.current && !document.activeElement.closest(\"select\")) {\n                    searchInputRef.current.focus();\n                }\n            }, 100);\n        };\n        // Add event listeners\n        document.addEventListener(\"keydown\", handleKeyDown);\n        document.addEventListener(\"click\", handleFocusAnywhere);\n        // Cleanup function\n        return ()=>{\n            document.removeEventListener(\"keydown\", handleKeyDown);\n            document.removeEventListener(\"click\", handleFocusAnywhere);\n        };\n    }, [\n        barcodeBuffer,\n        lastKeyTime,\n        showManualEntry\n    ]);\n    // Handle barcode scanned\n    const handleBarcodeScanned = (barcode)=>{\n        console.log(\"Barcode scanned:\", barcode);\n        // Use the enhanced search functionality to find products\n        // This will search by barcode, productId, id, name, and category\n        const searchResults = getFilteredInventory(barcode);\n        if (searchResults.length === 1) {\n            // Exactly one product found - automatically add to cart\n            const foundProduct = searchResults[0];\n            addToCart(foundProduct);\n            console.log(\"Product added to cart via barcode:\", foundProduct.name);\n        } else if (searchResults.length > 1) {\n            // Multiple matches - show in search results for user to choose\n            setSearchTerm(barcode);\n            console.log(\"Multiple products found for barcode \".concat(barcode, \":\"), searchResults.map((p)=>p.name));\n        } else {\n            // No product found - automatically prompt for manual entry\n            setSearchTerm(barcode);\n            setManualItem((prev)=>({\n                    ...prev,\n                    name: barcode\n                }));\n            setShowManualEntry(true);\n            console.log(\"Product not found for barcode:\", barcode, \"- opening manual entry\");\n        }\n    };\n    if (showReceipt && lastTransaction) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(POSWrapper, {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.Container, {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.ReceiptSection, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            children: \"Transaction Complete!\"\n                        }, void 0, false, {\n                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                            lineNumber: 1846,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"receipt\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    children: \"CONVENIENCE STORE\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 1848,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: \"Scarborough, Ontario\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 1849,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: [\n                                        \"Transaction #\",\n                                        (lastTransaction.id || \"N/A\").toString().slice(-8)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 1850,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: new Date(lastTransaction.timestamp).toLocaleString()\n                                }, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 1853,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {}, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 1854,\n                                    columnNumber: 13\n                                }, this),\n                                lastTransaction.items.map((item)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"receipt-item\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: [\n                                                    item.name,\n                                                    \" \",\n                                                    !item.taxable && \"(No HST)\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 1857,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: [\n                                                    item.quantity,\n                                                    \" x $\",\n                                                    item.price.toFixed(2),\n                                                    \" = $\",\n                                                    (item.quantity * item.price).toFixed(2)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 1860,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, item.id, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 1856,\n                                        columnNumber: 15\n                                    }, this)),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {}, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 1866,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"receipt-totals\",\n                                    children: [\n                                        lastTransaction.taxableAmount > 0 && lastTransaction.nonTaxableAmount > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        \"Taxable Items: $\",\n                                                        lastTransaction.taxableAmount.toFixed(2)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 1871,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        \"Non-Taxable Items: $\",\n                                                        lastTransaction.nonTaxableAmount.toFixed(2)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 1874,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true),\n                                        lastTransaction.discount > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        \"Items Subtotal: $\",\n                                                        lastTransaction.originalSubtotal.toFixed(2)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 1882,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        fontWeight: \"600\",\n                                                        color: \"#e65100\"\n                                                    },\n                                                    children: [\n                                                        \"Discount: -$\",\n                                                        lastTransaction.discount.toFixed(2)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 1886,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        \"Subtotal: $\",\n                                                        lastTransaction.subtotal.toFixed(2)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 1889,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                \"Subtotal: $\",\n                                                lastTransaction.subtotal.toFixed(2)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 1892,\n                                            columnNumber: 17\n                                        }, this),\n                                        lastTransaction.includeTax && lastTransaction.tax > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                \"HST (13%): $\",\n                                                lastTransaction.tax.toFixed(2)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 1895,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"total\",\n                                            children: [\n                                                \"Total: $\",\n                                                lastTransaction.total.toFixed(2)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 1897,\n                                            columnNumber: 15\n                                        }, this),\n                                        lastTransaction.cashback > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                fontWeight: \"600\",\n                                                color: \"#e67e22\"\n                                            },\n                                            children: [\n                                                \"Cashback: $\",\n                                                lastTransaction.cashback.toFixed(2)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 1901,\n                                            columnNumber: 17\n                                        }, this),\n                                        lastTransaction.paymentBreakdown && lastTransaction.paymentBreakdown.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {}, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 1908,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                        children: \"Payments\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 1910,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 1909,\n                                                    columnNumber: 21\n                                                }, this),\n                                                lastTransaction.paymentBreakdown.map((p, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: [\n                                                            p.method.toUpperCase(),\n                                                            \": $\",\n                                                            p.amount.toFixed(2)\n                                                        ]\n                                                    }, \"payment-\".concat(p.method, \"-\").concat(idx), true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 1913,\n                                                        columnNumber: 23\n                                                    }, this)),\n                                                lastTransaction.change > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        \"Change: $\",\n                                                        lastTransaction.change.toFixed(2)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 1918,\n                                                    columnNumber: 23\n                                                }, this)\n                                            ]\n                                        }, void 0, true)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 1867,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {}, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 1923,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: \"Thank you for your business!\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 1924,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                            lineNumber: 1847,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                display: \"flex\",\n                                gap: \"1rem\",\n                                marginTop: \"2rem\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.Button, {\n                                    onClick: printReceipt,\n                                    style: {\n                                        backgroundColor: \"#27ae60\",\n                                        color: \"white\"\n                                    },\n                                    children: \"\\uD83D\\uDDA8️ Print Receipt\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 1927,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.Button, {\n                                    onClick: startNewSale,\n                                    children: \"New Sale\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 1933,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                            lineNumber: 1926,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                    lineNumber: 1845,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                lineNumber: 1844,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n            lineNumber: 1843,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(POSWrapper, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.Container, {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.POSGrid, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.ProductsPanel, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"flex\",\n                                    justifyContent: \"space-between\",\n                                    alignItems: \"center\",\n                                    marginBottom: \"1rem\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        children: \"Products\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 1954,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            fontSize: \"0.75rem\",\n                                            color: \"#7f8c8d\",\n                                            padding: \"0.25rem 0.5rem\",\n                                            background: \"#f8f9fa\",\n                                            borderRadius: \"4px\"\n                                        },\n                                        children: [\n                                            inventory.length,\n                                            \" items loaded\",\n                                            inventoryLoaded && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                style: {\n                                                    marginLeft: \"0.5rem\",\n                                                    color: inventoryLoading ? \"#f39c12\" : \"#27ae60\"\n                                                },\n                                                children: [\n                                                    \"• \",\n                                                    inventoryLoading ? \"syncing...\" : \"ready\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 1966,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 1955,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 1946,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"flex\",\n                                    gap: \"1rem\",\n                                    marginBottom: \"1rem\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            position: \"relative\",\n                                            flex: 1,\n                                            display: \"flex\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.SearchBar, {\n                                                ref: searchInputRef,\n                                                type: \"text\",\n                                                placeholder: \"Search products... (Barcode Scanner Ready)\",\n                                                value: searchTerm,\n                                                onChange: (e)=>setSearchTerm(e.target.value),\n                                                onFocus: ()=>handleInputFocus(searchInputRef, false),\n                                                onKeyDown: (e)=>{\n                                                    if (e.key === \"Enter\") {\n                                                        handleSearchEnter();\n                                                    }\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 1979,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.Button, {\n                                                onClick: ()=>{\n                                                    if (showKeyboard && activeInputRef === searchInputRef) {\n                                                        setShowKeyboard(false);\n                                                    } else if (activeInputRef === searchInputRef) {\n                                                        // Keyboard was hidden but search input was the last active - preserve mode\n                                                        showKeyboardForInput(searchInputRef);\n                                                    } else {\n                                                        // First time focusing search input - use full keyboard for text search\n                                                        handleInputFocus(searchInputRef, false);\n                                                    }\n                                                },\n                                                style: {\n                                                    marginLeft: \"0.5rem\",\n                                                    padding: \"0.75rem\",\n                                                    background: showKeyboard && activeInputRef === searchInputRef ? \"#27ae60\" : \"#3498db\",\n                                                    minWidth: \"auto\"\n                                                },\n                                                title: \"Toggle Virtual Keyboard\",\n                                                children: \"⌨️\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 1992,\n                                                columnNumber: 15\n                                            }, this),\n                                            barcodeBuffer && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    position: \"absolute\",\n                                                    top: \"-25px\",\n                                                    right: \"0\",\n                                                    background: \"#27ae60\",\n                                                    color: \"white\",\n                                                    padding: \"2px 8px\",\n                                                    borderRadius: \"4px\",\n                                                    fontSize: \"0.8rem\",\n                                                    fontWeight: \"bold\"\n                                                },\n                                                children: \"\\uD83D\\uDCF7 Scanning...\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2015,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 1978,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: handleDebugRefresh,\n                                        style: {\n                                            padding: \"0.5rem 1rem\",\n                                            background: \"#e74c3c\",\n                                            color: \"white\",\n                                            border: \"none\",\n                                            borderRadius: \"4px\",\n                                            cursor: \"pointer\",\n                                            fontSize: \"0.9rem\",\n                                            whiteSpace: \"nowrap\"\n                                        },\n                                        title: \"Force refresh inventory from database (Debug)\",\n                                        children: \"\\uD83D\\uDD04 Refresh\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2032,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.CategoryFilter, {\n                                        value: categoryFilter,\n                                        onChange: (e)=>{\n                                            setCategoryFilter(e.target.value);\n                                            // After selection, return focus to search bar\n                                            setTimeout(()=>{\n                                                if (searchInputRef.current) {\n                                                    searchInputRef.current.focus();\n                                                }\n                                            }, 100);\n                                        },\n                                        onBlur: (e)=>{\n                                            // When dropdown loses focus (after selection or clicking away), return to search\n                                            setTimeout(()=>{\n                                                if (searchInputRef.current && document.activeElement !== searchInputRef.current) {\n                                                    searchInputRef.current.focus();\n                                                }\n                                            }, 100);\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"\",\n                                                children: \"All Categories\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2071,\n                                                columnNumber: 15\n                                            }, this),\n                                            categories.map((category)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: category,\n                                                    children: category\n                                                }, category, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2073,\n                                                    columnNumber: 17\n                                                }, this))\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2048,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setShowManualEntry(true),\n                                        style: {\n                                            marginLeft: \"0.5rem\",\n                                            padding: \"0.5rem 1rem\",\n                                            backgroundColor: \"#3498db\",\n                                            color: \"white\",\n                                            border: \"none\",\n                                            borderRadius: \"4px\",\n                                            cursor: \"pointer\",\n                                            fontWeight: \"bold\"\n                                        },\n                                        children: \"+ Manual Item\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2079,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 1977,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"grid\",\n                                    gridTemplateColumns: \"repeat(auto-fit, minmax(160px, 1fr))\",\n                                    gap: \"0.8rem\",\n                                    marginBottom: \"1.5rem\",\n                                    maxHeight: \"200px\",\n                                    overflowX: \"auto\"\n                                },\n                                children: [\n                                    [\n                                        {\n                                            name: \"Lotto\",\n                                            key: \"Lotto\",\n                                            icon: \"\\uD83C\\uDFB2\",\n                                            color: \"#e74c3c\",\n                                            description: \"Type amount & click to add\"\n                                        },\n                                        {\n                                            name: \"Grocery\",\n                                            key: \"Grocery\",\n                                            icon: \"\\uD83D\\uDED2\",\n                                            color: \"#27ae60\",\n                                            description: \"Type amount & click to add\"\n                                        },\n                                        {\n                                            name: \"Western Union\",\n                                            key: \"WesternUnion\",\n                                            icon: \"\\uD83D\\uDCB8\",\n                                            color: \"#8e44ad\",\n                                            description: \"Type amount & click to add\"\n                                        },\n                                        {\n                                            name: \"Tea\",\n                                            key: \"Tea\",\n                                            icon: \"\\uD83C\\uDF75\",\n                                            color: \"#d35400\",\n                                            description: \"Type amount & click to add\"\n                                        },\n                                        {\n                                            name: \"Bakery\",\n                                            key: \"Bakery\",\n                                            icon: \"\\uD83C\\uDF5E\",\n                                            color: \"#f39c12\",\n                                            description: \"Bread & Baked Goods\"\n                                        },\n                                        {\n                                            name: \"Dairy\",\n                                            key: \"Dairy\",\n                                            icon: \"\\uD83E\\uDD5B\",\n                                            color: \"#16a085\",\n                                            description: \"Milk & Dairy Products\"\n                                        },\n                                        {\n                                            name: \"Beverages\",\n                                            key: \"Beverages\",\n                                            icon: \"\\uD83E\\uDD64\",\n                                            color: \"#3498db\",\n                                            description: \"Drinks & Refreshments\"\n                                        },\n                                        {\n                                            name: \"Tobacco\",\n                                            key: \"Tobacco\",\n                                            icon: \"\\uD83D\\uDEAC\",\n                                            color: \"#95a5a6\",\n                                            description: \"Cigarettes & Cigars\"\n                                        },\n                                        {\n                                            name: \"Snacks\",\n                                            key: \"Snacks\",\n                                            icon: \"\\uD83C\\uDF7F\",\n                                            color: \"#e67e22\",\n                                            description: \"Chips & Snacks\"\n                                        }\n                                    ].map((category)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            \"data-category\": category.key,\n                                            onClick: ()=>{\n                                                // Special handling for Lotto, Grocery, Western Union, and Tea categories\n                                                if (category.key === \"Lotto\" || category.key === \"Grocery\" || category.key === \"WesternUnion\" || category.key === \"Tea\") {\n                                                    // Check search term first, then currently focused input field\n                                                    let inputValue = searchTerm.trim();\n                                                    // If search is empty, check the currently active input field\n                                                    if (!inputValue && activeInputRef && activeInputRef.current) {\n                                                        inputValue = activeInputRef.current.value;\n                                                    }\n                                                    // If still no value, check other input fields that might have values\n                                                    if (!inputValue) {\n                                                        const inputs = [\n                                                            discountRef,\n                                                            cashAmountRef,\n                                                            cardAmountRef,\n                                                            cashbackAmountRef,\n                                                            lottoWinningsRef\n                                                        ];\n                                                        for (const inputRef of inputs){\n                                                            if (inputRef.current && inputRef.current.value) {\n                                                                inputValue = inputRef.current.value;\n                                                                break;\n                                                            }\n                                                        }\n                                                    }\n                                                    const numericValue = parseFloat(inputValue);\n                                                    // Check if search term is a valid number\n                                                    if (!isNaN(numericValue) && numericValue > 0) {\n                                                        // Create item with the specified amount based on category\n                                                        let newItem;\n                                                        if (category.key === \"Lotto\") {\n                                                            newItem = {\n                                                                id: \"lotto-\".concat(Date.now()),\n                                                                name: \"Lotto $\".concat(numericValue.toFixed(2)),\n                                                                category: \"Lotto\",\n                                                                price: numericValue,\n                                                                stock: 999,\n                                                                lowStockThreshold: 0,\n                                                                applyTax: true,\n                                                                isManual: true\n                                                            };\n                                                        } else if (category.key === \"Grocery\") {\n                                                            newItem = {\n                                                                id: \"grocery-\".concat(Date.now()),\n                                                                name: \"Grocery Item $\".concat(numericValue.toFixed(2)),\n                                                                category: \"Grocery\",\n                                                                price: numericValue,\n                                                                stock: 999,\n                                                                lowStockThreshold: 0,\n                                                                applyTax: true,\n                                                                isManual: true\n                                                            };\n                                                        } else if (category.key === \"WesternUnion\") {\n                                                            newItem = {\n                                                                id: \"western-union-\".concat(Date.now()),\n                                                                name: \"Western Union $\".concat(numericValue.toFixed(2)),\n                                                                category: \"Western Union\",\n                                                                price: numericValue,\n                                                                stock: 999,\n                                                                lowStockThreshold: 0,\n                                                                applyTax: true,\n                                                                isManual: true\n                                                            };\n                                                        } else if (category.key === \"Tea\") {\n                                                            newItem = {\n                                                                id: \"tea-\".concat(Date.now()),\n                                                                name: \"Tea $\".concat(numericValue.toFixed(2)),\n                                                                category: \"Tea\",\n                                                                price: numericValue,\n                                                                stock: 999,\n                                                                lowStockThreshold: 0,\n                                                                applyTax: true,\n                                                                isManual: true\n                                                            };\n                                                        }\n                                                        // Add to cart\n                                                        addToCart(newItem);\n                                                        // Clear the input field that was used\n                                                        if (searchTerm.trim()) {\n                                                            setSearchTerm(\"\");\n                                                        } else if (activeInputRef && activeInputRef.current) {\n                                                            // Clear the currently active input field\n                                                            activeInputRef.current.value = \"\";\n                                                            // Trigger onChange event to update state\n                                                            const event = new Event(\"input\", {\n                                                                bubbles: true\n                                                            });\n                                                            activeInputRef.current.dispatchEvent(event);\n                                                        }\n                                                        // Show success feedback\n                                                        console.log(\"Added \".concat(newItem.name, \" to cart\"));\n                                                        // Brief visual feedback by temporarily highlighting the card\n                                                        const currentCard = document.querySelector('[data-category=\"'.concat(category.key, '\"]'));\n                                                        if (currentCard) {\n                                                            currentCard.style.transform = \"scale(1.05)\";\n                                                            setTimeout(()=>{\n                                                                currentCard.style.transform = \"scale(1)\";\n                                                            }, 200);\n                                                        }\n                                                        // Return focus to search bar\n                                                        setTimeout(()=>{\n                                                            if (searchInputRef.current) {\n                                                                searchInputRef.current.focus();\n                                                            }\n                                                        }, 100);\n                                                        return; // Don't set category filter, just add the item\n                                                    }\n                                                }\n                                                // Default behavior: set category filter\n                                                setCategoryFilter(category.key);\n                                                // Return focus to search bar after category selection\n                                                setTimeout(()=>{\n                                                    if (searchInputRef.current) {\n                                                        searchInputRef.current.focus();\n                                                    }\n                                                }, 100);\n                                            },\n                                            style: {\n                                                background: \"linear-gradient(135deg, \".concat(category.color, \", \").concat(category.color, \"dd)\"),\n                                                color: \"white\",\n                                                padding: \"0.8rem\",\n                                                borderRadius: \"10px\",\n                                                cursor: \"pointer\",\n                                                textAlign: \"center\",\n                                                transition: \"all 0.2s ease\",\n                                                boxShadow: categoryFilter === category.key ? \"0 8px 25px \".concat(category.color, \"40\") : \"0 4px 15px rgba(0,0,0,0.1)\",\n                                                transform: categoryFilter === category.key ? \"translateY(-2px)\" : \"translateY(0)\",\n                                                border: categoryFilter === category.key ? \"3px solid \".concat(category.color) : \"3px solid transparent\"\n                                            },\n                                            onMouseEnter: (e)=>{\n                                                if (categoryFilter !== category.key) {\n                                                    e.target.style.transform = \"translateY(-1px)\";\n                                                    e.target.style.boxShadow = \"0 6px 20px \".concat(category.color, \"30\");\n                                                }\n                                            },\n                                            onMouseLeave: (e)=>{\n                                                if (categoryFilter !== category.key) {\n                                                    e.target.style.transform = \"translateY(0)\";\n                                                    e.target.style.boxShadow = \"0 4px 15px rgba(0,0,0,0.1)\";\n                                                }\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        fontSize: \"2rem\",\n                                                        marginBottom: \"0.5rem\"\n                                                    },\n                                                    children: category.icon\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2337,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        fontSize: \"1rem\",\n                                                        fontWeight: \"600\",\n                                                        marginBottom: \"0.25rem\"\n                                                    },\n                                                    children: category.name\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2340,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        fontSize: \"0.8rem\",\n                                                        opacity: 0.9\n                                                    },\n                                                    children: category.description\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2349,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, category.key, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2172,\n                                            columnNumber: 15\n                                        }, this)),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        onClick: ()=>{\n                                            setCategoryFilter(\"\");\n                                            setTimeout(()=>{\n                                                if (searchInputRef.current) {\n                                                    searchInputRef.current.focus();\n                                                }\n                                            }, 100);\n                                        },\n                                        style: {\n                                            background: categoryFilter === \"\" ? \"linear-gradient(135deg, #2c3e50, #34495e)\" : \"linear-gradient(135deg, #ecf0f1, #bdc3c7)\",\n                                            color: categoryFilter === \"\" ? \"white\" : \"#2c3e50\",\n                                            padding: \"0.8rem\",\n                                            borderRadius: \"10px\",\n                                            cursor: \"pointer\",\n                                            textAlign: \"center\",\n                                            transition: \"all 0.2s ease\",\n                                            boxShadow: categoryFilter === \"\" ? \"0 8px 25px rgba(44,62,80,0.3)\" : \"0 4px 15px rgba(0,0,0,0.1)\",\n                                            transform: categoryFilter === \"\" ? \"translateY(-2px)\" : \"translateY(0)\",\n                                            border: categoryFilter === \"\" ? \"3px solid #2c3e50\" : \"3px solid transparent\"\n                                        },\n                                        onMouseEnter: (e)=>{\n                                            if (categoryFilter !== \"\") {\n                                                e.target.style.transform = \"translateY(-1px)\";\n                                                e.target.style.boxShadow = \"0 6px  20px rgba(44,62,80,0.2)\";\n                                            }\n                                        },\n                                        onMouseLeave: (e)=>{\n                                            if (categoryFilter !== \"\") {\n                                                e.target.style.transform = \"translateY(0)\";\n                                                e.target.style.boxShadow = \"0 4px 15px rgba(0,0,0,0.1)\";\n                                            }\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    fontSize: \"2rem\",\n                                                    marginBottom: \"0.5rem\"\n                                                },\n                                                children: \"\\uD83C\\uDFEA\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2400,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    fontSize: \"1rem\",\n                                                    fontWeight: \"600\",\n                                                    marginBottom: \"0.25rem\"\n                                                },\n                                                children: \"All Categories\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2401,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    fontSize: \"0.8rem\",\n                                                    opacity: 0.9\n                                                },\n                                                children: \"View All Products\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2410,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2356,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 2097,\n                                columnNumber: 11\n                            }, this),\n                            showManualEntry && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    position: \"fixed\",\n                                    top: \"0\",\n                                    left: \"0\",\n                                    right: \"0\",\n                                    bottom: \"0\",\n                                    backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n                                    display: \"flex\",\n                                    alignItems: \"center\",\n                                    justifyContent: \"center\",\n                                    zIndex: 1000\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        backgroundColor: \"white\",\n                                        padding: \"2rem\",\n                                        borderRadius: \"8px\",\n                                        minWidth: \"400px\",\n                                        maxWidth: \"500px\"\n                                    },\n                                    onKeyDown: (e)=>{\n                                        if (e.key === \"Escape\") {\n                                            setShowManualEntry(false);\n                                            setManualItem({\n                                                name: \"\",\n                                                price: \"\",\n                                                category: categories.length > 0 ? categories[0] : \"grocery-taxable\",\n                                                quantity: 1\n                                            });\n                                        }\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            style: {\n                                                marginBottom: \"1rem\",\n                                                color: \"#2c3e50\"\n                                            },\n                                            children: \"Add Manual Item\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2455,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                marginBottom: \"1rem\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    style: {\n                                                        display: \"block\",\n                                                        marginBottom: \"0.5rem\",\n                                                        fontWeight: \"bold\"\n                                                    },\n                                                    children: \"Item Name:\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2460,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"text\",\n                                                    value: manualItem.name,\n                                                    onChange: (e)=>setManualItem((prev)=>({\n                                                                ...prev,\n                                                                name: e.target.value\n                                                            })),\n                                                    placeholder: \"Enter item name or description\",\n                                                    style: {\n                                                        width: \"100%\",\n                                                        padding: \"0.5rem\",\n                                                        border: \"1px solid #ddd\",\n                                                        borderRadius: \"4px\"\n                                                    },\n                                                    autoFocus: true\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2469,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2459,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                marginBottom: \"1rem\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    style: {\n                                                        display: \"block\",\n                                                        marginBottom: \"0.5rem\",\n                                                        fontWeight: \"bold\"\n                                                    },\n                                                    children: \"Price:\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2490,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"number\",\n                                                    step: \"0.01\",\n                                                    min: \"0\",\n                                                    value: manualItem.price,\n                                                    onChange: (e)=>setManualItem((prev)=>({\n                                                                ...prev,\n                                                                price: e.target.value\n                                                            })),\n                                                    placeholder: \"0.00\",\n                                                    style: {\n                                                        width: \"100%\",\n                                                        padding: \"0.5rem\",\n                                                        border: \"1px solid #ddd\",\n                                                        borderRadius: \"4px\"\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2499,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2489,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                marginBottom: \"1rem\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    style: {\n                                                        display: \"block\",\n                                                        marginBottom: \"0.5rem\",\n                                                        fontWeight: \"bold\"\n                                                    },\n                                                    children: \"Category:\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2521,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                    value: manualItem.category,\n                                                    onChange: (e)=>setManualItem((prev)=>({\n                                                                ...prev,\n                                                                category: e.target.value\n                                                            })),\n                                                    style: {\n                                                        width: \"100%\",\n                                                        padding: \"0.5rem\",\n                                                        border: \"1px solid #ddd\",\n                                                        borderRadius: \"4px\"\n                                                    },\n                                                    children: categories.length > 0 ? // Use categories from Redux/database\n                                                    categories.map((category)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            value: category,\n                                                            children: category\n                                                        }, category, false, {\n                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                            lineNumber: 2548,\n                                                            columnNumber: 25\n                                                        }, this)) : // Fallback to hardcoded options if no categories loaded\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                value: \"grocery-taxable\",\n                                                                children: \"Grocery (Taxable)\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 2555,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                value: \"grocery-non-taxable\",\n                                                                children: \"Grocery (Non-Taxable)\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 2558,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                value: \"lotto\",\n                                                                children: \"Lotto (Taxable)\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 2561,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2530,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2520,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                marginBottom: \"1.5rem\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    style: {\n                                                        display: \"block\",\n                                                        marginBottom: \"0.5rem\",\n                                                        fontWeight: \"bold\"\n                                                    },\n                                                    children: \"Quantity:\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2568,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"number\",\n                                                    min: \"1\",\n                                                    value: manualItem.quantity,\n                                                    onChange: (e)=>setManualItem((prev)=>({\n                                                                ...prev,\n                                                                quantity: parseInt(e.target.value) || 1\n                                                            })),\n                                                    style: {\n                                                        width: \"100%\",\n                                                        padding: \"0.5rem\",\n                                                        border: \"1px solid #ddd\",\n                                                        borderRadius: \"4px\"\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2577,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2567,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                display: \"flex\",\n                                                gap: \"0.5rem\",\n                                                justifyContent: \"flex-end\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>{\n                                                        setShowManualEntry(false);\n                                                        setManualItem({\n                                                            name: \"\",\n                                                            price: \"\",\n                                                            category: categories.length > 0 ? categories[0] : \"grocery-taxable\",\n                                                            quantity: 1\n                                                        });\n                                                    },\n                                                    style: {\n                                                        padding: \"0.5rem 1rem\",\n                                                        backgroundColor: \"#95a5a6\",\n                                                        color: \"white\",\n                                                        border: \"none\",\n                                                        borderRadius: \"4px\",\n                                                        cursor: \"pointer\"\n                                                    },\n                                                    children: \"Cancel\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2603,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: addManualItem,\n                                                    style: {\n                                                        padding: \"0.5rem 1rem\",\n                                                        backgroundColor: \"#27ae60\",\n                                                        color: \"white\",\n                                                        border: \"none\",\n                                                        borderRadius: \"4px\",\n                                                        cursor: \"pointer\",\n                                                        fontWeight: \"bold\"\n                                                    },\n                                                    children: \"Add to Cart\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2627,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2596,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 2432,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 2418,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(KeyboardArea, {\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_OnScreenKeyboard__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                    show: true,\n                                    mode: keyboardMode,\n                                    onClose: ()=>setShowKeyboard(false),\n                                    inputRef: activeInputRef,\n                                    onKeyPress: (key)=>{\n                                        console.log(\"Virtual key pressed:\", key);\n                                    },\n                                    onModeToggle: (newMode)=>setKeyboardMode(newMode)\n                                }, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 2648,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 2647,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"products-grid\",\n                                children: [\n                                    filteredInventory.length === 0 && inventory.length > 0 && searchTerm && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            padding: \"2rem\",\n                                            textAlign: \"center\",\n                                            color: \"#f39c12\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                children: \"No products match your search\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2671,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                children: [\n                                                    'Search: \"',\n                                                    searchTerm,\n                                                    '\"',\n                                                    \" \",\n                                                    categoryFilter && '| Category: \"'.concat(categoryFilter, '\"')\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2672,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    marginTop: \"1rem\",\n                                                    padding: \"0.75rem\",\n                                                    backgroundColor: \"#fff3cd\",\n                                                    border: \"1px solid #ffeaa7\",\n                                                    borderRadius: \"4px\",\n                                                    color: \"#856404\"\n                                                },\n                                                children: [\n                                                    \"\\uD83D\\uDCA1 \",\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                        children: \"Press Enter\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 2686,\n                                                        columnNumber: 24\n                                                    }, this),\n                                                    ' to add \"',\n                                                    searchTerm,\n                                                    '\" as a manual item with custom price'\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2676,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2664,\n                                        columnNumber: 17\n                                    }, this),\n                                    inventoryLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            padding: \"2rem\",\n                                            textAlign: \"center\",\n                                            color: \"#3498db\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                children: \"Loading products...\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2699,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                children: \"Please wait while we load the inventory from database\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2700,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2692,\n                                        columnNumber: 15\n                                    }, this),\n                                    inventory.length === 0 && !inventoryLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            padding: \"2rem\",\n                                            textAlign: \"center\",\n                                            color: \"#e74c3c\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                children: \"No products available\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2711,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                children: \"No inventory items found. Please check your connection or contact support.\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2712,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2704,\n                                        columnNumber: 15\n                                    }, this),\n                                    filteredInventory.map((product)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.ProductItem, {\n                                            onClick: ()=>addToCart(product),\n                                            style: {\n                                                opacity: product.stock <= 0 ? 0.7 : 1,\n                                                cursor: \"pointer\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                    children: product.name\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2727,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"price-row\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"price\",\n                                                            children: [\n                                                                \"$\",\n                                                                product.price.toFixed(2)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                            lineNumber: 2729,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            style: {\n                                                                fontSize: \"0.8rem\",\n                                                                color: \"#7f8c8d\"\n                                                            },\n                                                            children: product.taxable ? \"HST\" : \"No HST\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                            lineNumber: 2730,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2728,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"stock\",\n                                                    style: {\n                                                        color: product.stock < 0 ? \"#e74c3c\" : product.stock === 0 ? \"#f39c12\" : product.stock <= product.lowStockThreshold ? \"#f39c12\" : \"#27ae60\"\n                                                    },\n                                                    children: [\n                                                        \"Stock: \",\n                                                        product.stock,\n                                                        \" \",\n                                                        product.stock < 0 ? \"(Negative Stock)\" : product.stock === 0 ? \"(Out of Stock)\" : product.stock <= product.lowStockThreshold ? \"(Low Stock)\" : \"\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 2734,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, product.id, true, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2719,\n                                            columnNumber: 15\n                                        }, this))\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 2660,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                        lineNumber: 1945,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.CheckoutPanel, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"flex\",\n                                    justifyContent: \"space-between\",\n                                    alignItems: \"center\",\n                                    marginBottom: \"0.5rem\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        style: {\n                                            margin: 0\n                                        },\n                                        children: \"Current Sale\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2770,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            display: \"flex\",\n                                            gap: \"0.5rem\"\n                                        },\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.Button, {\n                                            onClick: ()=>{\n                                                setIsCreditSale(!isCreditSale);\n                                                if (isCreditSale) {\n                                                    setCreditCustomerName(\"\");\n                                                    setCreditAmount(0);\n                                                    setSelectedCustomer(null);\n                                                    setCustomerBalance(0);\n                                                }\n                                            },\n                                            style: {\n                                                background: isCreditSale ? \"#28a745\" : \"#6c757d\",\n                                                color: \"white\",\n                                                padding: \"0.5rem 0.75rem\",\n                                                fontSize: \"0.8rem\",\n                                                fontWeight: \"600\"\n                                            },\n                                            children: \"\\uD83D\\uDCB3 Credit\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                            lineNumber: 2772,\n                                            columnNumber: 15\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2771,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 2762,\n                                columnNumber: 11\n                            }, this),\n                            isCreditSale && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    padding: \"0.5rem\",\n                                    backgroundColor: \"#fff3cd\",\n                                    border: \"2px solid #ffc107\",\n                                    borderRadius: \"8px\",\n                                    marginBottom: \"0.75rem\",\n                                    textAlign: \"center\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            fontWeight: \"600\",\n                                            color: \"#856404\",\n                                            fontSize: \"0.9rem\"\n                                        },\n                                        children: \"\\uD83D\\uDCB3 CREDIT SALE MODE ACTIVE\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2807,\n                                        columnNumber: 15\n                                    }, this),\n                                    creditCustomerName && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            fontSize: \"0.8rem\",\n                                            color: \"#856404\",\n                                            marginTop: \"0.25rem\"\n                                        },\n                                        children: [\n                                            \"Customer: \",\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                children: creditCustomerName\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2824,\n                                                columnNumber: 29\n                                            }, this),\n                                            selectedCustomer && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                style: {\n                                                    marginLeft: \"0.5rem\"\n                                                },\n                                                children: [\n                                                    \"(Balance: $\",\n                                                    Math.abs(customerBalance).toFixed(2),\n                                                    \" \",\n                                                    customerBalance > 0 ? \"owed\" : \"credit\",\n                                                    \")\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2826,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2817,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 2797,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"cart-items\",\n                                children: cart.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    style: {\n                                        textAlign: \"center\",\n                                        color: \"#7f8c8d\",\n                                        marginTop: \"2rem\"\n                                    },\n                                    children: \"No items in cart — add products from the left panel\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                    lineNumber: 2837,\n                                    columnNumber: 15\n                                }, this) : cart.map((item)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.CartItem, {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"item-details\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                        children: item.name\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 2850,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        children: [\n                                                            \"$\",\n                                                            item.price.toFixed(2),\n                                                            \" each\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 2851,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>toggleItemTax(item.id),\n                                                        style: {\n                                                            fontSize: \"0.75rem\",\n                                                            padding: \"0.25rem 0.5rem\",\n                                                            borderRadius: \"12px\",\n                                                            border: \"none\",\n                                                            background: item.applyTax === true ? \"#27ae60\" : \"#95a5a6\",\n                                                            color: \"white\",\n                                                            cursor: \"pointer\",\n                                                            marginTop: \"0.25rem\"\n                                                        },\n                                                        children: item.applyTax === true ? \"HST ON\" : \"HST OFF\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 2852,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2849,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"quantity-controls\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>handleDecreaseQuantity(item.id),\n                                                        disabled: item.quantity <= 1,\n                                                        style: {\n                                                            opacity: item.quantity <= 1 ? 0.5 : 1,\n                                                            cursor: item.quantity <= 1 ? \"not-allowed\" : \"pointer\"\n                                                        },\n                                                        children: \"-\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 2870,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: item.quantity\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 2880,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>updateCartQuantity(item.id, item.quantity + 1),\n                                                        children: \"+\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 2881,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2869,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"item-total\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: [\n                                                            \"$\",\n                                                            (item.price * item.quantity).toFixed(2)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 2890,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    item.applyTax === true && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            fontSize: \"0.75rem\",\n                                                            color: \"#7f8c8d\"\n                                                        },\n                                                        children: [\n                                                            \"+$\",\n                                                            (item.price * item.quantity * 0.13).toFixed(2),\n                                                            \" HST\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 2892,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2889,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                className: \"remove-btn\",\n                                                onClick: ()=>removeFromCart(item.id),\n                                                children: \"\\xd7\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2897,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, item.id, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2848,\n                                        columnNumber: 17\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 2835,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"checkout-sections\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            margin: \"0.5rem 0\",\n                                            padding: \"0.5rem\",\n                                            backgroundColor: \"#f8f9fa\",\n                                            border: \"1px solid #e9ecef\",\n                                            borderRadius: \"6px\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                style: {\n                                                    display: \"flex\",\n                                                    alignItems: \"center\",\n                                                    gap: \"0.5rem\",\n                                                    cursor: \"pointer\",\n                                                    fontWeight: \"500\"\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: \"checkbox\",\n                                                        checked: cashbackEnabled,\n                                                        onChange: (e)=>{\n                                                            setCashbackEnabled(e.target.checked);\n                                                            if (!e.target.checked) {\n                                                                setCashbackAmount(\"\");\n                                                                setCashbackFee(\"\");\n                                                            }\n                                                        },\n                                                        style: {\n                                                            transform: \"scale(1.2)\"\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 2929,\n                                                        columnNumber: 15\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: \"Add Cashback\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 2941,\n                                                        columnNumber: 15\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 2920,\n                                                columnNumber: 13\n                                            }, this),\n                                            cashbackEnabled && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            marginTop: \"0.5rem\",\n                                                            display: \"flex\",\n                                                            alignItems: \"center\",\n                                                            gap: \"0.5rem\"\n                                                        },\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                style: {\n                                                                    minWidth: \"70px\",\n                                                                    fontSize: \"0.9rem\"\n                                                                },\n                                                                children: \"Amount:\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 2954,\n                                                                columnNumber: 19\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                ref: cashbackAmountRef,\n                                                                type: \"number\",\n                                                                step: \"0.01\",\n                                                                min: \"0\",\n                                                                value: cashbackAmount,\n                                                                onFocus: ()=>handleInputFocus(cashbackAmountRef, true),\n                                                                onChange: (e)=>{\n                                                                    const value = e.target.value;\n                                                                    setCashbackAmount(value === \"\" ? \"\" : Number(value));\n                                                                },\n                                                                style: {\n                                                                    padding: \"0.4rem\",\n                                                                    flex: 1,\n                                                                    borderRadius: \"4px\",\n                                                                    border: \"1px solid #ddd\"\n                                                                },\n                                                                placeholder: \"0.00\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 2957,\n                                                                columnNumber: 19\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 2946,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            marginTop: \"0.5rem\",\n                                                            display: \"flex\",\n                                                            alignItems: \"center\",\n                                                            gap: \"0.5rem\"\n                                                        },\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                style: {\n                                                                    minWidth: \"70px\",\n                                                                    fontSize: \"0.9rem\",\n                                                                    color: \"#e67e22\"\n                                                                },\n                                                                children: \"Fee:\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 2986,\n                                                                columnNumber: 19\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                ref: cashbackFeeRef,\n                                                                type: \"number\",\n                                                                step: \"0.01\",\n                                                                min: \"0\",\n                                                                value: cashbackFee,\n                                                                onFocus: ()=>handleInputFocus(cashbackFeeRef, true),\n                                                                onChange: (e)=>{\n                                                                    const value = e.target.value;\n                                                                    setCashbackFee(value === \"\" ? \"\" : Number(value));\n                                                                },\n                                                                style: {\n                                                                    padding: \"0.4rem\",\n                                                                    flex: 1,\n                                                                    borderRadius: \"4px\",\n                                                                    border: \"1px solid #e67e22\",\n                                                                    backgroundColor: \"#fef5e7\"\n                                                                },\n                                                                placeholder: \"0.00\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 2995,\n                                                                columnNumber: 19\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 2978,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    (Number(cashbackFee) || 0) > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            marginTop: \"0.5rem\",\n                                                            fontSize: \"0.8rem\",\n                                                            color: \"#e67e22\",\n                                                            fontStyle: \"italic\",\n                                                            backgroundColor: \"#fef5e7\",\n                                                            padding: \"0.25rem 0.5rem\",\n                                                            borderRadius: \"4px\",\n                                                            border: \"1px solid #f4d03f\"\n                                                        },\n                                                        children: [\n                                                            \"\\uD83D\\uDCB0 Cashback fee: $\",\n                                                            (Number(cashbackFee) || 0).toFixed(2),\n                                                            \" \",\n                                                            \"added to total\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3018,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 2911,\n                                        columnNumber: 11\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            margin: \"0.5rem 0\",\n                                            padding: \"0.5rem\",\n                                            backgroundColor: \"#fff3e0\",\n                                            border: \"1px solid #ffcc80\",\n                                            borderRadius: \"6px\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    display: \"flex\",\n                                                    alignItems: \"center\",\n                                                    gap: \"0.5rem\",\n                                                    fontWeight: \"500\",\n                                                    marginBottom: \"0.5rem\"\n                                                },\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"\\uD83D\\uDCB0 Discount\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 3057,\n                                                    columnNumber: 15\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 3048,\n                                                columnNumber: 13\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    display: \"flex\",\n                                                    alignItems: \"center\",\n                                                    gap: \"0.5rem\"\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        style: {\n                                                            minWidth: \"70px\",\n                                                            fontSize: \"0.9rem\"\n                                                        },\n                                                        children: \"Amount:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3066,\n                                                        columnNumber: 15\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        ref: discountRef,\n                                                        type: \"number\",\n                                                        step: \"0.01\",\n                                                        min: \"0\",\n                                                        value: discountAmount,\n                                                        onFocus: ()=>handleInputFocus(discountRef, true),\n                                                        onChange: (e)=>{\n                                                            const value = e.target.value;\n                                                            setDiscountAmount(value === \"\" ? \"\" : Number(value));\n                                                        },\n                                                        style: {\n                                                            padding: \"0.4rem\",\n                                                            flex: 1,\n                                                            borderRadius: \"4px\",\n                                                            border: \"1px solid #ddd\"\n                                                        },\n                                                        placeholder: \"0.00\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3069,\n                                                        columnNumber: 15\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 3059,\n                                                columnNumber: 13\n                                            }, this),\n                                            (Number(discountAmount) || 0) > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    marginTop: \"0.5rem\",\n                                                    fontSize: \"0.8rem\",\n                                                    color: \"#e65100\",\n                                                    fontStyle: \"italic\"\n                                                },\n                                                children: [\n                                                    \"\\uD83D\\uDCB8 Customer saves $\",\n                                                    (Number(discountAmount) || 0).toFixed(2)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 3090,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 3039,\n                                        columnNumber: 11\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            margin: \"0.5rem 0\",\n                                            padding: \"0.5rem\",\n                                            backgroundColor: \"#f8f4ff\",\n                                            border: \"1px solid #d4c5f9\",\n                                            borderRadius: \"6px\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    display: \"flex\",\n                                                    alignItems: \"center\",\n                                                    gap: \"0.5rem\",\n                                                    marginBottom: \"0.5rem\",\n                                                    fontWeight: \"500\"\n                                                },\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"\\uD83D\\uDCB3 Card Fees\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 3122,\n                                                    columnNumber: 15\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 3113,\n                                                columnNumber: 13\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    display: \"flex\",\n                                                    alignItems: \"center\",\n                                                    gap: \"0.5rem\",\n                                                    marginBottom: cardFeeEnabled ? \"0.5rem\" : \"0\"\n                                                },\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    style: {\n                                                        display: \"flex\",\n                                                        alignItems: \"center\",\n                                                        gap: \"0.5rem\",\n                                                        cursor: \"pointer\",\n                                                        fontSize: \"0.9rem\"\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                            type: \"checkbox\",\n                                                            checked: cardFeeEnabled,\n                                                            onChange: (e)=>{\n                                                                const isEnabled = e.target.checked;\n                                                                setCardFeeEnabled(isEnabled);\n                                                                const currentCardAmount = Number(parseFloat(cardAmount) || 0);\n                                                                const currentCashAmount = Number(parseFloat(cashAmount) || 0);\n                                                                if (isEnabled) {\n                                                                    // When enabling, add card fee to total\n                                                                    const totalAmount = currentCardAmount + currentCashAmount + CARD_FEE_AMOUNT;\n                                                                    setCardAmount(String(totalAmount.toFixed(2)));\n                                                                    setCashAmount(\"0\");\n                                                                    setLastEdited(\"card\");\n                                                                } else {\n                                                                    // When disabling, remove card fee from total\n                                                                    if (currentCardAmount >= CARD_FEE_AMOUNT) {\n                                                                        const newCardAmount = Math.max(0, currentCardAmount - CARD_FEE_AMOUNT);\n                                                                        setCardAmount(String(newCardAmount.toFixed(2)));\n                                                                    }\n                                                                }\n                                                            },\n                                                            style: {\n                                                                marginRight: \"0.25rem\",\n                                                                transform: \"scale(1.1)\"\n                                                            }\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                            lineNumber: 3143,\n                                                            columnNumber: 17\n                                                        }, this),\n                                                        \"Apply card fee (+$\",\n                                                        CARD_FEE_AMOUNT.toFixed(2),\n                                                        \")\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 3134,\n                                                    columnNumber: 15\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 3126,\n                                                columnNumber: 13\n                                            }, this),\n                                            cardFeeEnabled && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    marginTop: \"0.5rem\",\n                                                    padding: \"0.25rem 0.5rem\",\n                                                    backgroundColor: \"#fff3cd\",\n                                                    border: \"1px solid #ffeaa7\",\n                                                    borderRadius: \"4px\",\n                                                    fontSize: \"0.8rem\",\n                                                    color: \"#856404\"\n                                                },\n                                                children: [\n                                                    \"\\uD83D\\uDCB0 Card processing fee: $\",\n                                                    CARD_FEE_AMOUNT.toFixed(2),\n                                                    \" added to total\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 3186,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 3104,\n                                        columnNumber: 11\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            margin: \"0.5rem 0\",\n                                            padding: \"0.5rem\",\n                                            backgroundColor: \"#e8f5e8\",\n                                            border: \"1px solid #c3e6c3\",\n                                            borderRadius: \"6px\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    display: \"flex\",\n                                                    alignItems: \"center\",\n                                                    gap: \"0.5rem\",\n                                                    fontWeight: \"500\",\n                                                    marginBottom: \"0.5rem\"\n                                                },\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"\\uD83C\\uDFB0 Lotto Winnings\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                    lineNumber: 3222,\n                                                    columnNumber: 15\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 3213,\n                                                columnNumber: 13\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    display: \"flex\",\n                                                    alignItems: \"center\",\n                                                    gap: \"0.5rem\"\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        style: {\n                                                            minWidth: \"70px\",\n                                                            fontSize: \"0.9rem\"\n                                                        },\n                                                        children: \"Amount:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3232,\n                                                        columnNumber: 15\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        ref: lottoWinningsRef,\n                                                        type: \"number\",\n                                                        step: \"0.01\",\n                                                        min: \"0\",\n                                                        value: lottoWinnings,\n                                                        onFocus: ()=>handleInputFocus(lottoWinningsRef, true),\n                                                        onChange: (e)=>{\n                                                            const value = e.target.value;\n                                                            setLottoWinnings(value === \"\" ? \"\" : Number(value));\n                                                        },\n                                                        style: {\n                                                            padding: \"0.4rem\",\n                                                            flex: 1,\n                                                            borderRadius: \"4px\",\n                                                            border: \"1px solid #ddd\"\n                                                        },\n                                                        placeholder: \"0.00\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3235,\n                                                        columnNumber: 15\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 3225,\n                                                columnNumber: 13\n                                            }, this),\n                                            (Number(lottoWinnings) || 0) > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    marginTop: \"0.5rem\",\n                                                    fontSize: \"0.8rem\",\n                                                    color: \"#28a745\",\n                                                    fontStyle: \"italic\"\n                                                },\n                                                children: [\n                                                    \"\\uD83D\\uDCB0 Customer won $\",\n                                                    (Number(lottoWinnings) || 0).toFixed(2),\n                                                    \" in lottery\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 3257,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                        lineNumber: 3204,\n                                        columnNumber: 11\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 2909,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"checkout-summary\",\n                                children: (()=>{\n                                    var _selectedCustomer_balance;\n                                    const originalSubtotal = calculateSubtotal(); // Items total before discount\n                                    const discount = Number(parseFloat(discountAmount) || 0);\n                                    const subtotal = calculateTotal(); // After discount\n                                    const tax = calculateTax();\n                                    const total = +(subtotal + tax).toFixed(2);\n                                    const cashback = Number(parseFloat(cashbackAmount) || 0);\n                                    const lotto = Number(parseFloat(lottoWinnings) || 0);\n                                    const paidCash = Number(parseFloat(cashAmount) || 0);\n                                    const paidCard = Number(parseFloat(cardAmount) || 0);\n                                    const paidTotal = +(paidCash + paidCard).toFixed(2);\n                                    // Calculate final total with cashback and lotto winnings\n                                    const finalTotal = total + cashback - lotto;\n                                    // For cashback transactions, require card payment to cover total + cashback\n                                    let isSufficient;\n                                    if (cashback > 0 && lotto === 0) {\n                                        const totalNeeded = total + cashback;\n                                        isSufficient = paidCard + 0.0001 >= totalNeeded;\n                                    } else if (lotto > 0) {\n                                        // With lotto winnings, customer may owe less or even get money back\n                                        isSufficient = finalTotal <= 0 || paidTotal + 0.0001 >= finalTotal;\n                                    } else {\n                                        isSufficient = paidTotal + 0.0001 >= total;\n                                    }\n                                    const change = cashback > 0 && lotto === 0 ? 0 : Math.max(0, +(paidTotal - finalTotal).toFixed(2));\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.Total, {\n                                                children: [\n                                                    getTaxableTotal() > 0 && getNonTaxableTotal() > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                children: [\n                                                                    \"Taxable: $\",\n                                                                    getTaxableTotal().toFixed(2)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 3311,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                children: [\n                                                                    \"Non-Taxable: $\",\n                                                                    getNonTaxableTotal().toFixed(2)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 3312,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true),\n                                                    discount > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                children: [\n                                                                    \"Items Subtotal: $\",\n                                                                    originalSubtotal.toFixed(2)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 3319,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                style: {\n                                                                    color: \"#e65100\",\n                                                                    fontWeight: \"500\"\n                                                                },\n                                                                children: [\n                                                                    \"Discount: -$\",\n                                                                    discount.toFixed(2)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 3322,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                children: [\n                                                                    \"Subtotal: $\",\n                                                                    subtotal.toFixed(2)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 3325,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: [\n                                                            \"Subtotal: $\",\n                                                            subtotal.toFixed(2)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3328,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    tax > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: [\n                                                            \"HST (13%): $\",\n                                                            tax.toFixed(2)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3330,\n                                                        columnNumber: 33\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: [\n                                                            \"Purchase Total: $\",\n                                                            total.toFixed(2)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3331,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    cashback > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            color: \"#e67e22\",\n                                                            fontWeight: \"500\"\n                                                        },\n                                                        children: [\n                                                            \"Cashback: $\",\n                                                            cashback.toFixed(2)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3333,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    Number(parseFloat(cashbackFee) || 0) > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            color: \"#d35400\",\n                                                            fontWeight: \"500\"\n                                                        },\n                                                        children: [\n                                                            \"Cashback Fee: $\",\n                                                            Number(parseFloat(cashbackFee) || 0).toFixed(2)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3338,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    lotto > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            color: \"#28a745\",\n                                                            fontWeight: \"500\"\n                                                        },\n                                                        children: [\n                                                            \"Lotto Winnings: -$\",\n                                                            lotto.toFixed(2)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3344,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"final-total\",\n                                                        children: isBalancePayment ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    style: {\n                                                                        color: \"#17a2b8\",\n                                                                        fontWeight: \"600\",\n                                                                        marginBottom: \"5px\"\n                                                                    },\n                                                                    children: \"\\uD83C\\uDFE6 Customer Balance Payment\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                    lineNumber: 3351,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    children: [\n                                                                        \"Paying for:\",\n                                                                        \" \",\n                                                                        (selectedCustomer === null || selectedCustomer === void 0 ? void 0 : selectedCustomer.name) || \"Selected Customer\"\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                    lineNumber: 3360,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    children: [\n                                                                        \"Current Balance: $\",\n                                                                        (selectedCustomer === null || selectedCustomer === void 0 ? void 0 : (_selectedCustomer_balance = selectedCustomer.balance) === null || _selectedCustomer_balance === void 0 ? void 0 : _selectedCustomer_balance.toFixed(2)) || \"0.00\"\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                    lineNumber: 3364,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                            children: [\n                                                                \"Total Amount Due: $\",\n                                                                finalTotal >= 0 ? finalTotal.toFixed(2) : \"(\".concat(Math.abs(finalTotal).toFixed(2), \") Credit\")\n                                                            ]\n                                                        }, void 0, true)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3348,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 3308,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    marginTop: \"1rem\",\n                                                    display: \"flex\",\n                                                    flexDirection: \"column\",\n                                                    gap: \"0.5rem\"\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            padding: \"1rem\",\n                                                            backgroundColor: \"#fff3cd\",\n                                                            border: \"2px solid #ffc107\",\n                                                            borderRadius: \"8px\"\n                                                        },\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                style: {\n                                                                    display: \"flex\",\n                                                                    alignItems: \"center\",\n                                                                    gap: \"0.5rem\",\n                                                                    cursor: \"pointer\",\n                                                                    fontWeight: \"600\",\n                                                                    fontSize: \"1.1rem\",\n                                                                    color: \"#856404\",\n                                                                    marginBottom: isCreditSale ? \"0.75rem\" : \"0\",\n                                                                    justifyContent: \"center\"\n                                                                },\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                        type: \"checkbox\",\n                                                                        checked: isCreditSale,\n                                                                        onChange: (e)=>{\n                                                                            setIsCreditSale(e.target.checked);\n                                                                            if (!e.target.checked) {\n                                                                                setCreditCustomerName(\"\");\n                                                                                setCreditAmount(0);\n                                                                            } else {\n                                                                                // Clear existing payments when entering credit mode\n                                                                                setCashAmount(\"\");\n                                                                                setCardAmount(\"\");\n                                                                                setCreditAmount(0);\n                                                                            }\n                                                                        },\n                                                                        style: {\n                                                                            transform: \"scale(1.2)\"\n                                                                        }\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                        lineNumber: 3411,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        children: \"\\uD83D\\uDCB3 Credit Sale Mode\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                        lineNumber: 3428,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 3398,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            isCreditSale && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        style: {\n                                                                            marginBottom: \"0.75rem\"\n                                                                        },\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                style: {\n                                                                                    display: \"flex\",\n                                                                                    alignItems: \"center\",\n                                                                                    gap: \"0.5rem\",\n                                                                                    marginBottom: \"0.5rem\",\n                                                                                    position: \"relative\"\n                                                                                },\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                                        style: {\n                                                                                            minWidth: \"80px\",\n                                                                                            fontSize: \"0.9rem\",\n                                                                                            color: \"#856404\",\n                                                                                            fontWeight: \"500\"\n                                                                                        },\n                                                                                        children: \"Customer:\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3444,\n                                                                                        columnNumber: 31\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        style: {\n                                                                                            flex: 1,\n                                                                                            position: \"relative\",\n                                                                                            display: \"flex\",\n                                                                                            gap: \"0.25rem\"\n                                                                                        },\n                                                                                        children: [\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                                                ref: creditCustomerNameRef,\n                                                                                                type: \"text\",\n                                                                                                value: creditCustomerName,\n                                                                                                onFocus: ()=>handleInputFocus(creditCustomerNameRef, false),\n                                                                                                onChange: (e)=>handleCustomerNameChange(e.target.value),\n                                                                                                style: {\n                                                                                                    padding: \"0.4rem\",\n                                                                                                    flex: 1,\n                                                                                                    borderRadius: \"4px\",\n                                                                                                    border: \"1px solid #ddd\"\n                                                                                                },\n                                                                                                placeholder: \"Enter customer name\"\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                                lineNumber: 3462,\n                                                                                                columnNumber: 33\n                                                                                            }, this),\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                                onClick: fetchExistingCustomers,\n                                                                                                style: {\n                                                                                                    padding: \"0.4rem\",\n                                                                                                    backgroundColor: \"#6c757d\",\n                                                                                                    color: \"white\",\n                                                                                                    border: \"none\",\n                                                                                                    borderRadius: \"4px\",\n                                                                                                    cursor: \"pointer\",\n                                                                                                    fontSize: \"0.8rem\"\n                                                                                                },\n                                                                                                title: \"Refresh customer list\",\n                                                                                                children: \"\\uD83D\\uDD04\"\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                                lineNumber: 3478,\n                                                                                                columnNumber: 33\n                                                                                            }, this),\n                                                                                            showCustomerSuggestions && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                style: {\n                                                                                                    position: \"absolute\",\n                                                                                                    top: \"100%\",\n                                                                                                    left: 0,\n                                                                                                    right: 0,\n                                                                                                    backgroundColor: \"white\",\n                                                                                                    border: \"1px solid #ddd\",\n                                                                                                    borderRadius: \"4px\",\n                                                                                                    boxShadow: \"0 2px 8px rgba(0,0,0,0.1)\",\n                                                                                                    zIndex: 1000,\n                                                                                                    maxHeight: \"150px\",\n                                                                                                    overflowY: \"auto\"\n                                                                                                },\n                                                                                                children: (()=>{\n                                                                                                    const filteredCustomers = Array.isArray(existingCustomers) ? existingCustomers.filter((customer)=>customer && customer.customerName && customer.customerName.toLowerCase().includes(creditCustomerName.toLowerCase())) : [];\n                                                                                                    const exactMatch = filteredCustomers.find((customer)=>customer.customerName.toLowerCase() === creditCustomerName.toLowerCase());\n                                                                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                                                                        children: [\n                                                                                                            filteredCustomers.map((customer, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                                    onClick: ()=>handleCustomerSelection(customer),\n                                                                                                                    style: {\n                                                                                                                        padding: \"0.5rem\",\n                                                                                                                        cursor: \"pointer\",\n                                                                                                                        borderBottom: \"1px solid #eee\",\n                                                                                                                        display: \"flex\",\n                                                                                                                        justifyContent: \"space-between\",\n                                                                                                                        alignItems: \"center\"\n                                                                                                                    },\n                                                                                                                    onMouseEnter: (e)=>e.target.style.backgroundColor = \"#f5f5f5\",\n                                                                                                                    onMouseLeave: (e)=>e.target.style.backgroundColor = \"white\",\n                                                                                                                    children: [\n                                                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                                            children: customer.customerName\n                                                                                                                        }, void 0, false, {\n                                                                                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                                                            lineNumber: 3563,\n                                                                                                                            columnNumber: 49\n                                                                                                                        }, this),\n                                                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                                            style: {\n                                                                                                                                fontSize: \"0.8rem\",\n                                                                                                                                color: customer.balance > 0 ? \"#dc3545\" : \"#28a745\",\n                                                                                                                                fontWeight: \"500\"\n                                                                                                                            },\n                                                                                                                            children: [\n                                                                                                                                \"$\",\n                                                                                                                                Math.abs(customer.balance || 0).toFixed(2),\n                                                                                                                                \" \",\n                                                                                                                                customer.balance > 0 ? \"owed\" : \"credit\"\n                                                                                                                            ]\n                                                                                                                        }, void 0, true, {\n                                                                                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                                                            lineNumber: 3566,\n                                                                                                                            columnNumber: 49\n                                                                                                                        }, this)\n                                                                                                                    ]\n                                                                                                                }, index, true, {\n                                                                                                                    fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                                                    lineNumber: 3537,\n                                                                                                                    columnNumber: 47\n                                                                                                                }, this)),\n                                                                                                            creditCustomerName.trim().length > 0 && !exactMatch && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                                onClick: ()=>{\n                                                                                                                    // Create new customer with entered name\n                                                                                                                    const newCustomer = {\n                                                                                                                        customerName: creditCustomerName.trim(),\n                                                                                                                        balance: 0,\n                                                                                                                        isNewCustomer: true\n                                                                                                                    };\n                                                                                                                    handleCustomerSelection(newCustomer);\n                                                                                                                },\n                                                                                                                style: {\n                                                                                                                    padding: \"0.5rem\",\n                                                                                                                    cursor: \"pointer\",\n                                                                                                                    borderTop: filteredCustomers.length > 0 ? \"2px solid #e9ecef\" : \"none\",\n                                                                                                                    backgroundColor: \"#e8f5e8\",\n                                                                                                                    display: \"flex\",\n                                                                                                                    alignItems: \"center\",\n                                                                                                                    gap: \"0.5rem\",\n                                                                                                                    fontWeight: \"500\",\n                                                                                                                    color: \"#155724\"\n                                                                                                                },\n                                                                                                                onMouseEnter: (e)=>e.target.style.backgroundColor = \"#d4edda\",\n                                                                                                                onMouseLeave: (e)=>e.target.style.backgroundColor = \"#e8f5e8\",\n                                                                                                                children: [\n                                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                                        children: \"➕\"\n                                                                                                                    }, void 0, false, {\n                                                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                                                        lineNumber: 3628,\n                                                                                                                        columnNumber: 49\n                                                                                                                    }, this),\n                                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                                        children: [\n                                                                                                                            'Add \"',\n                                                                                                                            creditCustomerName.trim(),\n                                                                                                                            '\" as new credit customer'\n                                                                                                                        ]\n                                                                                                                    }, void 0, true, {\n                                                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                                                        lineNumber: 3629,\n                                                                                                                        columnNumber: 49\n                                                                                                                    }, this)\n                                                                                                                ]\n                                                                                                            }, void 0, true, {\n                                                                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                                                lineNumber: 3592,\n                                                                                                                columnNumber: 47\n                                                                                                            }, this)\n                                                                                                        ]\n                                                                                                    }, void 0, true);\n                                                                                                })()\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                                lineNumber: 3496,\n                                                                                                columnNumber: 35\n                                                                                            }, this)\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3454,\n                                                                                        columnNumber: 31\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                lineNumber: 3435,\n                                                                                columnNumber: 29\n                                                                            }, this),\n                                                                            existingCustomers.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                style: {\n                                                                                    fontSize: \"0.8rem\",\n                                                                                    color: \"#6c757d\",\n                                                                                    marginBottom: \"0.5rem\",\n                                                                                    padding: \"0.25rem\",\n                                                                                    backgroundColor: \"#f8f9fa\",\n                                                                                    borderRadius: \"4px\"\n                                                                                },\n                                                                                children: [\n                                                                                    \"Loaded \",\n                                                                                    existingCustomers.length,\n                                                                                    \" customers.\",\n                                                                                    \" \",\n                                                                                    creditCustomerName && 'Searching for: \"'.concat(creditCustomerName, '\"')\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                lineNumber: 3646,\n                                                                                columnNumber: 31\n                                                                            }, this),\n                                                                            selectedCustomer && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                style: {\n                                                                                    padding: \"0.5rem\",\n                                                                                    backgroundColor: customerBalance > 0 ? \"#f8d7da\" : \"#d4edda\",\n                                                                                    border: \"1px solid \".concat(customerBalance > 0 ? \"#f5c6cb\" : \"#c3e6cb\"),\n                                                                                    borderRadius: \"4px\",\n                                                                                    marginBottom: \"0.5rem\",\n                                                                                    fontSize: \"0.9rem\"\n                                                                                },\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                                        children: selectedCustomer.customerName\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3677,\n                                                                                        columnNumber: 33\n                                                                                    }, this),\n                                                                                    \" \",\n                                                                                    \"- Current Balance:\",\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                        style: {\n                                                                                            color: customerBalance > 0 ? \"#721c24\" : \"#155724\",\n                                                                                            fontWeight: \"600\",\n                                                                                            marginLeft: \"0.25rem\"\n                                                                                        },\n                                                                                        children: [\n                                                                                            \"$\",\n                                                                                            Math.abs(customerBalance).toFixed(2),\n                                                                                            \" \",\n                                                                                            customerBalance > 0 ? \"owed\" : \"credit\"\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3679,\n                                                                                        columnNumber: 33\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        style: {\n                                                                                            fontSize: \"0.7rem\",\n                                                                                            color: \"#6c757d\",\n                                                                                            marginTop: \"0.25rem\"\n                                                                                        },\n                                                                                        children: [\n                                                                                            \"ID: \",\n                                                                                            selectedCustomer.id,\n                                                                                            \" | Last updated:\",\n                                                                                            \" \",\n                                                                                            new Date(selectedCustomer.updatedAt).toLocaleTimeString()\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3692,\n                                                                                        columnNumber: 33\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                lineNumber: 3664,\n                                                                                columnNumber: 31\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                        lineNumber: 3434,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    \" \",\n                                                                    (()=>{\n                                                                        const subtotal = calculateTotal();\n                                                                        const tax = calculateTax();\n                                                                        const total = +(subtotal + tax).toFixed(2);\n                                                                        const cashback = Number(parseFloat(cashbackAmount) || 0);\n                                                                        const lotto = Number(parseFloat(lottoWinnings) || 0);\n                                                                        const finalTotal = total + cashback - lotto;\n                                                                        const paidCash = Number(parseFloat(cashAmount) || 0);\n                                                                        const paidCard = Number(parseFloat(cardAmount) || 0);\n                                                                        const paidTotal = paidCash + paidCard;\n                                                                        const specifiedCreditAmount = Number(parseFloat(creditAmount) || 0);\n                                                                        // Use specified credit amount or calculate from payment difference\n                                                                        const creditBalance = specifiedCreditAmount > 0 ? specifiedCreditAmount : Math.max(0, finalTotal - paidTotal);\n                                                                        const requiredPayment = specifiedCreditAmount > 0 ? finalTotal - specifiedCreditAmount : paidTotal;\n                                                                        if (specifiedCreditAmount > 0) {\n                                                                            // Specified credit amount mode\n                                                                            const paymentNeeded = finalTotal - specifiedCreditAmount;\n                                                                            const paymentStatus = paidTotal >= paymentNeeded - 0.001;\n                                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                style: {\n                                                                                    backgroundColor: paymentStatus ? \"#e8f5e8\" : \"#fff3cd\",\n                                                                                    border: \"1px solid \".concat(paymentStatus ? \"#28a745\" : \"#ffc107\"),\n                                                                                    borderRadius: \"4px\",\n                                                                                    padding: \"0.5rem\",\n                                                                                    fontSize: \"0.9rem\"\n                                                                                },\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                                            children: \"Specified Credit Mode:\"\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                            lineNumber: 3761,\n                                                                                            columnNumber: 37\n                                                                                        }, this)\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3760,\n                                                                                        columnNumber: 35\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        children: [\n                                                                                            \"� Unpaid Balance: $\",\n                                                                                            specifiedCreditAmount.toFixed(2)\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3763,\n                                                                                        columnNumber: 35\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        children: [\n                                                                                            \"\\uD83D\\uDCB0 Payment Needed: $\",\n                                                                                            paymentNeeded.toFixed(2)\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3767,\n                                                                                        columnNumber: 35\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        children: [\n                                                                                            \"\\uD83D\\uDCCA Payment Status: $\",\n                                                                                            paidTotal.toFixed(2),\n                                                                                            \" / $\",\n                                                                                            paymentNeeded.toFixed(2)\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3771,\n                                                                                        columnNumber: 35\n                                                                                    }, this),\n                                                                                    !paymentStatus && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        style: {\n                                                                                            color: \"#dc3545\",\n                                                                                            fontWeight: \"500\",\n                                                                                            marginTop: \"0.25rem\"\n                                                                                        },\n                                                                                        children: [\n                                                                                            \"⚠️ Need $\",\n                                                                                            (paymentNeeded - paidTotal).toFixed(2),\n                                                                                            \" \",\n                                                                                            \"more\"\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3776,\n                                                                                        columnNumber: 37\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                lineNumber: 3747,\n                                                                                columnNumber: 33\n                                                                            }, this);\n                                                                        } else if (paidTotal > 0 && creditBalance > 0) {\n                                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                style: {\n                                                                                    backgroundColor: \"#e8f5e8\",\n                                                                                    border: \"1px solid #28a745\",\n                                                                                    borderRadius: \"4px\",\n                                                                                    padding: \"0.5rem\",\n                                                                                    fontSize: \"0.9rem\"\n                                                                                },\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                                            children: \"Auto-Calculate Mode:\"\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                            lineNumber: 3802,\n                                                                                            columnNumber: 37\n                                                                                        }, this)\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3801,\n                                                                                        columnNumber: 35\n                                                                                    }, this),\n                                                                                    paidCash > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        children: [\n                                                                                            \"\\uD83D\\uDCB5 Cash: $\",\n                                                                                            paidCash.toFixed(2)\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3805,\n                                                                                        columnNumber: 37\n                                                                                    }, this),\n                                                                                    paidCard > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        children: [\n                                                                                            \"\\uD83D\\uDCB3 Card: $\",\n                                                                                            paidCard.toFixed(2)\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3808,\n                                                                                        columnNumber: 37\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        style: {\n                                                                                            color: \"#dc3545\",\n                                                                                            fontWeight: \"500\"\n                                                                                        },\n                                                                                        children: [\n                                                                                            \"\\uD83D\\uDCDD Credit Balance: $\",\n                                                                                            creditBalance.toFixed(2)\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3810,\n                                                                                        columnNumber: 35\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                lineNumber: 3792,\n                                                                                columnNumber: 33\n                                                                            }, this);\n                                                                        } else if (paidTotal >= finalTotal) {\n                                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                style: {\n                                                                                    backgroundColor: \"#e8f5e8\",\n                                                                                    border: \"1px solid #28a745\",\n                                                                                    borderRadius: \"4px\",\n                                                                                    padding: \"0.5rem\",\n                                                                                    fontSize: \"0.9rem\",\n                                                                                    textAlign: \"center\"\n                                                                                },\n                                                                                children: [\n                                                                                    \"✅\",\n                                                                                    \" \",\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                                        children: \"Fully Paid - No Credit Balance\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3834,\n                                                                                        columnNumber: 35\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                lineNumber: 3823,\n                                                                                columnNumber: 33\n                                                                            }, this);\n                                                                        } else {\n                                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                style: {\n                                                                                    backgroundColor: \"#f8d7da\",\n                                                                                    border: \"1px solid #dc3545\",\n                                                                                    borderRadius: \"4px\",\n                                                                                    padding: \"0.5rem\",\n                                                                                    fontSize: \"0.9rem\",\n                                                                                    textAlign: \"center\"\n                                                                                },\n                                                                                children: [\n                                                                                    \"\\uD83D\\uDCDD\",\n                                                                                    \" \",\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                                        children: [\n                                                                                            \"Full Credit: $\",\n                                                                                            creditBalance.toFixed(2)\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                        lineNumber: 3852,\n                                                                                        columnNumber: 35\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                                lineNumber: 3841,\n                                                                                columnNumber: 33\n                                                                            }, this);\n                                                                        }\n                                                                    })()\n                                                                ]\n                                                            }, void 0, true)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3389,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    !isCreditSale && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            display: \"flex\",\n                                                            gap: \"0.5rem\",\n                                                            alignItems: \"center\",\n                                                            justifyContent: \"space-between\"\n                                                        },\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                style: {\n                                                                    display: \"flex\",\n                                                                    gap: \"0.5rem\",\n                                                                    alignItems: \"center\"\n                                                                },\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                        type: \"checkbox\",\n                                                                        checked: autoFillOther,\n                                                                        onChange: (e)=>setAutoFillOther(!!e.target.checked)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                        lineNumber: 3880,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        style: {\n                                                                            fontSize: \"0.9rem\"\n                                                                        },\n                                                                        children: \"Auto-fill other payment\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                        lineNumber: 3887,\n                                                                        columnNumber: 27\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 3873,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                style: {\n                                                                    fontSize: \"0.85rem\",\n                                                                    color: \"#7f8c8d\"\n                                                                },\n                                                                children: \"Toggle to automatically fill the other field\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 3891,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3865,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            display: \"flex\",\n                                                            gap: \"0.5rem\",\n                                                            alignItems: \"center\",\n                                                            position: \"relative\"\n                                                        },\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                style: {\n                                                                    minWidth: \"80px\",\n                                                                    color: (Number(cashbackAmount) || 0) > 0 ? \"#95a5a6\" : \"inherit\"\n                                                                },\n                                                                children: \"Cash:\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 3905,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                ref: cashAmountRef,\n                                                                type: \"number\",\n                                                                step: \"0.01\",\n                                                                min: \"0\",\n                                                                value: cashAmount,\n                                                                disabled: (Number(cashbackAmount) || 0) > 0,\n                                                                onFocus: ()=>handleInputFocus(cashAmountRef, true),\n                                                                onChange: (e)=>{\n                                                                    const value = e.target.value;\n                                                                    setLastEdited(\"cash\");\n                                                                    // Always set the raw value first to allow proper typing\n                                                                    setCashAmount(value);\n                                                                    // Only do validation and auto-fill if value is not empty and not currently being typed\n                                                                    if (value !== \"\") {\n                                                                        const parsed = Number(value);\n                                                                        if (isCreditSale) {\n                                                                            // Check if this is a balance payment (no items in cart)\n                                                                            const isBalancePayment = cart.length === 0 && selectedCustomer && customerBalance > 0;\n                                                                            if (isBalancePayment) {\n                                                                                // For balance payments, allow any amount up to the customer's balance\n                                                                                const validCashAmount = Math.min(parsed, customerBalance);\n                                                                                if (parsed > customerBalance) {\n                                                                                    setCashAmount(String(validCashAmount));\n                                                                                }\n                                                                                // Clear card when cash is entered\n                                                                                if (validCashAmount > 0) {\n                                                                                    setCardAmount(\"\");\n                                                                                }\n                                                                                return;\n                                                                            }\n                                                                            // For regular credit sales with items in cart\n                                                                            const subtotal = calculateTotal();\n                                                                            const tax = calculateTax();\n                                                                            const total = +(subtotal + tax).toFixed(2);\n                                                                            const cashback = Number(parseFloat(cashbackAmount) || 0);\n                                                                            const lotto = Number(parseFloat(lottoWinnings) || 0);\n                                                                            const finalTotal = total + cashback - lotto;\n                                                                            const currentCredit = Number(parseFloat(creditAmount) || 0);\n                                                                            const remainingAmount = Math.max(0, finalTotal - currentCredit);\n                                                                            // If customer has existing balance, allow payment up to transaction total + existing balance\n                                                                            let maxAllowedPayment = remainingAmount;\n                                                                            if (selectedCustomer && customerBalance > 0) {\n                                                                                maxAllowedPayment = finalTotal + customerBalance;\n                                                                            }\n                                                                            // Allow cash up to max allowed payment\n                                                                            const validCashAmount = Math.min(parsed, maxAllowedPayment);\n                                                                            if (parsed > maxAllowedPayment) {\n                                                                                setCashAmount(String(validCashAmount));\n                                                                            }\n                                                                            // If user enters cash, clear card (only one payment method)\n                                                                            if (validCashAmount > 0) {\n                                                                                setCardAmount(\"\");\n                                                                            }\n                                                                            return;\n                                                                        }\n                                                                        if (autoFillOther) {\n                                                                            // Regular mode auto-fill\n                                                                            const subtotal = calculateTotal();\n                                                                            const tax = calculateTax();\n                                                                            const total = +(subtotal + tax).toFixed(2);\n                                                                            const newCard = Math.max(0, +(total - parsed).toFixed(2));\n                                                                            setCardAmount(String(newCard));\n                                                                        }\n                                                                    }\n                                                                },\n                                                                style: {\n                                                                    padding: \"0.4rem\",\n                                                                    flex: 1,\n                                                                    backgroundColor: isCreditSale ? \"#f8f9fa\" : \"white\"\n                                                                },\n                                                                placeholder: isCreditSale ? \"Enter partial payment\" : \"0.00\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 3916,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 3897,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            display: \"flex\",\n                                                            gap: \"0.5rem\",\n                                                            alignItems: \"center\",\n                                                            position: \"relative\"\n                                                        },\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                onClick: swapPayments,\n                                                                disabled: isCreditSale,\n                                                                style: {\n                                                                    position: \"absolute\",\n                                                                    left: \"40px\",\n                                                                    top: \"-15px\",\n                                                                    background: isCreditSale ? \"#f8f9fa\" : \"linear-gradient(135deg, #3498db, #2980b9)\",\n                                                                    border: \"none\",\n                                                                    borderRadius: \"50%\",\n                                                                    width: \"20px\",\n                                                                    height: \"20px\",\n                                                                    cursor: isCreditSale ? \"not-allowed\" : \"pointer\",\n                                                                    color: \"white\",\n                                                                    fontSize: \"10px\",\n                                                                    fontWeight: \"bold\",\n                                                                    display: \"flex\",\n                                                                    alignItems: \"center\",\n                                                                    justifyContent: \"center\",\n                                                                    boxShadow: isCreditSale ? \"none\" : \"0 1px 4px rgba(52, 152, 219, 0.3)\",\n                                                                    transition: \"all 0.2s ease\",\n                                                                    opacity: isCreditSale ? 0.4 : 1,\n                                                                    zIndex: 10\n                                                                },\n                                                                onMouseEnter: (e)=>{\n                                                                    if (!isCreditSale) {\n                                                                        e.target.style.transform = \"rotate(180deg) scale(1.2)\";\n                                                                        e.target.style.boxShadow = \"0 2px 6px rgba(52, 152, 219, 0.4)\";\n                                                                    }\n                                                                },\n                                                                onMouseLeave: (e)=>{\n                                                                    if (!isCreditSale) {\n                                                                        e.target.style.transform = \"rotate(0deg) scale(1)\";\n                                                                        e.target.style.boxShadow = \"0 1px 4px rgba(52, 152, 219, 0.3)\";\n                                                                    }\n                                                                },\n                                                                title: isCreditSale ? \"Swap disabled in credit mode\" : \"Swap cash and card amounts\",\n                                                                children: \"⇅\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 4033,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                style: {\n                                                                    minWidth: \"80px\"\n                                                                },\n                                                                children: \"Card:\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 4084,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                ref: cardAmountRef,\n                                                                type: \"number\",\n                                                                step: \"0.01\",\n                                                                min: \"0\",\n                                                                value: cardAmount,\n                                                                onFocus: ()=>handleInputFocus(cardAmountRef, true),\n                                                                onChange: (e)=>{\n                                                                    const value = e.target.value;\n                                                                    setLastEdited(\"card\");\n                                                                    // Always set the raw value first to allow proper typing\n                                                                    setCardAmount(value);\n                                                                    // Only do validation and auto-fill if value is not empty and not currently being typed\n                                                                    if (value !== \"\") {\n                                                                        const parsed = Number(value);\n                                                                        if (isCreditSale) {\n                                                                            // Check if this is a balance payment (no items in cart)\n                                                                            const isBalancePayment = cart.length === 0 && selectedCustomer && customerBalance > 0;\n                                                                            if (isBalancePayment) {\n                                                                                // For balance payments, allow any amount up to the customer's balance\n                                                                                const validCardAmount = Math.min(parsed, customerBalance);\n                                                                                if (parsed > customerBalance) {\n                                                                                    setCardAmount(String(validCardAmount));\n                                                                                }\n                                                                                // Clear cash when card is entered\n                                                                                if (validCardAmount > 0) {\n                                                                                    setCashAmount(\"\");\n                                                                                }\n                                                                                return;\n                                                                            }\n                                                                            // For regular credit sales with items in cart\n                                                                            const subtotal = calculateTotal();\n                                                                            const tax = calculateTax();\n                                                                            const total = +(subtotal + tax).toFixed(2);\n                                                                            const cashback = Number(parseFloat(cashbackAmount) || 0);\n                                                                            const lotto = Number(parseFloat(lottoWinnings) || 0);\n                                                                            const finalTotal = total + cashback - lotto;\n                                                                            const currentCredit = Number(parseFloat(creditAmount) || 0);\n                                                                            const remainingAmount = Math.max(0, finalTotal - currentCredit);\n                                                                            // If customer has existing balance, allow payment up to transaction total + existing balance\n                                                                            let maxAllowedPayment = remainingAmount;\n                                                                            if (selectedCustomer && customerBalance > 0) {\n                                                                                maxAllowedPayment = finalTotal + customerBalance;\n                                                                            }\n                                                                            // Allow card up to max allowed payment\n                                                                            const validCardAmount = Math.min(parsed, maxAllowedPayment);\n                                                                            if (parsed > maxAllowedPayment) {\n                                                                                setCardAmount(String(validCardAmount));\n                                                                            }\n                                                                            // If user enters card, clear cash (only one payment method)\n                                                                            if (validCardAmount > 0) {\n                                                                                setCashAmount(\"\");\n                                                                            }\n                                                                            return;\n                                                                        }\n                                                                        if (autoFillOther) {\n                                                                            // Regular mode auto-fill\n                                                                            const subtotal = calculateTotal();\n                                                                            const tax = calculateTax();\n                                                                            const total = +(subtotal + tax).toFixed(2);\n                                                                            const newCash = Math.max(0, +(total - parsed).toFixed(2));\n                                                                            setCashAmount(String(newCash));\n                                                                        }\n                                                                    }\n                                                                },\n                                                                style: {\n                                                                    padding: \"0.4rem\",\n                                                                    flex: 1,\n                                                                    backgroundColor: isCreditSale ? \"#f8f9fa\" : \"white\"\n                                                                },\n                                                                placeholder: isCreditSale ? \"Enter partial payment\" : \"0.00\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 4085,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                onClick: ()=>{\n                                                                    // Calculate total for terminal payment\n                                                                    const subtotal = calculateTotal();\n                                                                    const tax = calculateTax();\n                                                                    const total = +(subtotal + tax).toFixed(2);\n                                                                    const cashback = Number(parseFloat(cashbackAmount) || 0);\n                                                                    const lotto = Number(parseFloat(lottoWinnings) || 0);\n                                                                    // Note: total already includes credit card charge from calculateTotal()\n                                                                    const finalTotal = total + cashback - lotto;\n                                                                    // Process terminal payment\n                                                                    handleTerminalPayment(finalTotal);\n                                                                },\n                                                                disabled: isCreditSale || cart.length === 0,\n                                                                style: {\n                                                                    padding: \"0.4rem 0.8rem\",\n                                                                    backgroundColor: isCreditSale || cart.length === 0 ? \"#f8f9fa\" : \"#6f42c1\",\n                                                                    color: isCreditSale || cart.length === 0 ? \"#6c757d\" : \"white\",\n                                                                    border: \"none\",\n                                                                    borderRadius: \"6px\",\n                                                                    cursor: isCreditSale || cart.length === 0 ? \"not-allowed\" : \"pointer\",\n                                                                    fontSize: \"0.85rem\",\n                                                                    fontWeight: \"600\",\n                                                                    marginLeft: \"0.5rem\",\n                                                                    transition: \"all 0.2s ease\",\n                                                                    opacity: isCreditSale || cart.length === 0 ? 0.6 : 1\n                                                                },\n                                                                title: isCreditSale ? \"Terminal disabled in credit mode\" : cart.length === 0 ? \"Add items to cart first\" : \"Process payment via terminal\",\n                                                                children: \"\\uD83D\\uDCB3 Terminal\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 4191,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 4024,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    (Number(cashbackAmount) || 0) > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            padding: \"0.5rem\",\n                                                            backgroundColor: \"#e8f4fd\",\n                                                            border: \"1px solid #85c1e9\",\n                                                            borderRadius: \"4px\",\n                                                            fontSize: \"0.85rem\",\n                                                            color: \"#2e86c1\",\n                                                            textAlign: \"center\",\n                                                            fontWeight: \"500\",\n                                                            marginTop: \"0.5rem\"\n                                                        },\n                                                        children: [\n                                                            \"\\uD83D\\uDEAB\",\n                                                            \" \",\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                children: \"Cash payment disabled for cashback transactions\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 4258,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                style: {\n                                                                    fontSize: \"0.8rem\",\n                                                                    marginTop: \"0.25rem\",\n                                                                    opacity: 0.9\n                                                                },\n                                                                children: [\n                                                                    \"Customer must pay by card • Cash register: -\",\n                                                                    (Number(cashbackAmount) || 0).toFixed(2),\n                                                                    \" +\",\n                                                                    \" \",\n                                                                    (Number(cashbackFee) || 0).toFixed(2),\n                                                                    \" profit\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 4261,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 4244,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    !isCreditSale && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                        children: [\n                                                            cashback > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                style: {\n                                                                    padding: \"0.5rem\",\n                                                                    backgroundColor: \"#fff3cd\",\n                                                                    border: \"1px solid #ffeaa7\",\n                                                                    borderRadius: \"4px\",\n                                                                    marginTop: \"0.5rem\"\n                                                                },\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                        children: [\n                                                                            \"Cashback: $\",\n                                                                            cashback.toFixed(2)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                        lineNumber: 4287,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        style: {\n                                                                            fontSize: \"0.85rem\",\n                                                                            color: \"#856404\"\n                                                                        },\n                                                                        children: [\n                                                                            \"Requires card payment: $\",\n                                                                            (total + cashback).toFixed(2),\n                                                                            \" (Purchase: $\",\n                                                                            total.toFixed(2),\n                                                                            \" + Cashback: $\",\n                                                                            cashback.toFixed(2),\n                                                                            \")\"\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                        lineNumber: 4288,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        style: {\n                                                                            fontSize: \"0.8rem\",\n                                                                            color: \"#d68910\",\n                                                                            marginTop: \"0.25rem\",\n                                                                            fontWeight: \"500\"\n                                                                        },\n                                                                        children: [\n                                                                            \"\\uD83D\\uDCB3 Customer pays by card • \\uD83D\\uDCB5 You give $\",\n                                                                            cashback.toFixed(2),\n                                                                            \" cash from register\"\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                        lineNumber: 4296,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 4278,\n                                                                columnNumber: 27\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                style: {\n                                                                    color: isSufficient ? \"#2ecc71\" : \"#e74c3c\",\n                                                                    fontWeight: \"600\"\n                                                                },\n                                                                children: isSufficient ? \"Card Payment: $\".concat(paidCard.toFixed(2)).concat(change > 0 && cashback === 0 ? \" — Change: $\".concat(change.toFixed(2)) : \"\").concat(cashback > 0 ? \" — Cashback Given: $\".concat(cashback.toFixed(2)) : \"\") : cashback > 0 ? \"Card payment needed: $\".concat((total + cashback).toFixed(2), \" (Current: $\").concat(paidCard.toFixed(2), \")\") : \"Amount due: $\".concat((total - paidTotal).toFixed(2))\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 4310,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            paymentError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                style: {\n                                                                    color: \"#e74c3c\"\n                                                                },\n                                                                children: paymentError\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                                lineNumber: 4334,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_styles_posStyles__WEBPACK_IMPORTED_MODULE_6__.CheckoutButton, {\n                                                        onClick: processCheckout,\n                                                        disabled: isCreditSale ? false : !isSufficient,\n                                                        children: (()=>{\n                                                            // Check if this is a balance payment\n                                                            if (isBalancePayment) {\n                                                                const paidCash = Number(parseFloat(cashAmount) || 0);\n                                                                const paidCard = Number(parseFloat(cardAmount) || 0);\n                                                                const paymentTotal = paidCash + paidCard;\n                                                                const customerBalance = (selectedCustomer === null || selectedCustomer === void 0 ? void 0 : selectedCustomer.balance) || 0;\n                                                                const remainingBalance = customerBalance - paymentTotal;\n                                                                if (paymentTotal === 0) {\n                                                                    return \"Enter Payment Amount\";\n                                                                } else if (remainingBalance > 0) {\n                                                                    return \"Pay $\".concat(paymentTotal.toFixed(2), \" (Balance Remaining: $\").concat(remainingBalance.toFixed(2), \")\");\n                                                                } else {\n                                                                    return \"Pay $\".concat(paymentTotal.toFixed(2), \" (Balance Paid)\");\n                                                                }\n                                                            }\n                                                            if (!isCreditSale) return \"Process Payment\";\n                                                            const subtotal = calculateTotal();\n                                                            const tax = calculateTax();\n                                                            const total = +(subtotal + tax).toFixed(2);\n                                                            const cashback = Number(parseFloat(cashbackAmount) || 0);\n                                                            const lotto = Number(parseFloat(lottoWinnings) || 0);\n                                                            const finalTotal = total + cashback - lotto;\n                                                            const paidCash = Number(parseFloat(cashAmount) || 0);\n                                                            const paidCard = Number(parseFloat(cardAmount) || 0);\n                                                            const paidTotal = paidCash + paidCard;\n                                                            const specifiedCreditAmount = Number(parseFloat(creditAmount) || 0);\n                                                            if (specifiedCreditAmount > 0) {\n                                                                const paymentNeeded = finalTotal - specifiedCreditAmount;\n                                                                return \"Process Sale (Payment: $\".concat(paymentNeeded.toFixed(2), \", Credit: $\").concat(specifiedCreditAmount.toFixed(2), \")\");\n                                                            } else {\n                                                                const creditBalance = Math.max(0, finalTotal - paidTotal);\n                                                                if (paidTotal > 0 && creditBalance > 0) {\n                                                                    return \"Process Partial Payment (Credit: $\".concat(creditBalance.toFixed(2), \")\");\n                                                                } else if (paidTotal >= finalTotal) {\n                                                                    return \"Process Full Payment\";\n                                                                } else {\n                                                                    return \"Create Full Credit Sale\";\n                                                                }\n                                                            }\n                                                        })()\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                        lineNumber: 4339,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                                lineNumber: 3380,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true);\n                                })()\n                            }, void 0, false, {\n                                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                                lineNumber: 3272,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                        lineNumber: 2761,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n                lineNumber: 1944,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n            lineNumber: 1943,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n        lineNumber: 1942,\n        columnNumber: 5\n    }, this);\n}\n_s(POSContent, \"sOzYSd6JQIwUYX2Vs1U3rtJOdt4=\", false, function() {\n    return [\n        _lib_hooks__WEBPACK_IMPORTED_MODULE_3__.useAppDispatch,\n        _lib_hooks__WEBPACK_IMPORTED_MODULE_3__.useInventoryManager,\n        _lib_withInventory__WEBPACK_IMPORTED_MODULE_4__.useEnsureInventory,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams\n    ];\n});\n_c2 = POSContent;\nfunction POSPage() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react__WEBPACK_IMPORTED_MODULE_1__.Suspense, {\n        fallback: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                padding: \"2rem\",\n                textAlign: \"center\"\n            },\n            children: \"Loading POS system...\"\n        }, void 0, false, {\n            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n            lineNumber: 4426,\n            columnNumber: 9\n        }, void 0),\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(POSContent, {}, void 0, false, {\n            fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n            lineNumber: 4431,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/harmeetsingh/Documents/harmeet24singhGIT/gptPOS/app/pos/page.js\",\n        lineNumber: 4424,\n        columnNumber: 5\n    }, this);\n}\n_c3 = POSPage;\nvar _c, _c1, _c2, _c3;\n$RefreshReg$(_c, \"POSWrapper\");\n$RefreshReg$(_c1, \"KeyboardArea\");\n$RefreshReg$(_c2, \"POSContent\");\n$RefreshReg$(_c3, \"POSPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ckYsT0FBTyxDQUFDLElBQUc7NERBQ2xELE9BQU87Z0VBQ0wsTUFBTXVELGdCQUFnQjFDLEtBQUtDLEdBQUcsQ0FDNUIsR0FDQW9DLGFBQWE0QjtnRUFFZixJQUFJQSxZQUFZLEtBQUt2QixnQkFBZ0IsR0FBRztvRUFDdEMsT0FBTyxxQ0FFTCxPQUYwQ0EsY0FBY3ZELE9BQU8sQ0FDL0QsSUFDQTtnRUFDSixPQUFPLElBQUk4RSxhQUFhNUIsWUFBWTtvRUFDbEMsT0FBTztnRUFDVCxPQUFPO29FQUNMLE9BQU87Z0VBQ1Q7NERBQ0Y7d0RBQ0Y7Ozs7Ozs7Ozs7Ozs7O2dDQUtWOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBUVo7R0E1cUlTak07O1FBQ1U5QixzREFBY0E7UUFNM0JELDJEQUFtQkE7UUFDS0Usa0VBQWtCQTtRQUN6QkgsNERBQWVBOzs7TUFUN0JnQztBQThxSU0sU0FBU3FiO0lBQ3RCLHFCQUNFLDhEQUFDdGQsMkNBQVFBO1FBQ1B1ZCx3QkFDRSw4REFBQ2hjO1lBQUlvVixPQUFPO2dCQUFFYyxTQUFTO2dCQUFRcUMsV0FBVztZQUFTO3NCQUFHOzs7Ozs7a0JBS3hELDRFQUFDN1g7Ozs7Ozs7Ozs7QUFHUDtNQVp3QnFiIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2FwcC9wb3MvcGFnZS5qcz84NGYwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYsIFN1c3BlbnNlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VTZWFyY2hQYXJhbXMgfSBmcm9tIFwibmV4dC9uYXZpZ2F0aW9uXCI7XG5pbXBvcnQgeyB1c2VJbnZlbnRvcnlNYW5hZ2VyLCB1c2VBcHBEaXNwYXRjaCB9IGZyb20gXCIuLi9saWIvaG9va3NcIjtcbmltcG9ydCB7IHVzZUVuc3VyZUludmVudG9yeSB9IGZyb20gXCIuLi9saWIvd2l0aEludmVudG9yeVwiO1xuaW1wb3J0IHtcbiAgdXBkYXRlSW52ZW50b3J5QWZ0ZXJUcmFuc2FjdGlvbixcbiAgdXBkYXRlSXRlbVN0b2NrTG9jYWwsXG4gIGxvYWRJbnZlbnRvcnksXG59IGZyb20gXCIuLi9saWIvc2xpY2VzL2ludmVudG9yeVNsaWNlXCI7XG5pbXBvcnQge1xuICBDb250YWluZXIsXG4gIFBPU0dyaWQsXG4gIFByb2R1Y3RzUGFuZWwsXG4gIENoZWNrb3V0UGFuZWwsXG4gIFByb2R1Y3RJdGVtLFxuICBDYXJ0SXRlbSxcbiAgU2VhcmNoQmFyLFxuICBCdXR0b24sXG4gIENhdGVnb3J5RmlsdGVyLFxuICBUb3RhbCxcbiAgQ2hlY2tvdXRCdXR0b24sXG4gIFJlY2VpcHRTZWN0aW9uLFxufSBmcm9tIFwiLi4vc3R5bGVzL3Bvc1N0eWxlc1wiO1xuaW1wb3J0IE9uU2NyZWVuS2V5Ym9hcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvT25TY3JlZW5LZXlib2FyZFwiO1xuaW1wb3J0IHN0eWxlZCBmcm9tIFwic3R5bGVkLWNvbXBvbmVudHNcIjtcblxuLy8gV3JhcHBlciB0byBoYW5kbGUga2V5Ym9hcmQgc3BhY2luZ1xuY29uc3QgUE9TV3JhcHBlciA9IHN0eWxlZC5kaXZgXG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIG1pbi1oZWlnaHQ6IDEwMHZoO1xuICBtYXgtaGVpZ2h0OiAxMDB2aDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbmA7XG5cbmNvbnN0IEtleWJvYXJkQXJlYSA9IHN0eWxlZC5kaXZgXG4gIGhlaWdodDogMTgwcHg7XG4gIGJhY2tncm91bmQ6ICNmOGY5ZmE7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNkZWUyZTY7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgbWFyZ2luOiAwLjVyZW0gMDtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgZmxleC1zaHJpbms6IDA7XG5gO1xuXG4vLyBJbml0aWFsIGludmVudG9yeSBkYXRhIGFzIGZhbGxiYWNrXG5jb25zdCBpbml0aWFsSW52ZW50b3J5ID0gW1xuICB7XG4gICAgaWQ6IDEsXG4gICAgbmFtZTogXCJDb2NhIENvbGEgMzU1bWxcIixcbiAgICBjYXRlZ29yeTogXCJCZXZlcmFnZXNcIixcbiAgICBwcmljZTogMS41LFxuICAgIHN0b2NrOiAyNCxcbiAgICBsb3dTdG9ja1RocmVzaG9sZDogMTAsXG4gICAgdGF4YWJsZTogdHJ1ZSxcbiAgfSxcbiAge1xuICAgIGlkOiAyLFxuICAgIG5hbWU6IFwiTGF5cyBDbGFzc2ljIENoaXBzXCIsXG4gICAgY2F0ZWdvcnk6IFwiU25hY2tzXCIsXG4gICAgcHJpY2U6IDIuOTksXG4gICAgc3RvY2s6IDgsXG4gICAgbG93U3RvY2tUaHJlc2hvbGQ6IDE1LFxuICAgIHRheGFibGU6IHRydWUsXG4gIH0sXG4gIHtcbiAgICBpZDogMyxcbiAgICBuYW1lOiBcIldvbmRlciBCcmVhZFwiLFxuICAgIGNhdGVnb3J5OiBcIkJha2VyeVwiLFxuICAgIHByaWNlOiAzLjQ5LFxuICAgIHN0b2NrOiAxMixcbiAgICBsb3dTdG9ja1RocmVzaG9sZDogNSxcbiAgICB0YXhhYmxlOiBmYWxzZSxcbiAgfSxcbiAge1xuICAgIGlkOiA0LFxuICAgIG5hbWU6IFwiTWFybGJvcm8gR29sZFwiLFxuICAgIGNhdGVnb3J5OiBcIlRvYmFjY29cIixcbiAgICBwcmljZTogMTIuOTksXG4gICAgc3RvY2s6IDMsXG4gICAgbG93U3RvY2tUaHJlc2hvbGQ6IDUsXG4gICAgdGF4YWJsZTogdHJ1ZSxcbiAgfSxcbiAge1xuICAgIGlkOiA1LFxuICAgIG5hbWU6IFwiTWFybGJvcm8gUmVkXCIsXG4gICAgY2F0ZWdvcnk6IFwiVG9iYWNjb1wiLFxuICAgIHByaWNlOiAxMi45OSxcbiAgICBzdG9jazogNSxcbiAgICBsb3dTdG9ja1RocmVzaG9sZDogNSxcbiAgICB0YXhhYmxlOiB0cnVlLFxuICB9LFxuICB7XG4gICAgaWQ6IDYsXG4gICAgbmFtZTogXCJDYW1lbCBCbHVlXCIsXG4gICAgY2F0ZWdvcnk6IFwiVG9iYWNjb1wiLFxuICAgIHByaWNlOiAxMy40OSxcbiAgICBzdG9jazogNCxcbiAgICBsb3dTdG9ja1RocmVzaG9sZDogNSxcbiAgICB0YXhhYmxlOiB0cnVlLFxuICB9LFxuICB7XG4gICAgaWQ6IDcsXG4gICAgbmFtZTogXCJOZXdwb3J0IE1lbnRob2xcIixcbiAgICBjYXRlZ29yeTogXCJUb2JhY2NvXCIsXG4gICAgcHJpY2U6IDEzLjk5LFxuICAgIHN0b2NrOiA2LFxuICAgIGxvd1N0b2NrVGhyZXNob2xkOiA1LFxuICAgIHRheGFibGU6IHRydWUsXG4gIH0sXG4gIHtcbiAgICBpZDogOCxcbiAgICBuYW1lOiBcIlJlZCBCdWxsIDI1MG1sXCIsXG4gICAgY2F0ZWdvcnk6IFwiQmV2ZXJhZ2VzXCIsXG4gICAgcHJpY2U6IDMuOTksXG4gICAgc3RvY2s6IDE4LFxuICAgIGxvd1N0b2NrVGhyZXNob2xkOiA4LFxuICAgIHRheGFibGU6IHRydWUsXG4gIH0sXG4gIHtcbiAgICBpZDogOSxcbiAgICBuYW1lOiBcIk1pbGsgMUxcIixcbiAgICBjYXRlZ29yeTogXCJEYWlyeVwiLFxuICAgIHByaWNlOiAyLjc5LFxuICAgIHN0b2NrOiAxNSxcbiAgICBsb3dTdG9ja1RocmVzaG9sZDogNSxcbiAgICB0YXhhYmxlOiBmYWxzZSxcbiAgfSxcbiAge1xuICAgIGlkOiAxMCxcbiAgICBuYW1lOiBcIkJhbmFuYSAoZWFjaClcIixcbiAgICBjYXRlZ29yeTogXCJGcmVzaCBQcm9kdWNlXCIsXG4gICAgcHJpY2U6IDAuODksXG4gICAgc3RvY2s6IDI1LFxuICAgIGxvd1N0b2NrVGhyZXNob2xkOiAxMCxcbiAgICB0YXhhYmxlOiBmYWxzZSxcbiAgfSxcbiAge1xuICAgIGlkOiAxMSxcbiAgICBuYW1lOiBcIkNvZmZlZSBDdXAgMTJvelwiLFxuICAgIGNhdGVnb3J5OiBcIkJldmVyYWdlc1wiLFxuICAgIHByaWNlOiAxLjk5LFxuICAgIHN0b2NrOiAzMCxcbiAgICBsb3dTdG9ja1RocmVzaG9sZDogMTAsXG4gICAgdGF4YWJsZTogdHJ1ZSxcbiAgfSxcbl07XG5cbmZ1bmN0aW9uIFBPU0NvbnRlbnQoKSB7XG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlQXBwRGlzcGF0Y2goKTtcbiAgY29uc3Qge1xuICAgIGl0ZW1zOiBpbnZlbnRvcnksXG4gICAgbG9hZGluZzogaW52ZW50b3J5TG9hZGluZyxcbiAgICBjYXRlZ29yaWVzLFxuICAgIGdldEZpbHRlcmVkSW52ZW50b3J5LFxuICB9ID0gdXNlSW52ZW50b3J5TWFuYWdlcigpO1xuICBjb25zdCB7IGludmVudG9yeUxvYWRlZCB9ID0gdXNlRW5zdXJlSW52ZW50b3J5KCk7XG4gIGNvbnN0IHNlYXJjaFBhcmFtcyA9IHVzZVNlYXJjaFBhcmFtcygpO1xuXG4gIGNvbnN0IFtjYXJ0LCBzZXRDYXJ0XSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW3NlYXJjaFRlcm0sIHNldFNlYXJjaFRlcm1dID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtjYXRlZ29yeUZpbHRlciwgc2V0Q2F0ZWdvcnlGaWx0ZXJdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IHNlYXJjaElucHV0UmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBjYXNoQW1vdW50UmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBjYXJkQW1vdW50UmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBkaXNjb3VudFJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgY2FzaGJhY2tBbW91bnRSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGNhc2hiYWNrRmVlUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBsb3R0b1dpbm5pbmdzUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBjcmVkaXRDdXN0b21lck5hbWVSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IFtiYXJjb2RlQnVmZmVyLCBzZXRCYXJjb2RlQnVmZmVyXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbbGFzdEtleVRpbWUsIHNldExhc3RLZXlUaW1lXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbc2hvd1JlY2VpcHQsIHNldFNob3dSZWNlaXB0XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xhc3RUcmFuc2FjdGlvbiwgc2V0TGFzdFRyYW5zYWN0aW9uXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbY2FzaEFtb3VudCwgc2V0Q2FzaEFtb3VudF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2NhcmRBbW91bnQsIHNldENhcmRBbW91bnRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtjYXNoYmFja0Ftb3VudCwgc2V0Q2FzaGJhY2tBbW91bnRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtjYXNoYmFja0ZlZSwgc2V0Q2FzaGJhY2tGZWVdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtjYXNoYmFja0VuYWJsZWQsIHNldENhc2hiYWNrRW5hYmxlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb3R0b1dpbm5pbmdzLCBzZXRMb3R0b1dpbm5pbmdzXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbcGF5bWVudEVycm9yLCBzZXRQYXltZW50RXJyb3JdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFthdXRvRmlsbE90aGVyLCBzZXRBdXRvRmlsbE90aGVyXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbbGFzdEVkaXRlZCwgc2V0TGFzdEVkaXRlZF0gPSB1c2VTdGF0ZShudWxsKTsgLy8gJ2Nhc2gnIHwgJ2NhcmQnIHwgbnVsbFxuXG4gIC8vIFZpcnR1YWwga2V5Ym9hcmQgc3RhdGVzXG4gIGNvbnN0IFtzaG93S2V5Ym9hcmQsIHNldFNob3dLZXlib2FyZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthY3RpdmVJbnB1dFJlZiwgc2V0QWN0aXZlSW5wdXRSZWZdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtrZXlib2FyZE1vZGUsIHNldEtleWJvYXJkTW9kZV0gPSB1c2VTdGF0ZSgnbnVtZXJpYycpOyAvLyAnZnVsbCcgb3IgJ251bWVyaWMnXG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGhhbmRsZSBpbnB1dCBmb2N1cyBhbmQgc2hvdyBhcHByb3ByaWF0ZSBrZXlib2FyZFxuICBjb25zdCBoYW5kbGVJbnB1dEZvY3VzID0gKGlucHV0UmVmLCBpc051bWVyaWMgPSB0cnVlKSA9PiB7XG4gICAgc2V0QWN0aXZlSW5wdXRSZWYoaW5wdXRSZWYpO1xuICAgIC8vIE9ubHkgY2hhbmdlIGtleWJvYXJkIG1vZGUgaWYgaXQncyBub3QgYWxyZWFkeSBhY3RpdmUgZm9yIHRoaXMgaW5wdXRcbiAgICAvLyBUaGlzIHByZXNlcnZlcyBtYW51YWwgbW9kZSBjaGFuZ2VzIG1hZGUgYnkgdGhlIHVzZXJcbiAgICBpZiAoYWN0aXZlSW5wdXRSZWYgIT09IGlucHV0UmVmKSB7XG4gICAgICBzZXRLZXlib2FyZE1vZGUoaXNOdW1lcmljID8gJ251bWVyaWMnIDogJ2Z1bGwnKTtcbiAgICB9XG4gICAgc2V0U2hvd0tleWJvYXJkKHRydWUpO1xuICB9O1xuXG4gIC8vIEZ1bmN0aW9uIHRvIHNob3cga2V5Ym9hcmQgZm9yIGFscmVhZHkgYWN0aXZlIGlucHV0IHdpdGhvdXQgY2hhbmdpbmcgbW9kZVxuICBjb25zdCBzaG93S2V5Ym9hcmRGb3JJbnB1dCA9IChpbnB1dFJlZikgPT4ge1xuICAgIHNldEFjdGl2ZUlucHV0UmVmKGlucHV0UmVmKTtcbiAgICBzZXRTaG93S2V5Ym9hcmQodHJ1ZSk7XG4gICAgLy8gRG9uJ3QgY2hhbmdlIGtleWJvYXJkIG1vZGUgLSBwcmVzZXJ2ZSB1c2VyJ3MgY2hvaWNlXG4gIH07XG5cbiAgLy8gQ3JlZGl0IHNhbGUgc3RhdGVzXG4gIGNvbnN0IFtpc0NyZWRpdFNhbGUsIHNldElzQ3JlZGl0U2FsZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjcmVkaXRDdXN0b21lck5hbWUsIHNldENyZWRpdEN1c3RvbWVyTmFtZV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2NyZWRpdEFtb3VudCwgc2V0Q3JlZGl0QW1vdW50XSA9IHVzZVN0YXRlKDApOyAvLyBTcGVjaWZpYyBjcmVkaXQgYW1vdW50XG4gIGNvbnN0IFtpc0F1dG9DYWxjdWxhdGluZywgc2V0SXNBdXRvQ2FsY3VsYXRpbmddID0gdXNlU3RhdGUoZmFsc2UpOyAvLyBQcmV2ZW50IGNpcmN1bGFyIHVwZGF0ZXNcblxuICAvLyBDcmVkaXQgY3VzdG9tZXIgbWFuYWdlbWVudCBzdGF0ZXNcbiAgY29uc3QgW2V4aXN0aW5nQ3VzdG9tZXJzLCBzZXRFeGlzdGluZ0N1c3RvbWVyc10gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtzaG93Q3VzdG9tZXJTdWdnZXN0aW9ucywgc2V0U2hvd0N1c3RvbWVyU3VnZ2VzdGlvbnNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2VsZWN0ZWRDdXN0b21lciwgc2V0U2VsZWN0ZWRDdXN0b21lcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2N1c3RvbWVyQmFsYW5jZSwgc2V0Q3VzdG9tZXJCYWxhbmNlXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbc2hvd1BheW1lbnRPcHRpb25zLCBzZXRTaG93UGF5bWVudE9wdGlvbnNdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vIENhcmQgZmVlIHN0YXRlc1xuICBjb25zdCBbY2FyZFR5cGUsIHNldENhcmRUeXBlXSA9IHVzZVN0YXRlKFwiZGViaXRcIik7IC8vICdkZWJpdCcgfCAnY3JlZGl0J1xuICBjb25zdCBbY2FyZEZlZUVuYWJsZWQsIHNldENhcmRGZWVFbmFibGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgQ0FSRF9GRUVfQU1PVU5UID0gMC4yNTsgLy8gJDAuMjUgZmVlIGZvciBjcmVkaXQgY2FyZHNcblxuICAvLyBDaGVjayBpZiB0aGlzIGlzIGEgYmFsYW5jZSBwYXltZW50IChjdXN0b21lciBzZWxlY3RlZCBhbmQgbm8gY2FydCBpdGVtcylcbiAgY29uc3QgaXNCYWxhbmNlUGF5bWVudCA9IHNlbGVjdGVkQ3VzdG9tZXIgJiYgY2FydC5sZW5ndGggPT09IDA7XG5cbiAgLy8gRGlzY291bnQgc3RhdGVzXG4gIGNvbnN0IFtkaXNjb3VudEFtb3VudCwgc2V0RGlzY291bnRBbW91bnRdID0gdXNlU3RhdGUoXCJcIik7XG5cbiAgLy8gTWFudWFsIGl0ZW0gZW50cnkgc3RhdGVzXG4gIGNvbnN0IFtzaG93TWFudWFsRW50cnksIHNldFNob3dNYW51YWxFbnRyeV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFttYW51YWxJdGVtLCBzZXRNYW51YWxJdGVtXSA9IHVzZVN0YXRlKHtcbiAgICBuYW1lOiBcIlwiLFxuICAgIHByaWNlOiBcIlwiLFxuICAgIGNhdGVnb3J5OiBjYXRlZ29yaWVzLmxlbmd0aCA+IDAgPyBjYXRlZ29yaWVzWzBdIDogXCJncm9jZXJ5LXRheGFibGVcIixcbiAgICBxdWFudGl0eTogMSxcbiAgfSk7XG5cbiAgLy8gVXNlIFJlZHV4LW1hbmFnZWQgaW52ZW50b3J5IHdpdGggc21hcnQgZmlsdGVyaW5nXG4gIGNvbnN0IGZpbHRlcmVkSW52ZW50b3J5ID0gZ2V0RmlsdGVyZWRJbnZlbnRvcnkoc2VhcmNoVGVybSwgY2F0ZWdvcnlGaWx0ZXIpO1xuXG4gIGNvbnN0IGFkZFRvQ2FydCA9IChwcm9kdWN0KSA9PiB7XG4gICAgLy8gRm9yIG1hbnVhbCBpdGVtcywgZmluZCBleGlzdGluZyBpdGVtIGJ5IG5hbWUsIHByaWNlLCBhbmQgY2F0ZWdvcnkgaW5zdGVhZCBvZiBJRFxuICAgIGxldCBleGlzdGluZ0l0ZW07XG4gICAgaWYgKHByb2R1Y3QuaXNNYW51YWwpIHtcbiAgICAgIGV4aXN0aW5nSXRlbSA9IGNhcnQuZmluZChcbiAgICAgICAgKGl0ZW0pID0+XG4gICAgICAgICAgaXRlbS5pc01hbnVhbCAmJlxuICAgICAgICAgIGl0ZW0ubmFtZSA9PT0gcHJvZHVjdC5uYW1lICYmXG4gICAgICAgICAgaXRlbS5wcmljZSA9PT0gcHJvZHVjdC5wcmljZSAmJlxuICAgICAgICAgIGl0ZW0uY2F0ZWdvcnkgPT09IHByb2R1Y3QuY2F0ZWdvcnlcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4aXN0aW5nSXRlbSA9IGNhcnQuZmluZCgoaXRlbSkgPT4gaXRlbS5pZCA9PT0gcHJvZHVjdC5pZCk7XG4gICAgfVxuXG4gICAgaWYgKGV4aXN0aW5nSXRlbSkge1xuICAgICAgc2V0Q2FydChcbiAgICAgICAgY2FydC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAvLyBGb3IgbWFudWFsIGl0ZW1zLCBtYXRjaCBieSBuYW1lLCBwcmljZSwgYW5kIGNhdGVnb3J5XG4gICAgICAgICAgY29uc3QgaXNNYXRjaCA9IHByb2R1Y3QuaXNNYW51YWxcbiAgICAgICAgICAgID8gaXRlbS5pc01hbnVhbCAmJlxuICAgICAgICAgICAgICBpdGVtLm5hbWUgPT09IHByb2R1Y3QubmFtZSAmJlxuICAgICAgICAgICAgICBpdGVtLnByaWNlID09PSBwcm9kdWN0LnByaWNlICYmXG4gICAgICAgICAgICAgIGl0ZW0uY2F0ZWdvcnkgPT09IHByb2R1Y3QuY2F0ZWdvcnlcbiAgICAgICAgICAgIDogaXRlbS5pZCA9PT0gcHJvZHVjdC5pZDtcblxuICAgICAgICAgIHJldHVybiBpc01hdGNoID8geyAuLi5pdGVtLCBxdWFudGl0eTogaXRlbS5xdWFudGl0eSArIDEgfSA6IGl0ZW07XG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICAvLyBVcGRhdGUgaW52ZW50b3J5IHN0b2NrIGltbWVkaWF0ZWx5IChvcHRpbWlzdGljIHVwZGF0ZSlcbiAgICAgIGlmICghcHJvZHVjdC5pc01hbnVhbCAmJiBwcm9kdWN0LmlkKSB7XG4gICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgIHVwZGF0ZUl0ZW1TdG9ja0xvY2FsKHtcbiAgICAgICAgICAgIGlkOiBwcm9kdWN0LmlkLFxuICAgICAgICAgICAgbmV3U3RvY2s6IHByb2R1Y3Quc3RvY2sgLSAxLFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldENhcnQoW1xuICAgICAgICAuLi5jYXJ0LFxuICAgICAgICB7IC4uLnByb2R1Y3QsIHF1YW50aXR5OiAxLCBhcHBseVRheDogcHJvZHVjdC50YXhhYmxlID09PSB0cnVlIH0sXG4gICAgICBdKTtcblxuICAgICAgLy8gVXBkYXRlIGludmVudG9yeSBzdG9jayBpbW1lZGlhdGVseSAob3B0aW1pc3RpYyB1cGRhdGUpXG4gICAgICBpZiAoIXByb2R1Y3QuaXNNYW51YWwgJiYgcHJvZHVjdC5pZCkge1xuICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICB1cGRhdGVJdGVtU3RvY2tMb2NhbCh7XG4gICAgICAgICAgICBpZDogcHJvZHVjdC5pZCxcbiAgICAgICAgICAgIG5ld1N0b2NrOiBwcm9kdWN0LnN0b2NrIC0gMSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVWb2lkSXRlbSA9IChpdGVtSWQsIGl0ZW1OYW1lKSA9PiB7XG4gICAgY29uc3QgY29uZmlybVZvaWQgPSBjb25maXJtKFxuICAgICAgYFZvaWQgaXRlbTogXCIke2l0ZW1OYW1lfVwiP1xcblxcblRoaXMgd2lsbCByZW1vdmUgdGhlIGl0ZW0gY29tcGxldGVseSBmcm9tIHRoZSBjYXJ0LmBcbiAgICApO1xuICAgIGlmIChjb25maXJtVm9pZCkge1xuICAgICAgLy8gRmluZCB0aGUgaXRlbSBiZWluZyB2b2lkZWQgdG8gcmVzdG9yZSBzdG9ja1xuICAgICAgY29uc3QgaXRlbVRvVm9pZCA9IGNhcnQuZmluZCgoaXRlbSkgPT4gaXRlbS5pZCA9PT0gaXRlbUlkKTtcblxuICAgICAgaWYgKGl0ZW1Ub1ZvaWQgJiYgIWl0ZW1Ub1ZvaWQuaXNNYW51YWwpIHtcbiAgICAgICAgLy8gRmluZCB0aGUgY29ycmVzcG9uZGluZyBwcm9kdWN0IGluIGludmVudG9yeVxuICAgICAgICBjb25zdCBwcm9kdWN0ID0gaW52ZW50b3J5LmZpbmQoKHApID0+IHAuaWQgPT09IGl0ZW1JZCk7XG5cbiAgICAgICAgaWYgKHByb2R1Y3QpIHtcbiAgICAgICAgICAvLyBSZXN0b3JlIHN0b2NrIGJ5IGFkZGluZyBiYWNrIHRoZSBxdWFudGl0eSBiZWluZyB2b2lkZWRcbiAgICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICAgIHVwZGF0ZUl0ZW1TdG9ja0xvY2FsKHtcbiAgICAgICAgICAgICAgaWQ6IHByb2R1Y3QuaWQsXG4gICAgICAgICAgICAgIG5ld1N0b2NrOiBwcm9kdWN0LnN0b2NrICsgaXRlbVRvVm9pZC5xdWFudGl0eSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzZXRDYXJ0KGNhcnQuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmlkICE9PSBpdGVtSWQpKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRGVjcmVhc2VRdWFudGl0eSA9IChpdGVtSWQpID0+IHtcbiAgICBjb25zdCBpdGVtID0gY2FydC5maW5kKChpdGVtKSA9PiBpdGVtLmlkID09PSBpdGVtSWQpO1xuICAgIGlmICghaXRlbSB8fCBpdGVtLnF1YW50aXR5IDw9IDEpIHJldHVybjsgLy8gRG9uJ3QgYWxsb3cgZGVjcmVhc2UgYmVsb3cgMVxuXG4gICAgLy8gRGVjcmVhc2UgcXVhbnRpdHkgbm9ybWFsbHlcbiAgICB1cGRhdGVDYXJ0UXVhbnRpdHkoaXRlbUlkLCBpdGVtLnF1YW50aXR5IC0gMSk7XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlQ2FydFF1YW50aXR5ID0gKGlkLCBuZXdRdWFudGl0eSkgPT4ge1xuICAgIGlmIChuZXdRdWFudGl0eSA9PT0gMCkge1xuICAgICAgLy8gV2hlbiBxdWFudGl0eSB3b3VsZCBiZWNvbWUgMCwgcHJvbXB0IGZvciB2b2lkIGNvbmZpcm1hdGlvblxuICAgICAgY29uc3QgaXRlbSA9IGNhcnQuZmluZCgoaXRlbSkgPT4gaXRlbS5pZCA9PT0gaWQpO1xuICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgaGFuZGxlVm9pZEl0ZW0oaWQsIGl0ZW0ubmFtZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEZpbmQgdGhlIGl0ZW0gaW4gY2FydCB0byBjaGVjayBpZiBpdCdzIG1hbnVhbFxuICAgICAgY29uc3QgY2FydEl0ZW0gPSBjYXJ0LmZpbmQoKGl0ZW0pID0+IGl0ZW0uaWQgPT09IGlkKTtcblxuICAgICAgaWYgKGNhcnRJdGVtICYmIGNhcnRJdGVtLmlzTWFudWFsKSB7XG4gICAgICAgIC8vIE1hbnVhbCBpdGVtcyBoYXZlIHVubGltaXRlZCBzdG9ja1xuICAgICAgICBzZXRDYXJ0KFxuICAgICAgICAgIGNhcnQubWFwKChpdGVtKSA9PlxuICAgICAgICAgICAgaXRlbS5pZCA9PT0gaWQgPyB7IC4uLml0ZW0sIHF1YW50aXR5OiBuZXdRdWFudGl0eSB9IDogaXRlbVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFJlZ3VsYXIgaW52ZW50b3J5IGl0ZW1zIC0gY2hlY2sgc3RvY2sgYW5kIHVwZGF0ZSBpbnZlbnRvcnlcbiAgICAgICAgY29uc3QgcHJvZHVjdCA9IGludmVudG9yeS5maW5kKChwKSA9PiBwLmlkID09PSBpZCk7XG4gICAgICAgIGNvbnN0IGNhcnRJdGVtID0gY2FydC5maW5kKChpdGVtKSA9PiBpdGVtLmlkID09PSBpZCk7XG5cbiAgICAgICAgaWYgKHByb2R1Y3QgJiYgY2FydEl0ZW0pIHtcbiAgICAgICAgICBjb25zdCBxdWFudGl0eURpZmYgPSBuZXdRdWFudGl0eSAtIGNhcnRJdGVtLnF1YW50aXR5O1xuICAgICAgICAgIGNvbnN0IG5ld1N0b2NrID0gcHJvZHVjdC5zdG9jayAtIHF1YW50aXR5RGlmZjtcblxuICAgICAgICAgIHNldENhcnQoXG4gICAgICAgICAgICBjYXJ0Lm1hcCgoaXRlbSkgPT5cbiAgICAgICAgICAgICAgaXRlbS5pZCA9PT0gaWQgPyB7IC4uLml0ZW0sIHF1YW50aXR5OiBuZXdRdWFudGl0eSB9IDogaXRlbVxuICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG5cbiAgICAgICAgICAvLyBVcGRhdGUgaW52ZW50b3J5IHN0b2NrIGltbWVkaWF0ZWx5XG4gICAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICB1cGRhdGVJdGVtU3RvY2tMb2NhbCh7XG4gICAgICAgICAgICAgIGlkOiBwcm9kdWN0LmlkLFxuICAgICAgICAgICAgICBuZXdTdG9jazogbmV3U3RvY2ssXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcmVtb3ZlRnJvbUNhcnQgPSAoaWQpID0+IHtcbiAgICAvLyBGaW5kIHRoZSBpdGVtIGJlaW5nIHJlbW92ZWQgdG8gcmVzdG9yZSBzdG9ja1xuICAgIGNvbnN0IGl0ZW1Ub1JlbW92ZSA9IGNhcnQuZmluZCgoaXRlbSkgPT4gaXRlbS5pZCA9PT0gaWQpO1xuXG4gICAgaWYgKGl0ZW1Ub1JlbW92ZSAmJiAhaXRlbVRvUmVtb3ZlLmlzTWFudWFsKSB7XG4gICAgICAvLyBGaW5kIHRoZSBjb3JyZXNwb25kaW5nIHByb2R1Y3QgaW4gaW52ZW50b3J5XG4gICAgICBjb25zdCBwcm9kdWN0ID0gaW52ZW50b3J5LmZpbmQoKHApID0+IHAuaWQgPT09IGlkKTtcblxuICAgICAgaWYgKHByb2R1Y3QpIHtcbiAgICAgICAgLy8gUmVzdG9yZSBzdG9jayBieSBhZGRpbmcgYmFjayB0aGUgcXVhbnRpdHkgYmVpbmcgcmVtb3ZlZFxuICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICB1cGRhdGVJdGVtU3RvY2tMb2NhbCh7XG4gICAgICAgICAgICBpZDogcHJvZHVjdC5pZCxcbiAgICAgICAgICAgIG5ld1N0b2NrOiBwcm9kdWN0LnN0b2NrICsgaXRlbVRvUmVtb3ZlLnF1YW50aXR5LFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc2V0Q2FydChjYXJ0LmZpbHRlcigoaXRlbSkgPT4gaXRlbS5pZCAhPT0gaWQpKTtcbiAgfTtcblxuICBjb25zdCB0b2dnbGVJdGVtVGF4ID0gKGlkKSA9PiB7XG4gICAgc2V0Q2FydChcbiAgICAgIGNhcnQubWFwKChpdGVtKSA9PlxuICAgICAgICBpdGVtLmlkID09PSBpZCA/IHsgLi4uaXRlbSwgYXBwbHlUYXg6ICFpdGVtLmFwcGx5VGF4IH0gOiBpdGVtXG4gICAgICApXG4gICAgKTtcbiAgfTtcblxuICAvLyBGdW5jdGlvbiB0byBoYW5kbGUgc2VhcmNoIHdoZW4gRW50ZXIgaXMgcHJlc3NlZFxuICBjb25zdCBoYW5kbGVTZWFyY2hFbnRlciA9ICgpID0+IHtcbiAgICBpZiAoIXNlYXJjaFRlcm0udHJpbSgpKSByZXR1cm47XG5cbiAgICAvLyBDaGVjayBpZiBhbnkgcHJvZHVjdHMgbWF0Y2ggdGhlIHNlYXJjaCB0ZXJtXG4gICAgY29uc3Qgc2VhcmNoUmVzdWx0cyA9IGZpbHRlcmVkSW52ZW50b3J5O1xuXG4gICAgaWYgKHNlYXJjaFJlc3VsdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyBObyBwcm9kdWN0cyBmb3VuZCwgcHJvbXB0IGZvciBtYW51YWwgZW50cnlcbiAgICAgIGNvbnN0IGl0ZW1OYW1lID0gc2VhcmNoVGVybS50cmltKCk7XG4gICAgICBzZXRNYW51YWxJdGVtKChwcmV2KSA9PiAoe1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICBuYW1lOiBpdGVtTmFtZSxcbiAgICAgIH0pKTtcbiAgICAgIHNldFNob3dNYW51YWxFbnRyeSh0cnVlKTtcbiAgICB9IGVsc2UgaWYgKHNlYXJjaFJlc3VsdHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAvLyBFeGFjdGx5IG9uZSBwcm9kdWN0IGZvdW5kIC0gYXV0b21hdGljYWxseSBhZGQgdG8gY2FydFxuICAgICAgY29uc3QgZm91bmRJdGVtID0gc2VhcmNoUmVzdWx0c1swXTtcbiAgICAgIGFkZFRvQ2FydChmb3VuZEl0ZW0pO1xuICAgICAgc2V0U2VhcmNoVGVybShcIlwiKTsgLy8gQ2xlYXIgc2VhcmNoIGFmdGVyIGFkZGluZ1xuXG4gICAgICAvLyBGb2N1cyBiYWNrIG9uIHNlYXJjaCBpbnB1dCBmb3IgbmV4dCBzY2FuXG4gICAgICBpZiAoc2VhcmNoSW5wdXRSZWYuY3VycmVudCkge1xuICAgICAgICBzZWFyY2hJbnB1dFJlZi5jdXJyZW50LmZvY3VzKCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIElmIG11bHRpcGxlIHJlc3VsdHMsIGRvIG5vdGhpbmcgLSBsZXQgdXNlciBzZWUgdGhlIHJlc3VsdHMgYW5kIGNsaWNrIG1hbnVhbGx5XG4gIH07XG5cbiAgLy8gRGVidWcgZnVuY3Rpb24gdG8gZm9yY2UgcmVmcmVzaCBpbnZlbnRvcnkgZnJvbSBkYXRhYmFzZVxuICBjb25zdCBoYW5kbGVEZWJ1Z1JlZnJlc2ggPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coXCI9PT0gREVCVUcgUkVGUkVTSCBUUklHR0VSRUQgPT09XCIpO1xuICAgIGNvbnNvbGUubG9nKFwiQ3VycmVudCBpbnZlbnRvcnkgY291bnQ6XCIsIGludmVudG9yeS5sZW5ndGgpO1xuXG4gICAgLy8gQ2xlYXIgc2VhcmNoIGFuZCBmaWx0ZXJzXG4gICAgc2V0U2VhcmNoVGVybShcIlwiKTtcbiAgICBzZXRDYXRlZ29yeUZpbHRlcihcIlwiKTtcblxuICAgIC8vIEZvcmNlIHJlZnJlc2ggaW52ZW50b3J5IGJ5IGJ5cGFzc2luZyBjYWNoZVxuICAgIGF3YWl0IGRpc3BhdGNoKGxvYWRJbnZlbnRvcnkodHJ1ZSkpO1xuXG4gICAgY29uc29sZS5sb2coXCI9PT0gREVCVUcgUkVGUkVTSCBDT01QTEVURUQgPT09XCIpO1xuICAgIGNvbnNvbGUubG9nKFwiTmV3IGludmVudG9yeSBjb3VudDpcIiwgaW52ZW50b3J5Lmxlbmd0aCk7XG5cbiAgICAvLyBGb2N1cyBiYWNrIG9uIHNlYXJjaCBpbnB1dFxuICAgIGlmIChzZWFyY2hJbnB1dFJlZi5jdXJyZW50KSB7XG4gICAgICBzZWFyY2hJbnB1dFJlZi5jdXJyZW50LmZvY3VzKCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBkZXRlcm1pbmUgaWYgYSBjYXRlZ29yeSBzaG91bGQgYmUgdGF4YWJsZVxuICBjb25zdCBpc0NhdGVnb3J5VGF4YWJsZSA9IChjYXRlZ29yeSkgPT4ge1xuICAgIC8vIENoZWNrIGlmIGNhdGVnb3J5IG5hbWUgY29udGFpbnMgaW5kaWNhdG9ycyBvZiB0YXhhYmxlIGl0ZW1zXG4gICAgY29uc3QgdGF4YWJsZUtleXdvcmRzID0gW1xuICAgICAgXCJ0YXhhYmxlXCIsXG4gICAgICBcImxvdHRvXCIsXG4gICAgICBcImxvdHRlcnlcIixcbiAgICAgIFwidG9iYWNjb1wiLFxuICAgICAgXCJhbGNvaG9sXCIsXG4gICAgXTtcbiAgICBjb25zdCBub25UYXhhYmxlS2V5d29yZHMgPSBbXG4gICAgICBcIm5vbi10YXhhYmxlXCIsXG4gICAgICBcInVudGF4YWJsZVwiLFxuICAgICAgXCJiYXNpY1wiLFxuICAgICAgXCJlc3NlbnRpYWxcIixcbiAgICBdO1xuXG4gICAgY29uc3QgY2F0ZWdvcnlMb3dlciA9IGNhdGVnb3J5LnRvTG93ZXJDYXNlKCk7XG5cbiAgICAvLyBGaXJzdCBjaGVjayBmb3IgZXhwbGljaXQgbm9uLXRheGFibGUgaW5kaWNhdG9yc1xuICAgIGlmIChub25UYXhhYmxlS2V5d29yZHMuc29tZSgoa2V5d29yZCkgPT4gY2F0ZWdvcnlMb3dlci5pbmNsdWRlcyhrZXl3b3JkKSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBUaGVuIGNoZWNrIGZvciBleHBsaWNpdCB0YXhhYmxlIGluZGljYXRvcnNcbiAgICBpZiAodGF4YWJsZUtleXdvcmRzLnNvbWUoKGtleXdvcmQpID0+IGNhdGVnb3J5TG93ZXIuaW5jbHVkZXMoa2V5d29yZCkpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBEZWZhdWx0IHRvIHRheGFibGUgZm9yIHVua25vd24gY2F0ZWdvcmllcyAoc2FmZXIgZm9yIHRheCBjb21wbGlhbmNlKVxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIC8vIEZ1bmN0aW9uIHRvIGFkZCBtYW51YWwgaXRlbSB0byBjYXJ0XG4gIGNvbnN0IGFkZE1hbnVhbEl0ZW0gPSAoKSA9PiB7XG4gICAgaWYgKFxuICAgICAgIW1hbnVhbEl0ZW0ubmFtZS50cmltKCkgfHxcbiAgICAgICFtYW51YWxJdGVtLnByaWNlIHx8XG4gICAgICBwYXJzZUZsb2F0KG1hbnVhbEl0ZW0ucHJpY2UpIDw9IDBcbiAgICApIHtcbiAgICAgIGFsZXJ0KFwiUGxlYXNlIGVudGVyIGl0ZW0gbmFtZSBhbmQgdmFsaWQgcHJpY2VcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGEgY29uc2lzdGVudCBJRCBiYXNlZCBvbiBuYW1lLCBwcmljZSwgYW5kIGNhdGVnb3J5IGZvciBtYW51YWwgaXRlbXNcbiAgICBjb25zdCBub3JtYWxpemVkTmFtZSA9IG1hbnVhbEl0ZW0ubmFtZVxuICAgICAgLnRyaW0oKVxuICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgIC5yZXBsYWNlKC9cXHMrL2csIFwiLVwiKTtcbiAgICBjb25zdCBwcmljZVN0ciA9IHBhcnNlRmxvYXQobWFudWFsSXRlbS5wcmljZSkudG9GaXhlZCgyKTtcbiAgICBjb25zdCBtYW51YWxJZCA9IGBtYW51YWwtJHtub3JtYWxpemVkTmFtZX0tJHtwcmljZVN0cn0tJHttYW51YWxJdGVtLmNhdGVnb3J5fWA7XG5cbiAgICBjb25zdCBuZXdJdGVtID0ge1xuICAgICAgaWQ6IG1hbnVhbElkLCAvLyBDb25zaXN0ZW50IElEIGZvciBzYW1lIG1hbnVhbCBpdGVtc1xuICAgICAgbmFtZTogbWFudWFsSXRlbS5uYW1lLnRyaW0oKSxcbiAgICAgIHByaWNlOiBwYXJzZUZsb2F0KG1hbnVhbEl0ZW0ucHJpY2UpLFxuICAgICAgY2F0ZWdvcnk6IG1hbnVhbEl0ZW0uY2F0ZWdvcnksXG4gICAgICBhcHBseVRheDogaXNDYXRlZ29yeVRheGFibGUobWFudWFsSXRlbS5jYXRlZ29yeSksXG4gICAgICBzdG9jazogOTk5LCAvLyBNYW51YWwgaXRlbXMgZG9uJ3QgYWZmZWN0IGludmVudG9yeVxuICAgICAgaXNNYW51YWw6IHRydWUsIC8vIEZsYWcgdG8gaWRlbnRpZnkgbWFudWFsIGl0ZW1zXG4gICAgfTtcblxuICAgIC8vIEFkZCB0byBjYXJ0IHdpdGggc3BlY2lmaWVkIHF1YW50aXR5XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYW51YWxJdGVtLnF1YW50aXR5OyBpKyspIHtcbiAgICAgIGFkZFRvQ2FydChuZXdJdGVtKTtcbiAgICB9XG5cbiAgICAvLyBSZXNldCBtYW51YWwgaXRlbSBmb3JtIGFuZCBjbGVhciBzZWFyY2hcbiAgICBzZXRNYW51YWxJdGVtKHtcbiAgICAgIG5hbWU6IFwiXCIsXG4gICAgICBwcmljZTogXCJcIixcbiAgICAgIGNhdGVnb3J5OiBjYXRlZ29yaWVzLmxlbmd0aCA+IDAgPyBjYXRlZ29yaWVzWzBdIDogXCJncm9jZXJ5LXRheGFibGVcIixcbiAgICAgIHF1YW50aXR5OiAxLFxuICAgIH0pO1xuICAgIHNldFNob3dNYW51YWxFbnRyeShmYWxzZSk7XG4gICAgc2V0U2VhcmNoVGVybShcIlwiKTsgLy8gQ2xlYXIgc2VhcmNoIHRlcm0gYWZ0ZXIgYWRkaW5nIGl0ZW1cbiAgfTtcblxuICBjb25zdCBjYWxjdWxhdGVTdWJ0b3RhbCA9ICgpID0+IHtcbiAgICByZXR1cm4gY2FydC5yZWR1Y2UoKHRvdGFsLCBpdGVtKSA9PiB0b3RhbCArIGl0ZW0ucHJpY2UgKiBpdGVtLnF1YW50aXR5LCAwKTtcbiAgfTtcblxuICBjb25zdCBjYWxjdWxhdGVUb3RhbCA9ICgpID0+IHtcbiAgICBjb25zdCBzdWJ0b3RhbCA9IGNhbGN1bGF0ZVN1YnRvdGFsKCk7XG4gICAgY29uc3QgZGlzY291bnQgPSBOdW1iZXIocGFyc2VGbG9hdChkaXNjb3VudEFtb3VudCkgfHwgMCk7XG4gICAgY29uc3QgY2JGZWUgPSBOdW1iZXIocGFyc2VGbG9hdChjYXNoYmFja0ZlZSkgfHwgMCk7IC8vIEFkZCBjYXNoYmFjayBmZWUgaWYgcHJlc2VudFxuXG4gICAgLy8gQ2FyZCBmZWUgbG9naWMgLSBhcHBseSBmZWUgd2hlbiBlbmFibGVkXG4gICAgY29uc3QgY2FyZEZlZUluVG90YWwgPSBjYXJkRmVlRW5hYmxlZCA/IENBUkRfRkVFX0FNT1VOVCA6IDA7XG5cbiAgICByZXR1cm4gTWF0aC5tYXgoMCwgc3VidG90YWwgLSBkaXNjb3VudCArIGNiRmVlICsgY2FyZEZlZUluVG90YWwpOyAvLyBFbnN1cmUgdG90YWwgZG9lc24ndCBnbyBuZWdhdGl2ZVxuICB9O1xuXG4gIGNvbnN0IGNhbGN1bGF0ZVRheCA9ICgpID0+IHtcbiAgICAvLyBDYWxjdWxhdGUgdGF4IG9uIGRpc2NvdW50ZWQgYW1vdW50IGZvciB0YXhhYmxlIGl0ZW1zXG4gICAgY29uc3QgZGlzY291bnRlZFN1YnRvdGFsID0gY2FsY3VsYXRlVG90YWwoKTsgLy8gVGhpcyBhbHJlYWR5IGhhcyBkaXNjb3VudCBhcHBsaWVkXG4gICAgY29uc3Qgb3JpZ2luYWxTdWJ0b3RhbCA9IGNhbGN1bGF0ZVN1YnRvdGFsKCk7XG4gICAgY29uc3QgdGF4YWJsZU9yaWdpbmFsID0gZ2V0VGF4YWJsZVRvdGFsKCk7XG5cbiAgICBpZiAob3JpZ2luYWxTdWJ0b3RhbCA9PT0gMCkgcmV0dXJuIDA7XG5cbiAgICAvLyBDYWxjdWxhdGUgcHJvcG9ydGlvbmFsIGRpc2NvdW50IG9uIHRheGFibGUgaXRlbXNcbiAgICBjb25zdCB0YXhhYmxlRGlzY291bnRlZCA9XG4gICAgICB0YXhhYmxlT3JpZ2luYWwgKiAoZGlzY291bnRlZFN1YnRvdGFsIC8gb3JpZ2luYWxTdWJ0b3RhbCk7XG4gICAgcmV0dXJuIHRheGFibGVEaXNjb3VudGVkICogMC4xMzsgLy8gMTMlIEhTVCBmb3IgT250YXJpbywgQ2FuYWRhXG4gIH07XG5cbiAgY29uc3QgZ2V0VGF4YWJsZVRvdGFsID0gKCkgPT4ge1xuICAgIHJldHVybiBjYXJ0LnJlZHVjZSgodG90YWwsIGl0ZW0pID0+IHtcbiAgICAgIGlmIChpdGVtLmFwcGx5VGF4ID09PSB0cnVlKSB7XG4gICAgICAgIHJldHVybiB0b3RhbCArIGl0ZW0ucHJpY2UgKiBpdGVtLnF1YW50aXR5O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRvdGFsO1xuICAgIH0sIDApO1xuICB9O1xuXG4gIGNvbnN0IGdldE5vblRheGFibGVUb3RhbCA9ICgpID0+IHtcbiAgICByZXR1cm4gY2FydC5yZWR1Y2UoKHRvdGFsLCBpdGVtKSA9PiB7XG4gICAgICBpZiAoaXRlbS5hcHBseVRheCAhPT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gdG90YWwgKyBpdGVtLnByaWNlICogaXRlbS5xdWFudGl0eTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0b3RhbDtcbiAgICB9LCAwKTtcbiAgfTtcblxuICAvLyBQcm9jZXNzIHBheW1lbnQgZm9yIGV4aXN0aW5nIGN1c3RvbWVyIGJhbGFuY2VcbiAgY29uc3QgcHJvY2Vzc0N1c3RvbWVyQmFsYW5jZVBheW1lbnQgPSBhc3luYyAoXG4gICAgcGF5bWVudFRvdGFsLFxuICAgIGNhc2hQYWlkLFxuICAgIGNhcmRQYWlkXG4gICkgPT4ge1xuICAgIGlmICghc2VsZWN0ZWRDdXN0b21lciB8fCBjdXN0b21lckJhbGFuY2UgPD0gMCkge1xuICAgICAgYWxlcnQoXCJObyBjdXN0b21lciBzZWxlY3RlZCBvciBjdXN0b21lciBoYXMgbm8gb3V0c3RhbmRpbmcgYmFsYW5jZVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocGF5bWVudFRvdGFsIDw9IDApIHtcbiAgICAgIGFsZXJ0KFwiUGxlYXNlIGVudGVyIGEgcGF5bWVudCBhbW91bnQgaW4gY2FzaCBvciBjYXJkXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENhbGN1bGF0ZSByZW1haW5pbmcgYmFsYW5jZSBhZnRlciBwYXltZW50XG4gICAgY29uc3QgcmVtYWluaW5nQmFsYW5jZSA9IE1hdGgubWF4KDAsIGN1c3RvbWVyQmFsYW5jZSAtIHBheW1lbnRUb3RhbCk7XG5cbiAgICB0cnkge1xuICAgICAgLy8gUHJvY2VzcyB0aGUgcGF5bWVudCBhZ2FpbnN0IGN1c3RvbWVyJ3MgYWNjb3VudFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcIi9hcGkvY3JlZGl0L2FjY291bnRzXCIsIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgYWN0aW9uOiBcInBheW1lbnRcIixcbiAgICAgICAgICBjdXN0b21lck5hbWU6IHNlbGVjdGVkQ3VzdG9tZXIuY3VzdG9tZXJOYW1lLFxuICAgICAgICAgIGFtb3VudDogcGF5bWVudFRvdGFsLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yRGF0YS5lcnJvciB8fCBcIlBheW1lbnQgcHJvY2Vzc2luZyBmYWlsZWRcIik7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQ3JlYXRlIGEgcGF5bWVudCB0cmFuc2FjdGlvbiByZWNvcmRcbiAgICAgIGNvbnN0IHBheW1lbnRUcmFuc2FjdGlvbiA9IHtcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIGl0ZW1zOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6IFwiYmFsYW5jZS1wYXltZW50XCIsXG4gICAgICAgICAgICBuYW1lOiBgQmFsYW5jZSBQYXltZW50IC0gJHtzZWxlY3RlZEN1c3RvbWVyLmN1c3RvbWVyTmFtZX1gLFxuICAgICAgICAgICAgcXVhbnRpdHk6IDEsXG4gICAgICAgICAgICBwcmljZTogcGF5bWVudFRvdGFsLFxuICAgICAgICAgICAgYXBwbHlUYXg6IGZhbHNlLFxuICAgICAgICAgICAgY2F0ZWdvcnk6IFwiUGF5bWVudFwiLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICAgIG9yaWdpbmFsU3VidG90YWw6IHBheW1lbnRUb3RhbCxcbiAgICAgICAgZGlzY291bnQ6IDAsXG4gICAgICAgIHN1YnRvdGFsOiBwYXltZW50VG90YWwsXG4gICAgICAgIHRheGFibGVBbW91bnQ6IDAsXG4gICAgICAgIG5vblRheGFibGVBbW91bnQ6IHBheW1lbnRUb3RhbCxcbiAgICAgICAgdGF4OiAwLFxuICAgICAgICB0b3RhbDogcGF5bWVudFRvdGFsLFxuICAgICAgICBmaW5hbFRvdGFsOiBwYXltZW50VG90YWwsXG4gICAgICAgIGNhc2hiYWNrOiAwLFxuICAgICAgICBwYXltZW50QnJlYWtkb3duOiBbXG4gICAgICAgICAgLi4uKGNhc2hQYWlkID4gMCA/IFt7IG1ldGhvZDogXCJjYXNoXCIsIGFtb3VudDogY2FzaFBhaWQgfV0gOiBbXSksXG4gICAgICAgICAgLi4uKGNhcmRQYWlkID4gMCA/IFt7IG1ldGhvZDogXCJjYXJkXCIsIGFtb3VudDogY2FyZFBhaWQgfV0gOiBbXSksXG4gICAgICAgIF0sXG4gICAgICAgIGNoYW5nZTogMCxcbiAgICAgICAgaXNDcmVkaXRTYWxlOiBmYWxzZSxcbiAgICAgICAgaXNQYXJ0aWFsUGF5bWVudDogZmFsc2UsXG4gICAgICAgIGNyZWRpdEJhbGFuY2U6IDAsXG4gICAgICAgIHBhaWRBbW91bnQ6IHBheW1lbnRUb3RhbCxcbiAgICAgICAgY3JlZGl0Q3VzdG9tZXJOYW1lOiBzZWxlY3RlZEN1c3RvbWVyLmN1c3RvbWVyTmFtZSxcbiAgICAgICAgY3JlZGl0U3RhdHVzOiBcInBheW1lbnRcIixcbiAgICAgICAgbG90dG9XaW5uaW5nczogMCxcbiAgICAgICAgaXNCYWxhbmNlUGF5bWVudDogdHJ1ZSwgLy8gU3BlY2lhbCBmbGFnIGZvciBiYWxhbmNlIHBheW1lbnRzXG4gICAgICAgIHByZXZpb3VzQmFsYW5jZTogY3VzdG9tZXJCYWxhbmNlLFxuICAgICAgICBuZXdCYWxhbmNlOiByZW1haW5pbmdCYWxhbmNlLFxuICAgICAgfTtcblxuICAgICAgLy8gU2F2ZSB0aGUgcGF5bWVudCB0cmFuc2FjdGlvblxuICAgICAgY29uc3QgdHJhbnNhY3Rpb25SZXNwb25zZSA9IGF3YWl0IGZldGNoKFwiL2FwaS90cmFuc2FjdGlvblwiLCB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICBcIngtYXBpLWtleVwiOiBcImRldi1zZWNyZXRcIixcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bWVudFRyYW5zYWN0aW9uKSxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAodHJhbnNhY3Rpb25SZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCB0cmFuc2FjdGlvbkRhdGEgPSBhd2FpdCB0cmFuc2FjdGlvblJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgICAvLyBTaG93IHN1Y2Nlc3MgbWVzc2FnZSBhbmQgcmVjZWlwdFxuICAgICAgICBzZXRMYXN0VHJhbnNhY3Rpb24oe1xuICAgICAgICAgIGlkOiB0cmFuc2FjdGlvbkRhdGEuaWQsXG4gICAgICAgICAgLi4ucGF5bWVudFRyYW5zYWN0aW9uLFxuICAgICAgICB9KTtcbiAgICAgICAgc2V0U2hvd1JlY2VpcHQodHJ1ZSk7XG5cbiAgICAgICAgLy8gVXBkYXRlIGxvY2FsIHN0YXRlXG4gICAgICAgIHNldEN1c3RvbWVyQmFsYW5jZShyZW1haW5pbmdCYWxhbmNlKTtcbiAgICAgICAgc2V0U2VsZWN0ZWRDdXN0b21lcih7IC4uLnNlbGVjdGVkQ3VzdG9tZXIsIGJhbGFuY2U6IHJlbWFpbmluZ0JhbGFuY2UgfSk7XG4gICAgICAgIHNldEV4aXN0aW5nQ3VzdG9tZXJzKChwcmV2KSA9PlxuICAgICAgICAgIHByZXYubWFwKChjKSA9PlxuICAgICAgICAgICAgYy5jdXN0b21lck5hbWUgPT09IHNlbGVjdGVkQ3VzdG9tZXIuY3VzdG9tZXJOYW1lXG4gICAgICAgICAgICAgID8geyAuLi5jLCBiYWxhbmNlOiByZW1haW5pbmdCYWxhbmNlIH1cbiAgICAgICAgICAgICAgOiBjXG4gICAgICAgICAgKVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIFJlc2V0IHBheW1lbnQgZmllbGRzXG4gICAgICAgIHNldENhc2hBbW91bnQoXCJcIik7XG4gICAgICAgIHNldENhcmRBbW91bnQoXCJcIik7XG4gICAgICAgIHNldFBheW1lbnRFcnJvcihcIlwiKTtcblxuICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICBgUGF5bWVudCBwcm9jZXNzZWQ6ICQke3BheW1lbnRUb3RhbC50b0ZpeGVkKFxuICAgICAgICAgICAgMlxuICAgICAgICAgICl9IHBhaWQsIHJlbWFpbmluZyBiYWxhbmNlOiAkJHtyZW1haW5pbmdCYWxhbmNlLnRvRml4ZWQoMil9YFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIHJlY29yZCBwYXltZW50IHRyYW5zYWN0aW9uXCIpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcHJvY2Vzc2luZyBjdXN0b21lciBwYXltZW50OlwiLCBlcnJvcik7XG4gICAgICBzZXRQYXltZW50RXJyb3IoZXJyb3IubWVzc2FnZSB8fCBcIkZhaWxlZCB0byBwcm9jZXNzIHBheW1lbnRcIik7XG4gICAgfVxuICB9O1xuXG4gIC8vIFRlcm1pbmFsIFBheW1lbnQgSGFuZGxlclxuICBjb25zdCBoYW5kbGVUZXJtaW5hbFBheW1lbnQgPSBhc3luYyAoYW1vdW50KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFNob3cgcHJvY2Vzc2luZyBpbmRpY2F0b3JcbiAgICAgIHNldFBheW1lbnRFcnJvcihcbiAgICAgICAgXCJQcm9jZXNzaW5nIHBheW1lbnQgdmlhIHRlcm1pbmFsLi4uIFBsZWFzZSBwcmVzZW50IGNhcmQuXCJcbiAgICAgICk7XG5cbiAgICAgIC8vIENhbGwgdGVybWluYWwgQVBJXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFwiL2FwaS90ZXJtaW5hbFwiLCB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGFtb3VudDogYW1vdW50LFxuICAgICAgICAgIHByb2Nlc3NvcjogXCJjaGFzZVwiLCAvLyBVc2luZyBDaGFzZSB0ZXJtaW5hbFxuICAgICAgICAgIHRlcm1pbmFsSWQ6IG51bGwsIC8vIFdpbGwgdXNlIGRlZmF1bHQgQ2hhc2UgdGVybWluYWwgSUQgZnJvbSBlbnZcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgdGVybWluYWxSZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHRlcm1pbmFsUmVzdWx0LmVycm9yIHx8IFwiVGVybWluYWwgcmVxdWVzdCBmYWlsZWRcIik7XG4gICAgICB9XG5cbiAgICAgIGlmICh0ZXJtaW5hbFJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIC8vIFNldCBwYXltZW50IGFtb3VudHMgZm9yIHN1Y2Nlc3NmdWwgdGVybWluYWwgcGF5bWVudFxuICAgICAgICBzZXRDYXNoQW1vdW50KFwiMFwiKTtcbiAgICAgICAgc2V0Q2FyZEFtb3VudChTdHJpbmcoYW1vdW50LnRvRml4ZWQoMikpKTtcbiAgICAgICAgc2V0TGFzdEVkaXRlZChcImNhcmRcIik7XG5cbiAgICAgICAgLy8gQXV0by1wcm9jZXNzIGNoZWNrb3V0IGFmdGVyIHN1Y2Nlc3NmdWwgdGVybWluYWwgcGF5bWVudFxuICAgICAgICBhbGVydChcbiAgICAgICAgICBg4pyFIFBheW1lbnQgQXBwcm92ZWQhXFxuXFxuVHJhbnNhY3Rpb24gSUQ6ICR7XG4gICAgICAgICAgICB0ZXJtaW5hbFJlc3VsdC50cmFuc2FjdGlvbklkXG4gICAgICAgICAgfVxcbkNhcmQ6ICR7dGVybWluYWxSZXN1bHQuY2FyZFR5cGV9ICoqKioke1xuICAgICAgICAgICAgdGVybWluYWxSZXN1bHQubGFzdDRcbiAgICAgICAgICB9XFxuQW1vdW50OiAkJHthbW91bnQudG9GaXhlZCgyKX1cXG5cXG5Qcm9jZXNzaW5nIHNhbGUuLi5gXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gVHJpZ2dlciBjaGVja291dCBhZnRlciBzaG9ydCBkZWxheVxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBwcm9jZXNzQ2hlY2tvdXQoKTtcbiAgICAgICAgfSwgNTAwKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIlRlcm1pbmFsIHBheW1lbnQgZmFpbGVkOlwiLCBlcnJvcik7XG4gICAgICBhbGVydChcbiAgICAgICAgYOKdjCBQYXltZW50IEZhaWxlZFxcblxcbiR7ZXJyb3IubWVzc2FnZX1cXG5cXG5QbGVhc2UgdHJ5IGFnYWluIG9yIHVzZSBtYW51YWwgcGF5bWVudCBlbnRyeS5gXG4gICAgICApO1xuICAgICAgc2V0UGF5bWVudEVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBwcm9jZXNzQ2hlY2tvdXQgPSAoKSA9PiB7XG4gICAgY29uc3Qgb3JpZ2luYWxTdWJ0b3RhbCA9IGNhbGN1bGF0ZVN1YnRvdGFsKCk7IC8vIEl0ZW1zIHRvdGFsIGJlZm9yZSBkaXNjb3VudFxuICAgIGNvbnN0IGRpc2NvdW50ID0gTnVtYmVyKHBhcnNlRmxvYXQoZGlzY291bnRBbW91bnQpIHx8IDApO1xuICAgIGNvbnN0IHN1YnRvdGFsV2l0aEZlZXMgPSBjYWxjdWxhdGVUb3RhbCgpOyAvLyBVc2UgY2FsY3VsYXRlVG90YWwoKSB3aGljaCBpbmNsdWRlcyBkaXNjb3VudCBhbmQgY2FyZCBmZWVzXG4gICAgY29uc3QgdGF4ID0gY2FsY3VsYXRlVGF4KCk7XG4gICAgY29uc3QgdG90YWwgPSBzdWJ0b3RhbFdpdGhGZWVzICsgdGF4O1xuICAgIGNvbnN0IGNhc2hiYWNrID0gTnVtYmVyKHBhcnNlRmxvYXQoY2FzaGJhY2tBbW91bnQpIHx8IDApO1xuICAgIGNvbnN0IGNiRmVlID0gTnVtYmVyKHBhcnNlRmxvYXQoY2FzaGJhY2tGZWUpIHx8IDApO1xuXG4gICAgLy8gR2V0IHBheW1lbnQgYW1vdW50c1xuICAgIGNvbnN0IHBhaWRDYXNoID0gTnVtYmVyKHBhcnNlRmxvYXQoY2FzaEFtb3VudCkgfHwgMCk7XG4gICAgY29uc3QgcGFpZENhcmQgPSBOdW1iZXIocGFyc2VGbG9hdChjYXJkQW1vdW50KSB8fCAwKTtcbiAgICBjb25zdCBwYWlkVG90YWwgPSBwYWlkQ2FzaCArIHBhaWRDYXJkO1xuICAgIGNvbnN0IHRlbXBMb3R0b0Ftb3VudCA9IE51bWJlcihwYXJzZUZsb2F0KGxvdHRvV2lubmluZ3MpIHx8IDApO1xuXG4gICAgLy8gU3BlY2lhbCBjYXNlOiBDdXN0b21lciBiYWxhbmNlIHBheW1lbnQgKG5vIGl0ZW1zIGluIGNhcnQsIGp1c3QgcGF5aW5nIGV4aXN0aW5nIGRlYnQpXG4gICAgaWYgKFxuICAgICAgc2VsZWN0ZWRDdXN0b21lciAmJlxuICAgICAgY3VzdG9tZXJCYWxhbmNlID4gMCAmJlxuICAgICAgY2FydC5sZW5ndGggPT09IDAgJiZcbiAgICAgIHBhaWRUb3RhbCA+IDBcbiAgICApIHtcbiAgICAgIHByb2Nlc3NDdXN0b21lckJhbGFuY2VQYXltZW50KHBhaWRUb3RhbCwgcGFpZENhc2gsIHBhaWRDYXJkKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiB0aGVyZSdzIGFueXRoaW5nIHRvIHByb2Nlc3MgKGl0ZW1zLCBjYXNoYmFjaywgb3IgbG90dG8gd2lubmluZ3MpXG4gICAgaWYgKGNhcnQubGVuZ3RoID09PSAwICYmIGNhc2hiYWNrID09PSAwICYmIHRlbXBMb3R0b0Ftb3VudCA9PT0gMCkge1xuICAgICAgYWxlcnQoXG4gICAgICAgIFwiTm8gaXRlbXMgaW4gY2FydCwgbm8gY2FzaGJhY2sgYW1vdW50LCBhbmQgbm8gbG90dG8gd2lubmluZ3MgZW50ZXJlZFwiXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIGNyZWRpdCBzYWxlXG4gICAgaWYgKGlzQ3JlZGl0U2FsZSAmJiAhY3JlZGl0Q3VzdG9tZXJOYW1lLnRyaW0oKSkge1xuICAgICAgYWxlcnQoXCJQbGVhc2UgZW50ZXIgY3VzdG9tZXIgbmFtZSBmb3IgY3JlZGl0IHNhbGVcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSW5pdGlhbGl6ZSBwYXltZW50IHZhcmlhYmxlcyAocmV1c2UgdGhlIG9uZXMgYWxyZWFkeSBkZWNsYXJlZCBhYm92ZSlcbiAgICBjb25zdCBsb3R0b0Ftb3VudCA9IE51bWJlcihwYXJzZUZsb2F0KGxvdHRvV2lubmluZ3MpIHx8IDApO1xuICAgIGxldCB0b3RhbFdpdGhDYXNoYmFjayA9IHRvdGFsICsgY2FzaGJhY2s7XG4gICAgbGV0IGNoYW5nZSA9IDA7XG4gICAgbGV0IGNyZWRpdEJhbGFuY2UgPSAwO1xuICAgIGxldCBpc1BhcnRpYWxQYXltZW50ID0gZmFsc2U7XG5cbiAgICBpZiAoXG4gICAgICBpc05hTihwYWlkQ2FzaCkgfHxcbiAgICAgIGlzTmFOKHBhaWRDYXJkKSB8fFxuICAgICAgaXNOYU4oY2FzaGJhY2spIHx8XG4gICAgICBpc05hTihsb3R0b0Ftb3VudCkgfHxcbiAgICAgIHBhaWRDYXNoIDwgMCB8fFxuICAgICAgcGFpZENhcmQgPCAwIHx8XG4gICAgICBjYXNoYmFjayA8IDAgfHxcbiAgICAgIGxvdHRvQW1vdW50IDwgMFxuICAgICkge1xuICAgICAgc2V0UGF5bWVudEVycm9yKFwiSW52YWxpZCBwYXltZW50IGFtb3VudHNcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2FsY3VsYXRlIHRvdGFsIGluY2x1ZGluZyBjYXNoYmFjayBhcyBsaW5lIGl0ZW0sIG1pbnVzIGxvdHRvIHdpbm5pbmdzXG4gICAgLy8gTm90ZTogY2FyZCBmZWUgaXMgYWxyZWFkeSBpbmNsdWRlZCBpbiB0b3RhbCBmcm9tIGNhbGN1bGF0ZVRvdGFsKClcbiAgICBjb25zdCBjYXJkRmVlRm9yQ2FsYyA9IGNhcmRGZWVFbmFibGVkID8gQ0FSRF9GRUVfQU1PVU5UIDogMDtcbiAgICBjb25zdCB0b3RhbENhcmRGZWUgPSBjYXJkRmVlRm9yQ2FsYztcblxuICAgIHRvdGFsV2l0aENhc2hiYWNrID0gdG90YWwgKyBjYXNoYmFjayAtIGxvdHRvQW1vdW50O1xuXG4gICAgaWYgKGlzQ3JlZGl0U2FsZSkge1xuICAgICAgLy8gVXNlIHNwZWNpZmljIGNyZWRpdCBhbW91bnQgaWYgcHJvdmlkZWQsIG90aGVyd2lzZSBjYWxjdWxhdGUgZnJvbSBwYXltZW50IGRpZmZlcmVuY2VcbiAgICAgIGNvbnN0IHNwZWNpZmllZENyZWRpdEFtb3VudCA9IE51bWJlcihwYXJzZUZsb2F0KGNyZWRpdEFtb3VudCkgfHwgMCk7XG5cbiAgICAgIGlmIChzcGVjaWZpZWRDcmVkaXRBbW91bnQgPiAwKSB7XG4gICAgICAgIC8vIEN1c3RvbWVyIHNwZWNpZmllZCBleGFjdCBjcmVkaXQgYW1vdW50XG4gICAgICAgIGNyZWRpdEJhbGFuY2UgPSBzcGVjaWZpZWRDcmVkaXRBbW91bnQ7XG4gICAgICAgIGNvbnN0IHJlcXVpcmVkUGF5bWVudCA9IHRvdGFsV2l0aENhc2hiYWNrIC0gY3JlZGl0QmFsYW5jZTtcblxuICAgICAgICBpZiAocmVxdWlyZWRQYXltZW50ID4gcGFpZFRvdGFsICsgMC4wMDEpIHtcbiAgICAgICAgICBzZXRQYXltZW50RXJyb3IoXG4gICAgICAgICAgICBgTmVlZCAkJHtyZXF1aXJlZFBheW1lbnQudG9GaXhlZChcbiAgICAgICAgICAgICAgMlxuICAgICAgICAgICAgKX0gcGF5bWVudCBmb3IgJCR7Y3JlZGl0QmFsYW5jZS50b0ZpeGVkKFxuICAgICAgICAgICAgICAyXG4gICAgICAgICAgICApfSBjcmVkaXQgKEN1cnJlbnRseSBwYWlkOiAkJHtwYWlkVG90YWwudG9GaXhlZCgyKX0pYFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaXNQYXJ0aWFsUGF5bWVudCA9IGNyZWRpdEJhbGFuY2UgPiAwICYmIHBhaWRUb3RhbCA+IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUcmFkaXRpb25hbCBtb2RlOiBjcmVkaXQgPSByZW1haW5pbmcgYmFsYW5jZSBhZnRlciBwYXltZW50XG4gICAgICAgIGNyZWRpdEJhbGFuY2UgPSBNYXRoLm1heCgwLCB0b3RhbFdpdGhDYXNoYmFjayAtIHBhaWRUb3RhbCk7XG4gICAgICAgIGlzUGFydGlhbFBheW1lbnQgPSBwYWlkVG90YWwgPiAwICYmIGNyZWRpdEJhbGFuY2UgPiAwO1xuICAgICAgfVxuXG4gICAgICAvLyBWYWxpZGF0ZSBjdXN0b21lciBuYW1lIGZvciBhbnkgY3JlZGl0IGFtb3VudFxuICAgICAgaWYgKGNyZWRpdEJhbGFuY2UgPiAwICYmICFjcmVkaXRDdXN0b21lck5hbWUudHJpbSgpKSB7XG4gICAgICAgIGFsZXJ0KFwiUGxlYXNlIGVudGVyIGN1c3RvbWVyIG5hbWUgZm9yIGNyZWRpdCBhbW91bnRcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgbm8gcGF5bWVudCBhbmQgbm8gY3JlZGl0IGFtb3VudCBzcGVjaWZpZWQsIHJlcXVpcmUgY3VzdG9tZXIgbmFtZVxuICAgICAgaWYgKFxuICAgICAgICBwYWlkVG90YWwgPT09IDAgJiZcbiAgICAgICAgY3JlZGl0QmFsYW5jZSA9PT0gMCAmJlxuICAgICAgICAhY3JlZGl0Q3VzdG9tZXJOYW1lLnRyaW0oKVxuICAgICAgKSB7XG4gICAgICAgIGFsZXJ0KFwiUGxlYXNlIGVudGVyIGN1c3RvbWVyIG5hbWUgb3Igc3BlY2lmeSBwYXltZW50L2NyZWRpdCBhbW91bnRzXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEZvciBub24tY3JlZGl0IHNhbGVzLCByZXF1aXJlIGZ1bGwgcGF5bWVudFxuICAgICAgLy8gRm9yIGNhc2hiYWNrIHRyYW5zYWN0aW9ucywgcmVxdWlyZSBjYXJkIHBheW1lbnQgdG8gY292ZXIgdG90YWwgaW5jbHVkaW5nIGNhc2hiYWNrXG4gICAgICBpZiAoY2FzaGJhY2sgPiAwKSB7XG4gICAgICAgIGlmIChwYWlkQ2FyZCA8IHRvdGFsV2l0aENhc2hiYWNrIC0gMC4wMDEpIHtcbiAgICAgICAgICBzZXRQYXltZW50RXJyb3IoXG4gICAgICAgICAgICBgQ2FzaGJhY2sgcmVxdWlyZXMgY2FyZCBwYXltZW50IG9mICQke3RvdGFsV2l0aENhc2hiYWNrLnRvRml4ZWQoXG4gICAgICAgICAgICAgIDJcbiAgICAgICAgICAgICl9IChUb3RhbCB3aXRoIENhc2hiYWNrOiAkJHt0b3RhbFdpdGhDYXNoYmFjay50b0ZpeGVkKDIpfSlgXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFJlZ3VsYXIgdHJhbnNhY3Rpb24gd2l0aG91dCBjYXNoYmFja1xuICAgICAgICBpZiAocGFpZFRvdGFsIDwgdG90YWxXaXRoQ2FzaGJhY2sgLSAwLjAwMSkge1xuICAgICAgICAgIHNldFBheW1lbnRFcnJvcihcbiAgICAgICAgICAgIGBQYXltZW50IGlzIGluc3VmZmljaWVudC4gTmVlZCAkJHt0b3RhbFdpdGhDYXNoYmFjay50b0ZpeGVkKFxuICAgICAgICAgICAgICAyXG4gICAgICAgICAgICApfSBmb3IgcHVyY2hhc2VgXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY2hhbmdlID1cbiAgICAgICAgY2FzaGJhY2sgPiAwXG4gICAgICAgICAgPyAwXG4gICAgICAgICAgOiBNYXRoLm1heCgwLCArKHBhaWRUb3RhbCAtIHRvdGFsV2l0aENhc2hiYWNrKS50b0ZpeGVkKDIpKTtcbiAgICB9XG5cbiAgICAvLyBQYXltZW50IGJyZWFrZG93biBmb3IgZGlmZmVyZW50IHRyYW5zYWN0aW9uIHR5cGVzXG4gICAgbGV0IGZpbmFsQ2FzaEFtb3VudCA9IDA7XG4gICAgbGV0IGZpbmFsQ2FyZEFtb3VudCA9IDA7XG5cbiAgICBpZiAoaXNDcmVkaXRTYWxlKSB7XG4gICAgICAvLyBDcmVkaXQgc2FsZSAtIG5vIGltbWVkaWF0ZSBwYXltZW50XG4gICAgICBmaW5hbENhc2hBbW91bnQgPSAwO1xuICAgICAgZmluYWxDYXJkQW1vdW50ID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUmVndWxhciBwYXltZW50IGhhbmRsaW5nIC0gcmVjb3JkIG9ubHkgdGhlIGFjdHVhbCBzYWxlIGFtb3VudCwgbm90IG92ZXJwYXltZW50XG4gICAgICAvLyBDYXNoIGFtb3VudCBzaG91bGQgYmUgdGhlIHBvcnRpb24gb2YgdGhlIHRvdGFsIHRoYXQgd2FzIHBhaWQgaW4gY2FzaCAodXAgdG8gdG90YWwgb3dlZClcbiAgICAgIGNvbnN0IHRvdGFsT3dlZCA9IHRvdGFsV2l0aENhc2hiYWNrO1xuICAgICAgZmluYWxDYXNoQW1vdW50ID0gTWF0aC5taW4ocGFpZENhc2gsIE1hdGgubWF4KDAsIHRvdGFsT3dlZCkpO1xuICAgICAgZmluYWxDYXJkQW1vdW50ID0gTWF0aC5taW4oXG4gICAgICAgIHBhaWRDYXJkLFxuICAgICAgICBNYXRoLm1heCgwLCB0b3RhbE93ZWQgLSBmaW5hbENhc2hBbW91bnQpXG4gICAgICApO1xuXG4gICAgICBpZiAoY2FzaGJhY2sgPiAwKSB7XG4gICAgICAgIC8vIENhc2hiYWNrIHRyYW5zYWN0aW9uczogcmVjb3JkIGNhc2ggZ29pbmcgb3V0IGFuZCBjYXJkIHBheW1lbnRcbiAgICAgICAgZmluYWxDYXNoQW1vdW50ID0gLWNhc2hiYWNrOyAvLyBDYXNoIHJlZHVjZWQgZnJvbSByZWdpc3RlclxuICAgICAgICBmaW5hbENhcmRBbW91bnQgPSBwYWlkQ2FyZDsgLy8gQ2FyZCBwYXltZW50IGNvdmVycyBwdXJjaGFzZSArIGNhc2hiYWNrXG4gICAgICB9XG5cbiAgICAgIC8vIEhhbmRsZSBsb3R0byB3aW5uaW5ncyAtIGN1c3RvbWVyIGdldHMgY2FzaCBiYWNrIGlmIHRvdGFsIGlzIG5lZ2F0aXZlXG4gICAgICBpZiAobG90dG9BbW91bnQgPiAwICYmIHRvdGFsV2l0aENhc2hiYWNrIDwgMCkge1xuICAgICAgICAvLyBDdXN0b21lciBvd2VzIG5vdGhpbmcgYW5kIGdldHMgbW9uZXkgYmFjayAobG90dG8gd2lubmluZ3MgZXhjZWVkIHB1cmNoYXNlIHRvdGFsKVxuICAgICAgICBmaW5hbENhc2hBbW91bnQgPSB0b3RhbFdpdGhDYXNoYmFjazsgLy8gTmVnYXRpdmUgY2FzaCBhbW91bnQgPSBjYXNoIGdvaW5nIG91dCBvZiByZWdpc3RlclxuICAgICAgICBmaW5hbENhcmRBbW91bnQgPSAwOyAvLyBObyBjYXJkIHBheW1lbnQgbmVlZGVkXG4gICAgICB9IGVsc2UgaWYgKGxvdHRvQW1vdW50ID4gMCkge1xuICAgICAgICAvLyBMb3R0byB3aW5uaW5ncyByZWR1Y2UgdGhlIGFtb3VudCBjdXN0b21lciBuZWVkcyB0byBwYXlcbiAgICAgICAgLy8gQWRqdXN0IHBheW1lbnQgYW1vdW50cyBwcm9wb3J0aW9uYWxseVxuICAgICAgICBjb25zdCByZW1haW5pbmdUb3RhbCA9IHRvdGFsV2l0aENhc2hiYWNrO1xuICAgICAgICBpZiAocmVtYWluaW5nVG90YWwgPiAwKSB7XG4gICAgICAgICAgY29uc3QgY2FzaFJhdGlvID0gcGFpZENhc2ggLyBwYWlkVG90YWw7XG4gICAgICAgICAgY29uc3QgY2FyZFJhdGlvID0gcGFpZENhcmQgLyBwYWlkVG90YWw7XG4gICAgICAgICAgZmluYWxDYXNoQW1vdW50ID0gcmVtYWluaW5nVG90YWwgKiBjYXNoUmF0aW87XG4gICAgICAgICAgZmluYWxDYXJkQW1vdW50ID0gcmVtYWluaW5nVG90YWwgKiBjYXJkUmF0aW87XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBwYXltZW50QnJlYWtkb3duID0gW107XG4gICAgaWYgKGlzQ3JlZGl0U2FsZSkge1xuICAgICAgLy8gRm9yIHBhcnRpYWwgcGF5bWVudHMsIHJlY29yZCBib3RoIHBheW1lbnQgYW5kIGNyZWRpdFxuICAgICAgaWYgKGlzUGFydGlhbFBheW1lbnQpIHtcbiAgICAgICAgaWYgKHBhaWRDYXNoID4gMClcbiAgICAgICAgICBwYXltZW50QnJlYWtkb3duLnB1c2goe1xuICAgICAgICAgICAgbWV0aG9kOiBcImNhc2hcIixcbiAgICAgICAgICAgIGFtb3VudDogK3BhaWRDYXNoLnRvRml4ZWQoMiksXG4gICAgICAgICAgfSk7XG4gICAgICAgIGlmIChwYWlkQ2FyZCA+IDApXG4gICAgICAgICAgcGF5bWVudEJyZWFrZG93bi5wdXNoKHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJjYXJkXCIsXG4gICAgICAgICAgICBhbW91bnQ6ICtwYWlkQ2FyZC50b0ZpeGVkKDIpLFxuICAgICAgICAgIH0pO1xuICAgICAgICBwYXltZW50QnJlYWtkb3duLnB1c2goe1xuICAgICAgICAgIG1ldGhvZDogXCJjcmVkaXRcIixcbiAgICAgICAgICBhbW91bnQ6ICtjcmVkaXRCYWxhbmNlLnRvRml4ZWQoMiksXG4gICAgICAgICAgY3VzdG9tZXJOYW1lOiBjcmVkaXRDdXN0b21lck5hbWUudHJpbSgpLFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEZ1bGwgY3JlZGl0IHNhbGUgKG5vIHBheW1lbnQpXG4gICAgICAgIHBheW1lbnRCcmVha2Rvd24ucHVzaCh7XG4gICAgICAgICAgbWV0aG9kOiBcImNyZWRpdFwiLFxuICAgICAgICAgIGFtb3VudDogK3RvdGFsV2l0aENhc2hiYWNrLnRvRml4ZWQoMiksXG4gICAgICAgICAgY3VzdG9tZXJOYW1lOiBjcmVkaXRDdXN0b21lck5hbWUudHJpbSgpLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGZpbmFsQ2FzaEFtb3VudCAhPT0gMClcbiAgICAgICAgcGF5bWVudEJyZWFrZG93bi5wdXNoKHtcbiAgICAgICAgICBtZXRob2Q6IFwiY2FzaFwiLFxuICAgICAgICAgIGFtb3VudDogK2ZpbmFsQ2FzaEFtb3VudC50b0ZpeGVkKDIpLFxuICAgICAgICB9KTtcbiAgICAgIGlmIChmaW5hbENhcmRBbW91bnQgPiAwKVxuICAgICAgICBwYXltZW50QnJlYWtkb3duLnB1c2goe1xuICAgICAgICAgIG1ldGhvZDogXCJjYXJkXCIsXG4gICAgICAgICAgYW1vdW50OiArZmluYWxDYXJkQW1vdW50LnRvRml4ZWQoMiksXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEFkZCBsb3R0byB3aW5uaW5ncyB0byBwYXltZW50IGJyZWFrZG93biBmb3IgdHJhY2tpbmdcbiAgICBpZiAobG90dG9BbW91bnQgPiAwKVxuICAgICAgcGF5bWVudEJyZWFrZG93bi5wdXNoKHtcbiAgICAgICAgbWV0aG9kOiBcImxvdHRvXCIsXG4gICAgICAgIGFtb3VudDogK2xvdHRvQW1vdW50LnRvRml4ZWQoMiksXG4gICAgICB9KTtcblxuICAgIC8vIEluY2x1ZGUgY2FzaGJhY2sgYXMgYW4gaXRlbSBpZiBwcmVzZW50XG4gICAgY29uc3QgdHJhbnNhY3Rpb25JdGVtcyA9IGNhcnQubWFwKChjKSA9PiAoe1xuICAgICAgaWQ6IGMuaWQsXG4gICAgICBuYW1lOiBjLm5hbWUsXG4gICAgICBxdWFudGl0eTogYy5xdWFudGl0eSxcbiAgICAgIHByaWNlOiBjLnByaWNlLFxuICAgICAgYXBwbHlUYXg6IGMuYXBwbHlUYXgsXG4gICAgICBjYXRlZ29yeTogYy5jYXRlZ29yeSxcbiAgICB9KSk7XG5cbiAgICAvLyBBZGQgY2FzaGJhY2sgYXMgYSBsaW5lIGl0ZW0gaWYgcHJlc2VudFxuICAgIGlmIChjYXNoYmFjayA+IDApIHtcbiAgICAgIHRyYW5zYWN0aW9uSXRlbXMucHVzaCh7XG4gICAgICAgIGlkOiBcImNhc2hiYWNrLWl0ZW1cIixcbiAgICAgICAgbmFtZTogXCJDYXNoYmFja1wiLFxuICAgICAgICBxdWFudGl0eTogMSxcbiAgICAgICAgcHJpY2U6IGNhc2hiYWNrLFxuICAgICAgICBhcHBseVRheDogZmFsc2UsXG4gICAgICAgIGNhdGVnb3J5OiBcIkNhc2hiYWNrXCIsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBZGQgY2FzaGJhY2sgZmVlIGFzIGEgbGluZSBpdGVtIGlmIHByZXNlbnRcbiAgICBpZiAoY2JGZWUgPiAwKSB7XG4gICAgICB0cmFuc2FjdGlvbkl0ZW1zLnB1c2goe1xuICAgICAgICBpZDogXCJjYXNoYmFjay1mZWUtaXRlbVwiLFxuICAgICAgICBuYW1lOiBcIkNhc2hiYWNrIEZlZVwiLFxuICAgICAgICBxdWFudGl0eTogMSxcbiAgICAgICAgcHJpY2U6IGNiRmVlLFxuICAgICAgICBhcHBseVRheDogdHJ1ZSwgLy8gQ2FzaGJhY2sgZmVlcyBhcmUgdHlwaWNhbGx5IHRheGFibGVcbiAgICAgICAgY2F0ZWdvcnk6IFwiRmVlc1wiLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gQWRkIGNhcmQgZmVlIGFzIGEgbGluZSBpdGVtIGlmIHByZXNlbnRcbiAgICBjb25zdCBjYXJkRmVlRm9ySXRlbSA9IGNhcmRGZWVFbmFibGVkID8gQ0FSRF9GRUVfQU1PVU5UIDogMDtcbiAgICBjb25zdCBjY0NoYXJnZUZvckxpbmVJdGVtID0gY2FyZEZlZUZvckl0ZW07XG4gICAgaWYgKGNjQ2hhcmdlRm9yTGluZUl0ZW0gPiAwKSB7XG4gICAgICB0cmFuc2FjdGlvbkl0ZW1zLnB1c2goe1xuICAgICAgICBpZDogXCJjYXJkLXByb2Nlc3NpbmctZmVlLWl0ZW1cIixcbiAgICAgICAgbmFtZTogXCJDYXJkIFByb2Nlc3NpbmcgRmVlXCIsXG4gICAgICAgIHF1YW50aXR5OiAxLFxuICAgICAgICBwcmljZTogY2NDaGFyZ2VGb3JMaW5lSXRlbSxcbiAgICAgICAgYXBwbHlUYXg6IGZhbHNlLCAvLyBDYXJkIHByb2Nlc3NpbmcgZmVlcyBhcmUgdHlwaWNhbGx5IG5vdCB0YXhhYmxlXG4gICAgICAgIGNhdGVnb3J5OiBcIkZlZXNcIixcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEFkZCBsb3R0byB3aW5uaW5ncyBhcyBhIGxpbmUgaXRlbSBpZiBwcmVzZW50IChuZWdhdGl2ZSBwcmljZSA9IGRpc2NvdW50KVxuICAgIGlmIChsb3R0b0Ftb3VudCA+IDApIHtcbiAgICAgIHRyYW5zYWN0aW9uSXRlbXMucHVzaCh7XG4gICAgICAgIGlkOiBcImxvdHRvLXdpbm5pbmdzXCIsXG4gICAgICAgIG5hbWU6IFwiTG90dG8gV2lubmluZ3NcIixcbiAgICAgICAgcXVhbnRpdHk6IDEsXG4gICAgICAgIHByaWNlOiAtbG90dG9BbW91bnQsIC8vIE5lZ2F0aXZlIHByaWNlID0gY3JlZGl0L2Rpc2NvdW50XG4gICAgICAgIGFwcGx5VGF4OiBmYWxzZSxcbiAgICAgICAgY2F0ZWdvcnk6IFwiTG90dG9cIixcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEFkZCBkaXNjb3VudCBhcyBhIGxpbmUgaXRlbSBpZiBwcmVzZW50IChuZWdhdGl2ZSBwcmljZSA9IGRpc2NvdW50KVxuICAgIGlmIChkaXNjb3VudCA+IDApIHtcbiAgICAgIHRyYW5zYWN0aW9uSXRlbXMucHVzaCh7XG4gICAgICAgIGlkOiBcImRpc2NvdW50LWl0ZW1cIixcbiAgICAgICAgbmFtZTogXCJEaXNjb3VudFwiLFxuICAgICAgICBxdWFudGl0eTogMSxcbiAgICAgICAgcHJpY2U6IC1kaXNjb3VudCxcbiAgICAgICAgYXBwbHlUYXg6IGZhbHNlLFxuICAgICAgICBjYXRlZ29yeTogXCJEaXNjb3VudFwiLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gUmVjYWxjdWxhdGUgdG90YWxzIHdpdGggY2FzaGJhY2ssIGxvdHRvIHdpbm5pbmdzLCBkaXNjb3VudCwgYW5kIGNhc2hiYWNrIGZlZSBpbmNsdWRlZCBhcyBpdGVtc1xuICAgIGNvbnN0IG5ld1N1YnRvdGFsID1cbiAgICAgIG9yaWdpbmFsU3VidG90YWwgKyBjYXNoYmFjayAtIGxvdHRvQW1vdW50IC0gZGlzY291bnQgKyBjYkZlZTtcbiAgICBjb25zdCBuZXdUYXhhYmxlVG90YWwgPSBnZXRUYXhhYmxlVG90YWwoKSArIGNiRmVlOyAvLyBjYXNoYmFjayBmZWUgaXMgdGF4YWJsZSwgZGlzY291bnQvY2FzaGJhY2svbG90dG8gYXJlIG5vbi10YXhhYmxlXG4gICAgY29uc3QgbmV3Tm9uVGF4YWJsZVRvdGFsID1cbiAgICAgIGdldE5vblRheGFibGVUb3RhbCgpICsgY2FzaGJhY2sgLSBsb3R0b0Ftb3VudCAtIGRpc2NvdW50O1xuICAgIGNvbnN0IG5ld1RheCA9IHRheDsgLy8gdGF4IGFscmVhZHkgY2FsY3VsYXRlZCBvbiBkaXNjb3VudGVkIGFtb3VudFxuICAgIGNvbnN0IG5ld1RvdGFsID0gdG90YWwgKyBjYXNoYmFjayAtIGxvdHRvQW1vdW50ICsgY2NDaGFyZ2VGb3JMaW5lSXRlbTtcblxuICAgIGNvbnN0IHRyYW5zYWN0aW9uID0ge1xuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBpdGVtczogdHJhbnNhY3Rpb25JdGVtcyxcbiAgICAgIG9yaWdpbmFsU3VidG90YWw6IG9yaWdpbmFsU3VidG90YWwsIC8vIEl0ZW1zIHRvdGFsIGJlZm9yZSBkaXNjb3VudFxuICAgICAgZGlzY291bnQ6IGRpc2NvdW50LFxuICAgICAgc3VidG90YWw6IG5ld1N1YnRvdGFsLFxuICAgICAgdGF4YWJsZUFtb3VudDogbmV3VGF4YWJsZVRvdGFsLFxuICAgICAgbm9uVGF4YWJsZUFtb3VudDogbmV3Tm9uVGF4YWJsZVRvdGFsLFxuICAgICAgdGF4OiBuZXdUYXgsXG4gICAgICB0b3RhbDogbmV3VG90YWwsXG4gICAgICBmaW5hbFRvdGFsOiB0b3RhbFdpdGhDYXNoYmFjaywgLy8gVG90YWwgYW1vdW50IGN1c3RvbWVyIG93ZXNcbiAgICAgIGNhc2hiYWNrOiBjYXNoYmFjayxcbiAgICAgIHBheW1lbnRCcmVha2Rvd24sXG4gICAgICBjaGFuZ2UsXG4gICAgICBpc0NyZWRpdFNhbGU6IGlzQ3JlZGl0U2FsZSxcbiAgICAgIGlzUGFydGlhbFBheW1lbnQ6IGlzUGFydGlhbFBheW1lbnQsXG4gICAgICBjcmVkaXRCYWxhbmNlOiBjcmVkaXRCYWxhbmNlLFxuICAgICAgcGFpZEFtb3VudDogcGFpZFRvdGFsLFxuICAgICAgY3JlZGl0Q3VzdG9tZXJOYW1lOiBpc0NyZWRpdFNhbGUgPyBjcmVkaXRDdXN0b21lck5hbWUudHJpbSgpIDogbnVsbCxcbiAgICAgIGNyZWRpdFN0YXR1czogaXNDcmVkaXRTYWxlXG4gICAgICAgID8gY3JlZGl0QmFsYW5jZSA+IDBcbiAgICAgICAgICA/IFwidW5wYWlkXCJcbiAgICAgICAgICA6IFwicGFpZFwiXG4gICAgICAgIDogbnVsbCxcbiAgICAgIGxvdHRvV2lubmluZ3M6IGxvdHRvQW1vdW50LFxuICAgICAgLy8gRW5oYW5jZWQgY2FyZCBmZWUgdHJhY2tpbmdcbiAgICAgIGNhcmRUeXBlOiBjYXJkVHlwZSxcbiAgICAgIGNhcmRGZWVFbmFibGVkOiBjYXJkRmVlRW5hYmxlZCxcbiAgICB9O1xuXG4gICAgLy8gc2VuZCB0byBzZXJ2ZXJcbiAgICBmZXRjaChcIi9hcGkvdHJhbnNhY3Rpb25cIiwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIFwieC1hcGkta2V5XCI6IFwiZGV2LXNlY3JldFwiLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHRyYW5zYWN0aW9uKSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHIpID0+IHIuanNvbigpKVxuICAgICAgLnRoZW4oYXN5bmMgKGRhdGEpID0+IHtcbiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS50cmFuc2FjdGlvbikge1xuICAgICAgICAgIHNldExhc3RUcmFuc2FjdGlvbih7IGlkOiBkYXRhLmlkLCAuLi5kYXRhLnRyYW5zYWN0aW9uIH0pO1xuICAgICAgICAgIHNldFNob3dSZWNlaXB0KHRydWUpO1xuICAgICAgICAgIHNldENhcnQoW10pO1xuICAgICAgICAgIHNldENhc2hBbW91bnQoXCJcIik7XG4gICAgICAgICAgc2V0Q2FyZEFtb3VudChcIlwiKTtcbiAgICAgICAgICBzZXRDYXNoYmFja0Ftb3VudChcIlwiKTtcbiAgICAgICAgICBzZXRMb3R0b1dpbm5pbmdzKFwiXCIpO1xuICAgICAgICAgIHNldERpc2NvdW50QW1vdW50KFwiXCIpO1xuICAgICAgICAgIHNldElzQ3JlZGl0U2FsZShmYWxzZSk7XG4gICAgICAgICAgc2V0Q3JlZGl0Q3VzdG9tZXJOYW1lKFwiXCIpO1xuICAgICAgICAgIHNldENyZWRpdEFtb3VudCgwKTtcbiAgICAgICAgICBzZXRQYXltZW50RXJyb3IoXCJcIik7XG4gICAgICAgICAgLy8gUmVzZXQgY2FyZCBmZWUgc3RhdGVzXG4gICAgICAgICAgc2V0Q2FyZFR5cGUoXCJkZWJpdFwiKTtcbiAgICAgICAgICBzZXRDYXJkRmVlRW5hYmxlZChmYWxzZSk7XG4gICAgICAgICAgLy8gVXBkYXRlIGludmVudG9yeSBmb3IgYWxsIHNhbGVzIGV4Y2VwdCBmdWxsIGNyZWRpdCBzYWxlcyAobm8gcGF5bWVudClcbiAgICAgICAgICAvLyBQYXJ0aWFsIHBheW1lbnRzIHNob3VsZCB1cGRhdGUgaW52ZW50b3J5IHNpbmNlIGdvb2RzIGFyZSBkZWxpdmVyZWRcbiAgICAgICAgICBpZiAoIWlzQ3JlZGl0U2FsZSB8fCBpc1BhcnRpYWxQYXltZW50KSB7XG4gICAgICAgICAgICBkaXNwYXRjaCh1cGRhdGVJbnZlbnRvcnlBZnRlclRyYW5zYWN0aW9uKGNhcnQpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBVcGRhdGUgY3JlZGl0IGFjY291bnQgaWYgdGhpcyBpcyBhIGNyZWRpdCBzYWxlXG4gICAgICAgICAgaWYgKGlzQ3JlZGl0U2FsZSAmJiBjcmVkaXRDdXN0b21lck5hbWUudHJpbSgpKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCBjcmVkaXRBY2NvdW50UmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgICAgICAgICBcIi9hcGkvY3JlZGl0L2FjY291bnRzXCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiYWRkQ3JlZGl0XCIsXG4gICAgICAgICAgICAgICAgICAgIGN1c3RvbWVyTmFtZTogY3JlZGl0Q3VzdG9tZXJOYW1lLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBjcmVkaXRCYWxhbmNlLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbklkOiBkYXRhLmlkLFxuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgIGlmICghY3JlZGl0QWNjb3VudFJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICAgICAgXCJGYWlsZWQgdG8gdXBkYXRlIGNyZWRpdCBhY2NvdW50OlwiLFxuICAgICAgICAgICAgICAgICAgYXdhaXQgY3JlZGl0QWNjb3VudFJlc3BvbnNlLnRleHQoKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZEN1c3RvbWVyUmVzcG9uc2UgPVxuICAgICAgICAgICAgICAgICAgYXdhaXQgY3JlZGl0QWNjb3VudFJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkQWNjb3VudCA9IHVwZGF0ZWRDdXN0b21lclJlc3BvbnNlLmFjY291bnQ7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgICAgICBcIkNyZWRpdCBhY2NvdW50IHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5IGZvciBjdXN0b21lcjpcIixcbiAgICAgICAgICAgICAgICAgIGNyZWRpdEN1c3RvbWVyTmFtZS50cmltKCksXG4gICAgICAgICAgICAgICAgICBcIk5ldyBiYWxhbmNlOlwiLFxuICAgICAgICAgICAgICAgICAgdXBkYXRlZEFjY291bnQuYmFsYW5jZVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgbG9jYWwgc3RhdGUgaWYgdGhpcyBjdXN0b21lciB3YXMgc2VsZWN0ZWRcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICBzZWxlY3RlZEN1c3RvbWVyICYmXG4gICAgICAgICAgICAgICAgICBzZWxlY3RlZEN1c3RvbWVyLmN1c3RvbWVyTmFtZSA9PT0gY3JlZGl0Q3VzdG9tZXJOYW1lLnRyaW0oKVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgc2V0Q3VzdG9tZXJCYWxhbmNlKHVwZGF0ZWRBY2NvdW50LmJhbGFuY2UpO1xuICAgICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRDdXN0b21lcih1cGRhdGVkQWNjb3VudCk7XG5cbiAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgY3VzdG9tZXJzIGxpc3RcbiAgICAgICAgICAgICAgICAgIHNldEV4aXN0aW5nQ3VzdG9tZXJzKChwcmV2KSA9PlxuICAgICAgICAgICAgICAgICAgICBwcmV2Lm1hcCgoYykgPT5cbiAgICAgICAgICAgICAgICAgICAgICBjLmN1c3RvbWVyTmFtZSA9PT0gY3JlZGl0Q3VzdG9tZXJOYW1lLnRyaW0oKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyB1cGRhdGVkQWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBjXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIC8vIElmIG5vIGN1c3RvbWVyIHNlbGVjdGVkLCByZWZyZXNoIHRoZSBlbnRpcmUgbGlzdFxuICAgICAgICAgICAgICAgICAgZmV0Y2hFeGlzdGluZ0N1c3RvbWVycygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkVycm9yIHVwZGF0aW5nIGNyZWRpdCBhY2NvdW50OlwiLCBlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5leHBlY3RlZCByZXNwb25zZSBmcm9tIHRyYW5zYWN0aW9uIEFQSVwiLCBkYXRhKTtcbiAgICAgICAgICBzZXRQYXltZW50RXJyb3IoXCJGYWlsZWQgdG8gY29tcGxldGUgdHJhbnNhY3Rpb25cIik7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiVHJhbnNhY3Rpb24gQVBJIGVycm9yXCIsIGVycik7XG4gICAgICAgIHNldFBheW1lbnRFcnJvcihcIkZhaWxlZCB0byBjb21wbGV0ZSB0cmFuc2FjdGlvblwiKTtcbiAgICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IHN0YXJ0TmV3U2FsZSA9ICgpID0+IHtcbiAgICBzZXRTaG93UmVjZWlwdChmYWxzZSk7XG4gICAgc2V0TGFzdFRyYW5zYWN0aW9uKG51bGwpO1xuICAgIHNldENhcnQoW10pO1xuICAgIHNldENhc2hBbW91bnQoXCJcIik7XG4gICAgc2V0Q2FyZEFtb3VudChcIlwiKTtcbiAgICBzZXRDYXNoYmFja0Ftb3VudChcIlwiKTtcbiAgICBzZXRDYXNoYmFja0ZlZShcIlwiKTtcbiAgICBzZXRDYXNoYmFja0VuYWJsZWQoZmFsc2UpO1xuICAgIHNldExvdHRvV2lubmluZ3MoXCJcIik7XG4gICAgc2V0RGlzY291bnRBbW91bnQoXCJcIik7XG4gICAgc2V0SXNDcmVkaXRTYWxlKGZhbHNlKTtcbiAgICBzZXRDcmVkaXRDdXN0b21lck5hbWUoXCJcIik7XG4gICAgc2V0Q3JlZGl0QW1vdW50KDApO1xuICAgIHNldFBheW1lbnRFcnJvcihcIlwiKTtcbiAgICAvLyBSZXNldCBjYXJkIGZlZSBzdGF0ZXNcbiAgICBzZXRDYXJkVHlwZShcImRlYml0XCIpO1xuICAgIHNldENhcmRGZWVFbmFibGVkKGZhbHNlKTtcbiAgfTtcblxuICAvLyBDcmVkaXQgY3VzdG9tZXIgbWFuYWdlbWVudCBmdW5jdGlvbnNcbiAgY29uc3QgZmV0Y2hFeGlzdGluZ0N1c3RvbWVycyA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcIi9hcGkvY3JlZGl0L2FjY291bnRzXCIpO1xuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIC8vIFRoZSBBUEkgcmV0dXJucyBhY2NvdW50cyBpbiBhbiAnYWNjb3VudHMnIHByb3BlcnR5XG4gICAgICAgIGNvbnN0IGN1c3RvbWVycyA9IGRhdGEuYWNjb3VudHMgfHwgW107XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRmV0Y2hlZCBleGlzdGluZyBjdXN0b21lcnM6XCIsIGN1c3RvbWVycyk7XG4gICAgICAgIHNldEV4aXN0aW5nQ3VzdG9tZXJzKGN1c3RvbWVycyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGZldGNoIGV4aXN0aW5nIGN1c3RvbWVyc1wiKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBjdXN0b21lcnM6XCIsIGVycik7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUN1c3RvbWVyTmFtZUNoYW5nZSA9ICh2YWx1ZSkgPT4ge1xuICAgIHNldENyZWRpdEN1c3RvbWVyTmFtZSh2YWx1ZSk7XG5cbiAgICBpZiAodmFsdWUubGVuZ3RoID4gMCAmJiBBcnJheS5pc0FycmF5KGV4aXN0aW5nQ3VzdG9tZXJzKSkge1xuICAgICAgY29uc3QgbWF0Y2hpbmdDdXN0b21lcnMgPSBleGlzdGluZ0N1c3RvbWVycy5maWx0ZXIoXG4gICAgICAgIChjdXN0b21lcikgPT5cbiAgICAgICAgICBjdXN0b21lciAmJlxuICAgICAgICAgIGN1c3RvbWVyLmN1c3RvbWVyTmFtZSAmJlxuICAgICAgICAgIGN1c3RvbWVyLmN1c3RvbWVyTmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHZhbHVlLnRvTG93ZXJDYXNlKCkpXG4gICAgICApO1xuICAgICAgLy8gQWx3YXlzIHNob3cgc3VnZ2VzdGlvbnMgd2hlbiB0eXBpbmcgKGZvciBleGlzdGluZyBjdXN0b21lcnMgb3IgbmV3IGN1c3RvbWVyIG9wdGlvbilcbiAgICAgIHNldFNob3dDdXN0b21lclN1Z2dlc3Rpb25zKHRydWUpO1xuXG4gICAgICAvLyBBdXRvLXNlbGVjdCBpZiBleGFjdCBtYXRjaFxuICAgICAgY29uc3QgZXhhY3RNYXRjaCA9IGV4aXN0aW5nQ3VzdG9tZXJzLmZpbmQoXG4gICAgICAgIChjdXN0b21lcikgPT5cbiAgICAgICAgICBjdXN0b21lciAmJlxuICAgICAgICAgIGN1c3RvbWVyLmN1c3RvbWVyTmFtZSAmJlxuICAgICAgICAgIGN1c3RvbWVyLmN1c3RvbWVyTmFtZS50b0xvd2VyQ2FzZSgpID09PSB2YWx1ZS50b0xvd2VyQ2FzZSgpXG4gICAgICApO1xuICAgICAgaWYgKGV4YWN0TWF0Y2gpIHtcbiAgICAgICAgc2V0U2VsZWN0ZWRDdXN0b21lcihleGFjdE1hdGNoKTtcbiAgICAgICAgc2V0Q3VzdG9tZXJCYWxhbmNlKGV4YWN0TWF0Y2guYmFsYW5jZSB8fCAwKTtcbiAgICAgICAgc2V0U2hvd1BheW1lbnRPcHRpb25zKHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0U2VsZWN0ZWRDdXN0b21lcihudWxsKTtcbiAgICAgICAgc2V0Q3VzdG9tZXJCYWxhbmNlKDApO1xuICAgICAgICBzZXRTaG93UGF5bWVudE9wdGlvbnMoZmFsc2UpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzZXRTaG93Q3VzdG9tZXJTdWdnZXN0aW9ucyhmYWxzZSk7XG4gICAgICBzZXRTZWxlY3RlZEN1c3RvbWVyKG51bGwpO1xuICAgICAgc2V0Q3VzdG9tZXJCYWxhbmNlKDApO1xuICAgICAgc2V0U2hvd1BheW1lbnRPcHRpb25zKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQ3VzdG9tZXJTZWxlY3Rpb24gPSAoY3VzdG9tZXIpID0+IHtcbiAgICBzZXRDcmVkaXRDdXN0b21lck5hbWUoY3VzdG9tZXIuY3VzdG9tZXJOYW1lKTtcbiAgICBzZXRTZWxlY3RlZEN1c3RvbWVyKGN1c3RvbWVyKTtcbiAgICBzZXRDdXN0b21lckJhbGFuY2UoY3VzdG9tZXIuYmFsYW5jZSB8fCAwKTtcbiAgICBzZXRTaG93Q3VzdG9tZXJTdWdnZXN0aW9ucyhmYWxzZSk7XG4gICAgc2V0U2hvd1BheW1lbnRPcHRpb25zKHRydWUpO1xuICB9O1xuXG4gIGNvbnN0IHByb2Nlc3NDdXN0b21lclBheW1lbnQgPSBhc3luYyAocGF5bWVudEFtb3VudCkgPT4ge1xuICAgIGlmICghc2VsZWN0ZWRDdXN0b21lcikgcmV0dXJuO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXCIvYXBpL2NyZWRpdC9hY2NvdW50c1wiLCB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGFjdGlvbjogXCJwYXltZW50XCIsXG4gICAgICAgICAgY3VzdG9tZXJOYW1lOiBzZWxlY3RlZEN1c3RvbWVyLmN1c3RvbWVyTmFtZSxcbiAgICAgICAgICBhbW91bnQ6IHBheW1lbnRBbW91bnQsXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCB1cGRhdGVkQ3VzdG9tZXIgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHNldEN1c3RvbWVyQmFsYW5jZSh1cGRhdGVkQ3VzdG9tZXIuYmFsYW5jZSk7XG4gICAgICAgIHNldFNlbGVjdGVkQ3VzdG9tZXIodXBkYXRlZEN1c3RvbWVyKTtcblxuICAgICAgICAvLyBVcGRhdGUgdGhlIGN1c3RvbWVycyBsaXN0XG4gICAgICAgIHNldEV4aXN0aW5nQ3VzdG9tZXJzKChwcmV2KSA9PlxuICAgICAgICAgIHByZXYubWFwKChjKSA9PlxuICAgICAgICAgICAgYy5jdXN0b21lck5hbWUgPT09IHVwZGF0ZWRDdXN0b21lci5jdXN0b21lck5hbWVcbiAgICAgICAgICAgICAgPyB1cGRhdGVkQ3VzdG9tZXJcbiAgICAgICAgICAgICAgOiBjXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHByb2Nlc3NpbmcgcGF5bWVudDpcIiwgZXJyKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gTG9hZCBleGlzdGluZyBjdXN0b21lcnMgd2hlbiBjcmVkaXQgc2FsZSBtb2RlIGlzIGFjdGl2YXRlZFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc0NyZWRpdFNhbGUgJiYgZXhpc3RpbmdDdXN0b21lcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICBmZXRjaEV4aXN0aW5nQ3VzdG9tZXJzKCk7XG4gICAgfVxuICB9LCBbaXNDcmVkaXRTYWxlXSk7XG5cbiAgLy8gSGFuZGxlIGNyZWRpdFBheW1lbnQgVVJMIHBhcmFtZXRlciBmcm9tIGNyZWRpdCBtYW5hZ2VtZW50IHBhZ2VcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBjcmVkaXRQYXltZW50UGFyYW0gPSBzZWFyY2hQYXJhbXM/LmdldChcImNyZWRpdFBheW1lbnRcIik7XG4gICAgaWYgKGNyZWRpdFBheW1lbnRQYXJhbSkge1xuICAgICAgY29uc29sZS5sb2coXCJDcmVkaXQgcGF5bWVudCBwYXJhbWV0ZXIgZGV0ZWN0ZWQ6XCIsIGNyZWRpdFBheW1lbnRQYXJhbSk7XG5cbiAgICAgIC8vIEVuYWJsZSBjcmVkaXQgc2FsZSBtb2RlXG4gICAgICBzZXRJc0NyZWRpdFNhbGUodHJ1ZSk7XG5cbiAgICAgIC8vIFNldCB0aGUgY3VzdG9tZXIgbmFtZVxuICAgICAgc2V0Q3JlZGl0Q3VzdG9tZXJOYW1lKGNyZWRpdFBheW1lbnRQYXJhbSk7XG5cbiAgICAgIC8vIEZldGNoIGV4aXN0aW5nIGN1c3RvbWVycyB0byBmaW5kIHRoaXMgc3BlY2lmaWMgY3VzdG9tZXJcbiAgICAgIGZldGNoRXhpc3RpbmdDdXN0b21lcnMoKS50aGVuKCgpID0+IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIGJlIGhhbmRsZWQgYnkgdGhlIG5leHQgdXNlRWZmZWN0IHdoZW4gZXhpc3RpbmdDdXN0b21lcnMgdXBkYXRlc1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbc2VhcmNoUGFyYW1zXSk7XG5cbiAgLy8gQXV0by1zZWxlY3QgY3VzdG9tZXIgd2hlbiBjcmVkaXRQYXltZW50IHBhcmFtZXRlciBpcyB1c2VkXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY3JlZGl0UGF5bWVudFBhcmFtID0gc2VhcmNoUGFyYW1zPy5nZXQoXCJjcmVkaXRQYXltZW50XCIpO1xuICAgIGlmIChjcmVkaXRQYXltZW50UGFyYW0gJiYgZXhpc3RpbmdDdXN0b21lcnMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgdGFyZ2V0Q3VzdG9tZXIgPSBleGlzdGluZ0N1c3RvbWVycy5maW5kKFxuICAgICAgICAoY3VzdG9tZXIpID0+XG4gICAgICAgICAgY3VzdG9tZXIuY3VzdG9tZXJOYW1lLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgY3JlZGl0UGF5bWVudFBhcmFtLnRvTG93ZXJDYXNlKClcbiAgICAgICk7XG5cbiAgICAgIGlmICh0YXJnZXRDdXN0b21lcikge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkF1dG8tc2VsZWN0aW5nIGN1c3RvbWVyOlwiLCB0YXJnZXRDdXN0b21lcik7XG4gICAgICAgIHNldFNlbGVjdGVkQ3VzdG9tZXIodGFyZ2V0Q3VzdG9tZXIpO1xuICAgICAgICBzZXRDdXN0b21lckJhbGFuY2UodGFyZ2V0Q3VzdG9tZXIuYmFsYW5jZSB8fCAwKTtcbiAgICAgICAgc2V0U2hvd1BheW1lbnRPcHRpb25zKHRydWUpO1xuICAgICAgICBzZXRTaG93Q3VzdG9tZXJTdWdnZXN0aW9ucyhmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbZXhpc3RpbmdDdXN0b21lcnMsIHNlYXJjaFBhcmFtc10pO1xuXG4gIC8vIFJlc2V0IHRvIG5ldyBzYWxlIHdoZW4gbmF2aWdhdGluZyB0byBQT1MgKGUuZy4sIGZyb20gaGVhZGVyIG5hdmlnYXRpb24pXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgbmV3U2FsZVBhcmFtID0gc2VhcmNoUGFyYW1zPy5nZXQoXCJuZXdTYWxlXCIpO1xuICAgIGlmIChuZXdTYWxlUGFyYW0gPT09IFwidHJ1ZVwiKSB7XG4gICAgICAvLyBBdXRvLXN0YXJ0IG5ldyBzYWxlIHdoZW4gbmV3U2FsZT10cnVlIHBhcmFtZXRlciBpcyBwcmVzZW50XG4gICAgICBzdGFydE5ld1NhbGUoKTtcblxuICAgICAgLy8gQ2xlYXIgdGhlIG5ld1NhbGUgcGFyYW1ldGVyIGZyb20gVVJMIHdpdGhvdXQgcGFnZSByZWxvYWRcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uKTtcbiAgICAgIHVybC5zZWFyY2hQYXJhbXMuZGVsZXRlKFwibmV3U2FsZVwiKTtcbiAgICAgIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh7fSwgXCJcIiwgdXJsKTtcbiAgICB9XG4gIH0sIFtzZWFyY2hQYXJhbXNdKTtcblxuICBjb25zdCBzd2FwUGF5bWVudHMgPSAoKSA9PiB7XG4gICAgY29uc3QgY3VycmVudENhc2ggPSBjYXNoQW1vdW50O1xuICAgIGNvbnN0IGN1cnJlbnRDYXJkID0gY2FyZEFtb3VudDtcblxuICAgIHNldENhc2hBbW91bnQoY3VycmVudENhcmQpO1xuICAgIHNldENhcmRBbW91bnQoY3VycmVudENhc2gpO1xuXG4gICAgLy8gVXBkYXRlIGxhc3QgZWRpdGVkIHRvIHJlZmxlY3QgdGhlIHN3YXBcbiAgICBpZiAoKE51bWJlcihjdXJyZW50Q2FyZCkgfHwgMCkgPiAwKSB7XG4gICAgICBzZXRMYXN0RWRpdGVkKFwiY2FzaFwiKTtcbiAgICB9IGVsc2UgaWYgKChOdW1iZXIoY3VycmVudENhc2gpIHx8IDApID4gMCkge1xuICAgICAgc2V0TGFzdEVkaXRlZChcImNhcmRcIik7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHByaW50UmVjZWlwdCA9ICgpID0+IHtcbiAgICBpZiAoIWxhc3RUcmFuc2FjdGlvbikgcmV0dXJuO1xuXG4gICAgY29uc3QgcHJpbnRXaW5kb3cgPSB3aW5kb3cub3BlbihcIlwiLCBcIl9ibGFua1wiKTtcbiAgICBjb25zdCByZWNlaXB0Q29udGVudCA9IGBcbiAgICAgIDwhRE9DVFlQRSBodG1sPlxuICAgICAgPGh0bWw+XG4gICAgICAgIDxoZWFkPlxuICAgICAgICAgIDx0aXRsZT5SZWNlaXB0IC0gVHJhbnNhY3Rpb24gIyR7KGxhc3RUcmFuc2FjdGlvbi5pZCB8fCBcIk4vQVwiKVxuICAgICAgICAgICAgLnRvU3RyaW5nKClcbiAgICAgICAgICAgIC5zbGljZSgtOCl9PC90aXRsZT5cbiAgICAgICAgICA8c3R5bGU+XG4gICAgICAgICAgICBib2R5IHtcbiAgICAgICAgICAgICAgZm9udC1mYW1pbHk6ICdDb3VyaWVyIE5ldycsIG1vbm9zcGFjZTtcbiAgICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgICAgICAgICAgIG1heC13aWR0aDogMzAwcHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuaGVhZGVyIHtcbiAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLnN0b3JlLW5hbWUge1xuICAgICAgICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA1cHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAucmVjZWlwdC1pdGVtIHtcbiAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICAgICAgICBtYXJnaW46IDJweCAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLnJlY2VpcHQtdG90YWxzIHtcbiAgICAgICAgICAgICAgbWFyZ2luLXRvcDogMTBweDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC50b3RhbCB7XG4gICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgIzAwMDtcbiAgICAgICAgICAgICAgcGFkZGluZy10b3A6IDVweDtcbiAgICAgICAgICAgICAgbWFyZ2luLXRvcDogNXB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaHIge1xuICAgICAgICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjMDAwO1xuICAgICAgICAgICAgICBtYXJnaW46IDEwcHggMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5jZW50ZXIge1xuICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBAbWVkaWEgcHJpbnQge1xuICAgICAgICAgICAgICBib2R5IHsgbWFyZ2luOiAwOyBwYWRkaW5nOiAxMHB4OyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgPC9oZWFkPlxuICAgICAgICA8Ym9keT5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RvcmUtbmFtZVwiPkNPTlZFTklFTkNFIFNUT1JFPC9kaXY+XG4gICAgICAgICAgICA8ZGl2PlNjYXJib3JvdWdoLCBPbnRhcmlvPC9kaXY+XG4gICAgICAgICAgICA8ZGl2PlRyYW5zYWN0aW9uICMkeyhsYXN0VHJhbnNhY3Rpb24uaWQgfHwgXCJOL0FcIilcbiAgICAgICAgICAgICAgLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgLnNsaWNlKC04KX08L2Rpdj5cbiAgICAgICAgICAgIDxkaXY+JHtuZXcgRGF0ZShsYXN0VHJhbnNhY3Rpb24udGltZXN0YW1wKS50b0xvY2FsZVN0cmluZygpfTwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDxocj5cbiAgICAgICAgICBcbiAgICAgICAgICAke2xhc3RUcmFuc2FjdGlvbi5pdGVtc1xuICAgICAgICAgICAgLm1hcChcbiAgICAgICAgICAgICAgKGl0ZW0pID0+IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWNlaXB0LWl0ZW1cIj5cbiAgICAgICAgICAgICAgPGRpdj4ke2l0ZW0ubmFtZX0gJHshaXRlbS50YXhhYmxlID8gXCIoTm8gSFNUKVwiIDogXCJcIn08L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJlY2VpcHQtaXRlbVwiPlxuICAgICAgICAgICAgICA8ZGl2PiR7aXRlbS5xdWFudGl0eX0geCAkJHtpdGVtLnByaWNlLnRvRml4ZWQoMil9PC9kaXY+XG4gICAgICAgICAgICAgIDxkaXY+JCR7KGl0ZW0ucXVhbnRpdHkgKiBpdGVtLnByaWNlKS50b0ZpeGVkKDIpfTwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgYFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLmpvaW4oXCJcIil9XG4gICAgICAgICAgXG4gICAgICAgICAgPGhyPlxuICAgICAgICAgIFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWNlaXB0LXRvdGFsc1wiPlxuICAgICAgICAgICAgJHtcbiAgICAgICAgICAgICAgbGFzdFRyYW5zYWN0aW9uLnRheGFibGVBbW91bnQgPiAwICYmXG4gICAgICAgICAgICAgIGxhc3RUcmFuc2FjdGlvbi5ub25UYXhhYmxlQW1vdW50ID4gMFxuICAgICAgICAgICAgICAgID8gYFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVjZWlwdC1pdGVtXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4+VGF4YWJsZSBJdGVtczo8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4+JCR7bGFzdFRyYW5zYWN0aW9uLnRheGFibGVBbW91bnQudG9GaXhlZCgyKX08L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVjZWlwdC1pdGVtXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4+Tm9uLVRheGFibGUgSXRlbXM6PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuPiQke2xhc3RUcmFuc2FjdGlvbi5ub25UYXhhYmxlQW1vdW50LnRvRml4ZWQoMil9PC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICA6IFwiXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgJHtcbiAgICAgICAgICAgICAgbGFzdFRyYW5zYWN0aW9uLmRpc2NvdW50ID4gMFxuICAgICAgICAgICAgICAgID8gYFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVjZWlwdC1pdGVtXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4+SXRlbXMgU3VidG90YWw6PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuPiQke2xhc3RUcmFuc2FjdGlvbi5vcmlnaW5hbFN1YnRvdGFsLnRvRml4ZWQoMil9PC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJlY2VpcHQtaXRlbVwiIHN0eWxlPVwiZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAjZTY1MTAwO1wiPlxuICAgICAgICAgICAgICAgIDxzcGFuPkRpc2NvdW50Ojwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3Bhbj4tJCR7bGFzdFRyYW5zYWN0aW9uLmRpc2NvdW50LnRvRml4ZWQoMil9PC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJlY2VpcHQtaXRlbVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuPlN1YnRvdGFsOjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3Bhbj4kJHtsYXN0VHJhbnNhY3Rpb24uc3VidG90YWwudG9GaXhlZCgyKX08L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYFxuICAgICAgICAgICAgICAgIDogYFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVjZWlwdC1pdGVtXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4+U3VidG90YWw6PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuPiQke2xhc3RUcmFuc2FjdGlvbi5zdWJ0b3RhbC50b0ZpeGVkKDIpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICR7XG4gICAgICAgICAgICAgIGxhc3RUcmFuc2FjdGlvbi5pbmNsdWRlVGF4ICYmIGxhc3RUcmFuc2FjdGlvbi50YXggPiAwXG4gICAgICAgICAgICAgICAgPyBgXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWNlaXB0LWl0ZW1cIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj5IU1QgKDEzJSk6PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuPiQke2xhc3RUcmFuc2FjdGlvbi50YXgudG9GaXhlZCgyKX08L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYFxuICAgICAgICAgICAgICAgIDogXCJcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVjZWlwdC1pdGVtIHRvdGFsXCI+XG4gICAgICAgICAgICAgIDxzcGFuPlRvdGFsOjwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4+JCR7bGFzdFRyYW5zYWN0aW9uLnRvdGFsLnRvRml4ZWQoMil9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICR7XG4gICAgICAgICAgICAgIGxhc3RUcmFuc2FjdGlvbi5jYXNoYmFjayA+IDBcbiAgICAgICAgICAgICAgICA/IGBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJlY2VpcHQtaXRlbVwiIHN0eWxlPVwiZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAjZTY3ZTIyO1wiPlxuICAgICAgICAgICAgICAgIDxzcGFuPkNhc2hiYWNrOjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3Bhbj4kJHtsYXN0VHJhbnNhY3Rpb24uY2FzaGJhY2sudG9GaXhlZCgyKX08L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYFxuICAgICAgICAgICAgICAgIDogXCJcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAke1xuICAgICAgICAgICAgICBsYXN0VHJhbnNhY3Rpb24ucGF5bWVudEJyZWFrZG93biAmJlxuICAgICAgICAgICAgICBsYXN0VHJhbnNhY3Rpb24ucGF5bWVudEJyZWFrZG93bi5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgPyBgXG4gICAgICAgICAgICAgIDxocj5cbiAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cImZvbnQtd2VpZ2h0OiBib2xkOyBtYXJnaW4tYm90dG9tOiA1cHg7XCI+UGF5bWVudHM8L2Rpdj5cbiAgICAgICAgICAgICAgJHtsYXN0VHJhbnNhY3Rpb24ucGF5bWVudEJyZWFrZG93blxuICAgICAgICAgICAgICAgIC5tYXAoXG4gICAgICAgICAgICAgICAgICAocCkgPT4gYFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWNlaXB0LWl0ZW1cIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuPiR7cC5tZXRob2QudG9VcHBlckNhc2UoKX06PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPHNwYW4+JCR7cC5hbW91bnQudG9GaXhlZCgyKX08L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgLmpvaW4oXCJcIil9XG4gICAgICAgICAgICAgICR7XG4gICAgICAgICAgICAgICAgbGFzdFRyYW5zYWN0aW9uLmNoYW5nZSA+IDBcbiAgICAgICAgICAgICAgICAgID8gYFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWNlaXB0LWl0ZW1cIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuPkNoYW5nZTo8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8c3Bhbj4kJHtsYXN0VHJhbnNhY3Rpb24uY2hhbmdlLnRvRml4ZWQoMil9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICBgXG4gICAgICAgICAgICAgICAgICA6IFwiXCJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYFxuICAgICAgICAgICAgICAgIDogXCJcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDxocj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2VudGVyXCI+VGhhbmsgeW91IGZvciB5b3VyIGJ1c2luZXNzITwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICAgICB3aW5kb3cub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHdpbmRvdy5wcmludCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIDwvc2NyaXB0PlxuICAgICAgICA8L2JvZHk+XG4gICAgICA8L2h0bWw+XG4gICAgYDtcblxuICAgIHByaW50V2luZG93LmRvY3VtZW50LndyaXRlKHJlY2VpcHRDb250ZW50KTtcbiAgICBwcmludFdpbmRvdy5kb2N1bWVudC5jbG9zZSgpO1xuICB9O1xuXG4gIC8vIFdoZW4gY2FydCBjaGFuZ2VzLCByZXNldCBwYXltZW50IGFtb3VudHMgKGRlZmF1bHQgY2FyZCBmb3IgY2FzaGJhY2ssIG90aGVyd2lzZSBjYXNoKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIERvbid0IGF1dG8tcmVzZXQgcGF5bWVudCBhbW91bnRzIHdoZW4gaW4gY3JlZGl0IHNhbGUgbW9kZSAtIGxldCB1c2VyIGNvbnRyb2wgdGhlbVxuICAgIGlmIChpc0NyZWRpdFNhbGUpIHtcbiAgICAgIHNldFBheW1lbnRFcnJvcihcIlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzdWJ0b3RhbCA9IGNhbGN1bGF0ZVRvdGFsKCk7XG4gICAgY29uc3QgdGF4ID0gY2FsY3VsYXRlVGF4KCk7XG4gICAgY29uc3QgdG90YWwgPSArKHN1YnRvdGFsICsgdGF4KS50b0ZpeGVkKDIpO1xuICAgIGNvbnN0IGNhc2hiYWNrID0gTnVtYmVyKHBhcnNlRmxvYXQoY2FzaGJhY2tBbW91bnQpIHx8IDApO1xuICAgIGNvbnN0IGxvdHRvID0gTnVtYmVyKHBhcnNlRmxvYXQobG90dG9XaW5uaW5ncykgfHwgMCk7XG4gICAgY29uc3QgdG90YWxXaXRoQ2FzaGJhY2sgPSB0b3RhbCArIGNhc2hiYWNrIC0gbG90dG87XG5cbiAgICAvLyBGb3IgY2FzaGJhY2sgdHJhbnNhY3Rpb25zLCBmb3JjZSBjYXJkIHBheW1lbnQgb25seVxuICAgIGlmIChjYXNoYmFjayA+IDApIHtcbiAgICAgIHNldENhc2hBbW91bnQoXCJcIik7XG4gICAgICBzZXRDYXJkQW1vdW50KE1hdGgubWF4KDAsIHRvdGFsV2l0aENhc2hiYWNrKSk7XG4gICAgICBzZXRMYXN0RWRpdGVkKFwiY2FyZFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRGVmYXVsdDogY2FzaCBjb3ZlcnMgdGhlIHRvdGFsIG1pbnVzIGxvdHRvIHdpbm5pbmdzXG4gICAgICBzZXRDYXNoQW1vdW50KE1hdGgubWF4KDAsIHRvdGFsV2l0aENhc2hiYWNrKSk7XG4gICAgICBzZXRDYXJkQW1vdW50KDApO1xuICAgICAgc2V0TGFzdEVkaXRlZChcImNhc2hcIik7XG4gICAgfVxuICAgIHNldFBheW1lbnRFcnJvcihcIlwiKTtcbiAgfSwgW1xuICAgIGNhcnQsXG4gICAgY2FzaGJhY2tBbW91bnQsXG4gICAgY2FzaGJhY2tGZWUsXG4gICAgbG90dG9XaW5uaW5ncyxcbiAgICBkaXNjb3VudEFtb3VudCxcbiAgICBpc0NyZWRpdFNhbGUsXG4gICAgY2FyZEZlZUVuYWJsZWQsXG4gIF0pO1xuXG4gIC8vIElmIGF1dG8tZmlsbCBpcyBlbmFibGVkIGFuZCBsYXN0RWRpdGVkIGlzIHNldCwgdXBkYXRlIHRoZSBvdGhlciBhbW91bnRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWF1dG9GaWxsT3RoZXIgfHwgIWxhc3RFZGl0ZWQgfHwgaXNDcmVkaXRTYWxlKSByZXR1cm47IC8vIERvbid0IGF1dG8tZmlsbCBpbiBjcmVkaXQgc2FsZSBtb2RlXG4gICAgY29uc3Qgc3VidG90YWwgPSBjYWxjdWxhdGVUb3RhbCgpO1xuICAgIGNvbnN0IHRheCA9IGNhbGN1bGF0ZVRheCgpO1xuICAgIGNvbnN0IHRvdGFsID0gKyhzdWJ0b3RhbCArIHRheCkudG9GaXhlZCgyKTtcbiAgICBjb25zdCBjYXNoYmFjayA9IE51bWJlcihwYXJzZUZsb2F0KGNhc2hiYWNrQW1vdW50KSB8fCAwKTtcbiAgICBjb25zdCBsb3R0byA9IE51bWJlcihwYXJzZUZsb2F0KGxvdHRvV2lubmluZ3MpIHx8IDApO1xuICAgIGNvbnN0IHRvdGFsV2l0aENhc2hiYWNrID0gdG90YWwgKyBjYXNoYmFjayAtIGxvdHRvO1xuXG4gICAgLy8gRm9yIGNhc2hiYWNrIHRyYW5zYWN0aW9ucywgb25seSBhbGxvdyBjYXJkIHBheW1lbnRcbiAgICBpZiAoY2FzaGJhY2sgPiAwKSB7XG4gICAgICBzZXRDYXNoQW1vdW50KFwiXCIpO1xuICAgICAgc2V0Q2FyZEFtb3VudChNYXRoLm1heCgwLCB0b3RhbFdpdGhDYXNoYmFjaykpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChsYXN0RWRpdGVkID09PSBcImNhc2hcIikge1xuICAgICAgY29uc3QgcGFpZENhc2ggPSBOdW1iZXIocGFyc2VGbG9hdChjYXNoQW1vdW50KSB8fCAwKTtcbiAgICAgIGNvbnN0IG5ld0NhcmQgPSBNYXRoLm1heCgwLCArKHRvdGFsV2l0aENhc2hiYWNrIC0gcGFpZENhc2gpLnRvRml4ZWQoMikpO1xuICAgICAgc2V0Q2FyZEFtb3VudChuZXdDYXJkKTtcbiAgICB9IGVsc2UgaWYgKGxhc3RFZGl0ZWQgPT09IFwiY2FyZFwiKSB7XG4gICAgICBjb25zdCBwYWlkQ2FyZCA9IE51bWJlcihwYXJzZUZsb2F0KGNhcmRBbW91bnQpIHx8IDApO1xuICAgICAgY29uc3QgbmV3Q2FzaCA9IE1hdGgubWF4KDAsICsodG90YWxXaXRoQ2FzaGJhY2sgLSBwYWlkQ2FyZCkudG9GaXhlZCgyKSk7XG4gICAgICBzZXRDYXNoQW1vdW50KG5ld0Nhc2gpO1xuICAgIH1cbiAgfSwgW1xuICAgIGF1dG9GaWxsT3RoZXIsXG4gICAgbGFzdEVkaXRlZCxcbiAgICBjYXNoQW1vdW50LFxuICAgIGNhcmRBbW91bnQsXG4gICAgY2FydCxcbiAgICBjYXNoYmFja0Ftb3VudCxcbiAgICBjYXNoYmFja0ZlZSxcbiAgICBsb3R0b1dpbm5pbmdzLFxuICAgIGRpc2NvdW50QW1vdW50LFxuICAgIGlzQ3JlZGl0U2FsZSxcbiAgICBjYXJkRmVlRW5hYmxlZCxcbiAgXSk7XG5cbiAgLy8gQmFyY29kZSBTY2FubmVyIEZ1bmN0aW9uYWxpdHlcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBBdXRvLWZvY3VzIHNlYXJjaCBpbnB1dCB3aGVuIGNvbXBvbmVudCBtb3VudHNcbiAgICBpZiAoc2VhcmNoSW5wdXRSZWYuY3VycmVudCkge1xuICAgICAgc2VhcmNoSW5wdXRSZWYuY3VycmVudC5mb2N1cygpO1xuICAgIH1cblxuICAgIGNvbnN0IGhhbmRsZUtleURvd24gPSAoZXZlbnQpID0+IHtcbiAgICAgIC8vIERvbid0IGludGVyZmVyZSB3aXRoIGJhcmNvZGUgc2Nhbm5lciB3aGVuIG1hbnVhbCBlbnRyeSBtb2RhbCBpcyBvcGVuXG4gICAgICBpZiAoc2hvd01hbnVhbEVudHJ5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gRG9uJ3QgaW50ZXJmZXJlIGlmIHVzZXIgaXMgdHlwaW5nIGluIGlucHV0IGZpZWxkcyBvciBmb3JtIGVsZW1lbnRzXG4gICAgICBjb25zdCBhY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICAgIGNvbnN0IGlzVHlwaW5nSW5JbnB1dCA9XG4gICAgICAgIGFjdGl2ZUVsZW1lbnQgJiZcbiAgICAgICAgKGFjdGl2ZUVsZW1lbnQudGFnTmFtZSA9PT0gXCJJTlBVVFwiIHx8XG4gICAgICAgICAgYWN0aXZlRWxlbWVudC50YWdOYW1lID09PSBcIlRFWFRBUkVBXCIgfHxcbiAgICAgICAgICBhY3RpdmVFbGVtZW50LnRhZ05hbWUgPT09IFwiU0VMRUNUXCIgfHxcbiAgICAgICAgICBhY3RpdmVFbGVtZW50LmNvbnRlbnRFZGl0YWJsZSA9PT0gXCJ0cnVlXCIpO1xuXG4gICAgICBpZiAoaXNUeXBpbmdJbklucHV0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgY29uc3QgdGltZURpZmYgPSBjdXJyZW50VGltZSAtIGxhc3RLZXlUaW1lO1xuXG4gICAgICAvLyBJZiB0aW1lIGJldHdlZW4ga2V5c3Ryb2tlcyBpcyBsZXNzIHRoYW4gNTBtcywgaXQncyBsaWtlbHkgYSBiYXJjb2RlIHNjYW5uZXJcbiAgICAgIC8vIEJhcmNvZGUgc2Nhbm5lcnMgdHlwZSB2ZXJ5IGZhc3QgKHR5cGljYWxseSAxMC0zMG1zIGJldHdlZW4gY2hhcmFjdGVycylcbiAgICAgIGNvbnN0IGlzU2Nhbm5lcklucHV0ID0gdGltZURpZmYgPCA1MCAmJiB0aW1lRGlmZiA+IDA7XG5cbiAgICAgIC8vIE9ubHkgZm9jdXMgc2VhcmNoIGlucHV0IGlmIHVzZXIgaXMgbm90IHR5cGluZyBpbiBhbnkgaW5wdXQgZmllbGQgYW5kIGl0J3Mgbm90IGFscmVhZHkgZm9jdXNlZFxuICAgICAgaWYgKFxuICAgICAgICBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSBzZWFyY2hJbnB1dFJlZi5jdXJyZW50ICYmXG4gICAgICAgICFpc1R5cGluZ0luSW5wdXQgJiZcbiAgICAgICAgIVtcbiAgICAgICAgICBcIlRhYlwiLFxuICAgICAgICAgIFwiRXNjYXBlXCIsXG4gICAgICAgICAgXCJGMVwiLFxuICAgICAgICAgIFwiRjJcIixcbiAgICAgICAgICBcIkYzXCIsXG4gICAgICAgICAgXCJGNFwiLFxuICAgICAgICAgIFwiRjVcIixcbiAgICAgICAgICBcIkY2XCIsXG4gICAgICAgICAgXCJGN1wiLFxuICAgICAgICAgIFwiRjhcIixcbiAgICAgICAgICBcIkY5XCIsXG4gICAgICAgICAgXCJGMTBcIixcbiAgICAgICAgICBcIkYxMVwiLFxuICAgICAgICAgIFwiRjEyXCIsXG4gICAgICAgIF0uaW5jbHVkZXMoZXZlbnQua2V5KVxuICAgICAgKSB7XG4gICAgICAgIHNlYXJjaElucHV0UmVmLmN1cnJlbnQ/LmZvY3VzKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIEhhbmRsZSBiYXJjb2RlIHNjYW5uaW5nIChvbmx5IGlmIG5vdCB0eXBpbmcgaW4gaW5wdXQgZmllbGRzKVxuICAgICAgaWYgKCFpc1R5cGluZ0luSW5wdXQpIHtcbiAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICAgICAgLy8gRW5kIG9mIGJhcmNvZGUgc2NhbiAtIHByb2Nlc3MgdGhlIGJ1ZmZlclxuICAgICAgICAgIGlmIChiYXJjb2RlQnVmZmVyLnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBoYW5kbGVCYXJjb2RlU2Nhbm5lZChiYXJjb2RlQnVmZmVyLnRyaW0oKSk7XG4gICAgICAgICAgICBzZXRCYXJjb2RlQnVmZmVyKFwiXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChpc1NjYW5uZXJJbnB1dCAmJiBldmVudC5rZXkubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgLy8gQWRkIGNoYXJhY3RlciB0byBiYXJjb2RlIGJ1ZmZlclxuICAgICAgICAgIHNldEJhcmNvZGVCdWZmZXIoKHByZXYpID0+IHByZXYgKyBldmVudC5rZXkpO1xuICAgICAgICB9IGVsc2UgaWYgKCFpc1NjYW5uZXJJbnB1dCkge1xuICAgICAgICAgIC8vIFJlc2V0IGJ1ZmZlciBpZiB0eXBpbmcgaXMgdG9vIHNsb3cgKG1hbnVhbCB0eXBpbmcpXG4gICAgICAgICAgc2V0QmFyY29kZUJ1ZmZlcihcIlwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzZXRMYXN0S2V5VGltZShjdXJyZW50VGltZSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUZvY3VzQW55d2hlcmUgPSAoZXZlbnQpID0+IHtcbiAgICAgIC8vIERvbid0IGludGVyZmVyZSB3aGVuIG1hbnVhbCBlbnRyeSBtb2RhbCBpcyBvcGVuXG4gICAgICBpZiAoc2hvd01hbnVhbEVudHJ5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gRG9uJ3QgcmVmb2N1cyBpZiBjbGlja2luZyBvbiBmb3JtIGVsZW1lbnRzIHRoYXQgbmVlZCBmb2N1c1xuICAgICAgY29uc3QgY2xpY2tlZEVsZW1lbnQgPSBldmVudC50YXJnZXQ7XG4gICAgICBjb25zdCBpc0Zvcm1FbGVtZW50ID1cbiAgICAgICAgY2xpY2tlZEVsZW1lbnQudGFnTmFtZSA9PT0gXCJTRUxFQ1RcIiB8fFxuICAgICAgICBjbGlja2VkRWxlbWVudC50YWdOYW1lID09PSBcIk9QVElPTlwiIHx8XG4gICAgICAgIGNsaWNrZWRFbGVtZW50LnRhZ05hbWUgPT09IFwiSU5QVVRcIiB8fFxuICAgICAgICBjbGlja2VkRWxlbWVudC50YWdOYW1lID09PSBcIkJVVFRPTlwiIHx8XG4gICAgICAgIGNsaWNrZWRFbGVtZW50LnRhZ05hbWUgPT09IFwiVEVYVEFSRUFcIjtcblxuICAgICAgLy8gRG9uJ3QgcmVmb2N1cyBpZiBjbGlja2luZyBvbiB0aGUgY2F0ZWdvcnkgZmlsdGVyIG9yIGl0cyBvcHRpb25zXG4gICAgICBjb25zdCBpc0NhdGVnb3J5RmlsdGVyID1cbiAgICAgICAgY2xpY2tlZEVsZW1lbnQuY2xvc2VzdChcInNlbGVjdFwiKSB8fCBjbGlja2VkRWxlbWVudC50YWdOYW1lID09PSBcIlNFTEVDVFwiO1xuXG4gICAgICBpZiAoaXNGb3JtRWxlbWVudCB8fCBpc0NhdGVnb3J5RmlsdGVyKSB7XG4gICAgICAgIHJldHVybjsgLy8gTGV0IHRoZSBmb3JtIGVsZW1lbnQgaGFuZGxlIGl0cyBvd24gZm9jdXNcbiAgICAgIH1cblxuICAgICAgLy8gRW5zdXJlIHNlYXJjaCBpbnB1dCBzdGF5cyBmb2N1c2VkIHdoZW4gY2xpY2tpbmcgZWxzZXdoZXJlIG9uIHRoZSBwYWdlXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHNlYXJjaElucHV0UmVmLmN1cnJlbnQgJiZcbiAgICAgICAgICBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSBzZWFyY2hJbnB1dFJlZi5jdXJyZW50ICYmXG4gICAgICAgICAgIWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuY2xvc2VzdChcInNlbGVjdFwiKVxuICAgICAgICApIHtcbiAgICAgICAgICBzZWFyY2hJbnB1dFJlZi5jdXJyZW50LmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIDEwMCk7XG4gICAgfTtcblxuICAgIC8vIEFkZCBldmVudCBsaXN0ZW5lcnNcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVLZXlEb3duKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlRm9jdXNBbnl3aGVyZSk7XG5cbiAgICAvLyBDbGVhbnVwIGZ1bmN0aW9uXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUtleURvd24pO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUZvY3VzQW55d2hlcmUpO1xuICAgIH07XG4gIH0sIFtiYXJjb2RlQnVmZmVyLCBsYXN0S2V5VGltZSwgc2hvd01hbnVhbEVudHJ5XSk7XG5cbiAgLy8gSGFuZGxlIGJhcmNvZGUgc2Nhbm5lZFxuICBjb25zdCBoYW5kbGVCYXJjb2RlU2Nhbm5lZCA9IChiYXJjb2RlKSA9PiB7XG4gICAgY29uc29sZS5sb2coXCJCYXJjb2RlIHNjYW5uZWQ6XCIsIGJhcmNvZGUpO1xuXG4gICAgLy8gVXNlIHRoZSBlbmhhbmNlZCBzZWFyY2ggZnVuY3Rpb25hbGl0eSB0byBmaW5kIHByb2R1Y3RzXG4gICAgLy8gVGhpcyB3aWxsIHNlYXJjaCBieSBiYXJjb2RlLCBwcm9kdWN0SWQsIGlkLCBuYW1lLCBhbmQgY2F0ZWdvcnlcbiAgICBjb25zdCBzZWFyY2hSZXN1bHRzID0gZ2V0RmlsdGVyZWRJbnZlbnRvcnkoYmFyY29kZSk7XG5cbiAgICBpZiAoc2VhcmNoUmVzdWx0cy5sZW5ndGggPT09IDEpIHtcbiAgICAgIC8vIEV4YWN0bHkgb25lIHByb2R1Y3QgZm91bmQgLSBhdXRvbWF0aWNhbGx5IGFkZCB0byBjYXJ0XG4gICAgICBjb25zdCBmb3VuZFByb2R1Y3QgPSBzZWFyY2hSZXN1bHRzWzBdO1xuICAgICAgYWRkVG9DYXJ0KGZvdW5kUHJvZHVjdCk7XG4gICAgICBjb25zb2xlLmxvZyhcIlByb2R1Y3QgYWRkZWQgdG8gY2FydCB2aWEgYmFyY29kZTpcIiwgZm91bmRQcm9kdWN0Lm5hbWUpO1xuICAgIH0gZWxzZSBpZiAoc2VhcmNoUmVzdWx0cy5sZW5ndGggPiAxKSB7XG4gICAgICAvLyBNdWx0aXBsZSBtYXRjaGVzIC0gc2hvdyBpbiBzZWFyY2ggcmVzdWx0cyBmb3IgdXNlciB0byBjaG9vc2VcbiAgICAgIHNldFNlYXJjaFRlcm0oYmFyY29kZSk7XG4gICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgYE11bHRpcGxlIHByb2R1Y3RzIGZvdW5kIGZvciBiYXJjb2RlICR7YmFyY29kZX06YCxcbiAgICAgICAgc2VhcmNoUmVzdWx0cy5tYXAoKHApID0+IHAubmFtZSlcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5vIHByb2R1Y3QgZm91bmQgLSBhdXRvbWF0aWNhbGx5IHByb21wdCBmb3IgbWFudWFsIGVudHJ5XG4gICAgICBzZXRTZWFyY2hUZXJtKGJhcmNvZGUpO1xuICAgICAgc2V0TWFudWFsSXRlbSgocHJldikgPT4gKHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgbmFtZTogYmFyY29kZSxcbiAgICAgIH0pKTtcbiAgICAgIHNldFNob3dNYW51YWxFbnRyeSh0cnVlKTtcbiAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICBcIlByb2R1Y3Qgbm90IGZvdW5kIGZvciBiYXJjb2RlOlwiLFxuICAgICAgICBiYXJjb2RlLFxuICAgICAgICBcIi0gb3BlbmluZyBtYW51YWwgZW50cnlcIlxuICAgICAgKTtcbiAgICB9XG4gIH07XG5cbiAgaWYgKHNob3dSZWNlaXB0ICYmIGxhc3RUcmFuc2FjdGlvbikge1xuICAgIHJldHVybiAoXG4gICAgICA8UE9TV3JhcHBlcj5cbiAgICAgICAgPENvbnRhaW5lcj5cbiAgICAgICAgPFJlY2VpcHRTZWN0aW9uPlxuICAgICAgICAgIDxoMj5UcmFuc2FjdGlvbiBDb21wbGV0ZSE8L2gyPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVjZWlwdFwiPlxuICAgICAgICAgICAgPGgzPkNPTlZFTklFTkNFIFNUT1JFPC9oMz5cbiAgICAgICAgICAgIDxwPlNjYXJib3JvdWdoLCBPbnRhcmlvPC9wPlxuICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgIFRyYW5zYWN0aW9uICN7KGxhc3RUcmFuc2FjdGlvbi5pZCB8fCBcIk4vQVwiKS50b1N0cmluZygpLnNsaWNlKC04KX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxwPntuZXcgRGF0ZShsYXN0VHJhbnNhY3Rpb24udGltZXN0YW1wKS50b0xvY2FsZVN0cmluZygpfTwvcD5cbiAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAge2xhc3RUcmFuc2FjdGlvbi5pdGVtcy5tYXAoKGl0ZW0pID0+IChcbiAgICAgICAgICAgICAgPGRpdiBrZXk9e2l0ZW0uaWR9IGNsYXNzTmFtZT1cInJlY2VpcHQtaXRlbVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgICAge2l0ZW0ubmFtZX0geyFpdGVtLnRheGFibGUgJiYgXCIoTm8gSFNUKVwifVxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgIHtpdGVtLnF1YW50aXR5fSB4ICR7aXRlbS5wcmljZS50b0ZpeGVkKDIpfSA9ICRcbiAgICAgICAgICAgICAgICAgIHsoaXRlbS5xdWFudGl0eSAqIGl0ZW0ucHJpY2UpLnRvRml4ZWQoMil9XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPGhyIC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlY2VpcHQtdG90YWxzXCI+XG4gICAgICAgICAgICAgIHtsYXN0VHJhbnNhY3Rpb24udGF4YWJsZUFtb3VudCA+IDAgJiZcbiAgICAgICAgICAgICAgICBsYXN0VHJhbnNhY3Rpb24ubm9uVGF4YWJsZUFtb3VudCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICBUYXhhYmxlIEl0ZW1zOiAke2xhc3RUcmFuc2FjdGlvbi50YXhhYmxlQW1vdW50LnRvRml4ZWQoMil9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIE5vbi1UYXhhYmxlIEl0ZW1zOiAkXG4gICAgICAgICAgICAgICAgICAgICAge2xhc3RUcmFuc2FjdGlvbi5ub25UYXhhYmxlQW1vdW50LnRvRml4ZWQoMil9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAge2xhc3RUcmFuc2FjdGlvbi5kaXNjb3VudCA+IDAgPyAoXG4gICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIEl0ZW1zIFN1YnRvdGFsOiAkXG4gICAgICAgICAgICAgICAgICAgIHtsYXN0VHJhbnNhY3Rpb24ub3JpZ2luYWxTdWJ0b3RhbC50b0ZpeGVkKDIpfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRXZWlnaHQ6IFwiNjAwXCIsIGNvbG9yOiBcIiNlNjUxMDBcIiB9fT5cbiAgICAgICAgICAgICAgICAgICAgRGlzY291bnQ6IC0ke2xhc3RUcmFuc2FjdGlvbi5kaXNjb3VudC50b0ZpeGVkKDIpfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2PlN1YnRvdGFsOiAke2xhc3RUcmFuc2FjdGlvbi5zdWJ0b3RhbC50b0ZpeGVkKDIpfTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIDxkaXY+U3VidG90YWw6ICR7bGFzdFRyYW5zYWN0aW9uLnN1YnRvdGFsLnRvRml4ZWQoMil9PC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIHtsYXN0VHJhbnNhY3Rpb24uaW5jbHVkZVRheCAmJiBsYXN0VHJhbnNhY3Rpb24udGF4ID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdj5IU1QgKDEzJSk6ICR7bGFzdFRyYW5zYWN0aW9uLnRheC50b0ZpeGVkKDIpfTwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvdGFsXCI+XG4gICAgICAgICAgICAgICAgVG90YWw6ICR7bGFzdFRyYW5zYWN0aW9uLnRvdGFsLnRvRml4ZWQoMil9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICB7bGFzdFRyYW5zYWN0aW9uLmNhc2hiYWNrID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250V2VpZ2h0OiBcIjYwMFwiLCBjb2xvcjogXCIjZTY3ZTIyXCIgfX0+XG4gICAgICAgICAgICAgICAgICBDYXNoYmFjazogJHtsYXN0VHJhbnNhY3Rpb24uY2FzaGJhY2sudG9GaXhlZCgyKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAge2xhc3RUcmFuc2FjdGlvbi5wYXltZW50QnJlYWtkb3duICYmXG4gICAgICAgICAgICAgICAgbGFzdFRyYW5zYWN0aW9uLnBheW1lbnRCcmVha2Rvd24ubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPlBheW1lbnRzPC9zdHJvbmc+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB7bGFzdFRyYW5zYWN0aW9uLnBheW1lbnRCcmVha2Rvd24ubWFwKChwLCBpZHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17YHBheW1lbnQtJHtwLm1ldGhvZH0tJHtpZHh9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICB7cC5tZXRob2QudG9VcHBlckNhc2UoKX06ICR7cC5hbW91bnQudG9GaXhlZCgyKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgIHtsYXN0VHJhbnNhY3Rpb24uY2hhbmdlID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdj5DaGFuZ2U6ICR7bGFzdFRyYW5zYWN0aW9uLmNoYW5nZS50b0ZpeGVkKDIpfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGhyIC8+XG4gICAgICAgICAgICA8cD5UaGFuayB5b3UgZm9yIHlvdXIgYnVzaW5lc3MhPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogXCJmbGV4XCIsIGdhcDogXCIxcmVtXCIsIG1hcmdpblRvcDogXCIycmVtXCIgfX0+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3ByaW50UmVjZWlwdH1cbiAgICAgICAgICAgICAgc3R5bGU9e3sgYmFja2dyb3VuZENvbG9yOiBcIiMyN2FlNjBcIiwgY29sb3I6IFwid2hpdGVcIiB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICDwn5ao77iPIFByaW50IFJlY2VpcHRcbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXtzdGFydE5ld1NhbGV9Pk5ldyBTYWxlPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvUmVjZWlwdFNlY3Rpb24+XG4gICAgICAgIDwvQ29udGFpbmVyPlxuICAgICAgPC9QT1NXcmFwcGVyPlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxQT1NXcmFwcGVyPlxuICAgICAgPENvbnRhaW5lcj5cbiAgICAgICAgPFBPU0dyaWQ+XG4gICAgICAgIDxQcm9kdWN0c1BhbmVsPlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzcGFjZS1iZXR3ZWVuXCIsXG4gICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogXCIxcmVtXCIsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxoMj5Qcm9kdWN0czwvaDI+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC43NXJlbVwiLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiM3ZjhjOGRcIixcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuMjVyZW0gMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCIjZjhmOWZhXCIsXG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7aW52ZW50b3J5Lmxlbmd0aH0gaXRlbXMgbG9hZGVkXG4gICAgICAgICAgICAgIHtpbnZlbnRvcnlMb2FkZWQgJiYgKFxuICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBtYXJnaW5MZWZ0OiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogaW52ZW50b3J5TG9hZGluZyA/IFwiI2YzOWMxMlwiIDogXCIjMjdhZTYwXCIsXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIOKAoiB7aW52ZW50b3J5TG9hZGluZyA/IFwic3luY2luZy4uLlwiIDogXCJyZWFkeVwifVxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogXCJmbGV4XCIsIGdhcDogXCIxcmVtXCIsIG1hcmdpbkJvdHRvbTogXCIxcmVtXCIgfX0+XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsIGZsZXg6IDEsIGRpc3BsYXk6IFwiZmxleFwiIH19PlxuICAgICAgICAgICAgICA8U2VhcmNoQmFyXG4gICAgICAgICAgICAgICAgcmVmPXtzZWFyY2hJbnB1dFJlZn1cbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZWFyY2ggcHJvZHVjdHMuLi4gKEJhcmNvZGUgU2Nhbm5lciBSZWFkeSlcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXtzZWFyY2hUZXJtfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0U2VhcmNoVGVybShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgb25Gb2N1cz17KCkgPT4gaGFuZGxlSW5wdXRGb2N1cyhzZWFyY2hJbnB1dFJlZiwgZmFsc2UpfVxuICAgICAgICAgICAgICAgIG9uS2V5RG93bj17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChlLmtleSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZVNlYXJjaEVudGVyKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChzaG93S2V5Ym9hcmQgJiYgYWN0aXZlSW5wdXRSZWYgPT09IHNlYXJjaElucHV0UmVmKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFNob3dLZXlib2FyZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFjdGl2ZUlucHV0UmVmID09PSBzZWFyY2hJbnB1dFJlZikge1xuICAgICAgICAgICAgICAgICAgICAvLyBLZXlib2FyZCB3YXMgaGlkZGVuIGJ1dCBzZWFyY2ggaW5wdXQgd2FzIHRoZSBsYXN0IGFjdGl2ZSAtIHByZXNlcnZlIG1vZGVcbiAgICAgICAgICAgICAgICAgICAgc2hvd0tleWJvYXJkRm9ySW5wdXQoc2VhcmNoSW5wdXRSZWYpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRmlyc3QgdGltZSBmb2N1c2luZyBzZWFyY2ggaW5wdXQgLSB1c2UgZnVsbCBrZXlib2FyZCBmb3IgdGV4dCBzZWFyY2hcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlSW5wdXRGb2N1cyhzZWFyY2hJbnB1dFJlZiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIG1hcmdpbkxlZnQ6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNzVyZW1cIixcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHNob3dLZXlib2FyZCAmJiBhY3RpdmVJbnB1dFJlZiA9PT0gc2VhcmNoSW5wdXRSZWYgPyBcIiMyN2FlNjBcIiA6IFwiIzM0OThkYlwiLFxuICAgICAgICAgICAgICAgICAgbWluV2lkdGg6IFwiYXV0b1wiXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICB0aXRsZT1cIlRvZ2dsZSBWaXJ0dWFsIEtleWJvYXJkXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIOKMqO+4j1xuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAge2JhcmNvZGVCdWZmZXIgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICAgICAgICAgIHRvcDogXCItMjVweFwiLFxuICAgICAgICAgICAgICAgICAgICByaWdodDogXCIwXCIsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwiIzI3YWU2MFwiLFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCJ3aGl0ZVwiLFxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjJweCA4cHhcIixcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjhyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCJib2xkXCIsXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIPCfk7cgU2Nhbm5pbmcuLi5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVEZWJ1Z1JlZnJlc2h9XG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjVyZW0gMXJlbVwiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwiI2U3NGMzY1wiLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBcIndoaXRlXCIsXG4gICAgICAgICAgICAgICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjlyZW1cIixcbiAgICAgICAgICAgICAgICB3aGl0ZVNwYWNlOiBcIm5vd3JhcFwiLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICB0aXRsZT1cIkZvcmNlIHJlZnJlc2ggaW52ZW50b3J5IGZyb20gZGF0YWJhc2UgKERlYnVnKVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIPCflIQgUmVmcmVzaFxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8Q2F0ZWdvcnlGaWx0ZXJcbiAgICAgICAgICAgICAgdmFsdWU9e2NhdGVnb3J5RmlsdGVyfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRDYXRlZ29yeUZpbHRlcihlLnRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgLy8gQWZ0ZXIgc2VsZWN0aW9uLCByZXR1cm4gZm9jdXMgdG8gc2VhcmNoIGJhclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKHNlYXJjaElucHV0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoSW5wdXRSZWYuY3VycmVudC5mb2N1cygpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIG9uQmx1cj17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBXaGVuIGRyb3Bkb3duIGxvc2VzIGZvY3VzIChhZnRlciBzZWxlY3Rpb24gb3IgY2xpY2tpbmcgYXdheSksIHJldHVybiB0byBzZWFyY2hcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoSW5wdXRSZWYuY3VycmVudCAmJlxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSBzZWFyY2hJbnB1dFJlZi5jdXJyZW50XG4gICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoSW5wdXRSZWYuY3VycmVudC5mb2N1cygpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj5BbGwgQ2F0ZWdvcmllczwvb3B0aW9uPlxuICAgICAgICAgICAgICB7Y2F0ZWdvcmllcy5tYXAoKGNhdGVnb3J5KSA9PiAoXG4gICAgICAgICAgICAgICAgPG9wdGlvbiBrZXk9e2NhdGVnb3J5fSB2YWx1ZT17Y2F0ZWdvcnl9PlxuICAgICAgICAgICAgICAgICAge2NhdGVnb3J5fVxuICAgICAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvQ2F0ZWdvcnlGaWx0ZXI+XG5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd01hbnVhbEVudHJ5KHRydWUpfVxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIG1hcmdpbkxlZnQ6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjVyZW0gMXJlbVwiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMzQ5OGRiXCIsXG4gICAgICAgICAgICAgICAgY29sb3I6IFwid2hpdGVcIixcbiAgICAgICAgICAgICAgICBib3JkZXI6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiYm9sZFwiLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICArIE1hbnVhbCBJdGVtXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiBDYXRlZ29yeSBDYXJkcyAqL31cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBkaXNwbGF5OiBcImdyaWRcIixcbiAgICAgICAgICAgICAgZ3JpZFRlbXBsYXRlQ29sdW1uczogXCJyZXBlYXQoYXV0by1maXQsIG1pbm1heCgxNjBweCwgMWZyKSlcIixcbiAgICAgICAgICAgICAgZ2FwOiBcIjAuOHJlbVwiLFxuICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiMS41cmVtXCIsXG4gICAgICAgICAgICAgIG1heEhlaWdodDogXCIyMDBweFwiLFxuICAgICAgICAgICAgICBvdmVyZmxvd1g6IFwiYXV0b1wiLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7W1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJMb3R0b1wiLFxuICAgICAgICAgICAgICAgIGtleTogXCJMb3R0b1wiLFxuICAgICAgICAgICAgICAgIGljb246IFwi8J+OslwiLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNlNzRjM2NcIixcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJUeXBlIGFtb3VudCAmIGNsaWNrIHRvIGFkZFwiLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJHcm9jZXJ5XCIsXG4gICAgICAgICAgICAgICAga2V5OiBcIkdyb2NlcnlcIixcbiAgICAgICAgICAgICAgICBpY29uOiBcIvCfm5JcIixcbiAgICAgICAgICAgICAgICBjb2xvcjogXCIjMjdhZTYwXCIsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiVHlwZSBhbW91bnQgJiBjbGljayB0byBhZGRcIixcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiV2VzdGVybiBVbmlvblwiLFxuICAgICAgICAgICAgICAgIGtleTogXCJXZXN0ZXJuVW5pb25cIixcbiAgICAgICAgICAgICAgICBpY29uOiBcIvCfkrhcIixcbiAgICAgICAgICAgICAgICBjb2xvcjogXCIjOGU0NGFkXCIsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiVHlwZSBhbW91bnQgJiBjbGljayB0byBhZGRcIixcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiVGVhXCIsXG4gICAgICAgICAgICAgICAga2V5OiBcIlRlYVwiLFxuICAgICAgICAgICAgICAgIGljb246IFwi8J+NtVwiLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNkMzU0MDBcIixcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJUeXBlIGFtb3VudCAmIGNsaWNrIHRvIGFkZFwiLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJCYWtlcnlcIixcbiAgICAgICAgICAgICAgICBrZXk6IFwiQmFrZXJ5XCIsXG4gICAgICAgICAgICAgICAgaWNvbjogXCLwn42eXCIsXG4gICAgICAgICAgICAgICAgY29sb3I6IFwiI2YzOWMxMlwiLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIkJyZWFkICYgQmFrZWQgR29vZHNcIixcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiRGFpcnlcIixcbiAgICAgICAgICAgICAgICBrZXk6IFwiRGFpcnlcIixcbiAgICAgICAgICAgICAgICBpY29uOiBcIvCfpZtcIixcbiAgICAgICAgICAgICAgICBjb2xvcjogXCIjMTZhMDg1XCIsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiTWlsayAmIERhaXJ5IFByb2R1Y3RzXCIsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIkJldmVyYWdlc1wiLFxuICAgICAgICAgICAgICAgIGtleTogXCJCZXZlcmFnZXNcIixcbiAgICAgICAgICAgICAgICBpY29uOiBcIvCfpaRcIixcbiAgICAgICAgICAgICAgICBjb2xvcjogXCIjMzQ5OGRiXCIsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiRHJpbmtzICYgUmVmcmVzaG1lbnRzXCIsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIlRvYmFjY29cIixcbiAgICAgICAgICAgICAgICBrZXk6IFwiVG9iYWNjb1wiLFxuICAgICAgICAgICAgICAgIGljb246IFwi8J+arFwiLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiM5NWE1YTZcIixcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJDaWdhcmV0dGVzICYgQ2lnYXJzXCIsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIlNuYWNrc1wiLFxuICAgICAgICAgICAgICAgIGtleTogXCJTbmFja3NcIixcbiAgICAgICAgICAgICAgICBpY29uOiBcIvCfjb9cIixcbiAgICAgICAgICAgICAgICBjb2xvcjogXCIjZTY3ZTIyXCIsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiQ2hpcHMgJiBTbmFja3NcIixcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0ubWFwKChjYXRlZ29yeSkgPT4gKFxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAga2V5PXtjYXRlZ29yeS5rZXl9XG4gICAgICAgICAgICAgICAgZGF0YS1jYXRlZ29yeT17Y2F0ZWdvcnkua2V5fVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIC8vIFNwZWNpYWwgaGFuZGxpbmcgZm9yIExvdHRvLCBHcm9jZXJ5LCBXZXN0ZXJuIFVuaW9uLCBhbmQgVGVhIGNhdGVnb3JpZXNcbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnkua2V5ID09PSBcIkxvdHRvXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnkua2V5ID09PSBcIkdyb2NlcnlcIiB8fFxuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeS5rZXkgPT09IFwiV2VzdGVyblVuaW9uXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnkua2V5ID09PSBcIlRlYVwiXG4gICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgc2VhcmNoIHRlcm0gZmlyc3QsIHRoZW4gY3VycmVudGx5IGZvY3VzZWQgaW5wdXQgZmllbGRcbiAgICAgICAgICAgICAgICAgICAgbGV0IGlucHV0VmFsdWUgPSBzZWFyY2hUZXJtLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHNlYXJjaCBpcyBlbXB0eSwgY2hlY2sgdGhlIGN1cnJlbnRseSBhY3RpdmUgaW5wdXQgZmllbGRcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpbnB1dFZhbHVlICYmIGFjdGl2ZUlucHV0UmVmICYmIGFjdGl2ZUlucHV0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBpbnB1dFZhbHVlID0gYWN0aXZlSW5wdXRSZWYuY3VycmVudC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgc3RpbGwgbm8gdmFsdWUsIGNoZWNrIG90aGVyIGlucHV0IGZpZWxkcyB0aGF0IG1pZ2h0IGhhdmUgdmFsdWVzXG4gICAgICAgICAgICAgICAgICAgIGlmICghaW5wdXRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0cyA9IFtkaXNjb3VudFJlZiwgY2FzaEFtb3VudFJlZiwgY2FyZEFtb3VudFJlZiwgY2FzaGJhY2tBbW91bnRSZWYsIGxvdHRvV2lubmluZ3NSZWZdO1xuICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaW5wdXRSZWYgb2YgaW5wdXRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXRSZWYuY3VycmVudCAmJiBpbnB1dFJlZi5jdXJyZW50LnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0VmFsdWUgPSBpbnB1dFJlZi5jdXJyZW50LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG51bWVyaWNWYWx1ZSA9IHBhcnNlRmxvYXQoaW5wdXRWYWx1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgc2VhcmNoIHRlcm0gaXMgYSB2YWxpZCBudW1iZXJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc05hTihudW1lcmljVmFsdWUpICYmIG51bWVyaWNWYWx1ZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgaXRlbSB3aXRoIHRoZSBzcGVjaWZpZWQgYW1vdW50IGJhc2VkIG9uIGNhdGVnb3J5XG4gICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld0l0ZW07XG5cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoY2F0ZWdvcnkua2V5ID09PSBcIkxvdHRvXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0l0ZW0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBgbG90dG8tJHtEYXRlLm5vdygpfWAsIC8vIFVuaXF1ZSBJRCBmb3IgbWFudWFsIGxvdHRvIGl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogYExvdHRvICQke251bWVyaWNWYWx1ZS50b0ZpeGVkKDIpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBcIkxvdHRvXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlOiBudW1lcmljVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0b2NrOiA5OTksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxvd1N0b2NrVGhyZXNob2xkOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBseVRheDogdHJ1ZSwgLy8gTG90dG8gaXMgdHlwaWNhbGx5IHRheGFibGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaXNNYW51YWw6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2F0ZWdvcnkua2V5ID09PSBcIkdyb2NlcnlcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3SXRlbSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGBncm9jZXJ5LSR7RGF0ZS5ub3coKX1gLCAvLyBVbmlxdWUgSUQgZm9yIG1hbnVhbCBncm9jZXJ5IGl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogYEdyb2NlcnkgSXRlbSAkJHtudW1lcmljVmFsdWUudG9GaXhlZCgyKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogXCJHcm9jZXJ5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlOiBudW1lcmljVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0b2NrOiA5OTksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxvd1N0b2NrVGhyZXNob2xkOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBseVRheDogdHJ1ZSwgLy8gR3JvY2VyeSBpcyB0eXBpY2FsbHkgdGF4YWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICBpc01hbnVhbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjYXRlZ29yeS5rZXkgPT09IFwiV2VzdGVyblVuaW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0l0ZW0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBgd2VzdGVybi11bmlvbi0ke0RhdGUubm93KCl9YCwgLy8gVW5pcXVlIElEIGZvciBtYW51YWwgV2VzdGVybiBVbmlvbiBpdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGBXZXN0ZXJuIFVuaW9uICQke251bWVyaWNWYWx1ZS50b0ZpeGVkKDIpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBcIldlc3Rlcm4gVW5pb25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2U6IG51bWVyaWNWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvY2s6IDk5OSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbG93U3RvY2tUaHJlc2hvbGQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5VGF4OiB0cnVlLCAvLyBXZXN0ZXJuIFVuaW9uIGlzIHR5cGljYWxseSB0YXhhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlzTWFudWFsOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNhdGVnb3J5LmtleSA9PT0gXCJUZWFcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3SXRlbSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGB0ZWEtJHtEYXRlLm5vdygpfWAsIC8vIFVuaXF1ZSBJRCBmb3IgbWFudWFsIFRlYSBpdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGBUZWEgJCR7bnVtZXJpY1ZhbHVlLnRvRml4ZWQoMil9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IFwiVGVhXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlOiBudW1lcmljVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0b2NrOiA5OTksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxvd1N0b2NrVGhyZXNob2xkOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBseVRheDogdHJ1ZSwgLy8gVGVhIGlzIHR5cGljYWxseSB0YXhhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlzTWFudWFsOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdG8gY2FydFxuICAgICAgICAgICAgICAgICAgICAgIGFkZFRvQ2FydChuZXdJdGVtKTtcblxuICAgICAgICAgICAgICAgICAgICAgIC8vIENsZWFyIHRoZSBpbnB1dCBmaWVsZCB0aGF0IHdhcyB1c2VkXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHNlYXJjaFRlcm0udHJpbSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWFyY2hUZXJtKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYWN0aXZlSW5wdXRSZWYgJiYgYWN0aXZlSW5wdXRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgdGhlIGN1cnJlbnRseSBhY3RpdmUgaW5wdXQgZmllbGRcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUlucHV0UmVmLmN1cnJlbnQudmFsdWUgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJpZ2dlciBvbkNoYW5nZSBldmVudCB0byB1cGRhdGUgc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEV2ZW50KCdpbnB1dCcsIHsgYnViYmxlczogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUlucHV0UmVmLmN1cnJlbnQuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgLy8gU2hvdyBzdWNjZXNzIGZlZWRiYWNrXG4gICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYEFkZGVkICR7bmV3SXRlbS5uYW1lfSB0byBjYXJ0YCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAvLyBCcmllZiB2aXN1YWwgZmVlZGJhY2sgYnkgdGVtcG9yYXJpbHkgaGlnaGxpZ2h0aW5nIHRoZSBjYXJkXG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgYFtkYXRhLWNhdGVnb3J5PVwiJHtjYXRlZ29yeS5rZXl9XCJdYFxuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRDYXJkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q2FyZC5zdHlsZS50cmFuc2Zvcm0gPSBcInNjYWxlKDEuMDUpXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENhcmQuc3R5bGUudHJhbnNmb3JtID0gXCJzY2FsZSgxKVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMjAwKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAvLyBSZXR1cm4gZm9jdXMgdG8gc2VhcmNoIGJhclxuICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlYXJjaElucHV0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoSW5wdXRSZWYuY3VycmVudC5mb2N1cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm47IC8vIERvbid0IHNldCBjYXRlZ29yeSBmaWx0ZXIsIGp1c3QgYWRkIHRoZSBpdGVtXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgLy8gRGVmYXVsdCBiZWhhdmlvcjogc2V0IGNhdGVnb3J5IGZpbHRlclxuICAgICAgICAgICAgICAgICAgc2V0Q2F0ZWdvcnlGaWx0ZXIoY2F0ZWdvcnkua2V5KTtcbiAgICAgICAgICAgICAgICAgIC8vIFJldHVybiBmb2N1cyB0byBzZWFyY2ggYmFyIGFmdGVyIGNhdGVnb3J5IHNlbGVjdGlvblxuICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWFyY2hJbnB1dFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgc2VhcmNoSW5wdXRSZWYuY3VycmVudC5mb2N1cygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IGBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAke2NhdGVnb3J5LmNvbG9yfSwgJHtjYXRlZ29yeS5jb2xvcn1kZClgLFxuICAgICAgICAgICAgICAgICAgY29sb3I6IFwid2hpdGVcIixcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC44cmVtXCIsXG4gICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiMTBweFwiLFxuICAgICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IFwiYWxsIDAuMnMgZWFzZVwiLFxuICAgICAgICAgICAgICAgICAgYm94U2hhZG93OlxuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeUZpbHRlciA9PT0gY2F0ZWdvcnkua2V5XG4gICAgICAgICAgICAgICAgICAgICAgPyBgMCA4cHggMjVweCAke2NhdGVnb3J5LmNvbG9yfTQwYFxuICAgICAgICAgICAgICAgICAgICAgIDogXCIwIDRweCAxNXB4IHJnYmEoMCwwLDAsMC4xKVwiLFxuICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOlxuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeUZpbHRlciA9PT0gY2F0ZWdvcnkua2V5XG4gICAgICAgICAgICAgICAgICAgICAgPyBcInRyYW5zbGF0ZVkoLTJweClcIlxuICAgICAgICAgICAgICAgICAgICAgIDogXCJ0cmFuc2xhdGVZKDApXCIsXG4gICAgICAgICAgICAgICAgICBib3JkZXI6XG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5RmlsdGVyID09PSBjYXRlZ29yeS5rZXlcbiAgICAgICAgICAgICAgICAgICAgICA/IGAzcHggc29saWQgJHtjYXRlZ29yeS5jb2xvcn1gXG4gICAgICAgICAgICAgICAgICAgICAgOiBcIjNweCBzb2xpZCB0cmFuc3BhcmVudFwiLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKGNhdGVnb3J5RmlsdGVyICE9PSBjYXRlZ29yeS5rZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKC0xcHgpXCI7XG4gICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnN0eWxlLmJveFNoYWRvdyA9IGAwIDZweCAyMHB4ICR7Y2F0ZWdvcnkuY29sb3J9MzBgO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKGNhdGVnb3J5RmlsdGVyICE9PSBjYXRlZ29yeS5rZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKDApXCI7XG4gICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnN0eWxlLmJveFNoYWRvdyA9IFwiMCA0cHggMTVweCByZ2JhKDAsMCwwLDAuMSlcIjtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogXCIycmVtXCIsIG1hcmdpbkJvdHRvbTogXCIwLjVyZW1cIiB9fT5cbiAgICAgICAgICAgICAgICAgIHtjYXRlZ29yeS5pY29ufVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjFyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCI2MDBcIixcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBcIjAuMjVyZW1cIixcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge2NhdGVnb3J5Lm5hbWV9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogXCIwLjhyZW1cIiwgb3BhY2l0eTogMC45IH19PlxuICAgICAgICAgICAgICAgICAge2NhdGVnb3J5LmRlc2NyaXB0aW9ufVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkpfVxuXG4gICAgICAgICAgICB7LyogQ2xlYXIgRmlsdGVyIENhcmQgKi99XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRDYXRlZ29yeUZpbHRlcihcIlwiKTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChzZWFyY2hJbnB1dFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHNlYXJjaElucHV0UmVmLmN1cnJlbnQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6XG4gICAgICAgICAgICAgICAgICBjYXRlZ29yeUZpbHRlciA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICA/IFwibGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzJjM2U1MCwgIzM0NDk1ZSlcIlxuICAgICAgICAgICAgICAgICAgICA6IFwibGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2VjZjBmMSwgI2JkYzNjNylcIixcbiAgICAgICAgICAgICAgICBjb2xvcjogY2F0ZWdvcnlGaWx0ZXIgPT09IFwiXCIgPyBcIndoaXRlXCIgOiBcIiMyYzNlNTBcIixcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuOHJlbVwiLFxuICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCIxMHB4XCIsXG4gICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogXCJhbGwgMC4ycyBlYXNlXCIsXG4gICAgICAgICAgICAgICAgYm94U2hhZG93OlxuICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlGaWx0ZXIgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgPyBcIjAgOHB4IDI1cHggcmdiYSg0NCw2Miw4MCwwLjMpXCJcbiAgICAgICAgICAgICAgICAgICAgOiBcIjAgNHB4IDE1cHggcmdiYSgwLDAsMCwwLjEpXCIsXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOlxuICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlGaWx0ZXIgPT09IFwiXCIgPyBcInRyYW5zbGF0ZVkoLTJweClcIiA6IFwidHJhbnNsYXRlWSgwKVwiLFxuICAgICAgICAgICAgICAgIGJvcmRlcjpcbiAgICAgICAgICAgICAgICAgIGNhdGVnb3J5RmlsdGVyID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgID8gXCIzcHggc29saWQgIzJjM2U1MFwiXG4gICAgICAgICAgICAgICAgICAgIDogXCIzcHggc29saWQgdHJhbnNwYXJlbnRcIixcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjYXRlZ29yeUZpbHRlciAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKC0xcHgpXCI7XG4gICAgICAgICAgICAgICAgICBlLnRhcmdldC5zdHlsZS5ib3hTaGFkb3cgPSBcIjAgNnB4ICAyMHB4IHJnYmEoNDQsNjIsODAsMC4yKVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjYXRlZ29yeUZpbHRlciAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKDApXCI7XG4gICAgICAgICAgICAgICAgICBlLnRhcmdldC5zdHlsZS5ib3hTaGFkb3cgPSBcIjAgNHB4IDE1cHggcmdiYSgwLDAsMCwwLjEpXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRTaXplOiBcIjJyZW1cIiwgbWFyZ2luQm90dG9tOiBcIjAuNXJlbVwiIH19PvCfj6o8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIxcmVtXCIsXG4gICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIjYwMFwiLFxuICAgICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBcIjAuMjVyZW1cIixcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQWxsIENhdGVnb3JpZXNcbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZm9udFNpemU6IFwiMC44cmVtXCIsIG9wYWNpdHk6IDAuOSB9fT5cbiAgICAgICAgICAgICAgICBWaWV3IEFsbCBQcm9kdWN0c1xuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIE1hbnVhbCBFbnRyeSBNb2RhbCAqL31cbiAgICAgICAgICB7c2hvd01hbnVhbEVudHJ5ICYmIChcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJmaXhlZFwiLFxuICAgICAgICAgICAgICAgIHRvcDogXCIwXCIsXG4gICAgICAgICAgICAgICAgbGVmdDogXCIwXCIsXG4gICAgICAgICAgICAgICAgcmlnaHQ6IFwiMFwiLFxuICAgICAgICAgICAgICAgIGJvdHRvbTogXCIwXCIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInJnYmEoMCwgMCwgMCwgMC41KVwiLFxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgekluZGV4OiAxMDAwLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ3aGl0ZVwiLFxuICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIycmVtXCIsXG4gICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiOHB4XCIsXG4gICAgICAgICAgICAgICAgICBtaW5XaWR0aDogXCI0MDBweFwiLFxuICAgICAgICAgICAgICAgICAgbWF4V2lkdGg6IFwiNTAwcHhcIixcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIG9uS2V5RG93bj17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgICAgICAgICAgICAgICBzZXRTaG93TWFudWFsRW50cnkoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBzZXRNYW51YWxJdGVtKHtcbiAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgIHByaWNlOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OlxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcmllcy5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gY2F0ZWdvcmllc1swXVxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiZ3JvY2VyeS10YXhhYmxlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDEsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8aDMgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiBcIjFyZW1cIiwgY29sb3I6IFwiIzJjM2U1MFwiIH19PlxuICAgICAgICAgICAgICAgICAgQWRkIE1hbnVhbCBJdGVtXG4gICAgICAgICAgICAgICAgPC9oMz5cblxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiBcIjFyZW1cIiB9fT5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiYmxvY2tcIixcbiAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCJib2xkXCIsXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIEl0ZW0gTmFtZTpcbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17bWFudWFsSXRlbS5uYW1lfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgc2V0TWFudWFsSXRlbSgocHJldikgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVudGVyIGl0ZW0gbmFtZSBvciBkZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjZGRkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBhdXRvRm9jdXNcbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogXCIxcmVtXCIgfX0+XG4gICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImJsb2NrXCIsXG4gICAgICAgICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiYm9sZFwiLFxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBQcmljZTpcbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjAxXCJcbiAgICAgICAgICAgICAgICAgICAgbWluPVwiMFwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXttYW51YWxJdGVtLnByaWNlfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgc2V0TWFudWFsSXRlbSgocHJldikgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmljZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCIwLjAwXCJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICNkZGRcIixcbiAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Cb3R0b206IFwiMXJlbVwiIH19PlxuICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJibG9ja1wiLFxuICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcImJvbGRcIixcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgQ2F0ZWdvcnk6XG4gICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17bWFudWFsSXRlbS5jYXRlZ29yeX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICAgIHNldE1hbnVhbEl0ZW0oKHByZXYpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjZGRkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7Y2F0ZWdvcmllcy5sZW5ndGggPiAwID8gKFxuICAgICAgICAgICAgICAgICAgICAgIC8vIFVzZSBjYXRlZ29yaWVzIGZyb20gUmVkdXgvZGF0YWJhc2VcbiAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzLm1hcCgoY2F0ZWdvcnkpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24ga2V5PXtjYXRlZ29yeX0gdmFsdWU9e2NhdGVnb3J5fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2NhdGVnb3J5fVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAvLyBGYWxsYmFjayB0byBoYXJkY29kZWQgb3B0aW9ucyBpZiBubyBjYXRlZ29yaWVzIGxvYWRlZFxuICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiZ3JvY2VyeS10YXhhYmxlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIEdyb2NlcnkgKFRheGFibGUpXG4gICAgICAgICAgICAgICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJncm9jZXJ5LW5vbi10YXhhYmxlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIEdyb2NlcnkgKE5vbi1UYXhhYmxlKVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwibG90dG9cIj5Mb3R0byAoVGF4YWJsZSk8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Cb3R0b206IFwiMS41cmVtXCIgfX0+XG4gICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImJsb2NrXCIsXG4gICAgICAgICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiYm9sZFwiLFxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBRdWFudGl0eTpcbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICAgIG1pbj1cIjFcIlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17bWFudWFsSXRlbS5xdWFudGl0eX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICAgIHNldE1hbnVhbEl0ZW0oKHByZXYpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IHBhcnNlSW50KGUudGFyZ2V0LnZhbHVlKSB8fCAxLFxuICAgICAgICAgICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjZGRkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICBnYXA6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImZsZXgtZW5kXCIsXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldFNob3dNYW51YWxFbnRyeShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0TWFudWFsSXRlbSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2U6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcmllcy5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBjYXRlZ29yaWVzWzBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcImdyb2NlcnktdGF4YWJsZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjVyZW0gMXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjOTVhNWE2XCIsXG4gICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwid2hpdGVcIixcbiAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBDYW5jZWxcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXthZGRNYW51YWxJdGVtfVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC41cmVtIDFyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzI3YWU2MFwiLFxuICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIndoaXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcImJvbGRcIixcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgQWRkIHRvIENhcnRcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG5cbiAgICAgICAgICB7LyogRGVkaWNhdGVkIEtleWJvYXJkIEFyZWEgKi99XG4gICAgICAgICAgPEtleWJvYXJkQXJlYT5cbiAgICAgICAgICAgIDxPblNjcmVlbktleWJvYXJkXG4gICAgICAgICAgICAgIHNob3c9e3RydWV9XG4gICAgICAgICAgICAgIG1vZGU9e2tleWJvYXJkTW9kZX1cbiAgICAgICAgICAgICAgb25DbG9zZT17KCkgPT4gc2V0U2hvd0tleWJvYXJkKGZhbHNlKX1cbiAgICAgICAgICAgICAgaW5wdXRSZWY9e2FjdGl2ZUlucHV0UmVmfVxuICAgICAgICAgICAgICBvbktleVByZXNzPXsoa2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1ZpcnR1YWwga2V5IHByZXNzZWQ6Jywga2V5KTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgb25Nb2RlVG9nZ2xlPXsobmV3TW9kZSkgPT4gc2V0S2V5Ym9hcmRNb2RlKG5ld01vZGUpfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0tleWJvYXJkQXJlYT5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvZHVjdHMtZ3JpZFwiPlxuICAgICAgICAgICAge2ZpbHRlcmVkSW52ZW50b3J5Lmxlbmd0aCA9PT0gMCAmJlxuICAgICAgICAgICAgICBpbnZlbnRvcnkubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgICBzZWFyY2hUZXJtICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjJyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIjZjM5YzEyXCIsXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxoMz5ObyBwcm9kdWN0cyBtYXRjaCB5b3VyIHNlYXJjaDwvaDM+XG4gICAgICAgICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgICAgICAgU2VhcmNoOiBcIntzZWFyY2hUZXJtfVwie1wiIFwifVxuICAgICAgICAgICAgICAgICAgICB7Y2F0ZWdvcnlGaWx0ZXIgJiYgYHwgQ2F0ZWdvcnk6IFwiJHtjYXRlZ29yeUZpbHRlcn1cImB9XG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiBcIjFyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNzVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2ZmZjNjZFwiLFxuICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgI2ZmZWFhN1wiLFxuICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIjODU2NDA0XCIsXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIPCfkqEgPHN0cm9uZz5QcmVzcyBFbnRlcjwvc3Ryb25nPiB0byBhZGQgXCJ7c2VhcmNoVGVybX1cIiBhcyBhXG4gICAgICAgICAgICAgICAgICAgIG1hbnVhbCBpdGVtIHdpdGggY3VzdG9tIHByaWNlXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHtpbnZlbnRvcnlMb2FkaW5nICYmIChcbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjJyZW1cIixcbiAgICAgICAgICAgICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiMzNDk4ZGJcIixcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGgzPkxvYWRpbmcgcHJvZHVjdHMuLi48L2gzPlxuICAgICAgICAgICAgICAgIDxwPlBsZWFzZSB3YWl0IHdoaWxlIHdlIGxvYWQgdGhlIGludmVudG9yeSBmcm9tIGRhdGFiYXNlPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7aW52ZW50b3J5Lmxlbmd0aCA9PT0gMCAmJiAhaW52ZW50b3J5TG9hZGluZyAmJiAoXG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIycmVtXCIsXG4gICAgICAgICAgICAgICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICBjb2xvcjogXCIjZTc0YzNjXCIsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxoMz5ObyBwcm9kdWN0cyBhdmFpbGFibGU8L2gzPlxuICAgICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgICAgTm8gaW52ZW50b3J5IGl0ZW1zIGZvdW5kLiBQbGVhc2UgY2hlY2sgeW91ciBjb25uZWN0aW9uIG9yXG4gICAgICAgICAgICAgICAgICBjb250YWN0IHN1cHBvcnQuXG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7ZmlsdGVyZWRJbnZlbnRvcnkubWFwKChwcm9kdWN0KSA9PiAoXG4gICAgICAgICAgICAgIDxQcm9kdWN0SXRlbVxuICAgICAgICAgICAgICAgIGtleT17cHJvZHVjdC5pZH1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBhZGRUb0NhcnQocHJvZHVjdCl9XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IHByb2R1Y3Quc3RvY2sgPD0gMCA/IDAuNyA6IDEsXG4gICAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8aDQ+e3Byb2R1Y3QubmFtZX08L2g0PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJpY2Utcm93XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInByaWNlXCI+JHtwcm9kdWN0LnByaWNlLnRvRml4ZWQoMil9PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRTaXplOiBcIjAuOHJlbVwiLCBjb2xvcjogXCIjN2Y4YzhkXCIgfX0+XG4gICAgICAgICAgICAgICAgICAgIHtwcm9kdWN0LnRheGFibGUgPyBcIkhTVFwiIDogXCJObyBIU1RcIn1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInN0b2NrXCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOlxuICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3Quc3RvY2sgPCAwXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFwiI2U3NGMzY1wiXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHByb2R1Y3Quc3RvY2sgPT09IDBcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXCIjZjM5YzEyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcHJvZHVjdC5zdG9jayA8PSBwcm9kdWN0Lmxvd1N0b2NrVGhyZXNob2xkXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFwiI2YzOWMxMlwiXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFwiIzI3YWU2MFwiLFxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBTdG9jazoge3Byb2R1Y3Quc3RvY2t9e1wiIFwifVxuICAgICAgICAgICAgICAgICAge3Byb2R1Y3Quc3RvY2sgPCAwXG4gICAgICAgICAgICAgICAgICAgID8gXCIoTmVnYXRpdmUgU3RvY2spXCJcbiAgICAgICAgICAgICAgICAgICAgOiBwcm9kdWN0LnN0b2NrID09PSAwXG4gICAgICAgICAgICAgICAgICAgID8gXCIoT3V0IG9mIFN0b2NrKVwiXG4gICAgICAgICAgICAgICAgICAgIDogcHJvZHVjdC5zdG9jayA8PSBwcm9kdWN0Lmxvd1N0b2NrVGhyZXNob2xkXG4gICAgICAgICAgICAgICAgICAgID8gXCIoTG93IFN0b2NrKVwiXG4gICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9Qcm9kdWN0SXRlbT5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L1Byb2R1Y3RzUGFuZWw+XG5cbiAgICAgICAgPENoZWNrb3V0UGFuZWw+XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcInNwYWNlLWJldHdlZW5cIixcbiAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8aDIgc3R5bGU9e3sgbWFyZ2luOiAwIH19PkN1cnJlbnQgU2FsZTwvaDI+XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6IFwiZmxleFwiLCBnYXA6IFwiMC41cmVtXCIgfX0+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRJc0NyZWRpdFNhbGUoIWlzQ3JlZGl0U2FsZSk7XG4gICAgICAgICAgICAgICAgICBpZiAoaXNDcmVkaXRTYWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldENyZWRpdEN1c3RvbWVyTmFtZShcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0Q3JlZGl0QW1vdW50KDApO1xuICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZEN1c3RvbWVyKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICBzZXRDdXN0b21lckJhbGFuY2UoMCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogaXNDcmVkaXRTYWxlID8gXCIjMjhhNzQ1XCIgOiBcIiM2Yzc1N2RcIixcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIndoaXRlXCIsXG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbSAwLjc1cmVtXCIsXG4gICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjhyZW1cIixcbiAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiNjAwXCIsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIPCfkrMgQ3JlZGl0XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogQ3JlZGl0IFNhbGUgU3RhdHVzIEluZGljYXRvciAqL31cbiAgICAgICAgICB7aXNDcmVkaXRTYWxlICYmIChcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZmZmM2NkXCIsXG4gICAgICAgICAgICAgICAgYm9yZGVyOiBcIjJweCBzb2xpZCAjZmZjMTA3XCIsXG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjhweFwiLFxuICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogXCIwLjc1cmVtXCIsXG4gICAgICAgICAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiNjAwXCIsXG4gICAgICAgICAgICAgICAgICBjb2xvcjogXCIjODU2NDA0XCIsXG4gICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjlyZW1cIixcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAg8J+SsyBDUkVESVQgU0FMRSBNT0RFIEFDVElWRVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAge2NyZWRpdEN1c3RvbWVyTmFtZSAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC44cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiM4NTY0MDRcIixcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiBcIjAuMjVyZW1cIixcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgQ3VzdG9tZXI6IDxzdHJvbmc+e2NyZWRpdEN1c3RvbWVyTmFtZX08L3N0cm9uZz5cbiAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZEN1c3RvbWVyICYmIChcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgbWFyZ2luTGVmdDogXCIwLjVyZW1cIiB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAoQmFsYW5jZTogJHtNYXRoLmFicyhjdXN0b21lckJhbGFuY2UpLnRvRml4ZWQoMil9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgIHtjdXN0b21lckJhbGFuY2UgPiAwID8gXCJvd2VkXCIgOiBcImNyZWRpdFwifSlcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJ0LWl0ZW1zXCI+XG4gICAgICAgICAgICB7Y2FydC5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgICAgIDxwXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiM3ZjhjOGRcIixcbiAgICAgICAgICAgICAgICAgIG1hcmdpblRvcDogXCIycmVtXCIsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIE5vIGl0ZW1zIGluIGNhcnQg4oCUIGFkZCBwcm9kdWN0cyBmcm9tIHRoZSBsZWZ0IHBhbmVsXG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIGNhcnQubWFwKChpdGVtKSA9PiAoXG4gICAgICAgICAgICAgICAgPENhcnRJdGVtIGtleT17aXRlbS5pZH0+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIml0ZW0tZGV0YWlsc1wiPlxuICAgICAgICAgICAgICAgICAgICA8aDQ+e2l0ZW0ubmFtZX08L2g0PlxuICAgICAgICAgICAgICAgICAgICA8cD4ke2l0ZW0ucHJpY2UudG9GaXhlZCgyKX0gZWFjaDwvcD5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRvZ2dsZUl0ZW1UYXgoaXRlbS5pZCl9XG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuNzVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC4yNXJlbSAwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCIxMnB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5hcHBseVRheCA9PT0gdHJ1ZSA/IFwiIzI3YWU2MFwiIDogXCIjOTVhNWE2XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCJ3aGl0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblRvcDogXCIwLjI1cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIHtpdGVtLmFwcGx5VGF4ID09PSB0cnVlID8gXCJIU1QgT05cIiA6IFwiSFNUIE9GRlwifVxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJxdWFudGl0eS1jb250cm9sc1wiPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlRGVjcmVhc2VRdWFudGl0eShpdGVtLmlkKX1cbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXRlbS5xdWFudGl0eSA8PSAxfVxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiBpdGVtLnF1YW50aXR5IDw9IDEgPyAwLjUgOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBpdGVtLnF1YW50aXR5IDw9IDEgPyBcIm5vdC1hbGxvd2VkXCIgOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgLVxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+e2l0ZW0ucXVhbnRpdHl9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNhcnRRdWFudGl0eShpdGVtLmlkLCBpdGVtLnF1YW50aXR5ICsgMSlcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICArXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIml0ZW0tdG90YWxcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj4keyhpdGVtLnByaWNlICogaXRlbS5xdWFudGl0eSkudG9GaXhlZCgyKX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAge2l0ZW0uYXBwbHlUYXggPT09IHRydWUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZm9udFNpemU6IFwiMC43NXJlbVwiLCBjb2xvcjogXCIjN2Y4YzhkXCIgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICArJHsoaXRlbS5wcmljZSAqIGl0ZW0ucXVhbnRpdHkgKiAwLjEzKS50b0ZpeGVkKDIpfSBIU1RcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyZW1vdmUtYnRuXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gcmVtb3ZlRnJvbUNhcnQoaXRlbS5pZCl9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIMOXXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L0NhcnRJdGVtPlxuICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiBTY3JvbGxhYmxlIGNoZWNrb3V0IHNlY3Rpb25zICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hlY2tvdXQtc2VjdGlvbnNcIj5cbiAgICAgICAgICAgIHsvKiBDYXNoYmFjayBPcHRpb24gKi99XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgbWFyZ2luOiBcIjAuNXJlbSAwXCIsXG4gICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZjhmOWZhXCIsXG4gICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgI2U5ZWNlZlwiLFxuICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNnB4XCIsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgZ2FwOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCI1MDBcIixcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICBjaGVja2VkPXtjYXNoYmFja0VuYWJsZWR9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRDYXNoYmFja0VuYWJsZWQoZS50YXJnZXQuY2hlY2tlZCk7XG4gICAgICAgICAgICAgICAgICBpZiAoIWUudGFyZ2V0LmNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0Q2FzaGJhY2tBbW91bnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgIHNldENhc2hiYWNrRmVlKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgdHJhbnNmb3JtOiBcInNjYWxlKDEuMilcIiB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8c3Bhbj5BZGQgQ2FzaGJhY2s8L3NwYW4+XG4gICAgICAgICAgICA8L2xhYmVsPlxuXG4gICAgICAgICAgICB7Y2FzaGJhY2tFbmFibGVkICYmIChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICBnYXA6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBzdHlsZT17eyBtaW5XaWR0aDogXCI3MHB4XCIsIGZvbnRTaXplOiBcIjAuOXJlbVwiIH19PlxuICAgICAgICAgICAgICAgICAgICBBbW91bnQ6XG4gICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIHJlZj17Y2FzaGJhY2tBbW91bnRSZWZ9XG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgICAgICAgICAgICBzdGVwPVwiMC4wMVwiXG4gICAgICAgICAgICAgICAgICAgIG1pbj1cIjBcIlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Y2FzaGJhY2tBbW91bnR9XG4gICAgICAgICAgICAgICAgICAgIG9uRm9jdXM9eygpID0+IGhhbmRsZUlucHV0Rm9jdXMoY2FzaGJhY2tBbW91bnRSZWYsIHRydWUpfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgIHNldENhc2hiYWNrQW1vdW50KHZhbHVlID09PSBcIlwiID8gXCJcIiA6IE51bWJlcih2YWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC40cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjZGRkXCIsXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiMC4wMFwiXG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgZ2FwOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICBtaW5XaWR0aDogXCI3MHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC45cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiI2U2N2UyMlwiLFxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBGZWU6XG4gICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIHJlZj17Y2FzaGJhY2tGZWVSZWZ9XG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgICAgICAgICAgICBzdGVwPVwiMC4wMVwiXG4gICAgICAgICAgICAgICAgICAgIG1pbj1cIjBcIlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Y2FzaGJhY2tGZWV9XG4gICAgICAgICAgICAgICAgICAgIG9uRm9jdXM9eygpID0+IGhhbmRsZUlucHV0Rm9jdXMoY2FzaGJhY2tGZWVSZWYsIHRydWUpfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgIHNldENhc2hiYWNrRmVlKHZhbHVlID09PSBcIlwiID8gXCJcIiA6IE51bWJlcih2YWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC40cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjZTY3ZTIyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmZWY1ZTdcIixcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCIwLjAwXCJcbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICB7KE51bWJlcihjYXNoYmFja0ZlZSkgfHwgMCkgPiAwICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC44cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiI2U2N2UyMlwiLFxuICAgICAgICAgICAgICAgICAgICAgIGZvbnRTdHlsZTogXCJpdGFsaWNcIixcbiAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2ZlZjVlN1wiLFxuICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC4yNXJlbSAwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjZjRkMDNmXCIsXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIPCfkrAgQ2FzaGJhY2sgZmVlOiAkeyhOdW1iZXIoY2FzaGJhY2tGZWUpIHx8IDApLnRvRml4ZWQoMil9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICBhZGRlZCB0byB0b3RhbFxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIERpc2NvdW50ICovfVxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgIG1hcmdpbjogXCIwLjVyZW0gMFwiLFxuICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2ZmZjNlMFwiLFxuICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICNmZmNjODBcIixcbiAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjZweFwiLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBnYXA6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCI1MDBcIixcbiAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuPvCfkrAgRGlzY291bnQ8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGdhcDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGxhYmVsIHN0eWxlPXt7IG1pbldpZHRoOiBcIjcwcHhcIiwgZm9udFNpemU6IFwiMC45cmVtXCIgfX0+XG4gICAgICAgICAgICAgICAgQW1vdW50OlxuICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICByZWY9e2Rpc2NvdW50UmVmfVxuICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjAxXCJcbiAgICAgICAgICAgICAgICBtaW49XCIwXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17ZGlzY291bnRBbW91bnR9XG4gICAgICAgICAgICAgICAgb25Gb2N1cz17KCkgPT4gaGFuZGxlSW5wdXRGb2N1cyhkaXNjb3VudFJlZiwgdHJ1ZSl9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgc2V0RGlzY291bnRBbW91bnQodmFsdWUgPT09IFwiXCIgPyBcIlwiIDogTnVtYmVyKHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjRyZW1cIixcbiAgICAgICAgICAgICAgICAgIGZsZXg6IDEsXG4gICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICNkZGRcIixcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiMC4wMFwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHsoTnVtYmVyKGRpc2NvdW50QW1vdW50KSB8fCAwKSA+IDAgJiYgKFxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIG1hcmdpblRvcDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuOHJlbVwiLFxuICAgICAgICAgICAgICAgICAgY29sb3I6IFwiI2U2NTEwMFwiLFxuICAgICAgICAgICAgICAgICAgZm9udFN0eWxlOiBcIml0YWxpY1wiLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICDwn5K4IEN1c3RvbWVyIHNhdmVzICR7KE51bWJlcihkaXNjb3VudEFtb3VudCkgfHwgMCkudG9GaXhlZCgyKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIEVuaGFuY2VkIENhcmQgRmVlIFNlY3Rpb24gKi99XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgbWFyZ2luOiBcIjAuNXJlbSAwXCIsXG4gICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZjhmNGZmXCIsXG4gICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgI2Q0YzVmOVwiLFxuICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNnB4XCIsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGdhcDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCI1MDBcIixcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4+8J+SsyBDYXJkIEZlZXM8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgey8qIENhcmQgRmVlIEVuYWJsZS9EaXNhYmxlICovfVxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgZ2FwOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogY2FyZEZlZUVuYWJsZWQgPyBcIjAuNXJlbVwiIDogXCIwXCIsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICBnYXA6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC45cmVtXCIsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2NhcmRGZWVFbmFibGVkfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzRW5hYmxlZCA9IGUudGFyZ2V0LmNoZWNrZWQ7XG4gICAgICAgICAgICAgICAgICAgIHNldENhcmRGZWVFbmFibGVkKGlzRW5hYmxlZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudENhcmRBbW91bnQgPSBOdW1iZXIoXG4gICAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChjYXJkQW1vdW50KSB8fCAwXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRDYXNoQW1vdW50ID0gTnVtYmVyKFxuICAgICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQoY2FzaEFtb3VudCkgfHwgMFxuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0VuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIGVuYWJsaW5nLCBhZGQgY2FyZCBmZWUgdG8gdG90YWxcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b3RhbEFtb3VudCA9XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q2FyZEFtb3VudCArIGN1cnJlbnRDYXNoQW1vdW50ICsgQ0FSRF9GRUVfQU1PVU5UO1xuICAgICAgICAgICAgICAgICAgICAgIHNldENhcmRBbW91bnQoU3RyaW5nKHRvdGFsQW1vdW50LnRvRml4ZWQoMikpKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRDYXNoQW1vdW50KFwiMFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRMYXN0RWRpdGVkKFwiY2FyZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIGRpc2FibGluZywgcmVtb3ZlIGNhcmQgZmVlIGZyb20gdG90YWxcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudENhcmRBbW91bnQgPj0gQ0FSRF9GRUVfQU1PVU5UKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdDYXJkQW1vdW50ID0gTWF0aC5tYXgoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRDYXJkQW1vdW50IC0gQ0FSRF9GRUVfQU1PVU5UXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2FyZEFtb3VudChTdHJpbmcobmV3Q2FyZEFtb3VudC50b0ZpeGVkKDIpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IFwiMC4yNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IFwic2NhbGUoMS4xKVwiLFxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIEFwcGx5IGNhcmQgZmVlICgrJHtDQVJEX0ZFRV9BTU9VTlQudG9GaXhlZCgyKX0pXG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgey8qIEZlZSBTdGF0dXMgRGlzcGxheSAqL31cbiAgICAgICAgICAgIHtjYXJkRmVlRW5hYmxlZCAmJiAoXG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjI1cmVtIDAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmZmYzY2RcIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgI2ZmZWFhN1wiLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC44cmVtXCIsXG4gICAgICAgICAgICAgICAgICBjb2xvcjogXCIjODU2NDA0XCIsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIPCfkrAgQ2FyZCBwcm9jZXNzaW5nIGZlZTogJHtDQVJEX0ZFRV9BTU9VTlQudG9GaXhlZCgyKX0gYWRkZWQgdG9cbiAgICAgICAgICAgICAgICB0b3RhbFxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogTG90dG8gV2lubmluZ3MgKi99XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgbWFyZ2luOiBcIjAuNXJlbSAwXCIsXG4gICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZThmNWU4XCIsXG4gICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgI2MzZTZjM1wiLFxuICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNnB4XCIsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGdhcDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIjUwMFwiLFxuICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4+8J+OsCBMb3R0byBXaW5uaW5nczwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBnYXA6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxsYWJlbCBzdHlsZT17eyBtaW5XaWR0aDogXCI3MHB4XCIsIGZvbnRTaXplOiBcIjAuOXJlbVwiIH19PlxuICAgICAgICAgICAgICAgIEFtb3VudDpcbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgcmVmPXtsb3R0b1dpbm5pbmdzUmVmfVxuICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjAxXCJcbiAgICAgICAgICAgICAgICBtaW49XCIwXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17bG90dG9XaW5uaW5nc31cbiAgICAgICAgICAgICAgICBvbkZvY3VzPXsoKSA9PiBoYW5kbGVJbnB1dEZvY3VzKGxvdHRvV2lubmluZ3NSZWYsIHRydWUpfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgIHNldExvdHRvV2lubmluZ3ModmFsdWUgPT09IFwiXCIgPyBcIlwiIDogTnVtYmVyKHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjRyZW1cIixcbiAgICAgICAgICAgICAgICAgIGZsZXg6IDEsXG4gICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICNkZGRcIixcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiMC4wMFwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgeyhOdW1iZXIobG90dG9XaW5uaW5ncykgfHwgMCkgPiAwICYmIChcbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjhyZW1cIixcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiMyOGE3NDVcIixcbiAgICAgICAgICAgICAgICAgIGZvbnRTdHlsZTogXCJpdGFsaWNcIixcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAg8J+SsCBDdXN0b21lciB3b24gJHsoTnVtYmVyKGxvdHRvV2lubmluZ3MpIHx8IDApLnRvRml4ZWQoMil9IGluXG4gICAgICAgICAgICAgICAgbG90dGVyeVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoZWNrb3V0LXN1bW1hcnlcIj5cbiAgICAgICAgICAgIHsoKCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbFN1YnRvdGFsID0gY2FsY3VsYXRlU3VidG90YWwoKTsgLy8gSXRlbXMgdG90YWwgYmVmb3JlIGRpc2NvdW50XG4gICAgICAgICAgICAgIGNvbnN0IGRpc2NvdW50ID0gTnVtYmVyKHBhcnNlRmxvYXQoZGlzY291bnRBbW91bnQpIHx8IDApO1xuICAgICAgICAgICAgICBjb25zdCBzdWJ0b3RhbCA9IGNhbGN1bGF0ZVRvdGFsKCk7IC8vIEFmdGVyIGRpc2NvdW50XG4gICAgICAgICAgICAgIGNvbnN0IHRheCA9IGNhbGN1bGF0ZVRheCgpO1xuICAgICAgICAgICAgICBjb25zdCB0b3RhbCA9ICsoc3VidG90YWwgKyB0YXgpLnRvRml4ZWQoMik7XG4gICAgICAgICAgICAgIGNvbnN0IGNhc2hiYWNrID0gTnVtYmVyKHBhcnNlRmxvYXQoY2FzaGJhY2tBbW91bnQpIHx8IDApO1xuICAgICAgICAgICAgICBjb25zdCBsb3R0byA9IE51bWJlcihwYXJzZUZsb2F0KGxvdHRvV2lubmluZ3MpIHx8IDApO1xuICAgICAgICAgICAgICBjb25zdCBwYWlkQ2FzaCA9IE51bWJlcihwYXJzZUZsb2F0KGNhc2hBbW91bnQpIHx8IDApO1xuICAgICAgICAgICAgICBjb25zdCBwYWlkQ2FyZCA9IE51bWJlcihwYXJzZUZsb2F0KGNhcmRBbW91bnQpIHx8IDApO1xuICAgICAgICAgICAgICBjb25zdCBwYWlkVG90YWwgPSArKHBhaWRDYXNoICsgcGFpZENhcmQpLnRvRml4ZWQoMik7XG5cbiAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGZpbmFsIHRvdGFsIHdpdGggY2FzaGJhY2sgYW5kIGxvdHRvIHdpbm5pbmdzXG4gICAgICAgICAgICAgIGNvbnN0IGZpbmFsVG90YWwgPSB0b3RhbCArIGNhc2hiYWNrIC0gbG90dG87XG5cbiAgICAgICAgICAgICAgLy8gRm9yIGNhc2hiYWNrIHRyYW5zYWN0aW9ucywgcmVxdWlyZSBjYXJkIHBheW1lbnQgdG8gY292ZXIgdG90YWwgKyBjYXNoYmFja1xuICAgICAgICAgICAgICBsZXQgaXNTdWZmaWNpZW50O1xuICAgICAgICAgICAgICBpZiAoY2FzaGJhY2sgPiAwICYmIGxvdHRvID09PSAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG90YWxOZWVkZWQgPSB0b3RhbCArIGNhc2hiYWNrO1xuICAgICAgICAgICAgICAgIGlzU3VmZmljaWVudCA9IHBhaWRDYXJkICsgMC4wMDAxID49IHRvdGFsTmVlZGVkO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxvdHRvID4gMCkge1xuICAgICAgICAgICAgICAgIC8vIFdpdGggbG90dG8gd2lubmluZ3MsIGN1c3RvbWVyIG1heSBvd2UgbGVzcyBvciBldmVuIGdldCBtb25leSBiYWNrXG4gICAgICAgICAgICAgICAgaXNTdWZmaWNpZW50ID1cbiAgICAgICAgICAgICAgICAgIGZpbmFsVG90YWwgPD0gMCB8fCBwYWlkVG90YWwgKyAwLjAwMDEgPj0gZmluYWxUb3RhbDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpc1N1ZmZpY2llbnQgPSBwYWlkVG90YWwgKyAwLjAwMDEgPj0gdG90YWw7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBjb25zdCBjaGFuZ2UgPVxuICAgICAgICAgICAgICAgIGNhc2hiYWNrID4gMCAmJiBsb3R0byA9PT0gMFxuICAgICAgICAgICAgICAgICAgPyAwXG4gICAgICAgICAgICAgICAgICA6IE1hdGgubWF4KDAsICsocGFpZFRvdGFsIC0gZmluYWxUb3RhbCkudG9GaXhlZCgyKSk7XG5cbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgPFRvdGFsPlxuICAgICAgICAgICAgICAgICAgICB7Z2V0VGF4YWJsZVRvdGFsKCkgPiAwICYmIGdldE5vblRheGFibGVUb3RhbCgpID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+VGF4YWJsZTogJHtnZXRUYXhhYmxlVG90YWwoKS50b0ZpeGVkKDIpfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgTm9uLVRheGFibGU6ICR7Z2V0Tm9uVGF4YWJsZVRvdGFsKCkudG9GaXhlZCgyKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICB7ZGlzY291bnQgPiAwID8gKFxuICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICBJdGVtcyBTdWJ0b3RhbDogJHtvcmlnaW5hbFN1YnRvdGFsLnRvRml4ZWQoMil9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6IFwiI2U2NTEwMFwiLCBmb250V2VpZ2h0OiBcIjUwMFwiIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICBEaXNjb3VudDogLSR7ZGlzY291bnQudG9GaXhlZCgyKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5TdWJ0b3RhbDogJHtzdWJ0b3RhbC50b0ZpeGVkKDIpfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXY+U3VidG90YWw6ICR7c3VidG90YWwudG9GaXhlZCgyKX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAge3RheCA+IDAgJiYgPGRpdj5IU1QgKDEzJSk6ICR7dGF4LnRvRml4ZWQoMil9PC9kaXY+fVxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlB1cmNoYXNlIFRvdGFsOiAke3RvdGFsLnRvRml4ZWQoMil9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIHtjYXNoYmFjayA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6IFwiI2U2N2UyMlwiLCBmb250V2VpZ2h0OiBcIjUwMFwiIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgQ2FzaGJhY2s6ICR7Y2FzaGJhY2sudG9GaXhlZCgyKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAge051bWJlcihwYXJzZUZsb2F0KGNhc2hiYWNrRmVlKSB8fCAwKSA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6IFwiI2QzNTQwMFwiLCBmb250V2VpZ2h0OiBcIjUwMFwiIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgQ2FzaGJhY2sgRmVlOiAkXG4gICAgICAgICAgICAgICAgICAgICAgICB7TnVtYmVyKHBhcnNlRmxvYXQoY2FzaGJhY2tGZWUpIHx8IDApLnRvRml4ZWQoMil9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIHtsb3R0byA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6IFwiIzI4YTc0NVwiLCBmb250V2VpZ2h0OiBcIjUwMFwiIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgTG90dG8gV2lubmluZ3M6IC0ke2xvdHRvLnRvRml4ZWQoMil9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmluYWwtdG90YWxcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7aXNCYWxhbmNlUGF5bWVudCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiIzE3YTJiOFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCI2MDBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogXCI1cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+PpiBDdXN0b21lciBCYWxhbmNlIFBheW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUGF5aW5nIGZvcjp7XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkQ3VzdG9tZXI/Lm5hbWUgfHwgXCJTZWxlY3RlZCBDdXN0b21lclwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDdXJyZW50IEJhbGFuY2U6ICRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VsZWN0ZWRDdXN0b21lcj8uYmFsYW5jZT8udG9GaXhlZCgyKSB8fCBcIjAuMDBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgVG90YWwgQW1vdW50IER1ZTogJFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZmluYWxUb3RhbCA+PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBmaW5hbFRvdGFsLnRvRml4ZWQoMilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGAoJHtNYXRoLmFicyhmaW5hbFRvdGFsKS50b0ZpeGVkKDIpfSkgQ3JlZGl0YH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9Ub3RhbD5cblxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblRvcDogXCIxcmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgICAgICAgICAgICAgICBnYXA6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHsvKiBDcmVkaXQgU2FsZSBTZWN0aW9uICovfVxuICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmZmYzY2RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIycHggc29saWQgI2ZmYzEwN1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjhweFwiLFxuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7LyogQ3JlZGl0IFNhbGUgVG9nZ2xlICovfVxuICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGdhcDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCI2MDBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMS4xcmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiM4NTY0MDRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBpc0NyZWRpdFNhbGUgPyBcIjAuNzVyZW1cIiA6IFwiMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2lzQ3JlZGl0U2FsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXNDcmVkaXRTYWxlKGUudGFyZ2V0LmNoZWNrZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZS50YXJnZXQuY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q3JlZGl0Q3VzdG9tZXJOYW1lKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q3JlZGl0QW1vdW50KDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDbGVhciBleGlzdGluZyBwYXltZW50cyB3aGVuIGVudGVyaW5nIGNyZWRpdCBtb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDYXNoQW1vdW50KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2FyZEFtb3VudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldENyZWRpdEFtb3VudCgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHRyYW5zZm9ybTogXCJzY2FsZSgxLjIpXCIgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj7wn5KzIENyZWRpdCBTYWxlIE1vZGU8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cblxuICAgICAgICAgICAgICAgICAgICAgIHtpc0NyZWRpdFNhbGUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIENyZWRpdCBTYWxlIElucHV0cyAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Cb3R0b206IFwiMC43NXJlbVwiIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYXA6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluV2lkdGg6IFwiODBweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuOXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiM4NTY0MDRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIjUwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDdXN0b21lcjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhcDogXCIwLjI1cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17Y3JlZGl0Q3VzdG9tZXJOYW1lUmVmfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Y3JlZGl0Q3VzdG9tZXJOYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRm9jdXM9eygpID0+IGhhbmRsZUlucHV0Rm9jdXMoY3JlZGl0Q3VzdG9tZXJOYW1lUmVmLCBmYWxzZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlQ3VzdG9tZXJOYW1lQ2hhbmdlKGUudGFyZ2V0LnZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjRyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsZXg6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICNkZGRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRW50ZXIgY3VzdG9tZXIgbmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtmZXRjaEV4aXN0aW5nQ3VzdG9tZXJzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNHJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiM2Yzc1N2RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIndoaXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuOHJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJSZWZyZXNoIGN1c3RvbWVyIGxpc3RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+UhFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogQ3VzdG9tZXIgc3VnZ2VzdGlvbnMgZHJvcGRvd24gKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzaG93Q3VzdG9tZXJTdWdnZXN0aW9ucyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ3aGl0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICNkZGRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3hTaGFkb3c6IFwiMCAycHggOHB4IHJnYmEoMCwwLDAsMC4xKVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IDEwMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEhlaWdodDogXCIxNTBweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6IFwiYXV0b1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRDdXN0b21lcnMgPSBBcnJheS5pc0FycmF5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nQ3VzdG9tZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGV4aXN0aW5nQ3VzdG9tZXJzLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGN1c3RvbWVyKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbWVyICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXIuY3VzdG9tZXJOYW1lICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXIuY3VzdG9tZXJOYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluY2x1ZGVzKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVkaXRDdXN0b21lck5hbWUudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogW107XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhhY3RNYXRjaCA9IGZpbHRlcmVkQ3VzdG9tZXJzLmZpbmQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGN1c3RvbWVyKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXIuY3VzdG9tZXJOYW1lLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVkaXRDdXN0b21lck5hbWUudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmaWx0ZXJlZEN1c3RvbWVycy5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjdXN0b21lciwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlQ3VzdG9tZXJTZWxlY3Rpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyQm90dG9tOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiMXB4IHNvbGlkICNlZWVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3BhY2UtYmV0d2VlblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VFbnRlcj17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChlLnRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiI2Y1ZjVmNVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGUudGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ3aGl0ZVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VzdG9tZXIuY3VzdG9tZXJOYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjhyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbWVyLmJhbGFuY2UgPiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCIjZGMzNTQ1XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIiMyOGE3NDVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIjUwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtNYXRoLmFicyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lci5iYWxhbmNlIHx8IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKS50b0ZpeGVkKDIpfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1c3RvbWVyLmJhbGFuY2UgPiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIm93ZWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJjcmVkaXRcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIEFkZCBOZXcgQ3VzdG9tZXIgb3B0aW9uIHdoZW4gbm8gZXhhY3QgbWF0Y2ggZm91bmQgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3JlZGl0Q3VzdG9tZXJOYW1lLnRyaW0oKS5sZW5ndGggPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFleGFjdE1hdGNoICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBuZXcgY3VzdG9tZXIgd2l0aCBlbnRlcmVkIG5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3Q3VzdG9tZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXJOYW1lOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlZGl0Q3VzdG9tZXJOYW1lLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWxhbmNlOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTmV3Q3VzdG9tZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUN1c3RvbWVyU2VsZWN0aW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0N1c3RvbWVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyVG9wOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkQ3VzdG9tZXJzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCIycHggc29saWQgI2U5ZWNlZlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2U4ZjVlOFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FwOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIjUwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIjMTU1NzI0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGUudGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIjZDRlZGRhXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZS50YXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiNlOGY1ZThcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj7inpU8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWRkIFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjcmVkaXRDdXN0b21lck5hbWUudHJpbSgpfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzIG5ldyBjcmVkaXQgY3VzdG9tZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBEZWJ1ZyBpbmZvIGZvciBjdXN0b21lciBkYXRhICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtleGlzdGluZ0N1c3RvbWVycy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjhyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIjNmM3NTdkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC4yNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZjhmOWZhXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2FkZWQge2V4aXN0aW5nQ3VzdG9tZXJzLmxlbmd0aH0gY3VzdG9tZXJzLntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NyZWRpdEN1c3RvbWVyTmFtZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBTZWFyY2hpbmcgZm9yOiBcIiR7Y3JlZGl0Q3VzdG9tZXJOYW1lfVwiYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogQ3VzdG9tZXIgYmFsYW5jZSBkaXNwbGF5ICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZEN1c3RvbWVyICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbWVyQmFsYW5jZSA+IDAgPyBcIiNmOGQ3ZGFcIiA6IFwiI2Q0ZWRkYVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogYDFweCBzb2xpZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXJCYWxhbmNlID4gMCA/IFwiI2Y1YzZjYlwiIDogXCIjYzNlNmNiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuOXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPntzZWxlY3RlZEN1c3RvbWVyLmN1c3RvbWVyTmFtZX08L3N0cm9uZz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0gQ3VycmVudCBCYWxhbmNlOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXJCYWxhbmNlID4gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCIjNzIxYzI0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiIzE1NTcyNFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCI2MDBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbkxlZnQ6IFwiMC4yNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke01hdGguYWJzKGN1c3RvbWVyQmFsYW5jZSkudG9GaXhlZCgyKX17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1c3RvbWVyQmFsYW5jZSA+IDAgPyBcIm93ZWRcIiA6IFwiY3JlZGl0XCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjdyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiM2Yzc1N2RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblRvcDogXCIwLjI1cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElEOiB7c2VsZWN0ZWRDdXN0b21lci5pZH0gfCBMYXN0IHVwZGF0ZWQ6e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtuZXcgRGF0ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkQ3VzdG9tZXIudXBkYXRlZEF0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKS50b0xvY2FsZVRpbWVTdHJpbmcoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1YnRvdGFsID0gY2FsY3VsYXRlVG90YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXggPSBjYWxjdWxhdGVUYXgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b3RhbCA9ICsoc3VidG90YWwgKyB0YXgpLnRvRml4ZWQoMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FzaGJhY2sgPSBOdW1iZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KGNhc2hiYWNrQW1vdW50KSB8fCAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsb3R0byA9IE51bWJlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQobG90dG9XaW5uaW5ncykgfHwgMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmluYWxUb3RhbCA9IHRvdGFsICsgY2FzaGJhY2sgLSBsb3R0bztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWlkQ2FzaCA9IE51bWJlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQoY2FzaEFtb3VudCkgfHwgMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFpZENhcmQgPSBOdW1iZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KGNhcmRBbW91bnQpIHx8IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhaWRUb3RhbCA9IHBhaWRDYXNoICsgcGFpZENhcmQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3BlY2lmaWVkQ3JlZGl0QW1vdW50ID0gTnVtYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChjcmVkaXRBbW91bnQpIHx8IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXNlIHNwZWNpZmllZCBjcmVkaXQgYW1vdW50IG9yIGNhbGN1bGF0ZSBmcm9tIHBheW1lbnQgZGlmZmVyZW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNyZWRpdEJhbGFuY2UgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BlY2lmaWVkQ3JlZGl0QW1vdW50ID4gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHNwZWNpZmllZENyZWRpdEFtb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IE1hdGgubWF4KDAsIGZpbmFsVG90YWwgLSBwYWlkVG90YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcXVpcmVkUGF5bWVudCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGVjaWZpZWRDcmVkaXRBbW91bnQgPiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZmluYWxUb3RhbCAtIHNwZWNpZmllZENyZWRpdEFtb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHBhaWRUb3RhbDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcGVjaWZpZWRDcmVkaXRBbW91bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTcGVjaWZpZWQgY3JlZGl0IGFtb3VudCBtb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXltZW50TmVlZGVkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxUb3RhbCAtIHNwZWNpZmllZENyZWRpdEFtb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBheW1lbnRTdGF0dXMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWlkVG90YWwgPj0gcGF5bWVudE5lZWRlZCAtIDAuMDAxO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogcGF5bWVudFN0YXR1c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiI2U4ZjVlOFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCIjZmZmM2NkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IGAxcHggc29saWQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF5bWVudFN0YXR1cyA/IFwiIzI4YTc0NVwiIDogXCIjZmZjMTA3XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuOXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz5TcGVjaWZpZWQgQ3JlZGl0IE1vZGU6PC9zdHJvbmc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIO+/vSBVbnBhaWQgQmFsYW5jZTogJFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NwZWNpZmllZENyZWRpdEFtb3VudC50b0ZpeGVkKDIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn5KwIFBheW1lbnQgTmVlZGVkOiAkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cGF5bWVudE5lZWRlZC50b0ZpeGVkKDIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn5OKIFBheW1lbnQgU3RhdHVzOiAke3BhaWRUb3RhbC50b0ZpeGVkKDIpfSAvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3BheW1lbnROZWVkZWQudG9GaXhlZCgyKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IXBheW1lbnRTdGF0dXMgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNkYzM1NDVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIjUwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblRvcDogXCIwLjI1cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKaoO+4jyBOZWVkICRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyhwYXltZW50TmVlZGVkIC0gcGFpZFRvdGFsKS50b0ZpeGVkKDIpfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9yZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFpZFRvdGFsID4gMCAmJiBjcmVkaXRCYWxhbmNlID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2U4ZjVlOFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjMjhhNzQ1XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC45cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPkF1dG8tQ2FsY3VsYXRlIE1vZGU6PC9zdHJvbmc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3BhaWRDYXNoID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PvCfkrUgQ2FzaDogJHtwYWlkQ2FzaC50b0ZpeGVkKDIpfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3BhaWRDYXJkID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PvCfkrMgQ2FyZDogJHtwYWlkQ2FyZC50b0ZpeGVkKDIpfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiI2RjMzU0NVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIjUwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn5OdIENyZWRpdCBCYWxhbmNlOiAkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3JlZGl0QmFsYW5jZS50b0ZpeGVkKDIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYWlkVG90YWwgPj0gZmluYWxUb3RhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2U4ZjVlOFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjMjhhNzQ1XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC45cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKchXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRnVsbHkgUGFpZCAtIE5vIENyZWRpdCBCYWxhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHJvbmc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2Y4ZDdkYVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjZGMzNTQ1XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC45cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCfk517XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZ1bGwgQ3JlZGl0OiAke2NyZWRpdEJhbGFuY2UudG9GaXhlZCgyKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSkoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIHsvKiBQYXltZW50IElucHV0IEZpZWxkcyAtIEFsd2F5cyBWaXNpYmxlICovfVxuICAgICAgICAgICAgICAgICAgICB7IWlzQ3JlZGl0U2FsZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGdhcDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwic3BhY2UtYmV0d2VlblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYXA6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXthdXRvRmlsbE90aGVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEF1dG9GaWxsT3RoZXIoISFlLnRhcmdldC5jaGVja2VkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgZm9udFNpemU6IFwiMC45cmVtXCIgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0by1maWxsIG90aGVyIHBheW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZm9udFNpemU6IFwiMC44NXJlbVwiLCBjb2xvcjogXCIjN2Y4YzhkXCIgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFRvZ2dsZSB0byBhdXRvbWF0aWNhbGx5IGZpbGwgdGhlIG90aGVyIGZpZWxkXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2FwOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWluV2lkdGg6IFwiODBweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoTnVtYmVyKGNhc2hiYWNrQW1vdW50KSB8fCAwKSA+IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCIjOTVhNWE2XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJpbmhlcml0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIENhc2g6XG4gICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17Y2FzaEFtb3VudFJlZn1cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgc3RlcD1cIjAuMDFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgbWluPVwiMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Y2FzaEFtb3VudH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXsoTnVtYmVyKGNhc2hiYWNrQW1vdW50KSB8fCAwKSA+IDB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkZvY3VzPXsoKSA9PiBoYW5kbGVJbnB1dEZvY3VzKGNhc2hBbW91bnRSZWYsIHRydWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldExhc3RFZGl0ZWQoXCJjYXNoXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFsd2F5cyBzZXQgdGhlIHJhdyB2YWx1ZSBmaXJzdCB0byBhbGxvdyBwcm9wZXIgdHlwaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldENhc2hBbW91bnQodmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgZG8gdmFsaWRhdGlvbiBhbmQgYXV0by1maWxsIGlmIHZhbHVlIGlzIG5vdCBlbXB0eSBhbmQgbm90IGN1cnJlbnRseSBiZWluZyB0eXBlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBOdW1iZXIodmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ3JlZGl0U2FsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBpcyBhIGJhbGFuY2UgcGF5bWVudCAobm8gaXRlbXMgaW4gY2FydClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQmFsYW5jZVBheW1lbnQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJ0Lmxlbmd0aCA9PT0gMCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEN1c3RvbWVyICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbWVyQmFsYW5jZSA+IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0JhbGFuY2VQYXltZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvciBiYWxhbmNlIHBheW1lbnRzLCBhbGxvdyBhbnkgYW1vdW50IHVwIHRvIHRoZSBjdXN0b21lcidzIGJhbGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsaWRDYXNoQW1vdW50ID0gTWF0aC5taW4oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbWVyQmFsYW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VkID4gY3VzdG9tZXJCYWxhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2FzaEFtb3VudChTdHJpbmcodmFsaWRDYXNoQW1vdW50KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgY2FyZCB3aGVuIGNhc2ggaXMgZW50ZXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRDYXNoQW1vdW50ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldENhcmRBbW91bnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3IgcmVndWxhciBjcmVkaXQgc2FsZXMgd2l0aCBpdGVtcyBpbiBjYXJ0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdWJ0b3RhbCA9IGNhbGN1bGF0ZVRvdGFsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXggPSBjYWxjdWxhdGVUYXgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsID0gKyhzdWJ0b3RhbCArIHRheCkudG9GaXhlZCgyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhc2hiYWNrID0gTnVtYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KGNhc2hiYWNrQW1vdW50KSB8fCAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbG90dG8gPSBOdW1iZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQobG90dG9XaW5uaW5ncykgfHwgMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsVG90YWwgPSB0b3RhbCArIGNhc2hiYWNrIC0gbG90dG87XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50Q3JlZGl0ID0gTnVtYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KGNyZWRpdEFtb3VudCkgfHwgMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbWFpbmluZ0Ftb3VudCA9IE1hdGgubWF4KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbFRvdGFsIC0gY3VycmVudENyZWRpdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgY3VzdG9tZXIgaGFzIGV4aXN0aW5nIGJhbGFuY2UsIGFsbG93IHBheW1lbnQgdXAgdG8gdHJhbnNhY3Rpb24gdG90YWwgKyBleGlzdGluZyBiYWxhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWF4QWxsb3dlZFBheW1lbnQgPSByZW1haW5pbmdBbW91bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRDdXN0b21lciAmJiBjdXN0b21lckJhbGFuY2UgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEFsbG93ZWRQYXltZW50ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbFRvdGFsICsgY3VzdG9tZXJCYWxhbmNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBbGxvdyBjYXNoIHVwIHRvIG1heCBhbGxvd2VkIHBheW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbGlkQ2FzaEFtb3VudCA9IE1hdGgubWluKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEFsbG93ZWRQYXltZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZCA+IG1heEFsbG93ZWRQYXltZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldENhc2hBbW91bnQoU3RyaW5nKHZhbGlkQ2FzaEFtb3VudCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB1c2VyIGVudGVycyBjYXNoLCBjbGVhciBjYXJkIChvbmx5IG9uZSBwYXltZW50IG1ldGhvZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZENhc2hBbW91bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldENhcmRBbW91bnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF1dG9GaWxsT3RoZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlZ3VsYXIgbW9kZSBhdXRvLWZpbGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1YnRvdGFsID0gY2FsY3VsYXRlVG90YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRheCA9IGNhbGN1bGF0ZVRheCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG90YWwgPSArKHN1YnRvdGFsICsgdGF4KS50b0ZpeGVkKDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3Q2FyZCA9IE1hdGgubWF4KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArKHRvdGFsIC0gcGFyc2VkKS50b0ZpeGVkKDIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2FyZEFtb3VudChTdHJpbmcobmV3Q2FyZCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC40cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZsZXg6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogaXNDcmVkaXRTYWxlID8gXCIjZjhmOWZhXCIgOiBcIndoaXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpc0NyZWRpdFNhbGUgPyBcIkVudGVyIHBhcnRpYWwgcGF5bWVudFwiIDogXCIwLjAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2FwOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIHsvKiBTd2FwIEJ1dHRvbiAtIEFic29sdXRlbHkgcG9zaXRpb25lZCBiZXR3ZWVuIENhc2ggYW5kIENhcmQgKi99XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17c3dhcFBheW1lbnRzfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzQ3JlZGl0U2FsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IFwiNDBweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IFwiLTE1cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogaXNDcmVkaXRTYWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIiNmOGY5ZmFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjMzQ5OGRiLCAjMjk4MGI5KVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNTAlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjIwcHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjIwcHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBpc0NyZWRpdFNhbGUgPyBcIm5vdC1hbGxvd2VkXCIgOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwid2hpdGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMTBweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcImJvbGRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBib3hTaGFkb3c6IGlzQ3JlZGl0U2FsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJub25lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiMCAxcHggNHB4IHJnYmEoNTIsIDE1MiwgMjE5LCAwLjMpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IFwiYWxsIDAuMnMgZWFzZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiBpc0NyZWRpdFNhbGUgPyAwLjQgOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IDEwLFxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VFbnRlcj17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0NyZWRpdFNhbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC5zdHlsZS50cmFuc2Zvcm0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJyb3RhdGUoMTgwZGVnKSBzY2FsZSgxLjIpXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUuYm94U2hhZG93ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiMCAycHggNnB4IHJnYmEoNTIsIDE1MiwgMjE5LCAwLjQpXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNDcmVkaXRTYWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUudHJhbnNmb3JtID0gXCJyb3RhdGUoMGRlZykgc2NhbGUoMSlcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC5zdHlsZS5ib3hTaGFkb3cgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIwIDFweCA0cHggcmdiYSg1MiwgMTUyLCAyMTksIDAuMylcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaXNDcmVkaXRTYWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlN3YXAgZGlzYWJsZWQgaW4gY3JlZGl0IG1vZGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJTd2FwIGNhc2ggYW5kIGNhcmQgYW1vdW50c1wiXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAg4oeFXG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIHN0eWxlPXt7IG1pbldpZHRoOiBcIjgwcHhcIiB9fT5DYXJkOjwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICByZWY9e2NhcmRBbW91bnRSZWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjAxXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbj1cIjBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2NhcmRBbW91bnR9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkZvY3VzPXsoKSA9PiBoYW5kbGVJbnB1dEZvY3VzKGNhcmRBbW91bnRSZWYsIHRydWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldExhc3RFZGl0ZWQoXCJjYXJkXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFsd2F5cyBzZXQgdGhlIHJhdyB2YWx1ZSBmaXJzdCB0byBhbGxvdyBwcm9wZXIgdHlwaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldENhcmRBbW91bnQodmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgZG8gdmFsaWRhdGlvbiBhbmQgYXV0by1maWxsIGlmIHZhbHVlIGlzIG5vdCBlbXB0eSBhbmQgbm90IGN1cnJlbnRseSBiZWluZyB0eXBlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBOdW1iZXIodmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ3JlZGl0U2FsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBpcyBhIGJhbGFuY2UgcGF5bWVudCAobm8gaXRlbXMgaW4gY2FydClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQmFsYW5jZVBheW1lbnQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJ0Lmxlbmd0aCA9PT0gMCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEN1c3RvbWVyICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbWVyQmFsYW5jZSA+IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0JhbGFuY2VQYXltZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvciBiYWxhbmNlIHBheW1lbnRzLCBhbGxvdyBhbnkgYW1vdW50IHVwIHRvIHRoZSBjdXN0b21lcidzIGJhbGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsaWRDYXJkQW1vdW50ID0gTWF0aC5taW4oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbWVyQmFsYW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VkID4gY3VzdG9tZXJCYWxhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2FyZEFtb3VudChTdHJpbmcodmFsaWRDYXJkQW1vdW50KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgY2FzaCB3aGVuIGNhcmQgaXMgZW50ZXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRDYXJkQW1vdW50ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldENhc2hBbW91bnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3IgcmVndWxhciBjcmVkaXQgc2FsZXMgd2l0aCBpdGVtcyBpbiBjYXJ0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdWJ0b3RhbCA9IGNhbGN1bGF0ZVRvdGFsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXggPSBjYWxjdWxhdGVUYXgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsID0gKyhzdWJ0b3RhbCArIHRheCkudG9GaXhlZCgyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhc2hiYWNrID0gTnVtYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KGNhc2hiYWNrQW1vdW50KSB8fCAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbG90dG8gPSBOdW1iZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQobG90dG9XaW5uaW5ncykgfHwgMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsVG90YWwgPSB0b3RhbCArIGNhc2hiYWNrIC0gbG90dG87XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50Q3JlZGl0ID0gTnVtYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KGNyZWRpdEFtb3VudCkgfHwgMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbWFpbmluZ0Ftb3VudCA9IE1hdGgubWF4KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbFRvdGFsIC0gY3VycmVudENyZWRpdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgY3VzdG9tZXIgaGFzIGV4aXN0aW5nIGJhbGFuY2UsIGFsbG93IHBheW1lbnQgdXAgdG8gdHJhbnNhY3Rpb24gdG90YWwgKyBleGlzdGluZyBiYWxhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWF4QWxsb3dlZFBheW1lbnQgPSByZW1haW5pbmdBbW91bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRDdXN0b21lciAmJiBjdXN0b21lckJhbGFuY2UgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEFsbG93ZWRQYXltZW50ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbFRvdGFsICsgY3VzdG9tZXJCYWxhbmNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBbGxvdyBjYXJkIHVwIHRvIG1heCBhbGxvd2VkIHBheW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbGlkQ2FyZEFtb3VudCA9IE1hdGgubWluKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEFsbG93ZWRQYXltZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZCA+IG1heEFsbG93ZWRQYXltZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldENhcmRBbW91bnQoU3RyaW5nKHZhbGlkQ2FyZEFtb3VudCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB1c2VyIGVudGVycyBjYXJkLCBjbGVhciBjYXNoIChvbmx5IG9uZSBwYXltZW50IG1ldGhvZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZENhcmRBbW91bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldENhc2hBbW91bnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF1dG9GaWxsT3RoZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlZ3VsYXIgbW9kZSBhdXRvLWZpbGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1YnRvdGFsID0gY2FsY3VsYXRlVG90YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRheCA9IGNhbGN1bGF0ZVRheCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG90YWwgPSArKHN1YnRvdGFsICsgdGF4KS50b0ZpeGVkKDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3Q2FzaCA9IE1hdGgubWF4KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArKHRvdGFsIC0gcGFyc2VkKS50b0ZpeGVkKDIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2FzaEFtb3VudChTdHJpbmcobmV3Q2FzaCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC40cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZsZXg6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogaXNDcmVkaXRTYWxlID8gXCIjZjhmOWZhXCIgOiBcIndoaXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpc0NyZWRpdFNhbGUgPyBcIkVudGVyIHBhcnRpYWwgcGF5bWVudFwiIDogXCIwLjAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgIHsvKiBQYXltZW50IFRlcm1pbmFsIEJ1dHRvbiAqL31cbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0b3RhbCBmb3IgdGVybWluYWwgcGF5bWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdWJ0b3RhbCA9IGNhbGN1bGF0ZVRvdGFsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRheCA9IGNhbGN1bGF0ZVRheCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b3RhbCA9ICsoc3VidG90YWwgKyB0YXgpLnRvRml4ZWQoMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhc2hiYWNrID0gTnVtYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQoY2FzaGJhY2tBbW91bnQpIHx8IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbG90dG8gPSBOdW1iZXIocGFyc2VGbG9hdChsb3R0b1dpbm5pbmdzKSB8fCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm90ZTogdG90YWwgYWxyZWFkeSBpbmNsdWRlcyBjcmVkaXQgY2FyZCBjaGFyZ2UgZnJvbSBjYWxjdWxhdGVUb3RhbCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsVG90YWwgPSB0b3RhbCArIGNhc2hiYWNrIC0gbG90dG87XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJvY2VzcyB0ZXJtaW5hbCBwYXltZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVRlcm1pbmFsUGF5bWVudChmaW5hbFRvdGFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNDcmVkaXRTYWxlIHx8IGNhcnQubGVuZ3RoID09PSAwfVxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjRyZW0gMC44cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0NyZWRpdFNhbGUgfHwgY2FydC5sZW5ndGggPT09IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCIjZjhmOWZhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCIjNmY0MmMxXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQ3JlZGl0U2FsZSB8fCBjYXJ0Lmxlbmd0aCA9PT0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIiM2Yzc1N2RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIndoaXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI2cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQ3JlZGl0U2FsZSB8fCBjYXJ0Lmxlbmd0aCA9PT0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIm5vdC1hbGxvd2VkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuODVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCI2MDBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luTGVmdDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogXCJhbGwgMC4ycyBlYXNlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IGlzQ3JlZGl0U2FsZSB8fCBjYXJ0Lmxlbmd0aCA9PT0gMCA/IDAuNiA6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpc0NyZWRpdFNhbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiVGVybWluYWwgZGlzYWJsZWQgaW4gY3JlZGl0IG1vZGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogY2FydC5sZW5ndGggPT09IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiQWRkIGl0ZW1zIHRvIGNhcnQgZmlyc3RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJQcm9jZXNzIHBheW1lbnQgdmlhIHRlcm1pbmFsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICDwn5KzIFRlcm1pbmFsXG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIHsvKiBDYXNoYmFjayBDYXJkLU9ubHkgTm90aWNlICovfVxuICAgICAgICAgICAgICAgICAgICB7KE51bWJlcihjYXNoYmFja0Ftb3VudCkgfHwgMCkgPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2U4ZjRmZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICM4NWMxZTlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjg1cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiMyZTg2YzFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIjUwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIPCfmqt7XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBDYXNoIHBheW1lbnQgZGlzYWJsZWQgZm9yIGNhc2hiYWNrIHRyYW5zYWN0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHJvbmc+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC44cmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiBcIjAuMjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIEN1c3RvbWVyIG11c3QgcGF5IGJ5IGNhcmQg4oCiIENhc2ggcmVnaXN0ZXI6IC1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgeyhOdW1iZXIoY2FzaGJhY2tBbW91bnQpIHx8IDApLnRvRml4ZWQoMil9ICt7XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsoTnVtYmVyKGNhc2hiYWNrRmVlKSB8fCAwKS50b0ZpeGVkKDIpfSBwcm9maXRcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgIHshaXNDcmVkaXRTYWxlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAge2Nhc2hiYWNrID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZmZmM2NkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICNmZmVhYTdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblRvcDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz5DYXNoYmFjazogJHtjYXNoYmFjay50b0ZpeGVkKDIpfTwvc3Ryb25nPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBcIjAuODVyZW1cIiwgY29sb3I6IFwiIzg1NjQwNFwiIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVxdWlyZXMgY2FyZCBwYXltZW50OiAkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KHRvdGFsICsgY2FzaGJhY2spLnRvRml4ZWQoMil9IChQdXJjaGFzZTogJFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RvdGFsLnRvRml4ZWQoMil9ICsgQ2FzaGJhY2s6ICRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjYXNoYmFjay50b0ZpeGVkKDIpfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjhyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiI2Q2ODkxMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6IFwiMC4yNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIjUwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn5KzIEN1c3RvbWVyIHBheXMgYnkgY2FyZCDigKIg8J+StSBZb3UgZ2l2ZSAkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2FzaGJhY2sudG9GaXhlZCgyKX0gY2FzaCBmcm9tIHJlZ2lzdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBpc1N1ZmZpY2llbnQgPyBcIiMyZWNjNzFcIiA6IFwiI2U3NGMzY1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiNjAwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtpc1N1ZmZpY2llbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGBDYXJkIFBheW1lbnQ6ICQke3BhaWRDYXJkLnRvRml4ZWQoMil9JHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlID4gMCAmJiBjYXNoYmFjayA9PT0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYCDigJQgQ2hhbmdlOiAkJHtjaGFuZ2UudG9GaXhlZCgyKX1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9JHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzaGJhY2sgPiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBgIOKAlCBDYXNoYmFjayBHaXZlbjogJCR7Y2FzaGJhY2sudG9GaXhlZCgyKX1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogY2FzaGJhY2sgPiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBgQ2FyZCBwYXltZW50IG5lZWRlZDogJCR7KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbCArIGNhc2hiYWNrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLnRvRml4ZWQoMil9IChDdXJyZW50OiAkJHtwYWlkQ2FyZC50b0ZpeGVkKDIpfSlgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBgQW1vdW50IGR1ZTogJCR7KHRvdGFsIC0gcGFpZFRvdGFsKS50b0ZpeGVkKDIpfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAge3BheW1lbnRFcnJvciAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6IFwiI2U3NGMzY1wiIH19PntwYXltZW50RXJyb3J9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgIDxDaGVja291dEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3Byb2Nlc3NDaGVja291dH1cbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNDcmVkaXRTYWxlID8gZmFsc2UgOiAhaXNTdWZmaWNpZW50fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgeygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGEgYmFsYW5jZSBwYXltZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNCYWxhbmNlUGF5bWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWlkQ2FzaCA9IE51bWJlcihwYXJzZUZsb2F0KGNhc2hBbW91bnQpIHx8IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWlkQ2FyZCA9IE51bWJlcihwYXJzZUZsb2F0KGNhcmRBbW91bnQpIHx8IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXltZW50VG90YWwgPSBwYWlkQ2FzaCArIHBhaWRDYXJkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXN0b21lckJhbGFuY2UgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkQ3VzdG9tZXI/LmJhbGFuY2UgfHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nQmFsYW5jZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXJCYWxhbmNlIC0gcGF5bWVudFRvdGFsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXltZW50VG90YWwgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJFbnRlciBQYXltZW50IEFtb3VudFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlbWFpbmluZ0JhbGFuY2UgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBQYXkgJCR7cGF5bWVudFRvdGFsLnRvRml4ZWQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX0gKEJhbGFuY2UgUmVtYWluaW5nOiAkJHtyZW1haW5pbmdCYWxhbmNlLnRvRml4ZWQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX0pYDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFBheSAkJHtwYXltZW50VG90YWwudG9GaXhlZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfSAoQmFsYW5jZSBQYWlkKWA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0NyZWRpdFNhbGUpIHJldHVybiBcIlByb2Nlc3MgUGF5bWVudFwiO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdWJ0b3RhbCA9IGNhbGN1bGF0ZVRvdGFsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXggPSBjYWxjdWxhdGVUYXgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsID0gKyhzdWJ0b3RhbCArIHRheCkudG9GaXhlZCgyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhc2hiYWNrID0gTnVtYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KGNhc2hiYWNrQW1vdW50KSB8fCAwXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbG90dG8gPSBOdW1iZXIocGFyc2VGbG9hdChsb3R0b1dpbm5pbmdzKSB8fCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsVG90YWwgPSB0b3RhbCArIGNhc2hiYWNrIC0gbG90dG87XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWlkQ2FzaCA9IE51bWJlcihwYXJzZUZsb2F0KGNhc2hBbW91bnQpIHx8IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFpZENhcmQgPSBOdW1iZXIocGFyc2VGbG9hdChjYXJkQW1vdW50KSB8fCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhaWRUb3RhbCA9IHBhaWRDYXNoICsgcGFpZENhcmQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzcGVjaWZpZWRDcmVkaXRBbW91bnQgPSBOdW1iZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQoY3JlZGl0QW1vdW50KSB8fCAwXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3BlY2lmaWVkQ3JlZGl0QW1vdW50ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXltZW50TmVlZGVkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbFRvdGFsIC0gc3BlY2lmaWVkQ3JlZGl0QW1vdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFByb2Nlc3MgU2FsZSAoUGF5bWVudDogJCR7cGF5bWVudE5lZWRlZC50b0ZpeGVkKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX0sIENyZWRpdDogJCR7c3BlY2lmaWVkQ3JlZGl0QW1vdW50LnRvRml4ZWQoMil9KWA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjcmVkaXRCYWxhbmNlID0gTWF0aC5tYXgoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbFRvdGFsIC0gcGFpZFRvdGFsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYWlkVG90YWwgPiAwICYmIGNyZWRpdEJhbGFuY2UgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBQcm9jZXNzIFBhcnRpYWwgUGF5bWVudCAoQ3JlZGl0OiAkJHtjcmVkaXRCYWxhbmNlLnRvRml4ZWQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX0pYDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYWlkVG90YWwgPj0gZmluYWxUb3RhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlByb2Nlc3MgRnVsbCBQYXltZW50XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiQ3JlYXRlIEZ1bGwgQ3JlZGl0IFNhbGVcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0pKCl9XG4gICAgICAgICAgICAgICAgICAgIDwvQ2hlY2tvdXRCdXR0b24+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pKCl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvQ2hlY2tvdXRQYW5lbD5cbiAgICAgIDwvUE9TR3JpZD5cbiAgICAgIFxuICAgICAgPC9Db250YWluZXI+XG4gICAgPC9QT1NXcmFwcGVyPlxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQT1NQYWdlKCkge1xuICByZXR1cm4gKFxuICAgIDxTdXNwZW5zZVxuICAgICAgZmFsbGJhY2s9e1xuICAgICAgICA8ZGl2IHN0eWxlPXt7IHBhZGRpbmc6IFwiMnJlbVwiLCB0ZXh0QWxpZ246IFwiY2VudGVyXCIgfX0+XG4gICAgICAgICAgTG9hZGluZyBQT1Mgc3lzdGVtLi4uXG4gICAgICAgIDwvZGl2PlxuICAgICAgfVxuICAgID5cbiAgICAgIDxQT1NDb250ZW50IC8+XG4gICAgPC9TdXNwZW5zZT5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJlZiIsIlN1c3BlbnNlIiwidXNlU2VhcmNoUGFyYW1zIiwidXNlSW52ZW50b3J5TWFuYWdlciIsInVzZUFwcERpc3BhdGNoIiwidXNlRW5zdXJlSW52ZW50b3J5IiwidXBkYXRlSW52ZW50b3J5QWZ0ZXJUcmFuc2FjdGlvbiIsInVwZGF0ZUl0ZW1TdG9ja0xvY2FsIiwibG9hZEludmVudG9yeSIsIkNvbnRhaW5lciIsIlBPU0dyaWQiLCJQcm9kdWN0c1BhbmVsIiwiQ2hlY2tvdXRQYW5lbCIsIlByb2R1Y3RJdGVtIiwiQ2FydEl0ZW0iLCJTZWFyY2hCYXIiLCJCdXR0b24iLCJDYXRlZ29yeUZpbHRlciIsIlRvdGFsIiwiQ2hlY2tvdXRCdXR0b24iLCJSZWNlaXB0U2VjdGlvbiIsIk9uU2NyZWVuS2V5Ym9hcmQiLCJzdHlsZWQiLCJQT1NXcmFwcGVyIiwiZGl2IiwiS2V5Ym9hcmRBcmVhIiwiaW5pdGlhbEludmVudG9yeSIsImlkIiwibmFtZSIsImNhdGVnb3J5IiwicHJpY2UiLCJzdG9jayIsImxvd1N0b2NrVGhyZXNob2xkIiwidGF4YWJsZSIsIlBPU0NvbnRlbnQiLCJkaXNwYXRjaCIsIml0ZW1zIiwiaW52ZW50b3J5IiwibG9hZGluZyIsImludmVudG9yeUxvYWRpbmciLCJjYXRlZ29yaWVzIiwiZ2V0RmlsdGVyZWRJbnZlbnRvcnkiLCJpbnZlbnRvcnlMb2FkZWQiLCJzZWFyY2hQYXJhbXMiLCJjYXJ0Iiwic2V0Q2FydCIsInNlYXJjaFRlcm0iLCJzZXRTZWFyY2hUZXJtIiwiY2F0ZWdvcnlGaWx0ZXIiLCJzZXRDYXRlZ29yeUZpbHRlciIsInNlYXJjaElucHV0UmVmIiwiY2FzaEFtb3VudFJlZiIsImNhcmRBbW91bnRSZWYiLCJkaXNjb3VudFJlZiIsImNhc2hiYWNrQW1vdW50UmVmIiwiY2FzaGJhY2tGZWVSZWYiLCJsb3R0b1dpbm5pbmdzUmVmIiwiY3JlZGl0Q3VzdG9tZXJOYW1lUmVmIiwiYmFyY29kZUJ1ZmZlciIsInNldEJhcmNvZGVCdWZmZXIiLCJsYXN0S2V5VGltZSIsInNldExhc3RLZXlUaW1lIiwic2hvd1JlY2VpcHQiLCJzZXRTaG93UmVjZWlwdCIsImxhc3RUcmFuc2FjdGlvbiIsInNldExhc3RUcmFuc2FjdGlvbiIsImNhc2hBbW91bnQiLCJzZXRDYXNoQW1vdW50IiwiY2FyZEFtb3VudCIsInNldENhcmRBbW91bnQiLCJjYXNoYmFja0Ftb3VudCIsInNldENhc2hiYWNrQW1vdW50IiwiY2FzaGJhY2tGZWUiLCJzZXRDYXNoYmFja0ZlZSIsImNhc2hiYWNrRW5hYmxlZCIsInNldENhc2hiYWNrRW5hYmxlZCIsImxvdHRvV2lubmluZ3MiLCJzZXRMb3R0b1dpbm5pbmdzIiwicGF5bWVudEVycm9yIiwic2V0UGF5bWVudEVycm9yIiwiYXV0b0ZpbGxPdGhlciIsInNldEF1dG9GaWxsT3RoZXIiLCJsYXN0RWRpdGVkIiwic2V0TGFzdEVkaXRlZCIsInNob3dLZXlib2FyZCIsInNldFNob3dLZXlib2FyZCIsImFjdGl2ZUlucHV0UmVmIiwic2V0QWN0aXZlSW5wdXRSZWYiLCJrZXlib2FyZE1vZGUiLCJzZXRLZXlib2FyZE1vZGUiLCJoYW5kbGVJbnB1dEZvY3VzIiwiaW5wdXRSZWYiLCJpc051bWVyaWMiLCJzaG93S2V5Ym9hcmRGb3JJbnB1dCIsImlzQ3JlZGl0U2FsZSIsInNldElzQ3JlZGl0U2FsZSIsImNyZWRpdEN1c3RvbWVyTmFtZSIsInNldENyZWRpdEN1c3RvbWVyTmFtZSIsImNyZWRpdEFtb3VudCIsInNldENyZWRpdEFtb3VudCIsImlzQXV0b0NhbGN1bGF0aW5nIiwic2V0SXNBdXRvQ2FsY3VsYXRpbmciLCJleGlzdGluZ0N1c3RvbWVycyIsInNldEV4aXN0aW5nQ3VzdG9tZXJzIiwic2hvd0N1c3RvbWVyU3VnZ2VzdGlvbnMiLCJzZXRTaG93Q3VzdG9tZXJTdWdnZXN0aW9ucyIsInNlbGVjdGVkQ3VzdG9tZXIiLCJzZXRTZWxlY3RlZEN1c3RvbWVyIiwiY3VzdG9tZXJCYWxhbmNlIiwic2V0Q3VzdG9tZXJCYWxhbmNlIiwic2hvd1BheW1lbnRPcHRpb25zIiwic2V0U2hvd1BheW1lbnRPcHRpb25zIiwiY2FyZFR5cGUiLCJzZXRDYXJkVHlwZSIsImNhcmRGZWVFbmFibGVkIiwic2V0Q2FyZEZlZUVuYWJsZWQiLCJDQVJEX0ZFRV9BTU9VTlQiLCJpc0JhbGFuY2VQYXltZW50IiwibGVuZ3RoIiwiZGlzY291bnRBbW91bnQiLCJzZXREaXNjb3VudEFtb3VudCIsInNob3dNYW51YWxFbnRyeSIsInNldFNob3dNYW51YWxFbnRyeSIsIm1hbnVhbEl0ZW0iLCJzZXRNYW51YWxJdGVtIiwicXVhbnRpdHkiLCJmaWx0ZXJlZEludmVudG9yeSIsImFkZFRvQ2FydCIsInByb2R1Y3QiLCJleGlzdGluZ0l0ZW0iLCJpc01hbnVhbCIsImZpbmQiLCJpdGVtIiwibWFwIiwiaXNNYXRjaCIsIm5ld1N0b2NrIiwiYXBwbHlUYXgiLCJoYW5kbGVWb2lkSXRlbSIsIml0ZW1JZCIsIml0ZW1OYW1lIiwiY29uZmlybVZvaWQiLCJjb25maXJtIiwiaXRlbVRvVm9pZCIsInAiLCJmaWx0ZXIiLCJoYW5kbGVEZWNyZWFzZVF1YW50aXR5IiwidXBkYXRlQ2FydFF1YW50aXR5IiwibmV3UXVhbnRpdHkiLCJjYXJ0SXRlbSIsInF1YW50aXR5RGlmZiIsInJlbW92ZUZyb21DYXJ0IiwiaXRlbVRvUmVtb3ZlIiwidG9nZ2xlSXRlbVRheCIsImhhbmRsZVNlYXJjaEVudGVyIiwidHJpbSIsInNlYXJjaFJlc3VsdHMiLCJwcmV2IiwiZm91bmRJdGVtIiwiY3VycmVudCIsImZvY3VzIiwiaGFuZGxlRGVidWdSZWZyZXNoIiwiY29uc29sZSIsImxvZyIsImlzQ2F0ZWdvcnlUYXhhYmxlIiwidGF4YWJsZUtleXdvcmRzIiwibm9uVGF4YWJsZUtleXdvcmRzIiwiY2F0ZWdvcnlMb3dlciIsInRvTG93ZXJDYXNlIiwic29tZSIsImtleXdvcmQiLCJpbmNsdWRlcyIsImFkZE1hbnVhbEl0ZW0iLCJwYXJzZUZsb2F0IiwiYWxlcnQiLCJub3JtYWxpemVkTmFtZSIsInJlcGxhY2UiLCJwcmljZVN0ciIsInRvRml4ZWQiLCJtYW51YWxJZCIsIm5ld0l0ZW0iLCJpIiwiY2FsY3VsYXRlU3VidG90YWwiLCJyZWR1Y2UiLCJ0b3RhbCIsImNhbGN1bGF0ZVRvdGFsIiwic3VidG90YWwiLCJkaXNjb3VudCIsIk51bWJlciIsImNiRmVlIiwiY2FyZEZlZUluVG90YWwiLCJNYXRoIiwibWF4IiwiY2FsY3VsYXRlVGF4IiwiZGlzY291bnRlZFN1YnRvdGFsIiwib3JpZ2luYWxTdWJ0b3RhbCIsInRheGFibGVPcmlnaW5hbCIsImdldFRheGFibGVUb3RhbCIsInRheGFibGVEaXNjb3VudGVkIiwiZ2V0Tm9uVGF4YWJsZVRvdGFsIiwicHJvY2Vzc0N1c3RvbWVyQmFsYW5jZVBheW1lbnQiLCJwYXltZW50VG90YWwiLCJjYXNoUGFpZCIsImNhcmRQYWlkIiwicmVtYWluaW5nQmFsYW5jZSIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhY3Rpb24iLCJjdXN0b21lck5hbWUiLCJhbW91bnQiLCJvayIsImVycm9yRGF0YSIsImpzb24iLCJFcnJvciIsImVycm9yIiwicmVzdWx0IiwicGF5bWVudFRyYW5zYWN0aW9uIiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwidGF4YWJsZUFtb3VudCIsIm5vblRheGFibGVBbW91bnQiLCJ0YXgiLCJmaW5hbFRvdGFsIiwiY2FzaGJhY2siLCJwYXltZW50QnJlYWtkb3duIiwiY2hhbmdlIiwiaXNQYXJ0aWFsUGF5bWVudCIsImNyZWRpdEJhbGFuY2UiLCJwYWlkQW1vdW50IiwiY3JlZGl0U3RhdHVzIiwicHJldmlvdXNCYWxhbmNlIiwibmV3QmFsYW5jZSIsInRyYW5zYWN0aW9uUmVzcG9uc2UiLCJ0cmFuc2FjdGlvbkRhdGEiLCJiYWxhbmNlIiwiYyIsIm1lc3NhZ2UiLCJoYW5kbGVUZXJtaW5hbFBheW1lbnQiLCJwcm9jZXNzb3IiLCJ0ZXJtaW5hbElkIiwidGVybWluYWxSZXN1bHQiLCJzdWNjZXNzIiwiU3RyaW5nIiwidHJhbnNhY3Rpb25JZCIsImxhc3Q0Iiwic2V0VGltZW91dCIsInByb2Nlc3NDaGVja291dCIsInN1YnRvdGFsV2l0aEZlZXMiLCJwYWlkQ2FzaCIsInBhaWRDYXJkIiwicGFpZFRvdGFsIiwidGVtcExvdHRvQW1vdW50IiwibG90dG9BbW91bnQiLCJ0b3RhbFdpdGhDYXNoYmFjayIsImlzTmFOIiwiY2FyZEZlZUZvckNhbGMiLCJ0b3RhbENhcmRGZWUiLCJzcGVjaWZpZWRDcmVkaXRBbW91bnQiLCJyZXF1aXJlZFBheW1lbnQiLCJmaW5hbENhc2hBbW91bnQiLCJmaW5hbENhcmRBbW91bnQiLCJ0b3RhbE93ZWQiLCJtaW4iLCJyZW1haW5pbmdUb3RhbCIsImNhc2hSYXRpbyIsImNhcmRSYXRpbyIsInB1c2giLCJ0cmFuc2FjdGlvbkl0ZW1zIiwiY2FyZEZlZUZvckl0ZW0iLCJjY0NoYXJnZUZvckxpbmVJdGVtIiwibmV3U3VidG90YWwiLCJuZXdUYXhhYmxlVG90YWwiLCJuZXdOb25UYXhhYmxlVG90YWwiLCJuZXdUYXgiLCJuZXdUb3RhbCIsInRyYW5zYWN0aW9uIiwidGhlbiIsInIiLCJkYXRhIiwiY3JlZGl0QWNjb3VudFJlc3BvbnNlIiwid2FybiIsInRleHQiLCJ1cGRhdGVkQ3VzdG9tZXJSZXNwb25zZSIsInVwZGF0ZWRBY2NvdW50IiwiYWNjb3VudCIsImZldGNoRXhpc3RpbmdDdXN0b21lcnMiLCJlcnIiLCJjYXRjaCIsInN0YXJ0TmV3U2FsZSIsImN1c3RvbWVycyIsImFjY291bnRzIiwiaGFuZGxlQ3VzdG9tZXJOYW1lQ2hhbmdlIiwidmFsdWUiLCJBcnJheSIsImlzQXJyYXkiLCJtYXRjaGluZ0N1c3RvbWVycyIsImN1c3RvbWVyIiwiZXhhY3RNYXRjaCIsImhhbmRsZUN1c3RvbWVyU2VsZWN0aW9uIiwicHJvY2Vzc0N1c3RvbWVyUGF5bWVudCIsInBheW1lbnRBbW91bnQiLCJ1cGRhdGVkQ3VzdG9tZXIiLCJjcmVkaXRQYXltZW50UGFyYW0iLCJnZXQiLCJ0YXJnZXRDdXN0b21lciIsIm5ld1NhbGVQYXJhbSIsInVybCIsIlVSTCIsIndpbmRvdyIsImxvY2F0aW9uIiwiZGVsZXRlIiwiaGlzdG9yeSIsInJlcGxhY2VTdGF0ZSIsInN3YXBQYXltZW50cyIsImN1cnJlbnRDYXNoIiwiY3VycmVudENhcmQiLCJwcmludFJlY2VpcHQiLCJwcmludFdpbmRvdyIsIm9wZW4iLCJyZWNlaXB0Q29udGVudCIsInRvU3RyaW5nIiwic2xpY2UiLCJ0b0xvY2FsZVN0cmluZyIsImpvaW4iLCJpbmNsdWRlVGF4IiwidG9VcHBlckNhc2UiLCJkb2N1bWVudCIsIndyaXRlIiwiY2xvc2UiLCJsb3R0byIsIm5ld0NhcmQiLCJuZXdDYXNoIiwiaGFuZGxlS2V5RG93biIsImV2ZW50IiwiYWN0aXZlRWxlbWVudCIsImlzVHlwaW5nSW5JbnB1dCIsInRhZ05hbWUiLCJjb250ZW50RWRpdGFibGUiLCJjdXJyZW50VGltZSIsIm5vdyIsInRpbWVEaWZmIiwiaXNTY2FubmVySW5wdXQiLCJrZXkiLCJoYW5kbGVCYXJjb2RlU2Nhbm5lZCIsImhhbmRsZUZvY3VzQW55d2hlcmUiLCJjbGlja2VkRWxlbWVudCIsInRhcmdldCIsImlzRm9ybUVsZW1lbnQiLCJpc0NhdGVnb3J5RmlsdGVyIiwiY2xvc2VzdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYmFyY29kZSIsImZvdW5kUHJvZHVjdCIsImgyIiwiY2xhc3NOYW1lIiwiaDMiLCJociIsInNwYW4iLCJzdHlsZSIsImZvbnRXZWlnaHQiLCJjb2xvciIsInN0cm9uZyIsImlkeCIsImRpc3BsYXkiLCJnYXAiLCJtYXJnaW5Ub3AiLCJvbkNsaWNrIiwiYmFja2dyb3VuZENvbG9yIiwianVzdGlmeUNvbnRlbnQiLCJhbGlnbkl0ZW1zIiwibWFyZ2luQm90dG9tIiwiZm9udFNpemUiLCJwYWRkaW5nIiwiYmFja2dyb3VuZCIsImJvcmRlclJhZGl1cyIsIm1hcmdpbkxlZnQiLCJwb3NpdGlvbiIsImZsZXgiLCJyZWYiLCJ0eXBlIiwicGxhY2Vob2xkZXIiLCJvbkNoYW5nZSIsImUiLCJvbkZvY3VzIiwib25LZXlEb3duIiwibWluV2lkdGgiLCJ0aXRsZSIsInRvcCIsInJpZ2h0IiwiYnV0dG9uIiwiYm9yZGVyIiwiY3Vyc29yIiwid2hpdGVTcGFjZSIsIm9uQmx1ciIsIm9wdGlvbiIsImdyaWRUZW1wbGF0ZUNvbHVtbnMiLCJtYXhIZWlnaHQiLCJvdmVyZmxvd1giLCJpY29uIiwiZGVzY3JpcHRpb24iLCJkYXRhLWNhdGVnb3J5IiwiaW5wdXRWYWx1ZSIsImlucHV0cyIsIm51bWVyaWNWYWx1ZSIsIkV2ZW50IiwiYnViYmxlcyIsImRpc3BhdGNoRXZlbnQiLCJxdWVyeVNlbGVjdG9yIiwidHJhbnNmb3JtIiwidGV4dEFsaWduIiwidHJhbnNpdGlvbiIsImJveFNoYWRvdyIsIm9uTW91c2VFbnRlciIsIm9uTW91c2VMZWF2ZSIsIm9wYWNpdHkiLCJsZWZ0IiwiYm90dG9tIiwiekluZGV4IiwibWF4V2lkdGgiLCJsYWJlbCIsImlucHV0Iiwid2lkdGgiLCJhdXRvRm9jdXMiLCJzdGVwIiwic2VsZWN0IiwicGFyc2VJbnQiLCJzaG93IiwibW9kZSIsIm9uQ2xvc2UiLCJvbktleVByZXNzIiwib25Nb2RlVG9nZ2xlIiwibmV3TW9kZSIsImg0IiwibWFyZ2luIiwiYWJzIiwiZGlzYWJsZWQiLCJjaGVja2VkIiwiZm9udFN0eWxlIiwiaXNFbmFibGVkIiwiY3VycmVudENhcmRBbW91bnQiLCJjdXJyZW50Q2FzaEFtb3VudCIsInRvdGFsQW1vdW50IiwibmV3Q2FyZEFtb3VudCIsIm1hcmdpblJpZ2h0IiwiaXNTdWZmaWNpZW50IiwidG90YWxOZWVkZWQiLCJmbGV4RGlyZWN0aW9uIiwib3ZlcmZsb3dZIiwiZmlsdGVyZWRDdXN0b21lcnMiLCJpbmRleCIsImJvcmRlckJvdHRvbSIsIm5ld0N1c3RvbWVyIiwiaXNOZXdDdXN0b21lciIsImJvcmRlclRvcCIsInVwZGF0ZWRBdCIsInRvTG9jYWxlVGltZVN0cmluZyIsInBheW1lbnROZWVkZWQiLCJwYXltZW50U3RhdHVzIiwicGFyc2VkIiwidmFsaWRDYXNoQW1vdW50IiwiY3VycmVudENyZWRpdCIsInJlbWFpbmluZ0Ftb3VudCIsIm1heEFsbG93ZWRQYXltZW50IiwiaGVpZ2h0IiwidmFsaWRDYXJkQW1vdW50IiwiUE9TUGFnZSIsImZhbGxiYWNrIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/pos/page.js\n"));

/***/ })

});