"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/pos/page",{

/***/ "(app-pages-browser)/./app/lib/slices/inventorySlice.js":
/*!******************************************!*\
  !*** ./app/lib/slices/inventorySlice.js ***!
  \******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearError: function() { return /* binding */ clearError; },\n/* harmony export */   deleteInventoryItem: function() { return /* binding */ deleteInventoryItem; },\n/* harmony export */   loadInventory: function() { return /* binding */ loadInventory; },\n/* harmony export */   setInventoryItems: function() { return /* binding */ setInventoryItems; },\n/* harmony export */   updateInventoryAfterTransaction: function() { return /* binding */ updateInventoryAfterTransaction; },\n/* harmony export */   updateItemStock: function() { return /* binding */ updateItemStock; },\n/* harmony export */   updateItemStockLocal: function() { return /* binding */ updateItemStockLocal; }\n/* harmony export */ });\n/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reduxjs/toolkit */ \"(app-pages-browser)/./node_modules/@reduxjs/toolkit/dist/redux-toolkit.modern.mjs\");\n\n// Initial inventory for seeding database\nconst initialInventory = [\n    {\n        id: 1,\n        name: \"Coca Cola 355ml\",\n        category: \"Beverages\",\n        price: 1.5,\n        stock: 24,\n        lowStockThreshold: 10,\n        taxable: true\n    },\n    {\n        id: 2,\n        name: \"Lays Classic Chips\",\n        category: \"Snacks\",\n        price: 2.99,\n        stock: 8,\n        lowStockThreshold: 15,\n        taxable: true\n    },\n    {\n        id: 3,\n        name: \"Wonder Bread\",\n        category: \"Bakery\",\n        price: 3.49,\n        stock: 12,\n        lowStockThreshold: 5,\n        taxable: false\n    },\n    {\n        id: 4,\n        name: \"Marlboro Gold\",\n        category: \"Tobacco\",\n        price: 15.99,\n        stock: 5,\n        lowStockThreshold: 10,\n        taxable: true\n    },\n    {\n        id: 5,\n        name: \"Red Bull 250ml\",\n        category: \"Beverages\",\n        price: 3.99,\n        stock: 18,\n        lowStockThreshold: 8,\n        taxable: true\n    }\n];\n// Async thunk for loading inventory from API with smart caching\nconst loadInventory = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createAsyncThunk)(\"inventory/loadInventory\", async function() {\n    let forceRefresh = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false, { getState, rejectWithValue } = arguments.length > 1 ? arguments[1] : void 0;\n    try {\n        // If we already have cached data and not forcing refresh, return it\n        const currentState = getState().inventory;\n        if (!forceRefresh && currentState.items.length > 0 && !currentState.error) {\n            return {\n                source: currentState.source || \"cached\",\n                data: currentState.items\n            };\n        }\n        console.log(\"Redux: Loading inventory from API...\");\n        // First try main inventory API\n        let res = await fetch(\"/api/inventory\");\n        if (res.ok) {\n            const data = await res.json();\n            if (Array.isArray(data) && data.length > 0) {\n                console.log(\"Redux: Loaded inventory from database ✅\", data.length, \"items\");\n                return {\n                    source: \"database\",\n                    data\n                };\n            } else {\n                // Database is empty, seed it with initial data\n                console.log(\"Redux: Database empty, seeding with initial inventory...\");\n                await fetch(\"/api/inventory\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify(initialInventory)\n                });\n                const seedRes = await fetch(\"/api/inventory\");\n                const seedData = await seedRes.json();\n                console.log(\"Redux: Seeded and loaded inventory ✅\", seedData.length, \"items\");\n                return {\n                    source: \"database\",\n                    data: seedData\n                };\n            }\n        }\n        console.log(\"Redux: Database unavailable, trying localStorage...\");\n        // Fallback to localStorage\n        const localInventory = localStorage.getItem(\"inventory\");\n        if (localInventory) {\n            const parsed = JSON.parse(localInventory);\n            if (Array.isArray(parsed) && parsed.length > 0) {\n                console.log(\"Redux: Loaded inventory from localStorage ✅\", parsed.length, \"items\");\n                return {\n                    source: \"localStorage\",\n                    data: parsed\n                };\n            }\n        }\n        console.log(\"Redux: Using fallback API...\");\n        // Final fallback to simple API\n        res = await fetch(\"/api/inventory-simple\");\n        if (res.ok) {\n            const data = await res.json();\n            console.log(\"Redux: Using fallback inventory ✅\", data.length, \"items\");\n            return {\n                source: \"fallback\",\n                data\n            };\n        }\n        throw new Error(\"No inventory data available from any source\");\n    } catch (error) {\n        console.error(\"Redux: Failed to load inventory:\", error);\n        return rejectWithValue(error.message);\n    }\n});\n// Async thunk for updating inventory after transaction\nconst updateInventoryAfterTransaction = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createAsyncThunk)(\"inventory/updateAfterTransaction\", async (cartItems, param)=>{\n    let { rejectWithValue } = param;\n    try {\n        const res = await fetch(\"/api/inventory\");\n        if (res.ok) {\n            const data = await res.json();\n            return data; // Return all inventory items, including those with 0 stock\n        }\n        throw new Error(\"Failed to refresh inventory\");\n    } catch (error) {\n        return rejectWithValue(error.message);\n    }\n});\n// Async thunk for updating stock of a single item\nconst updateItemStock = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createAsyncThunk)(\"inventory/updateItemStock\", async (param, param1)=>{\n    let { id, newStock } = param, { getState, rejectWithValue } = param1;\n    try {\n        const currentState = getState().inventory;\n        const updatedInventory = currentState.items.map((item)=>item.id === id ? {\n                ...item,\n                stock: newStock\n            } : item);\n        const res = await fetch(\"/api/inventory\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"x-api-key\": \"dev-secret\"\n            },\n            body: JSON.stringify(updatedInventory)\n        });\n        if (!res.ok) {\n            throw new Error(\"Failed to update stock on server\");\n        }\n        return updatedInventory;\n    } catch (error) {\n        return rejectWithValue(error.message);\n    }\n});\n// Async thunk for deleting an item\nconst deleteInventoryItem = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createAsyncThunk)(\"inventory/deleteItem\", async (id, param)=>{\n    let { getState, rejectWithValue } = param;\n    try {\n        console.log(\"Redux: Deleting inventory item with ID:\", id);\n        const res = await fetch(\"/api/inventory/\".concat(id), {\n            method: \"DELETE\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"x-api-key\": \"dev-secret\"\n            }\n        });\n        if (!res.ok) {\n            const errorData = await res.json().catch(()=>({}));\n            throw new Error(errorData.details || errorData.error || \"Failed to delete item on server\");\n        }\n        // Return the filtered inventory (remove the deleted item from local state)\n        const currentState = getState().inventory;\n        const updatedInventory = currentState.items.filter((item)=>item.id !== id);\n        console.log(\"Redux: Successfully deleted item, updated inventory has\", updatedInventory.length, \"items\");\n        return updatedInventory;\n    } catch (error) {\n        console.error(\"Redux: Failed to delete inventory item:\", error);\n        return rejectWithValue(error.message);\n    }\n});\nconst inventorySlice = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createSlice)({\n    name: \"inventory\",\n    initialState: {\n        items: [],\n        loading: false,\n        error: null,\n        source: null,\n        lastLoaded: null\n    },\n    reducers: {\n        clearError: (state)=>{\n            state.error = null;\n        },\n        setInventoryItems: (state, action)=>{\n            state.items = action.payload;\n            state.lastLoaded = new Date().toISOString();\n        },\n        // Local optimistic update for stock changes\n        updateItemStockLocal: (state, action)=>{\n            const { id, newStock } = action.payload;\n            const item = state.items.find((item)=>item.id === id);\n            if (item) {\n                item.stock = newStock;\n            }\n        }\n    },\n    extraReducers: (builder)=>{\n        builder.addCase(loadInventory.pending, (state)=>{\n            state.loading = true;\n            state.error = null;\n        }).addCase(loadInventory.fulfilled, (state, action)=>{\n            state.loading = false;\n            state.items = action.payload.data;\n            state.source = action.payload.source;\n            state.lastLoaded = new Date().toISOString();\n        }).addCase(loadInventory.rejected, (state, action)=>{\n            state.loading = false;\n            state.error = action.payload;\n        }).addCase(updateInventoryAfterTransaction.fulfilled, (state, action)=>{\n            state.items = action.payload;\n            state.lastLoaded = new Date().toISOString();\n        }).addCase(updateItemStock.pending, (state)=>{\n            state.loading = true;\n        }).addCase(updateItemStock.fulfilled, (state, action)=>{\n            state.loading = false;\n            state.items = action.payload;\n        }).addCase(updateItemStock.rejected, (state, action)=>{\n            state.loading = false;\n            state.error = action.payload;\n        }).addCase(deleteInventoryItem.pending, (state)=>{\n            state.loading = true;\n        }).addCase(deleteInventoryItem.fulfilled, (state, action)=>{\n            state.loading = false;\n            state.items = action.payload;\n        }).addCase(deleteInventoryItem.rejected, (state, action)=>{\n            state.loading = false;\n            state.error = action.payload;\n        });\n    }\n});\nconst { clearError, setInventoryItems, updateItemStockLocal } = inventorySlice.actions;\n/* harmony default export */ __webpack_exports__[\"default\"] = (inventorySlice.reducer);\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9saWIvc2xpY2VzL2ludmVudG9yeVNsaWNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQWlFO0FBRWpFLHlDQUF5QztBQUN6QyxNQUFNRSxtQkFBbUI7SUFDdkI7UUFDRUMsSUFBSTtRQUNKQyxNQUFNO1FBQ05DLFVBQVU7UUFDVkMsT0FBTztRQUNQQyxPQUFPO1FBQ1BDLG1CQUFtQjtRQUNuQkMsU0FBUztJQUNYO0lBQ0E7UUFDRU4sSUFBSTtRQUNKQyxNQUFNO1FBQ05DLFVBQVU7UUFDVkMsT0FBTztRQUNQQyxPQUFPO1FBQ1BDLG1CQUFtQjtRQUNuQkMsU0FBUztJQUNYO0lBQ0E7UUFDRU4sSUFBSTtRQUNKQyxNQUFNO1FBQ05DLFVBQVU7UUFDVkMsT0FBTztRQUNQQyxPQUFPO1FBQ1BDLG1CQUFtQjtRQUNuQkMsU0FBUztJQUNYO0lBQ0E7UUFDRU4sSUFBSTtRQUNKQyxNQUFNO1FBQ05DLFVBQVU7UUFDVkMsT0FBTztRQUNQQyxPQUFPO1FBQ1BDLG1CQUFtQjtRQUNuQkMsU0FBUztJQUNYO0lBQ0E7UUFDRU4sSUFBSTtRQUNKQyxNQUFNO1FBQ05DLFVBQVU7UUFDVkMsT0FBTztRQUNQQyxPQUFPO1FBQ1BDLG1CQUFtQjtRQUNuQkMsU0FBUztJQUNYO0NBQ0Q7QUFFRCxnRUFBZ0U7QUFDekQsTUFBTUMsZ0JBQWdCVCxrRUFBZ0JBLENBQzNDLDJCQUNBO1FBQU9VLGdGQUFlLE9BQU8sRUFBRUMsUUFBUSxFQUFFQyxlQUFlLEVBQUU7SUFDeEQsSUFBSTtRQUNGLG9FQUFvRTtRQUNwRSxNQUFNQyxlQUFlRixXQUFXRyxTQUFTO1FBQ3pDLElBQ0UsQ0FBQ0osZ0JBQ0RHLGFBQWFFLEtBQUssQ0FBQ0MsTUFBTSxHQUFHLEtBQzVCLENBQUNILGFBQWFJLEtBQUssRUFDbkI7WUFDQSxPQUFPO2dCQUNMQyxRQUFRTCxhQUFhSyxNQUFNLElBQUk7Z0JBQy9CQyxNQUFNTixhQUFhRSxLQUFLO1lBQzFCO1FBQ0Y7UUFF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QUUsR0FDbEVaLGVBQWVvQixPQUFPLENBQUM7QUFDekIsK0RBQWVwQixlQUFlcUIsT0FBTyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2FwcC9saWIvc2xpY2VzL2ludmVudG9yeVNsaWNlLmpzP2I3OTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlU2xpY2UsIGNyZWF0ZUFzeW5jVGh1bmsgfSBmcm9tIFwiQHJlZHV4anMvdG9vbGtpdFwiO1xuXG4vLyBJbml0aWFsIGludmVudG9yeSBmb3Igc2VlZGluZyBkYXRhYmFzZVxuY29uc3QgaW5pdGlhbEludmVudG9yeSA9IFtcbiAge1xuICAgIGlkOiAxLFxuICAgIG5hbWU6IFwiQ29jYSBDb2xhIDM1NW1sXCIsXG4gICAgY2F0ZWdvcnk6IFwiQmV2ZXJhZ2VzXCIsXG4gICAgcHJpY2U6IDEuNSxcbiAgICBzdG9jazogMjQsXG4gICAgbG93U3RvY2tUaHJlc2hvbGQ6IDEwLFxuICAgIHRheGFibGU6IHRydWUsXG4gIH0sXG4gIHtcbiAgICBpZDogMixcbiAgICBuYW1lOiBcIkxheXMgQ2xhc3NpYyBDaGlwc1wiLFxuICAgIGNhdGVnb3J5OiBcIlNuYWNrc1wiLFxuICAgIHByaWNlOiAyLjk5LFxuICAgIHN0b2NrOiA4LFxuICAgIGxvd1N0b2NrVGhyZXNob2xkOiAxNSxcbiAgICB0YXhhYmxlOiB0cnVlLFxuICB9LFxuICB7XG4gICAgaWQ6IDMsXG4gICAgbmFtZTogXCJXb25kZXIgQnJlYWRcIixcbiAgICBjYXRlZ29yeTogXCJCYWtlcnlcIixcbiAgICBwcmljZTogMy40OSxcbiAgICBzdG9jazogMTIsXG4gICAgbG93U3RvY2tUaHJlc2hvbGQ6IDUsXG4gICAgdGF4YWJsZTogZmFsc2UsXG4gIH0sXG4gIHtcbiAgICBpZDogNCxcbiAgICBuYW1lOiBcIk1hcmxib3JvIEdvbGRcIixcbiAgICBjYXRlZ29yeTogXCJUb2JhY2NvXCIsXG4gICAgcHJpY2U6IDE1Ljk5LFxuICAgIHN0b2NrOiA1LFxuICAgIGxvd1N0b2NrVGhyZXNob2xkOiAxMCxcbiAgICB0YXhhYmxlOiB0cnVlLFxuICB9LFxuICB7XG4gICAgaWQ6IDUsXG4gICAgbmFtZTogXCJSZWQgQnVsbCAyNTBtbFwiLFxuICAgIGNhdGVnb3J5OiBcIkJldmVyYWdlc1wiLFxuICAgIHByaWNlOiAzLjk5LFxuICAgIHN0b2NrOiAxOCxcbiAgICBsb3dTdG9ja1RocmVzaG9sZDogOCxcbiAgICB0YXhhYmxlOiB0cnVlLFxuICB9LFxuXTtcblxuLy8gQXN5bmMgdGh1bmsgZm9yIGxvYWRpbmcgaW52ZW50b3J5IGZyb20gQVBJIHdpdGggc21hcnQgY2FjaGluZ1xuZXhwb3J0IGNvbnN0IGxvYWRJbnZlbnRvcnkgPSBjcmVhdGVBc3luY1RodW5rKFxuICBcImludmVudG9yeS9sb2FkSW52ZW50b3J5XCIsXG4gIGFzeW5jIChmb3JjZVJlZnJlc2ggPSBmYWxzZSwgeyBnZXRTdGF0ZSwgcmVqZWN0V2l0aFZhbHVlIH0pID0+IHtcbiAgICB0cnkge1xuICAgICAgLy8gSWYgd2UgYWxyZWFkeSBoYXZlIGNhY2hlZCBkYXRhIGFuZCBub3QgZm9yY2luZyByZWZyZXNoLCByZXR1cm4gaXRcbiAgICAgIGNvbnN0IGN1cnJlbnRTdGF0ZSA9IGdldFN0YXRlKCkuaW52ZW50b3J5O1xuICAgICAgaWYgKFxuICAgICAgICAhZm9yY2VSZWZyZXNoICYmXG4gICAgICAgIGN1cnJlbnRTdGF0ZS5pdGVtcy5sZW5ndGggPiAwICYmXG4gICAgICAgICFjdXJyZW50U3RhdGUuZXJyb3JcbiAgICAgICkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNvdXJjZTogY3VycmVudFN0YXRlLnNvdXJjZSB8fCBcImNhY2hlZFwiLFxuICAgICAgICAgIGRhdGE6IGN1cnJlbnRTdGF0ZS5pdGVtcyxcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coXCJSZWR1eDogTG9hZGluZyBpbnZlbnRvcnkgZnJvbSBBUEkuLi5cIik7XG5cbiAgICAgIC8vIEZpcnN0IHRyeSBtYWluIGludmVudG9yeSBBUElcbiAgICAgIGxldCByZXMgPSBhd2FpdCBmZXRjaChcIi9hcGkvaW52ZW50b3J5XCIpO1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkgJiYgZGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICBcIlJlZHV4OiBMb2FkZWQgaW52ZW50b3J5IGZyb20gZGF0YWJhc2Ug4pyFXCIsXG4gICAgICAgICAgICBkYXRhLmxlbmd0aCxcbiAgICAgICAgICAgIFwiaXRlbXNcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIHsgc291cmNlOiBcImRhdGFiYXNlXCIsIGRhdGEgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBEYXRhYmFzZSBpcyBlbXB0eSwgc2VlZCBpdCB3aXRoIGluaXRpYWwgZGF0YVxuICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgXCJSZWR1eDogRGF0YWJhc2UgZW1wdHksIHNlZWRpbmcgd2l0aCBpbml0aWFsIGludmVudG9yeS4uLlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBhd2FpdCBmZXRjaChcIi9hcGkvaW52ZW50b3J5XCIsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShpbml0aWFsSW52ZW50b3J5KSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCBzZWVkUmVzID0gYXdhaXQgZmV0Y2goXCIvYXBpL2ludmVudG9yeVwiKTtcbiAgICAgICAgICBjb25zdCBzZWVkRGF0YSA9IGF3YWl0IHNlZWRSZXMuanNvbigpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgXCJSZWR1eDogU2VlZGVkIGFuZCBsb2FkZWQgaW52ZW50b3J5IOKchVwiLFxuICAgICAgICAgICAgc2VlZERhdGEubGVuZ3RoLFxuICAgICAgICAgICAgXCJpdGVtc1wiXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4geyBzb3VyY2U6IFwiZGF0YWJhc2VcIiwgZGF0YTogc2VlZERhdGEgfTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZyhcIlJlZHV4OiBEYXRhYmFzZSB1bmF2YWlsYWJsZSwgdHJ5aW5nIGxvY2FsU3RvcmFnZS4uLlwiKTtcblxuICAgICAgLy8gRmFsbGJhY2sgdG8gbG9jYWxTdG9yYWdlXG4gICAgICBjb25zdCBsb2NhbEludmVudG9yeSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiaW52ZW50b3J5XCIpO1xuICAgICAgaWYgKGxvY2FsSW52ZW50b3J5KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UobG9jYWxJbnZlbnRvcnkpO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwYXJzZWQpICYmIHBhcnNlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICBcIlJlZHV4OiBMb2FkZWQgaW52ZW50b3J5IGZyb20gbG9jYWxTdG9yYWdlIOKchVwiLFxuICAgICAgICAgICAgcGFyc2VkLmxlbmd0aCxcbiAgICAgICAgICAgIFwiaXRlbXNcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIHsgc291cmNlOiBcImxvY2FsU3RvcmFnZVwiLCBkYXRhOiBwYXJzZWQgfTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZyhcIlJlZHV4OiBVc2luZyBmYWxsYmFjayBBUEkuLi5cIik7XG5cbiAgICAgIC8vIEZpbmFsIGZhbGxiYWNrIHRvIHNpbXBsZSBBUElcbiAgICAgIHJlcyA9IGF3YWl0IGZldGNoKFwiL2FwaS9pbnZlbnRvcnktc2ltcGxlXCIpO1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJSZWR1eDogVXNpbmcgZmFsbGJhY2sgaW52ZW50b3J5IOKchVwiLCBkYXRhLmxlbmd0aCwgXCJpdGVtc1wiKTtcbiAgICAgICAgcmV0dXJuIHsgc291cmNlOiBcImZhbGxiYWNrXCIsIGRhdGEgfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gaW52ZW50b3J5IGRhdGEgYXZhaWxhYmxlIGZyb20gYW55IHNvdXJjZVwiKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIlJlZHV4OiBGYWlsZWQgdG8gbG9hZCBpbnZlbnRvcnk6XCIsIGVycm9yKTtcbiAgICAgIHJldHVybiByZWplY3RXaXRoVmFsdWUoZXJyb3IubWVzc2FnZSk7XG4gICAgfVxuICB9XG4pO1xuXG4vLyBBc3luYyB0aHVuayBmb3IgdXBkYXRpbmcgaW52ZW50b3J5IGFmdGVyIHRyYW5zYWN0aW9uXG5leHBvcnQgY29uc3QgdXBkYXRlSW52ZW50b3J5QWZ0ZXJUcmFuc2FjdGlvbiA9IGNyZWF0ZUFzeW5jVGh1bmsoXG4gIFwiaW52ZW50b3J5L3VwZGF0ZUFmdGVyVHJhbnNhY3Rpb25cIixcbiAgYXN5bmMgKGNhcnRJdGVtcywgeyByZWplY3RXaXRoVmFsdWUgfSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChcIi9hcGkvaW52ZW50b3J5XCIpO1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgICAgcmV0dXJuIGRhdGE7IC8vIFJldHVybiBhbGwgaW52ZW50b3J5IGl0ZW1zLCBpbmNsdWRpbmcgdGhvc2Ugd2l0aCAwIHN0b2NrXG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gcmVmcmVzaCBpbnZlbnRvcnlcIik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiByZWplY3RXaXRoVmFsdWUoZXJyb3IubWVzc2FnZSk7XG4gICAgfVxuICB9XG4pO1xuXG4vLyBBc3luYyB0aHVuayBmb3IgdXBkYXRpbmcgc3RvY2sgb2YgYSBzaW5nbGUgaXRlbVxuZXhwb3J0IGNvbnN0IHVwZGF0ZUl0ZW1TdG9jayA9IGNyZWF0ZUFzeW5jVGh1bmsoXG4gIFwiaW52ZW50b3J5L3VwZGF0ZUl0ZW1TdG9ja1wiLFxuICBhc3luYyAoeyBpZCwgbmV3U3RvY2sgfSwgeyBnZXRTdGF0ZSwgcmVqZWN0V2l0aFZhbHVlIH0pID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY3VycmVudFN0YXRlID0gZ2V0U3RhdGUoKS5pbnZlbnRvcnk7XG4gICAgICBjb25zdCB1cGRhdGVkSW52ZW50b3J5ID0gY3VycmVudFN0YXRlLml0ZW1zLm1hcCgoaXRlbSkgPT5cbiAgICAgICAgaXRlbS5pZCA9PT0gaWQgPyB7IC4uLml0ZW0sIHN0b2NrOiBuZXdTdG9jayB9IDogaXRlbVxuICAgICAgKTtcblxuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goXCIvYXBpL2ludmVudG9yeVwiLCB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICBcIngtYXBpLWtleVwiOiBcImRldi1zZWNyZXRcIixcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodXBkYXRlZEludmVudG9yeSksXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXMub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIHVwZGF0ZSBzdG9jayBvbiBzZXJ2ZXJcIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1cGRhdGVkSW52ZW50b3J5O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gcmVqZWN0V2l0aFZhbHVlKGVycm9yLm1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuKTtcblxuLy8gQXN5bmMgdGh1bmsgZm9yIGRlbGV0aW5nIGFuIGl0ZW1cbmV4cG9ydCBjb25zdCBkZWxldGVJbnZlbnRvcnlJdGVtID0gY3JlYXRlQXN5bmNUaHVuayhcbiAgXCJpbnZlbnRvcnkvZGVsZXRlSXRlbVwiLFxuICBhc3luYyAoaWQsIHsgZ2V0U3RhdGUsIHJlamVjdFdpdGhWYWx1ZSB9KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiUmVkdXg6IERlbGV0aW5nIGludmVudG9yeSBpdGVtIHdpdGggSUQ6XCIsIGlkKTtcblxuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYC9hcGkvaW52ZW50b3J5LyR7aWR9YCwge1xuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICBcIngtYXBpLWtleVwiOiBcImRldi1zZWNyZXRcIixcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXJlcy5vaykge1xuICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXMuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgZXJyb3JEYXRhLmRldGFpbHMgfHxcbiAgICAgICAgICAgIGVycm9yRGF0YS5lcnJvciB8fFxuICAgICAgICAgICAgXCJGYWlsZWQgdG8gZGVsZXRlIGl0ZW0gb24gc2VydmVyXCJcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgLy8gUmV0dXJuIHRoZSBmaWx0ZXJlZCBpbnZlbnRvcnkgKHJlbW92ZSB0aGUgZGVsZXRlZCBpdGVtIGZyb20gbG9jYWwgc3RhdGUpXG4gICAgICBjb25zdCBjdXJyZW50U3RhdGUgPSBnZXRTdGF0ZSgpLmludmVudG9yeTtcbiAgICAgIGNvbnN0IHVwZGF0ZWRJbnZlbnRvcnkgPSBjdXJyZW50U3RhdGUuaXRlbXMuZmlsdGVyKFxuICAgICAgICAoaXRlbSkgPT4gaXRlbS5pZCAhPT0gaWRcbiAgICAgICk7XG5cbiAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICBcIlJlZHV4OiBTdWNjZXNzZnVsbHkgZGVsZXRlZCBpdGVtLCB1cGRhdGVkIGludmVudG9yeSBoYXNcIixcbiAgICAgICAgdXBkYXRlZEludmVudG9yeS5sZW5ndGgsXG4gICAgICAgIFwiaXRlbXNcIlxuICAgICAgKTtcbiAgICAgIHJldHVybiB1cGRhdGVkSW52ZW50b3J5O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiUmVkdXg6IEZhaWxlZCB0byBkZWxldGUgaW52ZW50b3J5IGl0ZW06XCIsIGVycm9yKTtcbiAgICAgIHJldHVybiByZWplY3RXaXRoVmFsdWUoZXJyb3IubWVzc2FnZSk7XG4gICAgfVxuICB9XG4pO1xuXG5jb25zdCBpbnZlbnRvcnlTbGljZSA9IGNyZWF0ZVNsaWNlKHtcbiAgbmFtZTogXCJpbnZlbnRvcnlcIixcbiAgaW5pdGlhbFN0YXRlOiB7XG4gICAgaXRlbXM6IFtdLFxuICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgIGVycm9yOiBudWxsLFxuICAgIHNvdXJjZTogbnVsbCwgLy8gJ2RhdGFiYXNlJywgJ2xvY2FsU3RvcmFnZScsICdmYWxsYmFjaycsICdjYWNoZWQnXG4gICAgbGFzdExvYWRlZDogbnVsbCwgLy8gdGltZXN0YW1wIG9mIGxhc3Qgc3VjY2Vzc2Z1bCBsb2FkXG4gIH0sXG4gIHJlZHVjZXJzOiB7XG4gICAgY2xlYXJFcnJvcjogKHN0YXRlKSA9PiB7XG4gICAgICBzdGF0ZS5lcnJvciA9IG51bGw7XG4gICAgfSxcbiAgICBzZXRJbnZlbnRvcnlJdGVtczogKHN0YXRlLCBhY3Rpb24pID0+IHtcbiAgICAgIHN0YXRlLml0ZW1zID0gYWN0aW9uLnBheWxvYWQ7XG4gICAgICBzdGF0ZS5sYXN0TG9hZGVkID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICAgIH0sXG4gICAgLy8gTG9jYWwgb3B0aW1pc3RpYyB1cGRhdGUgZm9yIHN0b2NrIGNoYW5nZXNcbiAgICB1cGRhdGVJdGVtU3RvY2tMb2NhbDogKHN0YXRlLCBhY3Rpb24pID0+IHtcbiAgICAgIGNvbnN0IHsgaWQsIG5ld1N0b2NrIH0gPSBhY3Rpb24ucGF5bG9hZDtcbiAgICAgIGNvbnN0IGl0ZW0gPSBzdGF0ZS5pdGVtcy5maW5kKChpdGVtKSA9PiBpdGVtLmlkID09PSBpZCk7XG4gICAgICBpZiAoaXRlbSkge1xuICAgICAgICBpdGVtLnN0b2NrID0gbmV3U3RvY2s7XG4gICAgICB9XG4gICAgfSxcbiAgfSxcbiAgZXh0cmFSZWR1Y2VyczogKGJ1aWxkZXIpID0+IHtcbiAgICBidWlsZGVyXG4gICAgICAuYWRkQ2FzZShsb2FkSW52ZW50b3J5LnBlbmRpbmcsIChzdGF0ZSkgPT4ge1xuICAgICAgICBzdGF0ZS5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgc3RhdGUuZXJyb3IgPSBudWxsO1xuICAgICAgfSlcbiAgICAgIC5hZGRDYXNlKGxvYWRJbnZlbnRvcnkuZnVsZmlsbGVkLCAoc3RhdGUsIGFjdGlvbikgPT4ge1xuICAgICAgICBzdGF0ZS5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIHN0YXRlLml0ZW1zID0gYWN0aW9uLnBheWxvYWQuZGF0YTtcbiAgICAgICAgc3RhdGUuc291cmNlID0gYWN0aW9uLnBheWxvYWQuc291cmNlO1xuICAgICAgICBzdGF0ZS5sYXN0TG9hZGVkID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICAgICAgfSlcbiAgICAgIC5hZGRDYXNlKGxvYWRJbnZlbnRvcnkucmVqZWN0ZWQsIChzdGF0ZSwgYWN0aW9uKSA9PiB7XG4gICAgICAgIHN0YXRlLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgc3RhdGUuZXJyb3IgPSBhY3Rpb24ucGF5bG9hZDtcbiAgICAgIH0pXG4gICAgICAuYWRkQ2FzZSh1cGRhdGVJbnZlbnRvcnlBZnRlclRyYW5zYWN0aW9uLmZ1bGZpbGxlZCwgKHN0YXRlLCBhY3Rpb24pID0+IHtcbiAgICAgICAgc3RhdGUuaXRlbXMgPSBhY3Rpb24ucGF5bG9hZDtcbiAgICAgICAgc3RhdGUubGFzdExvYWRlZCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICAgIH0pXG4gICAgICAuYWRkQ2FzZSh1cGRhdGVJdGVtU3RvY2sucGVuZGluZywgKHN0YXRlKSA9PiB7XG4gICAgICAgIHN0YXRlLmxvYWRpbmcgPSB0cnVlO1xuICAgICAgfSlcbiAgICAgIC5hZGRDYXNlKHVwZGF0ZUl0ZW1TdG9jay5mdWxmaWxsZWQsIChzdGF0ZSwgYWN0aW9uKSA9PiB7XG4gICAgICAgIHN0YXRlLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgc3RhdGUuaXRlbXMgPSBhY3Rpb24ucGF5bG9hZDtcbiAgICAgIH0pXG4gICAgICAuYWRkQ2FzZSh1cGRhdGVJdGVtU3RvY2sucmVqZWN0ZWQsIChzdGF0ZSwgYWN0aW9uKSA9PiB7XG4gICAgICAgIHN0YXRlLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgc3RhdGUuZXJyb3IgPSBhY3Rpb24ucGF5bG9hZDtcbiAgICAgIH0pXG4gICAgICAuYWRkQ2FzZShkZWxldGVJbnZlbnRvcnlJdGVtLnBlbmRpbmcsIChzdGF0ZSkgPT4ge1xuICAgICAgICBzdGF0ZS5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgIH0pXG4gICAgICAuYWRkQ2FzZShkZWxldGVJbnZlbnRvcnlJdGVtLmZ1bGZpbGxlZCwgKHN0YXRlLCBhY3Rpb24pID0+IHtcbiAgICAgICAgc3RhdGUubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICBzdGF0ZS5pdGVtcyA9IGFjdGlvbi5wYXlsb2FkO1xuICAgICAgfSlcbiAgICAgIC5hZGRDYXNlKGRlbGV0ZUludmVudG9yeUl0ZW0ucmVqZWN0ZWQsIChzdGF0ZSwgYWN0aW9uKSA9PiB7XG4gICAgICAgIHN0YXRlLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgc3RhdGUuZXJyb3IgPSBhY3Rpb24ucGF5bG9hZDtcbiAgICAgIH0pO1xuICB9LFxufSk7XG5cbmV4cG9ydCBjb25zdCB7IGNsZWFyRXJyb3IsIHNldEludmVudG9yeUl0ZW1zLCB1cGRhdGVJdGVtU3RvY2tMb2NhbCB9ID1cbiAgaW52ZW50b3J5U2xpY2UuYWN0aW9ucztcbmV4cG9ydCBkZWZhdWx0IGludmVudG9yeVNsaWNlLnJlZHVjZXI7XG4iXSwibmFtZXMiOlsiY3JlYXRlU2xpY2UiLCJjcmVhdGVBc3luY1RodW5rIiwiaW5pdGlhbEludmVudG9yeSIsImlkIiwibmFtZSIsImNhdGVnb3J5IiwicHJpY2UiLCJzdG9jayIsImxvd1N0b2NrVGhyZXNob2xkIiwidGF4YWJsZSIsImxvYWRJbnZlbnRvcnkiLCJmb3JjZVJlZnJlc2giLCJnZXRTdGF0ZSIsInJlamVjdFdpdGhWYWx1ZSIsImN1cnJlbnRTdGF0ZSIsImludmVudG9yeSIsIml0ZW1zIiwibGVuZ3RoIiwiZXJyb3IiLCJzb3VyY2UiLCJkYXRhIiwiY29uc29sZSIsImxvZyIsInJlcyIsImZldGNoIiwib2siLCJqc29uIiwiQXJyYXkiLCJpc0FycmF5IiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5Iiwic2VlZFJlcyIsInNlZWREYXRhIiwibG9jYWxJbnZlbnRvcnkiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicGFyc2VkIiwicGFyc2UiLCJFcnJvciIsIm1lc3NhZ2UiLCJ1cGRhdGVJbnZlbnRvcnlBZnRlclRyYW5zYWN0aW9uIiwiY2FydEl0ZW1zIiwidXBkYXRlSXRlbVN0b2NrIiwibmV3U3RvY2siLCJ1cGRhdGVkSW52ZW50b3J5IiwibWFwIiwiaXRlbSIsImRlbGV0ZUludmVudG9yeUl0ZW0iLCJlcnJvckRhdGEiLCJjYXRjaCIsImRldGFpbHMiLCJmaWx0ZXIiLCJpbnZlbnRvcnlTbGljZSIsImluaXRpYWxTdGF0ZSIsImxvYWRpbmciLCJsYXN0TG9hZGVkIiwicmVkdWNlcnMiLCJjbGVhckVycm9yIiwic3RhdGUiLCJzZXRJbnZlbnRvcnlJdGVtcyIsImFjdGlvbiIsInBheWxvYWQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJ1cGRhdGVJdGVtU3RvY2tMb2NhbCIsImZpbmQiLCJleHRyYVJlZHVjZXJzIiwiYnVpbGRlciIsImFkZENhc2UiLCJwZW5kaW5nIiwiZnVsZmlsbGVkIiwicmVqZWN0ZWQiLCJhY3Rpb25zIiwicmVkdWNlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/lib/slices/inventorySlice.js\n"));

/***/ })

});